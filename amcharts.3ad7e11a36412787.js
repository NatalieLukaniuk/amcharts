"use strict";(self.webpackChunkamcharts=self.webpackChunkamcharts||[]).push([[803],{5013:(Yt,We,z)=>{z.d(We,{Q:()=>ye});var Ne=z(1371),U=z(4178),ue=z(3559);class ye{constructor(W,Te){if(Object.defineProperty(this,"_root",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_rules",{enumerable:!0,configurable:!0,writable:!0,value:{}}),this._root=W,!Te)throw new Error("You cannot use `new Class()`, instead use `Class.new()`")}static new(W){const Te=new this(W,!0);return Te.setupDefaultRules(),Te}setupDefaultRules(){}_lookupRules(W){return this._rules[W]}ruleRaw(W,Te=[]){let ae=this._rules[W];ae||(ae=this._rules[W]=[]),Te.sort(U.qu);const{index:S,found:I}=ue.getSortedIndex(ae,$=>{const ce=U.qu($.tags.length,Te.length);return 0===ce?U.wq($.tags,Te,U.qu):ce});if(I)return ae[S].template;{const $=Ne.YS.new({});return ae.splice(S,0,{tags:Te,template:$}),$}}rule(W,Te=[]){return this.ruleRaw(W,Te)}}},4618:(Yt,We,z)=>{z.d(We,{z:()=>ye});var Ne=z(867),U=z(9239),ue=z(8261);class ye extends U.W{_afterNew(){this._settings.themeTags=ue.mergeTags(this._settings.themeTags,["button"]),super._afterNew(),this._settings.background||this.set("background",Ne.c.new(this._root,{themeTags:ue.mergeTags(this._settings.themeTags,["background"])})),this.setPrivate("trustBounds",!0)}_prepareChildren(){if(super._prepareChildren(),this.isDirty("icon")){const W=this._prevSettings.icon,Te=this.get("icon");Te!==W&&(this._disposeProperty("icon"),W&&W.dispose(),Te&&this.children.push(Te),this._prevSettings.icon=Te)}if(this.isDirty("label")){const W=this._prevSettings.label,Te=this.get("label");Te!==W&&(this._disposeProperty("label"),W&&W.dispose(),Te&&this.children.push(Te),this._prevSettings.label=Te)}}}Object.defineProperty(ye,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Button"}),Object.defineProperty(ye,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:U.W.classNames.concat([ye.className])})},6288:(Yt,We,z)=>{z.d(We,{k:()=>ue});var Ne=z(9239),U=z(7039);class ue extends Ne.W{constructor(){super(...arguments),Object.defineProperty(this,"chartContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(Ne.W.new(this._root,{width:U.AQ,height:U.AQ,interactiveChildren:!1}))}),Object.defineProperty(this,"bulletsContainer",{enumerable:!0,configurable:!0,writable:!0,value:Ne.W.new(this._root,{interactiveChildren:!1,isMeasured:!1,position:"absolute",width:U.AQ,height:U.AQ})})}}Object.defineProperty(ue,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Chart"}),Object.defineProperty(ue,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Ne.W.classNames.concat([ue.className])})},9005:(Yt,We,z)=>{z.d(We,{x:()=>W});var Ne=z(7039),U=z(1262),ue=z(8490),ye=z(9472),te=z(8261);class W extends U._{constructor(){super(...arguments),Object.defineProperty(this,"_flipped",{enumerable:!0,configurable:!0,writable:!0,value:!1})}_afterNew(){this._textKeys.push("textType","kerning"),super._afterNew()}_makeText(){this._text=this.children.push(ue.f.new(this._root,{}))}baseRadius(){const ae=this.getPrivate("radius",0),S=this.getPrivate("innerRadius",0),I=this.get("baseRadius",0);return S+te.relativeToValue(I,ae-S)}radius(){const ae=this.get("inside",!1);return this.baseRadius()+this.get("radius",0)*(ae?-1:1)}_updateChildren(){if(super._updateChildren(),this.isDirty("baseRadius")||this.isPrivateDirty("radius")||this.isPrivateDirty("innerRadius")||this.isDirty("labelAngle")||this.isDirty("radius")||this.isDirty("inside")||this.isDirty("orientation")||this.isDirty("textType")){const ae=this.get("textType","adjusted"),S=this.get("inside",!1),I=this.get("orientation");let $=ye.normalizeAngle(this.get("labelAngle",0));this._text.set("startAngle",this.get("labelAngle",0)),this._text.set("inside",S);const ce=ye.sin($),k=ye.cos($);let N=this.baseRadius(),ve=this.radius();if(this._display.angle=0,"circular"==ae)this.setAll({paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}),this._text.set("orientation",I),this._text.set("radius",ve);else{0==N&&($=0,ve=0);let De=ve*k,Oe=ve*ce;"radial"==ae?(this.setRaw("x",De),this.setRaw("y",Oe),$<90||$>270||"auto"!=I?(this._display.angle=$,this._flipped=!1):(this._display.angle=$+180,this._flipped=!0),this._dirty.rotation=!1):"adjusted"==ae?(this.setRaw("centerX",Ne.CI),this.setRaw("centerY",Ne.CI),this.setRaw("x",De),this.setRaw("y",Oe)):"regular"==ae&&(this.setRaw("x",De),this.setRaw("y",Oe))}this.markDirtyPosition(),this.markDirtyBounds()}}_updatePosition(){const ae=this.get("textType","regular"),S=this.get("inside",!1);let I=0,$=0,ce=this.get("labelAngle",0),k=this.localBounds(),N=k.right-k.left,ve=k.bottom-k.top;if("radial"==ae){if(this._flipped){let De=this.get("centerX");De instanceof Ne.gG&&(N*=1-2*De.value),I=N*ye.cos(ce),$=N*ye.sin(ce)}}else!S&&"adjusted"==ae&&(I=N/2*ye.cos(ce),$=ve/2*ye.sin(ce));this.setRaw("dx",I),this.setRaw("dy",$),super._updatePosition()}get text(){return this._text}}Object.defineProperty(W,"className",{enumerable:!0,configurable:!0,writable:!0,value:"RadialLabel"}),Object.defineProperty(W,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:U._.classNames.concat([W.className])})},8490:(Yt,We,z)=>{z.d(We,{f:()=>ue});var Ne=z(683),U=z(9472);class ue extends Ne.x{constructor(){super(...arguments),Object.defineProperty(this,"_display",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeRadialText("",this.textStyle)})}_afterNew(){super._afterNew()}_beforeChanged(){super._beforeChanged(),this._display.clear(),this.isDirty("textType")&&(this._display.textType=this.get("textType"),this.markDirtyBounds()),this.isDirty("radius")&&(this._display.radius=this.get("radius"),this.markDirtyBounds()),this.isDirty("startAngle")&&(this._display.startAngle=(this.get("startAngle",0)+90)*U.RADIANS,this.markDirtyBounds()),this.isDirty("inside")&&(this._display.inside=this.get("inside"),this.markDirtyBounds()),this.isDirty("orientation")&&(this._display.orientation=this.get("orientation"),this.markDirtyBounds()),this.isDirty("kerning")&&(this._display.kerning=this.get("kerning"),this.markDirtyBounds())}}Object.defineProperty(ue,"className",{enumerable:!0,configurable:!0,writable:!0,value:"RadialText"}),Object.defineProperty(ue,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Ne.x.classNames.concat([ue.className])})},4248:(Yt,We,z)=>{z.d(We,{L:()=>Te});var Ne=z(867),U=z(9239),ue=z(3232),ye=z(4618),te=z(2743),W=z(8261);class Te extends U.W{constructor(){super(...arguments),Object.defineProperty(this,"thumb",{enumerable:!0,configurable:!0,writable:!0,value:this._makeThumb()}),Object.defineProperty(this,"startGrip",{enumerable:!0,configurable:!0,writable:!0,value:this._makeButton()}),Object.defineProperty(this,"endGrip",{enumerable:!0,configurable:!0,writable:!0,value:this._makeButton()}),Object.defineProperty(this,"_thumbBusy",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_startDown",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_endDown",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_thumbDown",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_gripDown",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_addOrientationClass(){this._settings.themeTags=W.mergeTags(this._settings.themeTags,["scrollbar",this._settings.orientation]),this._settings.background||(this._settings.background=Ne.c.new(this._root,{themeTags:W.mergeTags(this._settings.themeTags,["main","background"])}))}_makeButton(){return this.children.push(ye.z.new(this._root,{themeTags:["resize","button",this.get("orientation")],icon:ue.T.new(this._root,{themeTags:["icon"]})}))}_makeThumb(){return this.children.push(Ne.c.new(this._root,{themeTags:["thumb",this.get("orientation")]}))}_handleAnimation(S){S&&this._disposers.push(S.events.on("stopped",()=>{this.setPrivateRaw("isBusy",!1),this._thumbBusy=!1}))}_afterNew(){this._addOrientationClass(),super._afterNew();const S=this.startGrip,I=this.endGrip,$=this.thumb,ce=this.get("background");ce&&this._disposers.push(ce.events.on("click",k=>{this.setPrivateRaw("isBusy",!0);const N=this._display.toLocal(k.point),ve=this.width(),De=this.height(),Oe=this.get("orientation");let he,Me,Ge;he="vertical"==Oe?(N.y-$.height()/2)/De:(N.x-$.width()/2)/ve,"vertical"==Oe?(Me=he*De,Ge="y"):(Me=he*ve,Ge="x");const Ke=this.get("animationDuration",0);Ke>0?(this._thumbBusy=!0,this._handleAnimation(this.thumb.animate({key:Ge,to:Me,duration:Ke,easing:this.get("animationEasing")}))):(this.thumb.set(Ge,Me),this._root.events.once("frameended",()=>{this.setPrivateRaw("isBusy",!1)}))})),this._disposers.push($.events.on("dblclick",k=>{if(!W.isLocalEvent(k.originalEvent,this))return;const N=this.get("animationDuration",0),ve=this.get("animationEasing");this.animate({key:"start",to:0,duration:N,easing:ve}),this.animate({key:"end",to:1,duration:N,easing:ve})})),this._disposers.push(S.events.on("pointerdown",()=>{this.setPrivateRaw("isBusy",!0),this._startDown=!0,this._gripDown="start"})),this._disposers.push(I.events.on("pointerdown",()=>{this.setPrivateRaw("isBusy",!0),this._endDown=!0,this._gripDown="end"})),this._disposers.push($.events.on("pointerdown",()=>{this.setPrivateRaw("isBusy",!0),this._thumbDown=!0,this._gripDown=void 0})),this._disposers.push(S.events.on("globalpointerup",()=>{this._startDown&&this.setPrivateRaw("isBusy",!1),this._startDown=!1})),this._disposers.push(I.events.on("globalpointerup",()=>{this._endDown&&this.setPrivateRaw("isBusy",!1),this._endDown=!1})),this._disposers.push($.events.on("globalpointerup",()=>{this._thumbDown&&this.setPrivateRaw("isBusy",!1),this._thumbDown=!1})),this._disposers.push(S.on("x",()=>{this._updateThumb()})),this._disposers.push(I.on("x",()=>{this._updateThumb()})),this._disposers.push(S.on("y",()=>{this._updateThumb()})),this._disposers.push(I.on("y",()=>{this._updateThumb()})),this._disposers.push($.events.on("positionchanged",()=>{this._updateGripsByThumb()})),"vertical"==this.get("orientation")?(S.set("x",0),I.set("x",0),this._disposers.push($.adapters.add("y",k=>Math.max(Math.min(Number(k),this.height()-$.height()),0))),this._disposers.push($.adapters.add("x",k=>this.width()/2)),this._disposers.push(S.adapters.add("x",k=>this.width()/2)),this._disposers.push(I.adapters.add("x",k=>this.width()/2)),this._disposers.push(S.adapters.add("y",k=>Math.max(Math.min(Number(k),this.height()),0))),this._disposers.push(I.adapters.add("y",k=>Math.max(Math.min(Number(k),this.height()),0)))):(S.set("y",0),I.set("y",0),this._disposers.push($.adapters.add("x",k=>Math.max(Math.min(Number(k),this.width()-$.width()),0))),this._disposers.push($.adapters.add("y",k=>this.height()/2)),this._disposers.push(S.adapters.add("y",k=>this.height()/2)),this._disposers.push(I.adapters.add("y",k=>this.height()/2)),this._disposers.push(S.adapters.add("x",k=>Math.max(Math.min(Number(k),this.width()),0))),this._disposers.push(I.adapters.add("x",k=>Math.max(Math.min(Number(k),this.width()),0))))}_updateChildren(){super._updateChildren(),(this.isDirty("end")||this.isDirty("start")||this._sizeDirty)&&this.updateGrips()}_changed(){if(super._changed(),this.isDirty("start")||this.isDirty("end")){const S="rangechanged";this.events.isEnabled(S)&&this.events.dispatch(S,{type:S,target:this,start:this.get("start",0),end:this.get("end",1),grip:this._gripDown})}}updateGrips(){const S=this.startGrip,I=this.endGrip,$=this.get("orientation"),ce=this.height(),k=this.width();"vertical"==$?(S.set("y",ce*this.get("start",0)),I.set("y",ce*this.get("end",1))):(S.set("x",k*this.get("start",0)),I.set("x",k*this.get("end",1)));const N=this.getPrivate("positionTextFunction"),ve=Math.round(100*this.get("start",0)),De=Math.round(100*this.get("end",0));let Oe,he;N?(Oe=N.call(this,this.get("start",0)),he=N.call(this,this.get("end",0))):(Oe=ve+"%",he=De+"%"),S.set("ariaLabel",this._t("From %1",void 0,Oe)),S.set("ariaValueNow",""+ve),S.set("ariaValueText",ve+"%"),S.set("ariaValueMin","0"),S.set("ariaValueMax","100"),I.set("ariaLabel",this._t("To %1",void 0,he)),I.set("ariaValueNow",""+De),I.set("ariaValueText",De+"%"),I.set("ariaValueMin","0"),I.set("ariaValueMax","100")}_updateThumb(){const S=this.thumb,I=this.startGrip,$=this.endGrip,ce=this.height(),k=this.width();let N=I.x(),ve=$.x(),De=I.y(),Oe=$.y(),he=0,Me=1;"vertical"==this.get("orientation")?te.isNumber(De)&&te.isNumber(Oe)&&(!this._thumbBusy&&!S.isDragging()&&(S.set("height",Oe-De),S.set("y",De)),he=De/ce,Me=Oe/ce):te.isNumber(N)&&te.isNumber(ve)&&(!this._thumbBusy&&!S.isDragging()&&(S.set("width",ve-N),S.set("x",N)),he=N/k,Me=ve/k),this.getPrivate("isBusy")&&(this.get("start")!=he||this.get("end")!=Me)&&(this.set("start",he),this.set("end",Me));const Ge=this.getPrivate("positionTextFunction"),Ke=Math.round(100*this.get("start",0)),Ce=Math.round(100*this.get("end",0));let ft,zt;Ge?(ft=Ge.call(this,this.get("start",0)),zt=Ge.call(this,this.get("end",0))):(ft=Ke+"%",zt=Ce+"%"),S.set("ariaLabel",this._t("From %1 to %2",void 0,ft,zt)),S.set("ariaValueNow",""+Ke),S.set("ariaValueText",Ke+"%")}_updateGripsByThumb(){const S=this.thumb,I=this.startGrip,$=this.endGrip;if("vertical"==this.get("orientation")){const ce=S.height();I.set("y",S.y()),$.set("y",S.y()+ce)}else{const ce=S.width();I.set("x",S.x()),$.set("x",S.x()+ce)}}}Object.defineProperty(Te,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Scrollbar"}),Object.defineProperty(Te,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:U.W.classNames.concat([Te.className])})},3704:(Yt,We,z)=>{z.d(We,{j:()=>W});var Ne=z(6288),U=z(9239),ue=z(434),ye=z(7039),te=z(3559);class W extends Ne.k{constructor(){super(...arguments),Object.defineProperty(this,"seriesContainer",{enumerable:!0,configurable:!0,writable:!0,value:U.W.new(this._root,{width:ye.AQ,height:ye.AQ,isMeasured:!1})}),Object.defineProperty(this,"series",{enumerable:!0,configurable:!0,writable:!0,value:new ue.dn})}_afterNew(){super._afterNew(),this._disposers.push(this.series);const ae=this.seriesContainer.children;this._disposers.push(this.series.events.onAll(S=>{if("clear"===S.type){te.each(S.oldValues,$=>{this._removeSeries($)});const I=this.get("colors");I&&I.reset()}else if("push"===S.type)ae.moveValue(S.newValue),this._processSeries(S.newValue);else if("setIndex"===S.type)ae.setIndex(S.index,S.newValue),this._processSeries(S.newValue);else if("insertIndex"===S.type)ae.insertIndex(S.index,S.newValue),this._processSeries(S.newValue);else if("removeIndex"===S.type)this._removeSeries(S.oldValue);else{if("moveIndex"!==S.type)throw new Error("Unknown IListEvent type");ae.moveValue(S.value,S.newIndex),this._processSeries(S.value)}}))}_processSeries(ae){ae.chart=this,ae._placeBulletsContainer(this)}_removeSeries(ae){ae.isDisposed()||(this.seriesContainer.children.removeValue(ae),ae._removeBulletsContainer())}}Object.defineProperty(W,"className",{enumerable:!0,configurable:!0,writable:!0,value:"SerialChart"}),Object.defineProperty(W,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Ne.k.classNames.concat([W.className])})},8853:(Yt,We,z)=>{z.d(We,{H:()=>te});var Ne=z(9239),U=z(4618),ue=z(3232),ye=z(8362);class te extends Ne.W{constructor(){super(...arguments),Object.defineProperty(this,"homeButton",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(U.z.new(this._root,{width:35,height:35,themeTags:["home"]}))}),Object.defineProperty(this,"plusButton",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(U.z.new(this._root,{width:35,height:35,themeTags:["plus"]}))}),Object.defineProperty(this,"minusButton",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(U.z.new(this._root,{width:35,height:35,themeTags:["minus"]}))}),Object.defineProperty(this,"_disposer",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_afterNew(){super._afterNew(),this.set("position","absolute"),this.set("layout",this._root.verticalLayout),this.addTag("zoomtools"),this.plusButton.setAll({icon:ue.T.new(this._root,{themeTags:["icon"]}),layout:void 0}),this.minusButton.setAll({icon:ue.T.new(this._root,{themeTags:["icon"]}),layout:void 0}),this.homeButton.setAll({icon:ue.T.new(this._root,{themeTags:["icon"]}),layout:void 0})}_prepareChildren(){if(super._prepareChildren(),this.isDirty("target")){const Te=this.get("target"),ae=this._prevSettings.target;Te&&(this._disposer=new ye.FV([this.plusButton.events.on("click",()=>{Te.zoomIn()}),this.minusButton.events.on("click",()=>{Te.zoomOut()}),this.homeButton.events.on("click",()=>{Te.goHome()})])),ae&&this._disposer&&this._disposer.dispose()}}}Object.defineProperty(te,"className",{enumerable:!0,configurable:!0,writable:!0,value:"ZoomTools"}),Object.defineProperty(te,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Ne.W.classNames.concat([te.className])})},2661:(Yt,We,z)=>{z.d(We,{U:()=>ue});var Ne=z(4889),U=z(796);class ue extends Ne.JH{_afterNew(){super._afterNewApplyThemes(),this._dirty.colors=!1}_beforeChanged(){this.isDirty("colors")&&this.reset()}generateColors(){this.setPrivate("currentPass",this.getPrivate("currentPass",0)+1);const te=this.getPrivate("currentPass"),W=this.get("colors",[this.get("baseColor",U.Il.fromHex(16711680))]);this.getPrivate("numColors")||this.setPrivate("numColors",W.length);const Te=this.getPrivate("numColors"),S=this.get("passOptions"),I=this.get("reuse");for(let $=0;$<Te;$++)if(I)W.push(W[$]);else{const ce=W[$].toHSL();let k=ce.h+(S.hue||0)*te;for(;k>1;)k-=1;let N=ce.s+(S.saturation||0)*te;N>1&&(N=1),N<0&&(N=0);let ve=ce.l+(S.lightness||0)*te;for(;ve>1;)ve-=1;W.push(U.Il.fromHSL(k,N,ve))}}getIndex(te){const W=this.get("colors",[]),Te=this.get("saturation");return te>=W.length?(this.generateColors(),this.getIndex(te)):null!=Te?U.Il.saturate(W[te],Te):W[te]}next(){let te=this.getPrivate("currentStep",this.get("startIndex",0));return this.setPrivate("currentStep",te+this.get("step",1)),this.getIndex(te)}reset(){this.setPrivate("currentStep",this.get("startIndex",0)),this.setPrivate("currentPass",0)}}Object.defineProperty(ue,"className",{enumerable:!0,configurable:!0,writable:!0,value:"ColorSet"}),Object.defineProperty(ue,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Ne.JH.classNames.concat([ue.className])})},2231:(Yt,We,z)=>{z.d(We,{X:()=>Te,v:()=>W});var Ne=z(5013),U=z(7039),ue=z(796),ye=z(680),te=z(5770);function W(ae,S,I,$){ae.set(S,I.get($)),I.on($,ce=>{ae.set(S,ce)})}class Te extends Ne.Q{setupDefaultRules(){super.setupDefaultRules();const S=this._root.language,I=this._root.interfaceColors,$=this._root.horizontalLayout,ce=this._root.verticalLayout,k=this.rule.bind(this);k("InterfaceColors").setAll({stroke:ue.Il.fromHex(15066597),fill:ue.Il.fromHex(15987699),primaryButton:ue.Il.fromHex(6788316),primaryButtonHover:ue.Il.fromHex(6779356),primaryButtonDown:ue.Il.fromHex(6872182),primaryButtonActive:ue.Il.fromHex(6872182),primaryButtonText:ue.Il.fromHex(16777215),primaryButtonStroke:ue.Il.fromHex(16777215),secondaryButton:ue.Il.fromHex(14277081),secondaryButtonHover:ue.Il.fromHex(10724259),secondaryButtonDown:ue.Il.fromHex(9276813),secondaryButtonActive:ue.Il.fromHex(15132390),secondaryButtonText:ue.Il.fromHex(0),secondaryButtonStroke:ue.Il.fromHex(16777215),grid:ue.Il.fromHex(0),background:ue.Il.fromHex(16777215),alternativeBackground:ue.Il.fromHex(0),text:ue.Il.fromHex(0),alternativeText:ue.Il.fromHex(16777215),disabled:ue.Il.fromHex(11382189),positive:ue.Il.fromHex(5288704),negative:ue.Il.fromHex(11730944)});{const N=k("ColorSet");N.setAll({passOptions:{hue:.05,saturation:0,lightness:0},colors:[ue.Il.fromHex(6797276)],step:1,reuse:!1,startIndex:0}),N.setPrivate("currentStep",0),N.setPrivate("currentPass",0)}k("Entity").setAll({stateAnimationDuration:0,stateAnimationEasing:te.out(te.cubic)}),k("Component").setAll({interpolationDuration:0,interpolationEasing:te.out(te.cubic)}),k("Sprite").setAll({visible:!0,scale:1,opacity:1,rotation:0,position:"relative",tooltipX:U.CI,tooltipY:U.CI,tooltipPosition:"fixed",isMeasured:!0}),k("Sprite").states.create("default",{visible:!0,opacity:1}),k("Container").setAll({interactiveChildren:!0,setStateOnChildren:!1}),k("Graphics").setAll({strokeWidth:1}),k("Chart").setAll({width:U.AQ,height:U.AQ,interactiveChildren:!1}),k("ZoomableContainer").setAll({width:U.AQ,height:U.AQ,wheelable:!0,pinchZoom:!0,maxZoomLevel:32,minZoomLevel:1,zoomStep:2,animationEasing:te.out(te.cubic),animationDuration:600}),k("Sprite",["horizontal","center"]).setAll({centerX:U.CI,x:U.CI}),k("Sprite",["vertical","center"]).setAll({centerY:U.CI,y:U.CI}),k("Container",["horizontal","layout"]).setAll({layout:$}),k("Container",["vertical","layout"]).setAll({layout:ce}),k("Pattern").setAll({repetition:"repeat",width:50,height:50,rotation:0,fillOpacity:1}),k("LinePattern").setAll({gap:6,colorOpacity:1,width:49,height:49}),k("RectanglePattern").setAll({gap:6,checkered:!1,centered:!0,maxWidth:5,maxHeight:5,width:48,height:48,strokeWidth:0}),k("CirclePattern").setAll({gap:5,checkered:!1,centered:!1,radius:3,strokeWidth:0,width:45,height:45}),k("GrainPattern").setAll({width:200,height:200,colors:[ue.Il.fromHex(0)],size:1,horizontalGap:0,verticalGap:0,density:1,minOpacity:0,maxOpacity:.2}),k("LinearGradient").setAll({rotation:90}),k("Legend").setAll({fillField:"fill",strokeField:"stroke",nameField:"name",layout:ye.M.new(this._root,{}),layer:30,clickTarget:"itemContainer"}),k("Container",["legend","item","itemcontainer"]).setAll({paddingLeft:5,paddingRight:5,paddingBottom:5,paddingTop:5,layout:$,setStateOnChildren:!0,interactiveChildren:!1,ariaChecked:!0,focusable:!0,ariaLabel:S.translate("Press ENTER to toggle"),role:"checkbox"});{const N=k("Rectangle",["legend","item","background"]);N.setAll({fillOpacity:0}),W(N,"fill",I,"background")}k("Container",["legend","marker"]).setAll({setStateOnChildren:!0,centerY:U.CI,paddingLeft:0,paddingRight:0,paddingBottom:0,paddingTop:0,width:18,height:18}),k("RoundedRectangle",["legend","marker","rectangle"]).setAll({width:U.AQ,height:U.AQ,cornerRadiusBL:3,cornerRadiusTL:3,cornerRadiusBR:3,cornerRadiusTR:3});{const N=k("RoundedRectangle",["legend","marker","rectangle"]).states.create("disabled",{});W(N,"fill",I,"disabled"),W(N,"stroke",I,"disabled")}k("Label",["legend","label"]).setAll({centerY:U.CI,marginLeft:5,paddingRight:0,paddingLeft:0,paddingTop:0,paddingBottom:0,populateText:!0}),W(k("Label",["legend","label"]).states.create("disabled",{}),"fill",I,"disabled"),k("Label",["legend","value","label"]).setAll({centerY:U.CI,marginLeft:5,paddingRight:0,paddingLeft:0,paddingTop:0,paddingBottom:0,width:50,centerX:U.AQ,populateText:!0}),W(k("Label",["legend","value","label"]).states.create("disabled",{}),"fill",I,"disabled"),k("HeatLegend").setAll({stepCount:1}),k("RoundedRectangle",["heatlegend","marker"]).setAll({cornerRadiusTR:0,cornerRadiusBR:0,cornerRadiusTL:0,cornerRadiusBL:0}),k("RoundedRectangle",["vertical","heatlegend","marker"]).setAll({height:U.AQ,width:15}),k("RoundedRectangle",["horizontal","heatlegend","marker"]).setAll({width:U.AQ,height:15}),k("HeatLegend",["vertical"]).setAll({height:U.AQ}),k("HeatLegend",["horizontal"]).setAll({width:U.AQ}),k("Label",["heatlegend","start"]).setAll({paddingLeft:5,paddingRight:5,paddingTop:5,paddingBottom:5}),k("Label",["heatlegend","end"]).setAll({paddingLeft:5,paddingRight:5,paddingTop:5,paddingBottom:5});{const N=k("Label");N.setAll({paddingTop:8,paddingBottom:8,paddingLeft:10,paddingRight:10,fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',fontSize:"1em",populateText:!1}),W(N,"fill",I,"text")}k("RadialLabel").setAll({textType:"regular",centerY:U.CI,centerX:U.CI,inside:!1,radius:0,baseRadius:U.AQ,orientation:"auto",textAlign:"center"}),k("RoundedRectangle").setAll({cornerRadiusTL:8,cornerRadiusBL:8,cornerRadiusTR:8,cornerRadiusBR:8}),k("PointedRectangle").setAll({pointerBaseWidth:15,pointerLength:10,cornerRadius:8}),k("Slice").setAll({shiftRadius:0,dRadius:0,dInnerRadius:0});{const N=k("Tick");N.setAll({strokeOpacity:.15,isMeasured:!1,length:4.5,position:"absolute",crisp:!0}),W(N,"stroke",I,"grid")}k("Bullet").setAll({locationX:.5,locationY:.5}),k("Tooltip").setAll({position:"absolute",getFillFromSprite:!0,getStrokeFromSprite:!1,autoTextColor:!0,paddingTop:9,paddingBottom:8,paddingLeft:10,paddingRight:10,marginBottom:5,pointerOrientation:"vertical",centerX:U.CI,centerY:U.CI,animationEasing:te.out(te.cubic),exportable:!1}),k("Polygon").setAll({animationEasing:te.out(te.cubic)}),k("PointedRectangle",["tooltip","background"]).setAll({strokeOpacity:.9,cornerRadius:4,pointerLength:4,pointerBaseWidth:8,fillOpacity:.9,stroke:ue.Il.fromHex(16777215)});{const N=k("Label",["tooltip"]);N.setAll({role:"tooltip",populateText:!0,paddingRight:0,paddingTop:0,paddingLeft:0,paddingBottom:0}),W(N,"fill",I,"alternativeText")}k("Button").setAll({paddingTop:8,paddingBottom:8,paddingLeft:10,paddingRight:10,interactive:!0,layout:$,interactiveChildren:!1,setStateOnChildren:!0,focusable:!0}),k("Button").states.create("hover",{}),k("Button").states.create("down",{stateAnimationDuration:0}),k("Button").states.create("active",{});{const N=k("RoundedRectangle",["button","background"]);W(N,"fill",I,"primaryButton"),W(N,"stroke",I,"primaryButtonStroke")}W(k("RoundedRectangle",["button","background"]).states.create("hover",{}),"fill",I,"primaryButtonHover"),W(k("RoundedRectangle",["button","background"]).states.create("down",{stateAnimationDuration:0}),"fill",I,"primaryButtonDown"),W(k("RoundedRectangle",["button","background"]).states.create("active",{}),"fill",I,"primaryButtonActive"),W(k("Graphics",["button","icon"]),"stroke",I,"primaryButtonText"),W(k("Label",["button"]),"fill",I,"primaryButtonText"),k("Button",["zoom"]).setAll({paddingTop:18,paddingBottom:18,paddingLeft:12,paddingRight:12,centerX:46,centerY:-10,y:0,x:U.AQ,role:"button",ariaLabel:S.translate("Zoom Out"),layer:30});{const N=k("RoundedRectangle",["background","button","zoom"]);N.setAll({cornerRadiusBL:40,cornerRadiusBR:40,cornerRadiusTL:40,cornerRadiusTR:40}),W(N,"fill",I,"primaryButton")}W(k("RoundedRectangle",["background","button","zoom"]).states.create("hover",{}),"fill",I,"primaryButtonHover"),W(k("RoundedRectangle",["background","button","zoom"]).states.create("down",{stateAnimationDuration:0}),"fill",I,"primaryButtonDown");{const N=k("Graphics",["icon","button","zoom"]);N.setAll({crisp:!0,strokeOpacity:.7,draw:ve=>{ve.moveTo(0,0),ve.lineTo(12,0)}}),W(N,"stroke",I,"primaryButtonText")}k("Button",["resize"]).setAll({paddingTop:9,paddingBottom:9,paddingLeft:13,paddingRight:13,draggable:!0,centerX:U.CI,centerY:U.CI,position:"absolute",role:"slider",ariaValueMin:"0",ariaValueMax:"100",ariaLabel:S.translate("Use up and down arrows to move selection")});{const N=k("RoundedRectangle",["background","resize","button"]);N.setAll({cornerRadiusBL:40,cornerRadiusBR:40,cornerRadiusTL:40,cornerRadiusTR:40}),W(N,"fill",I,"secondaryButton"),W(N,"stroke",I,"secondaryButtonStroke")}W(k("RoundedRectangle",["background","resize","button"]).states.create("hover",{}),"fill",I,"secondaryButtonHover"),W(k("RoundedRectangle",["background","resize","button"]).states.create("down",{stateAnimationDuration:0}),"fill",I,"secondaryButtonDown");{const N=k("Graphics",["resize","button","icon"]);N.setAll({interactive:!1,crisp:!0,strokeOpacity:.5,draw:ve=>{ve.moveTo(0,.5),ve.lineTo(0,12.5),ve.moveTo(4,.5),ve.lineTo(4,12.5)}}),W(N,"stroke",I,"secondaryButtonText")}k("Button",["resize","vertical"]).setAll({rotation:90,cursorOverStyle:"ns-resize"}),k("Button",["resize","horizontal"]).setAll({cursorOverStyle:"ew-resize"}),k("Button",["play"]).setAll({paddingTop:13,paddingBottom:13,paddingLeft:14,paddingRight:14,ariaLabel:S.translate("Play"),toggleKey:"active"});{const N=k("RoundedRectangle",["play","background"]);N.setAll({strokeOpacity:.5,cornerRadiusBL:100,cornerRadiusBR:100,cornerRadiusTL:100,cornerRadiusTR:100}),W(N,"fill",I,"primaryButton")}{const N=k("Graphics",["play","icon"]);N.setAll({stateAnimationDuration:0,dx:1,draw:ve=>{ve.moveTo(0,-5),ve.lineTo(8,0),ve.lineTo(0,5),ve.lineTo(0,-5)}}),W(N,"fill",I,"primaryButtonText")}k("Graphics",["play","icon"]).states.create("default",{stateAnimationDuration:0}),k("Graphics",["play","icon"]).states.create("active",{stateAnimationDuration:0,draw:N=>{N.moveTo(-4,-5),N.lineTo(-1,-5),N.lineTo(-1,5),N.lineTo(-4,5),N.lineTo(-4,-5),N.moveTo(4,-5),N.lineTo(1,-5),N.lineTo(1,5),N.lineTo(4,5),N.lineTo(4,-5)}}),k("Button",["switch"]).setAll({paddingTop:4,paddingBottom:4,paddingLeft:4,paddingRight:4,ariaLabel:S.translate("Press ENTER to toggle"),toggleKey:"active",width:40,height:24,layout:null});{const N=k("RoundedRectangle",["switch","background"]);N.setAll({strokeOpacity:.5,cornerRadiusBL:100,cornerRadiusBR:100,cornerRadiusTL:100,cornerRadiusTR:100}),W(N,"fill",I,"primaryButton")}{const N=k("Circle",["switch","icon"]);N.setAll({radius:8,centerY:0,centerX:0,dx:0}),W(N,"fill",I,"primaryButtonText")}k("Graphics",["switch","icon"]).states.create("active",{dx:16}),k("Scrollbar").setAll({start:0,end:1,layer:30,animationEasing:te.out(te.cubic)}),k("Scrollbar",["vertical"]).setAll({marginRight:13,marginLeft:13,minWidth:12,height:U.AQ}),k("Scrollbar",["horizontal"]).setAll({marginTop:13,marginBottom:13,minHeight:12,width:U.AQ}),this.rule("Button",["scrollbar"]).setAll({exportable:!1});{const N=k("RoundedRectangle",["scrollbar","main","background"]);N.setAll({cornerRadiusTL:8,cornerRadiusBL:8,cornerRadiusTR:8,cornerRadiusBR:8,fillOpacity:.8}),W(N,"fill",I,"fill")}{const N=k("RoundedRectangle",["scrollbar","thumb"]);N.setAll({role:"slider",ariaLive:"polite",position:"absolute",draggable:!0}),W(N,"fill",I,"secondaryButton")}W(k("RoundedRectangle",["scrollbar","thumb"]).states.create("hover",{}),"fill",I,"secondaryButtonHover"),W(k("RoundedRectangle",["scrollbar","thumb"]).states.create("down",{stateAnimationDuration:0}),"fill",I,"secondaryButtonDown"),k("RoundedRectangle",["scrollbar","thumb","vertical"]).setAll({x:U.CI,width:U.AQ,centerX:U.CI,ariaLabel:S.translate("Use up and down arrows to move selection")}),k("RoundedRectangle",["scrollbar","thumb","horizontal"]).setAll({y:U.CI,centerY:U.CI,height:U.AQ,ariaLabel:S.translate("Use left and right arrows to move selection")});{const N=k("PointedRectangle",["axis","tooltip","background"]);N.setAll({cornerRadius:0}),W(N,"fill",I,"alternativeBackground")}k("Label",["axis","tooltip"]).setAll({role:void 0}),k("Label",["axis","tooltip","y"]).setAll({textAlign:"right"}),k("Label",["axis","tooltip","y","opposite"]).setAll({textAlign:"left"}),k("Label",["axis","tooltip","x"]).setAll({textAlign:"center"}),k("Tooltip",["categoryaxis"]).setAll({labelText:"{category}"}),k("Star").setAll({spikes:5,innerRadius:5,radius:10}),k("Tooltip",["stock"]).setAll({paddingTop:6,paddingBottom:5,paddingLeft:7,paddingRight:7}),k("PointedRectangle",["tooltip","stock","axis"]).setAll({pointerLength:0,pointerBaseWidth:0,cornerRadius:3}),k("Label",["tooltip","stock"]).setAll({fontSize:"0.8em"}),k("SpriteResizer").setAll({rotationStep:10}),k("Container",["resizer","grip"]).states.create("hover",{});{const N=k("RoundedRectangle",["resizer","grip"]);N.setAll({strokeOpacity:.7,strokeWidth:1,fillOpacity:1,width:12,height:12}),W(N,"fill",I,"background"),W(N,"stroke",I,"alternativeBackground")}{const N=k("RoundedRectangle",["resizer","grip","outline"]);N.setAll({strokeOpacity:0,fillOpacity:0,width:20,height:20}),N.states.create("hover",{fillOpacity:.3}),W(N,"fill",I,"alternativeBackground")}k("RoundedRectangle",["resizer","grip","left"]).setAll({cornerRadiusBL:0,cornerRadiusBR:0,cornerRadiusTL:0,cornerRadiusTR:0}),k("RoundedRectangle",["resizer","grip","right"]).setAll({cornerRadiusBL:0,cornerRadiusBR:0,cornerRadiusTL:0,cornerRadiusTR:0});{const N=k("Rectangle",["resizer","rectangle"]);N.setAll({strokeDasharray:[2,2],strokeOpacity:.5,strokeWidth:1}),W(N,"stroke",I,"alternativeBackground")}k("Graphics",["button","plus","icon"]).setAll({x:U.CI,y:U.CI,draw:N=>{N.moveTo(-4,0),N.lineTo(4,0),N.moveTo(0,-4),N.lineTo(0,4)}}),k("Graphics",["button","minus","icon"]).setAll({x:U.CI,y:U.CI,draw:N=>{N.moveTo(-4,0),N.lineTo(4,0)}}),k("Graphics",["button","home","icon"]).setAll({x:U.CI,y:U.CI,svgPath:"M 8 -1 L 6 -1 L 6 7 L 2 7 L 2 1 L -2 1 L -2 7 L -6 7 L -6 -1 L -8 -1 L 0 -9 L 8 -1 Z M 8 -1"}),k("Button",["zoomtools"]).setAll({marginTop:1,marginBottom:2}),k("ZoomTools").setAll({x:U.AQ,centerX:U.AQ,y:U.AQ,centerY:U.AQ,paddingRight:10,paddingBottom:10})}}},9764:(Yt,We,z)=>{z.r(We),z.d(We,{ArrayDisposer:()=>ae.rk,BlendMode:()=>Rt.b,Bullet:()=>q.g,Button:()=>se.z,CSVParser:()=>xi,Chart:()=>ts.k,Circle:()=>Q.C,CirclePattern:()=>qi,Color:()=>pt.Il,ColorSet:()=>rs.U,Component:()=>ie.w,Container:()=>ue.W,CounterDisposer:()=>ae.DM,DataItem:()=>ie.z,DataProcessor:()=>gi,DateFormatter:()=>si,Disposer:()=>ae.ku,DurationFormatter:()=>ke,Ellipse:()=>fe,Entity:()=>De.JH,Gradient:()=>ze,GrainPattern:()=>Bi,Graphics:()=>he.T,GridLayout:()=>Te.M,HeatLegend:()=>qe,HorizontalLayout:()=>te.G,InterfaceColors:()=>Oe,JSONParser:()=>vi,JsonData:()=>Xr.Q,Label:()=>Se._,Layout:()=>Ue.A,Legend:()=>Tt,Line:()=>Dt.x,LinePattern:()=>Oi,LinearGradient:()=>et,ListData:()=>Xr.k,Modal:()=>K,MultiDisposer:()=>ae.FV,MutableValueDisposer:()=>ae.cx,NumberFormatter:()=>Ke.e,PathPattern:()=>Yi,Pattern:()=>ii.c,Percent:()=>Ze.gG,Picture:()=>ct,PicturePattern:()=>Fr.v,PointedRectangle:()=>Qe.i,Polygon:()=>ee,RadialGradient:()=>Ji,RadialLabel:()=>ai.x,RadialText:()=>oi.f,Rectangle:()=>Me.A,RectanglePattern:()=>dr,Root:()=>P,RoundedRectangle:()=>Ye.c,Scrollbar:()=>kt.L,SerialChart:()=>Ps.j,Series:()=>Mt.F,Slice:()=>Or,Slider:()=>Zt,Sprite:()=>Ht.j,SpriteResizer:()=>wi,Star:()=>re,Template:()=>xe.YS,Text:()=>ye.x,TextFormatter:()=>Ce.V,Theme:()=>O.Q,Tick:()=>is.d,Timezone:()=>Ut,Tooltip:()=>Ge.u,Triangle:()=>Wt,VerticalLayout:()=>W.Z,ZoomTools:()=>zr.H,ZoomableContainer:()=>_e,addLicense:()=>x.cP,array:()=>S,color:()=>pt.$_,disposeAllRootElements:()=>x.UZ,ease:()=>ss,math:()=>mt,net:()=>Ne,object:()=>Je,p0:()=>Ze.p0,p100:()=>Ze.AQ,p50:()=>Ze.CI,percent:()=>Ze.aQ,ready:()=>I.ready,registry:()=>x.i_,time:()=>as,type:()=>Le,utils:()=>I});var Ne={};z.r(Ne),z.d(Ne,{load:()=>Ds,readBlob:()=>ns});var U=z(6393),ue=z(9239),ye=z(683),te=z(6623),W=z(6053),Te=z(680),ae=z(8362),S=z(3559),I=z(8261);class ${constructor(){Object.defineProperty(this,"_observer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_targets",{enumerable:!0,configurable:!0,writable:!0,value:[]}),this._observer=new ResizeObserver(e=>{S.each(e,t=>{S.each(this._targets,s=>{s.target===t.target&&s.callback()})})})}addTarget(e,t){this._observer.observe(e,{box:"border-box"}),this._targets.push({target:e,callback:t})}removeTarget(e){this._observer.unobserve(e),S.keepIf(this._targets,t=>t.target!==e)}}class ce{constructor(){Object.defineProperty(this,"_timer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"_targets",{enumerable:!0,configurable:!0,writable:!0,value:[]})}addTarget(e,t){if(null===this._timer){let h=null;const f=()=>{const d=Date.now();(null===h||d>h+ce.delay)&&(h=d,S.each(this._targets,p=>{let A=p.target.getBoundingClientRect();(A.width!==p.size.width||A.height!==p.size.height)&&(p.size=A,p.callback())})),this._timer=0===this._targets.length?null:requestAnimationFrame(f)};this._timer=requestAnimationFrame(f)}this._targets.push({target:e,callback:t,size:{width:0,height:0,left:0,right:0,top:0,bottom:0,x:0,y:0}})}removeTarget(e){S.keepIf(this._targets,t=>t.target!==e),0===this._targets.length&&null!==this._timer&&(cancelAnimationFrame(this._timer),this._timer=null)}}Object.defineProperty(ce,"delay",{enumerable:!0,configurable:!0,writable:!0,value:200});let k=null;class ve{constructor(e,t){Object.defineProperty(this,"_sensor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_element",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_listener",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),this._sensor=function N(){return null===k&&(k=typeof ResizeObserver<"u"?new $:new ce),k}(),this._element=e,this._listener=I.onZoom(t),this._sensor.addTarget(e,t)}isDisposed(){return this._disposed}dispose(){this._disposed||(this._disposed=!0,this._sensor.removeTarget(this._element),this._listener.dispose())}get sensor(){return this._sensor}}var De=z(4889);class Oe extends De.JH{}Object.defineProperty(Oe,"className",{enumerable:!0,configurable:!0,writable:!0,value:"InterfaceColors"}),Object.defineProperty(Oe,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:De.JH.classNames.concat([Oe.className])});var he=z(3232),Me=z(3605),Ge=z(9084),Ke=z(6722),Ce=z(398);function ft(H,e){let t=0,s=0,h=1,f=0,d=0,p=0,A=0,L=0;return H.formatToParts(e).forEach(G=>{switch(G.type){case"year":t=+G.value;break;case"month":s=+G.value-1;break;case"day":h=+G.value;break;case"hour":f=+G.value;break;case"minute":d=+G.value;break;case"second":p=+G.value;break;case"fractionalSecond":A=+G.value;break;case"weekday":switch(G.value){case"Sun":L=0;break;case"Mon":L=1;break;case"Tue":L=2;break;case"Wed":L=3;break;case"Thu":L=4;break;case"Fri":L=5;break;case"Sat":L=6}}}),24===f&&(f=0),{year:t,month:s,day:h,hour:f,minute:d,second:p,millisecond:A,weekday:L}}function zt(H,e){const{year:t,month:s,day:h,hour:f,minute:d,second:p,millisecond:A}=ft(H,e);return Date.UTC(t,s,h,f,d,p,A)}class Ut{constructor(e,t){if(Object.defineProperty(this,"_utc",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_dtf",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),!t)throw new Error("You cannot use `new Class()`, instead use `Class.new()`");this.name=e,this._utc=new Intl.DateTimeFormat("UTC",{hour12:!1,timeZone:"UTC",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",weekday:"short",fractionalSecondDigits:3}),this._dtf=new Intl.DateTimeFormat("UTC",{hour12:!1,timeZone:e,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",weekday:"short",fractionalSecondDigits:3})}static new(e){return new this(e,!0)}convertLocal(e){const t=this.offsetUTC(e),s=e.getTimezoneOffset(),h=new Date(e);h.setUTCMinutes(h.getUTCMinutes()-(t-s));const f=h.getTimezoneOffset();return s!=f&&h.setUTCMinutes(h.getUTCMinutes()+f-s),h}offsetUTC(e){return(zt(this._utc,e)-zt(this._dtf,e))/6e4}parseDate(e){return ft(this._dtf,e)}}var Le=z(2743);class si extends De.JH{_setDefaults(){this._setDefault("capitalize",!0),this._setDefault("dateFormat","yyyy-MM-dd"),super._setDefaults()}_beforeChanged(){super._beforeChanged()}format(e,t){(typeof t>"u"||""===t)&&(t=this.get("dateFormat","yyyy-MM-dd"));let s,h=e;if(Le.isObject(t))try{const p=this.get("intlLocales");return p?new Intl.DateTimeFormat(p,t).format(h):new Intl.DateTimeFormat(void 0,t).format(h)}catch{return"Invalid"}let f=this.parseFormat(t);const d=this._root.timezone;return d&&!this._root.utc&&(h=d.convertLocal(h)),Le.isNumber(h.getTime())?(s=this.applyFormat(h,f),this.get("capitalize")&&(s=s.replace(/^.{1}/,s.substr(0,1).toUpperCase())),s):"Invalid date"}applyFormat(e,t){let h,f,d,p,A,L,G,B,s=t.template,X=e.getTime();this._root.utc?(h=e.getUTCFullYear(),f=e.getUTCMonth(),d=e.getUTCDay(),p=e.getUTCDate(),A=e.getUTCHours(),L=e.getUTCMinutes(),G=e.getUTCSeconds(),B=e.getUTCMilliseconds()):(h=e.getFullYear(),f=e.getMonth(),d=e.getDay(),p=e.getDate(),A=e.getHours(),L=e.getMinutes(),G=e.getSeconds(),B=e.getMilliseconds());for(let M=0,de=t.parts.length;M<de;M++){let T="";switch(t.parts[M]){case"G":T=this._t(h<0?"_era_bc":"_era_ad");break;case"yyyy":T=Math.abs(h).toString(),h<0&&(T+=this._t("_era_bc"));break;case"yyy":case"yy":case"y":T=Math.abs(h).toString().substr(-t.parts[M].length),h<0&&(T+=this._t("_era_bc"));break;case"YYYY":case"YYY":case"YY":case"Y":let le=I.getWeekYear(e,this._root.utc);T="YYYY"==t.parts[M]?Math.abs(le).toString():Math.abs(le).toString().substr(-t.parts[M].length),le<0&&(T+=this._t("_era_bc"));break;case"u":case"F":case"g":break;case"q":T=""+Math.ceil((e.getMonth()+1)/3);break;case"MMMMM":T=this._t(this._getMonth(f)).substr(0,1);break;case"MMMM":T=this._t(this._getMonth(f));break;case"MMM":T=this._t(this._getShortMonth(f));break;case"MM":T=I.padString(f+1,2,"0");break;case"M":T=(f+1).toString();break;case"ww":T=I.padString(I.getWeek(e,this._root.utc),2,"0");break;case"w":T=I.getWeek(e,this._root.utc).toString();break;case"W":T=I.getMonthWeek(e,this._root.utc).toString();break;case"dd":T=I.padString(p,2,"0");break;case"d":T=p.toString();break;case"DD":case"DDD":T=I.padString(I.getYearDay(e,this._root.utc).toString(),t.parts[M].length,"0");break;case"D":T=I.getYearDay(e,this._root.utc).toString();break;case"t":T=this._root.language.translateFunc("_dateOrd").call(this,p);break;case"E":T=(d||7).toString();break;case"EE":T=I.padString((d||7).toString(),2,"0");break;case"EEE":case"eee":T=this._t(this._getShortWeekday(d));break;case"EEEE":case"eeee":T=this._t(this._getWeekday(d));break;case"EEEEE":case"eeeee":T=this._t(this._getShortWeekday(d)).substr(0,1);break;case"e":case"ee":T=(d-(this._root.locale.firstDayOfWeek||1)+1).toString(),"ee"==t.parts[M]&&(T=I.padString(T,2,"0"));break;case"a":T=this._t(A>=12?"PM":"AM");break;case"aa":T=this._t(A>=12?"P.M.":"A.M.");break;case"aaa":T=this._t(A>=12?"P":"A");break;case"h":T=I.get12Hours(A).toString();break;case"hh":T=I.padString(I.get12Hours(A),2,"0");break;case"H":T=A.toString();break;case"HH":T=I.padString(A,2,"0");break;case"K":T=I.get12Hours(A,0).toString();break;case"KK":T=I.padString(I.get12Hours(A,0),2,"0");break;case"k":T=(A+1).toString();break;case"kk":T=I.padString(A+1,2,"0");break;case"m":T=L.toString();break;case"mm":T=I.padString(L,2,"0");break;case"s":T=G.toString();break;case"ss":T=I.padString(G,2,"0");break;case"S":case"SS":case"SSS":T=Math.round(B/1e3*Math.pow(10,t.parts[M].length)).toString();break;case"x":T=X.toString();break;case"n":case"nn":case"nnn":T=I.padString(B,t.parts[M].length,"0");break;case"z":T=I.getTimeZone(e,!1,!1,this._root.utc,this._root.timezone?this._root.timezone.name:void 0).replace(/[+-]+[0-9]+$/,"");break;case"zz":T=I.getTimeZone(e,!0,!1,this._root.utc,this._root.timezone?this._root.timezone.name:void 0);break;case"zzz":T=I.getTimeZone(e,!1,!0,this._root.utc,this._root.timezone?this._root.timezone.name:void 0).replace(/[+-]+[0-9]+$/,"");break;case"zzzz":T=I.getTimeZone(e,!0,!0,this._root.utc,this._root.timezone?this._root.timezone.name:void 0);break;case"Z":case"ZZ":let ne=this._root.utc?"UTC":this._root.timezone;ne instanceof Ut&&(ne=ne.name);const Ee=ne?I.getTimezoneOffset(ne):e.getTimezoneOffset();let we=Math.abs(Ee)/60,pe=Math.floor(we),Be=60*we-60*pe;this._root.utc&&(pe=0,Be=0),"Z"==t.parts[M]?(T="GMT",T+=Ee>0?"-":"+",T+=I.padString(pe,2)+":"+I.padString(Be,2)):(T=Ee>0?"-":"+",T+=I.padString(pe,2)+I.padString(Be,2));break;case"i":T=e.toISOString();break;case"I":T=e.toUTCString()}s=s.replace(Le.PLACEHOLDER,T)}return s}parseFormat(e){let t={template:"",parts:[]},s=Ce.V.chunk(e,!0);for(let h=0;h<s.length;h++){let f=s[h];if("value"===f.type){if(f.text.match(/^date$/i)){let p=this.get("dateFormat","yyyy-MM-dd");Le.isString(p)||(p="yyyy-MM-dd"),f.text=p}let d=f.text.match(/G|yyyy|yyy|yy|y|YYYY|YYY|YY|Y|u|q|MMMMM|MMMM|MMM|MM|M|ww|w|W|dd|d|DDD|DD|D|F|g|EEEEE|EEEE|EEE|EE|E|eeeee|eeee|eee|ee|e|aaa|aa|a|hh|h|HH|H|KK|K|kk|k|mm|m|ss|s|SSS|SS|S|A|zzzz|zzz|zz|z|ZZ|Z|t|x|nnn|nn|n|i|I/g);if(d)for(let p=0;p<d.length;p++)t.parts.push(d[p]),f.text=f.text.replace(d[p],Le.PLACEHOLDER)}t.template+=f.text}return t}_months(){return["January","February","March","April","May","June","July","August","September","October","November","December"]}_getMonth(e){return this._months()[e]}_shortMonths(){return["Jan","Feb","Mar","Apr","May(short)","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}_getShortMonth(e){return this._shortMonths()[e]}_weekdays(){return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}_getWeekday(e){return this._weekdays()[e]}_shortWeekdays(){return["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]}_getShortWeekday(e){return this._shortWeekdays()[e]}parse(e,t){if(e instanceof Date)return e;if(Le.isNumber(e))return new Date(e);if("x"==t)return new Date(parseInt(e));Le.isString(e)||(e=e.toString());let s,h="";t=(t=I.cleanFormat(t)).substr(0,e.length);let f=this.parseFormat(t),d={year:-1,year3:-1,year2:-1,year1:-1,month:-1,monthShort:-1,monthLong:-1,weekdayShort:-1,weekdayLong:-1,day:-1,yearDay:-1,week:-1,hourBase0:-1,hour12Base0:-1,hourBase1:-1,hour12Base1:-1,minute:-1,second:-1,millisecond:-1,millisecondDigits:-1,am:-1,zone:-1,timestamp:-1,iso:-1},p={year:1970,month:0,day:1,hour:0,minute:0,second:0,millisecond:0,timestamp:null,offset:0,utc:this._root.utc},A=0,L=0;for(let X=0;X<f.parts.length;X++){switch(L=X+A+1,f.parts[X]){case"yyyy":case"YYYY":h+="([0-9]{4})",d.year=L;break;case"yyy":case"YYY":h+="([0-9]{3})",d.year3=L;break;case"yy":case"YY":h+="([0-9]{2})",d.year2=L;break;case"y":case"Y":h+="([0-9]{1})",d.year1=L;break;case"MMMM":h+="("+this.getStringList(this._months()).join("|")+")",d.monthLong=L;break;case"MMM":h+="("+this.getStringList(this._shortMonths()).join("|")+")",d.monthShort=L;break;case"MM":case"M":h+="([0-9]{2}|[0-9]{1})",d.month=L;break;case"ww":case"w":h+="([0-9]{2}|[0-9]{1})",d.week=L;break;case"dd":case"d":h+="([0-9]{2}|[0-9]{1})",d.day=L;break;case"DDD":case"DD":case"D":h+="([0-9]{3}|[0-9]{2}|[0-9]{1})",d.yearDay=L;break;case"dddd":h+="("+this.getStringList(this._weekdays()).join("|")+")",d.weekdayLong=L;break;case"ddd":h+="("+this.getStringList(this._shortWeekdays()).join("|")+")",d.weekdayShort=L;break;case"aaa":case"aa":case"a":h+="("+this.getStringList(["AM","PM","A.M.","P.M.","A","P"]).join("|")+")",d.am=L;break;case"hh":case"h":h+="([0-9]{2}|[0-9]{1})",d.hour12Base1=L;break;case"HH":case"H":h+="([0-9]{2}|[0-9]{1})",d.hourBase0=L;break;case"KK":case"K":h+="([0-9]{2}|[0-9]{1})",d.hour12Base0=L;break;case"kk":case"k":h+="([0-9]{2}|[0-9]{1})",d.hourBase1=L;break;case"mm":case"m":h+="([0-9]{2}|[0-9]{1})",d.minute=L;break;case"ss":case"s":h+="([0-9]{2}|[0-9]{1})",d.second=L;break;case"SSS":case"SS":case"S":h+="([0-9]{3}|[0-9]{2}|[0-9]{1})",d.millisecond=L,d.millisecondDigits=f.parts[X].length;break;case"nnn":case"nn":case"n":h+="([0-9]{3}|[0-9]{2}|[0-9]{1})",d.millisecond=L;break;case"x":h+="([0-9]{1,})",d.timestamp=L;break;case"Z":h+="GMT([-+]+[0-9]{2}:[0-9]{2})",d.zone=L;break;case"ZZ":h+="([\\-+]+[0-9]{2}[0-9]{2})",d.zone=L;break;case"i":h+="([0-9]{4})-?([0-9]{2})-?([0-9]{2})T?([0-9]{2}):?([0-9]{2}):?([0-9]{2})\\.?([0-9]{0,3})([zZ]|[+\\-][0-9]{2}:?[0-9]{2}|$)",d.iso=L,A+=7;break;case"G":case"YYYY":case"YYY":case"YY":case"Y":case"MMMMM":case"W":case"EEEEE":case"EEEE":case"EEE":case"EE":case"E":case"eeeee":case"eeee":case"eee":case"ee":case"e":case"zzzz":case"zzz":case"zz":case"z":case"t":A--}h+="[^0-9]*"}let G=new RegExp(h),B=e.match(G);if(B){if(d.year>-1&&(p.year=parseInt(B[d.year])),d.year3>-1){let X=parseInt(B[d.year3]);X+=1e3,p.year=X}if(d.year2>-1){let X=parseInt(B[d.year2]);X+=X>50?1e3:2e3,p.year=X}if(d.year1>-1){let X=parseInt(B[d.year1]);X=10*Math.floor((new Date).getFullYear()/10)+X,p.year=X}if(d.monthLong>-1&&(p.month=this.resolveMonth(B[d.monthLong])),d.monthShort>-1&&(p.month=this.resolveShortMonth(B[d.monthShort])),d.month>-1&&(p.month=parseInt(B[d.month])-1),d.week>-1&&-1===d.day&&(p.month=0,p.day=I.getDayFromWeek(parseInt(B[d.week]),p.year,1,this._root.utc)),d.day>-1&&(p.day=parseInt(B[d.day])),d.yearDay>-1&&(p.month=0,p.day=parseInt(B[d.yearDay])),d.hourBase0>-1&&(p.hour=parseInt(B[d.hourBase0])),d.hourBase1>-1&&(p.hour=parseInt(B[d.hourBase1])-1),d.hour12Base0>-1){let X=parseInt(B[d.hour12Base0]);11==X&&(X=0),d.am>-1&&!this.isAm(B[d.am])&&(X+=12),p.hour=X}if(d.hour12Base1>-1){let X=parseInt(B[d.hour12Base1]);12==X&&(X=0),d.am>-1&&!this.isAm(B[d.am])&&(X+=12),p.hour=X}if(d.minute>-1&&(p.minute=parseInt(B[d.minute])),d.second>-1&&(p.second=parseInt(B[d.second])),d.millisecond>-1){let X=parseInt(B[d.millisecond]);2==d.millisecondDigits?X*=10:1==d.millisecondDigits&&(X*=100),p.millisecond=X}if(d.timestamp>-1){p.timestamp=parseInt(B[d.timestamp]);const X=new Date(p.timestamp);p.year=X.getUTCFullYear(),p.month=X.getUTCMonth(),p.day=X.getUTCDate(),p.hour=X.getUTCHours(),p.minute=X.getUTCMinutes(),p.second=X.getUTCSeconds(),p.millisecond=X.getUTCMilliseconds()}d.zone>-1&&(p.offset=this.resolveTimezoneOffset(new Date(p.year,p.month,p.day),B[d.zone])),d.iso>-1&&(p.year=Le.toNumber(B[d.iso+0]),p.month=Le.toNumber(B[d.iso+1])-1,p.day=Le.toNumber(B[d.iso+2]),p.hour=Le.toNumber(B[d.iso+3]),p.minute=Le.toNumber(B[d.iso+4]),p.second=Le.toNumber(B[d.iso+5]),p.millisecond=Le.toNumber(B[d.iso+6]),"Z"==B[d.iso+7]||"z"==B[d.iso+7]?p.utc=!0:""!=B[d.iso+7]&&(p.offset=this.resolveTimezoneOffset(new Date(p.year,p.month,p.day),B[d.iso+7]))),s=p.utc?new Date(Date.UTC(p.year,p.month,p.day,p.hour,p.minute,p.second,p.millisecond)):new Date(p.year,p.month,p.day,p.hour,p.minute+p.offset,p.second,p.millisecond)}else s=new Date(e);return s}resolveTimezoneOffset(e,t){if(t.match(/([+\-]?)([0-9]{2}):?([0-9]{2})/)){let h=t.match(/([+\-]?)([0-9]{2}):?([0-9]{2})/),f=h[1],p=h[3],A=60*parseInt(h[2])+parseInt(p);return"+"==f&&(A*=-1),A-(e||new Date).getTimezoneOffset()}return 0}resolveMonth(e){let t=this._months().indexOf(e);return t>-1||!this._root.language.isDefault()&&(t=this._root.language.translateAll(this._months()).indexOf(e),t>-1)?t:0}resolveShortMonth(e){let t=this._shortMonths().indexOf(e);return t>-1||(t=this._months().indexOf(e),t>-1)||this._root.language&&!this._root.language.isDefault()&&(t=this._root.language.translateAll(this._shortMonths()).indexOf(e),t>-1)?t:0}isAm(e){return this.getStringList(["AM","A.M.","A"]).indexOf(e.toUpperCase())>-1}getStringList(e){let t=[];for(let s=0;s<e.length;s++)t.push(I.escapeForRgex(this._root.language?this._t(e[s]):e[s]));return t}}var Je=z(8148);class ke extends De.JH{constructor(){super(...arguments),Object.defineProperty(this,"_unitAliases",{enumerable:!0,configurable:!0,writable:!0,value:{Y:"y",D:"d",H:"h",K:"h",k:"h",n:"S"}})}_setDefaults(){const e="_duration_millisecond",t="_duration_second",s="_duration_minute",h="_duration_hour",f="_duration_day",d="_duration_week",p="_duration_month",G="_minute",B="_hour",X="_day",M="_week",de="_week",T="_year";this._setDefault("negativeBase",0),this._setDefault("baseUnit","second"),this._setDefault("durationFormats",{millisecond:{millisecond:this._t(e),second:this._t(e+"_second"),minute:this._t(e+G),hour:this._t(e+B),day:this._t(e+X),week:this._t(e+M),month:this._t(e+de),year:this._t(e+T)},second:{second:this._t(t),minute:this._t(t+G),hour:this._t(t+B),day:this._t(t+X),week:this._t(t+M),month:this._t(t+de),year:this._t(t+T)},minute:{minute:this._t(s),hour:this._t(s+B),day:this._t(s+X),week:this._t(s+M),month:this._t(s+de),year:this._t(s+T)},hour:{hour:this._t(h),day:this._t(h+X),week:this._t(h+M),month:this._t(h+de),year:this._t(h+T)},day:{day:this._t(f),week:this._t(f+M),month:this._t(f+de),year:this._t(f+T)},week:{week:this._t(d),month:this._t(d+de),year:this._t(d+T)},month:{month:this._t(p),year:this._t(p+T)},year:{year:this._t("_duration_year")}}),super._setDefaults()}_beforeChanged(){super._beforeChanged()}format(e,t,s){let h=s||this.get("baseUnit");(typeof t>"u"||""===t)&&(t=null!=this.get("durationFormat")?this.get("durationFormat"):this.getFormat(Le.toNumber(e),void 0,h)),t=I.cleanFormat(t);let p,f=this.parseFormat(t,h),d=Number(e);p=d>this.get("negativeBase")?f.positive:d<this.get("negativeBase")?f.negative:f.zero;let A=this.applyFormat(d,p);return""!==p.color&&(A="["+p.color+"]"+A+"[/]"),A}parseFormat(e,t){let s=t||this.get("baseUnit"),h={positive:{color:"",template:"",parts:[],source:"",baseUnit:s,parsed:!1,absolute:!1},negative:{color:"",template:"",parts:[],source:"",baseUnit:s,parsed:!1,absolute:!1},zero:{color:"",template:"",parts:[],source:"",baseUnit:s,parsed:!1,absolute:!1}},f=(e=e.replace("||",Le.PLACEHOLDER2)).split("|");return h.positive.source=f[0],typeof f[2]>"u"?h.zero=h.positive:h.zero.source=f[2],typeof f[1]>"u"?h.negative=h.positive:h.negative.source=f[1],Je.each(h,(d,p)=>{if(p.parsed)return;let A=p.source,L=[];L=p.source.match(/^\[([^\]]*)\]/),L&&L.length&&""!==L[0]&&(A=p.source.substr(L[0].length),p.color=L[1]);let G=Ce.V.chunk(A,!0);for(let B=0;B<G.length;B++){let X=G[B];if(X.text=X.text.replace(Le.PLACEHOLDER2,"|"),"value"===X.type){X.text.match(/[yYMdDwhHKkmsSn]+a/)&&(p.absolute=!0,X.text=X.text.replace(/([yYMdDwhHKkmsSn]+)a/,"$1"));let M=X.text.match(/y+|Y+|M+|d+|D+|w+|h+|H+|K+|k+|m+|s+|S+|n+/g);if(M)for(let de=0;de<M.length;de++)null==M[de]&&(M[de]=this._unitAliases[M[de]]),p.parts.push(M[de]),X.text=X.text.replace(M[de],Le.PLACEHOLDER)}p.template+=X.text}p.parsed=!0}),h}applyFormat(e,t){let s=!t.absolute&&e<this.get("negativeBase");e=Math.abs(e);let h=this.toTimeStamp(e,t.baseUnit),f=t.template;for(let d=0,p=t.parts.length;d<p;d++){let A=t.parts[d],L=this._toTimeUnit(A.substr(0,1)),G=A.length,B=Math.floor(h/this._getUnitValue(L));f=f.replace(Le.PLACEHOLDER,I.padString(B,G,"0")),h-=B*this._getUnitValue(L)}return s&&(f="-"+f),f}toTimeStamp(e,t){return e*this._getUnitValue(t)}_toTimeUnit(e){switch(e){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year"}}getFormat(e,t,s){if(null!=this.get("durationFormat"))return this.get("durationFormat");if(s||(s=this.get("baseUnit")),null!=t&&e!=t){e=Math.abs(e),t=Math.abs(t);let h=this.getValueUnit(Math.max(e,t),s);return this.get("durationFormats")[s][h]}{let h=this.getValueUnit(e,s);return this.get("durationFormats")[s][h]}}getValueUnit(e,t){t||(t=this.get("baseUnit"));let s,h=this.getMilliseconds(e,t);return Je.eachContinue(this._getUnitValues(),(f,d)=>{if(f==t||s){if(h/d<=1)return s||(s=f),!1;s=f}return!0}),s}getMilliseconds(e,t){return t||(t=this.get("baseUnit")),e*this._getUnitValue(t)}_getUnitValue(e){return this._getUnitValues()[e]}_getUnitValues(){return{millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:2592e6,year:31536e6}}}var yi=z(7551);class gt extends De.JH{_setDefaults(){this.setPrivate("defaultLocale",yi.default),super._setDefaults()}translate(e,t,...s){t||(t=this._root.locale||this.getPrivate("defaultLocale"));let h=e,f=t[e];if(null===f)h="";else if(null!=f)f&&(h=f);else if(t!==this.getPrivate("defaultLocale"))return this.translate(e,this.getPrivate("defaultLocale"),...s);if(s.length)for(let d=s.length,p=0;p<d;++p)h=h.split("%"+(p+1)).join(s[p]);return h}translateAny(e,t,...s){return this.translate(e,t,...s)}setTranslationAny(e,t,s){(s||this._root.locale)[e]=t}setTranslationsAny(e,t){Je.each(e,(s,h)=>{this.setTranslationAny(s,h,t)})}translateEmpty(e,t,...s){let h=this.translate(e,t,...s);return h==e?"":h}translateFunc(e,t){return this._root.locale[e]?this._root.locale[e]:t!==this.getPrivate("defaultLocale")?this.translateFunc(e,this.getPrivate("defaultLocale")):()=>""}translateAll(e,t){return this.isDefault()?e:S.map(e,s=>this.translate(s,t))}isDefault(){return this.getPrivate("defaultLocale")===this._root.locale}}var di=z(3895),nr=z(2231),Rt=z(4686),pt=z(796);class ut{constructor(e=1,t=0,s=0,h=1,f=0,d=0){Object.defineProperty(this,"a",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"b",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"c",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"d",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tx",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"ty",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.a=e,this.b=t,this.c=s,this.d=h,this.tx=f,this.ty=d}setTransform(e,t,s,h,f,d=1){this.a=Math.cos(f)*d,this.b=Math.sin(f)*d,this.c=-Math.sin(f)*d,this.d=Math.cos(f)*d,this.tx=e-(s*this.a+h*this.c),this.ty=t-(s*this.b+h*this.d)}apply(e){return{x:this.a*e.x+this.c*e.y+this.tx,y:this.b*e.x+this.d*e.y+this.ty}}applyInverse(e){const t=1/(this.a*this.d+this.c*-this.b);return{x:this.d*t*e.x+-this.c*t*e.y+(this.ty*this.c-this.tx*this.d)*t,y:this.a*t*e.y+-this.b*t*e.x+(-this.ty*this.a+this.tx*this.b)*t}}append(e){const t=this.a,s=this.b,h=this.c,f=this.d;this.a=e.a*t+e.b*h,this.b=e.a*s+e.b*f,this.c=e.c*t+e.d*h,this.d=e.c*s+e.d*f,this.tx=e.tx*t+e.ty*h+this.tx,this.ty=e.tx*s+e.ty*f+this.ty}prepend(e){const t=this.tx;if(1!==e.a||0!==e.b||0!==e.c||1!==e.d){const s=this.a,h=this.c;this.a=s*e.a+this.b*e.c,this.b=s*e.b+this.b*e.d,this.c=h*e.a+this.d*e.c,this.d=h*e.b+this.d*e.d}this.tx=t*e.a+this.ty*e.c+e.tx,this.ty=t*e.b+this.ty*e.d+e.ty}copyFrom(e){this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty}}var Ze=z(7039),mt=z(9472),Di=2*Math.PI,ar=function(e,t,s,h,f,d,p){var A=e.x,L=e.y;return{x:h*(A*=t)-f*(L*=s)+d,y:f*A+h*L+p}},ni=function(e,t){var s=1.5707963267948966===t?.551915024494:-1.5707963267948966===t?-.551915024494:1.3333333333333333*Math.tan(t/4),h=Math.cos(e),f=Math.sin(e),d=Math.cos(e+t),p=Math.sin(e+t);return[{x:h-f*s,y:f+h*s},{x:d+p*s,y:p-d*s},{x:d,y:p}]},or=function(e,t,s,h){var d=e*s+t*h;return d>1&&(d=1),d<-1&&(d=-1),(e*h-t*s<0?-1:1)*Math.acos(d)};const ti=function(e){var t=e.px,s=e.py,h=e.cx,f=e.cy,d=e.rx,p=e.ry,A=e.xAxisRotation,L=void 0===A?0:A,G=e.largeArcFlag,B=void 0===G?0:G,X=e.sweepFlag,M=void 0===X?0:X,de=[];if(0===d||0===p)return[];var T=Math.sin(L*Di/360),le=Math.cos(L*Di/360),ne=le*(t-h)/2+T*(s-f)/2,Ee=-T*(t-h)/2+le*(s-f)/2;if(0===ne&&0===Ee)return[];d=Math.abs(d),p=Math.abs(p);var we=Math.pow(ne,2)/Math.pow(d,2)+Math.pow(Ee,2)/Math.pow(p,2);we>1&&(d*=Math.sqrt(we),p*=Math.sqrt(we));var pe=function(e,t,s,h,f,d,p,A,L,G,B,X){var M=Math.pow(f,2),de=Math.pow(d,2),T=Math.pow(B,2),le=Math.pow(X,2),ne=M*de-M*le-de*T;ne<0&&(ne=0),ne/=M*le+de*T;var Ee=(ne=Math.sqrt(ne)*(p===A?-1:1))*f/d*X,we=ne*-d/f*B,pe=G*Ee-L*we+(e+s)/2,Be=L*Ee+G*we+(t+h)/2,_t=(B-Ee)/f,ot=(X-we)/d,vt=(-B-Ee)/f,Ct=(-X-we)/d,He=or(1,0,_t,ot),tt=or(_t,ot,vt,Ct);return 0===A&&tt>0&&(tt-=Di),1===A&&tt<0&&(tt+=Di),[pe,Be,He,tt]}(t,s,h,f,d,p,B,M,T,le,ne,Ee),Be=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function H(e,t){var s=[],h=!0,f=!1,d=void 0;try{for(var A,p=e[Symbol.iterator]();!(h=(A=p.next()).done)&&(s.push(A.value),!t||s.length!==t);h=!0);}catch(L){f=!0,d=L}finally{try{!h&&p.return&&p.return()}finally{if(f)throw d}}return s}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}(pe,4),_t=Be[0],ot=Be[1],vt=Be[2],Ct=Be[3],He=Math.abs(Ct)/(Di/4);Math.abs(1-He)<1e-7&&(He=1);var tt=Math.max(Math.ceil(He),1);Ct/=tt;for(var dt=0;dt<tt;dt++)de.push(ni(vt,Ct)),vt+=Ct;return de.map(function(je){var $e=ar(je[0],d,p,le,T,_t,ot),yt=$e.x,pi=$e.y,it=ar(je[1],d,p,le,T,_t,ot),At=it.x,Vt=it.y,$t=ar(je[2],d,p,le,T,_t,ot);return{x1:yt,y1:pi,x2:At,y2:Vt,x:$t.x,y:$t.y}})};function _i(H,e,t){if(e!==t)throw new Error("Required "+t+" arguments for "+H+" but got "+e)}function Xt(H,e,t){if(e<t)throw new Error("Required at least "+t+" arguments for "+H+" but got "+e)}function It(H,e,t){if(Xt(H,e,t),e%t!=0)throw new Error("Arguments for "+H+" must be in pairs of "+t)}function Ai(H){for(let e=0;e<H.length;e+=7){let t=e+3,s=H[t];if(s.length>1){const h=/^([01])([01])(.*)$/.exec(s);null!==h&&(H.splice(t,0,h[1]),++t,H.splice(t,0,h[2]),++t,h[3].length>0?H[t]=h[3]:H.splice(t,1))}if(++t,s=H[t],s.length>1){const h=/^([01])(.+)$/.exec(s);null!==h&&(H.splice(t,0,h[1]),++t,H[t]=h[2])}}}function Ui(H){if(0===H||1===H)return H;throw new Error("Flag must be 0 or 1")}function Mi(H,e){for(;(!H.interactive||e(H))&&H._parent;)H=H._parent}function jt(H,e,t){return I.addEventListener(H,I.getRendererEvent(e),s=>{const h=I.getEventTarget(s);let f=s.touches;f?(0==f.length&&(f=s.changedTouches),t(S.copy(f),h)):t([s],h)})}function gr(H){const e=document.createElement("canvas");e.width=1,e.height=1;const t=e.getContext("2d",{willReadFrequently:!0});t.drawImage(H,0,0,1,1);try{return t.getImageData(0,0,1,1),!1}catch{return console.warn('Image "'+H.src+'" is loaded from different host and is not covered by CORS policy. For more information about the implications read here: https://www.amcharts.com/docs/v5/concepts/cors'),!0}}function ki(H){H.width=0,H.height=0,H.style.width="0px",H.style.height="0px"}function Ti(H){return Math.floor(H)+.5}class pr{constructor(){Object.defineProperty(this,"_x",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_y",{enumerable:!0,configurable:!0,writable:!0,value:0})}get x(){return this._x}get y(){return this._y}set x(e){this._x=e}set y(e){this._y=e}}class Ei extends ae.KK{constructor(e){super(),Object.defineProperty(this,"_layer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"mask",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"visible",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"exportable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"interactive",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"inactive",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"wheelable",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"cancelTouch",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"isMeasured",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"buttonMode",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"alpha",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"compoundAlpha",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"angle",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"scale",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"crisp",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"pivot",{enumerable:!0,configurable:!0,writable:!0,value:new pr}),Object.defineProperty(this,"filter",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cursorOverStyle",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_replacedCursorStyle",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_localMatrix",{enumerable:!0,configurable:!0,writable:!0,value:new ut}),Object.defineProperty(this,"_matrix",{enumerable:!0,configurable:!0,writable:!0,value:new ut}),Object.defineProperty(this,"_uMatrix",{enumerable:!0,configurable:!0,writable:!0,value:new ut}),Object.defineProperty(this,"_renderer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_parent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_localBounds",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_bounds",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_colorId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._renderer=e}subStatus(e){return{inactive:null==this.inactive?e.inactive:this.inactive,layer:this._layer||e.layer}}_dispose(){this._renderer._removeObject(this),this.getLayer().dirty=!0}getCanvas(){return this.getLayer().view}getLayer(){let e=this;for(;;){if(e._layer)return e._layer;if(!e._parent)return this._renderer.defaultLayer;e=e._parent}}setLayer(e,t){null==e?this._layer=void 0:(this._layer=this._renderer.getLayer(e,!0),this._layer.visible=!0,this._layer.margin=t,t&&I.setInteractive(this._layer.view,!1),this._renderer._ghostLayer.setMargin(this._renderer.layers),this._parent&&this._parent.registerChildLayer(this._layer),this._layer.dirty=!0,this._renderer.resizeLayer(this._layer),this._renderer.resizeGhost())}markDirtyLayer(){this.getLayer().dirty=!0}clear(){this.invalidateBounds()}invalidateBounds(){this._localBounds=void 0}_addBounds(e){}_getColorId(){return void 0===this._colorId&&(this._colorId=this._renderer.paintId(this)),this._colorId}_isInteractive(e){return!e.inactive&&(this.interactive||this._renderer._forceInteractive>0)}_isInteractiveMask(e){return this._isInteractive(e)}contains(e){for(;;){if(e===this)return!0;if(!e._parent)return!1;e=e._parent}}toGlobal(e){return this._matrix.apply(e)}toLocal(e){return this._matrix.applyInverse(e)}getLocalMatrix(){return this._uMatrix.setTransform(0,0,this.pivot.x,this.pivot.y,this.angle*Math.PI/180,this.scale),this._uMatrix}getLocalBounds(){return this._localBounds||(this._localBounds={left:1e7,top:1e7,right:-1e7,bottom:-1e7},this._addBounds(this._localBounds)),this._localBounds}getAdjustedBounds(e){this._setMatrix();const t=this.getLocalMatrix(),s=t.apply({x:e.left,y:e.top}),h=t.apply({x:e.right,y:e.top}),f=t.apply({x:e.right,y:e.bottom}),d=t.apply({x:e.left,y:e.bottom});return{left:Math.min(s.x,h.x,f.x,d.x),top:Math.min(s.y,h.y,f.y,d.y),right:Math.max(s.x,h.x,f.x,d.x),bottom:Math.max(s.y,h.y,f.y,d.y)}}on(e,t,s){return this.interactive?this._renderer._addEvent(this,e,t,s):new ae.ku(()=>{})}_setMatrix(){this._localMatrix.setTransform(this.x,this.y,this.pivot.x,this.pivot.y,this.angle*Math.PI/180,this.scale),this._matrix.copyFrom(this._localMatrix),this._parent&&this._matrix.prepend(this._parent._matrix)}_transform(e,t){const s=this._matrix;let h=s.tx*t,f=s.ty*t;this.crisp&&(h=Ti(h),f=Ti(f)),e.setTransform(s.a*t,s.b*t,s.c*t,s.d*t,h,f)}_transformMargin(e,t,s){const h=this._matrix;e.setTransform(h.a*t,h.b*t,h.c*t,h.d*t,(h.tx+s.left)*t,(h.ty+s.top)*t)}_transformLayer(e,t,s){s.margin?this._transformMargin(e,s.scale||t,s.margin):this._transform(e,s.scale||t)}render(e){if(this.visible&&(!1!==this.exportable||!this._renderer._omitTainted)){this._setMatrix();const t=this.subStatus(e),s=this._renderer.resolution,h=this._renderer.layers,f=this._renderer._ghostLayer,d=f.context,p=this.mask;p&&p._setMatrix(),S.each(h,A=>{if(A){const L=A.context;L.save(),p&&(p._transformLayer(L,s,A),p._runPath(L),L.clip()),L.globalAlpha=this.compoundAlpha*this.alpha,this._transformLayer(L,s,A),this.filter&&(L.filter=this.filter)}}),d.save(),p&&this._isInteractiveMask(t)&&(p._transformMargin(d,s,f.margin),p._runPath(d),d.clip()),this._transformMargin(d,s,f.margin),this._render(t),d.restore(),S.each(h,A=>{A&&A.context.restore()})}}_render(e){!1===this.exportable&&(e.layer.tainted=!0)}hovering(){return this._renderer._hovering.has(this)}dragging(){return this._renderer._dragging.some(e=>e.value===this)}shouldCancelTouch(){const e=this._renderer;return!(e.tapToActivate&&!e._touchActive)&&(!!this.cancelTouch||!!this._parent&&this._parent.shouldCancelTouch())}}class Si extends Ei{constructor(){super(...arguments),Object.defineProperty(this,"interactiveChildren",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"_childLayers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_children",{enumerable:!0,configurable:!0,writable:!0,value:[]})}_isInteractiveMask(e){return this.interactiveChildren||super._isInteractiveMask(e)}addChild(e){e._parent=this,this._children.push(e),e._layer&&this.registerChildLayer(e._layer)}addChildAt(e,t){e._parent=this,this._children.splice(t,0,e),e._layer&&this.registerChildLayer(e._layer)}removeChild(e){e._parent=void 0,S.removeFirst(this._children,e)}_render(e){super._render(e);const t=this._renderer;this.interactive&&this.interactiveChildren&&++t._forceInteractive,S.each(this._children,s=>{s.compoundAlpha=this.compoundAlpha*this.alpha,s.render(e)}),this.interactive&&this.interactiveChildren&&--t._forceInteractive}registerChildLayer(e){this._childLayers||(this._childLayers=[]),S.pushOne(this._childLayers,e),this._parent&&this._parent.registerChildLayer(e)}markDirtyLayer(e=!1){super.markDirtyLayer(),e&&this._childLayers&&S.each(this._childLayers,t=>t.dirty=!0)}_dispose(){super._dispose(),this._childLayers&&S.each(this._childLayers,e=>{e.dirty=!0})}}function bt(H,e){H.left=Math.min(H.left,e.x),H.top=Math.min(H.top,e.y),H.right=Math.max(H.right,e.x),H.bottom=Math.max(H.bottom,e.y)}class nt{colorize(e,t){}colorizeGhost(e,t){this.colorize(e,t)}path(e){}pathGhost(e){this.path(e)}addBounds(e){}}class Mr extends nt{colorize(e,t){e.beginPath()}}class Li extends nt{constructor(e){super(),Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,writable:!0,value:e})}colorize(e,t){e.fillStyle=void 0!==t?t:this.color}}class Rr extends nt{constructor(e){super(),Object.defineProperty(this,"clearShadow",{enumerable:!0,configurable:!0,writable:!0,value:e})}colorize(e,t){e.fill(),this.clearShadow&&(e.shadowColor="",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}}class Hi extends nt{colorize(e,t){e.stroke()}}class lr extends nt{constructor(e,t,s){super(),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"lineJoin",{enumerable:!0,configurable:!0,writable:!0,value:s})}colorize(e,t){e.strokeStyle=void 0!==t?t:this.color,e.lineWidth=this.width,this.lineJoin&&(e.lineJoin=this.lineJoin)}}class Vi extends nt{constructor(e){super(),Object.defineProperty(this,"dash",{enumerable:!0,configurable:!0,writable:!0,value:e})}colorize(e,t){e.setLineDash(this.dash)}}class Ri extends nt{constructor(e){super(),Object.defineProperty(this,"dashOffset",{enumerable:!0,configurable:!0,writable:!0,value:e})}colorize(e,t){e.lineDashOffset=this.dashOffset}}class mr extends nt{constructor(e,t,s,h){super(),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,writable:!0,value:h})}path(e){e.rect(this.x,this.y,this.width,this.height)}addBounds(e){const t=this.x,s=this.y,h=t+this.width,f=s+this.height;bt(e,{x:t,y:s}),bt(e,{x:h,y:s}),bt(e,{x:t,y:f}),bt(e,{x:h,y:f})}}class ur extends nt{constructor(e,t,s){super(),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"radius",{enumerable:!0,configurable:!0,writable:!0,value:s})}path(e){e.moveTo(this.x+this.radius,this.y),e.arc(this.x,this.y,this.radius,0,2*Math.PI)}addBounds(e){bt(e,{x:this.x-this.radius,y:this.y-this.radius}),bt(e,{x:this.x+this.radius,y:this.y+this.radius})}}class br extends nt{constructor(e,t,s,h){super(),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"radiusX",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.defineProperty(this,"radiusY",{enumerable:!0,configurable:!0,writable:!0,value:h})}path(e){e.ellipse(0,0,this.radiusX,this.radiusY,0,0,2*Math.PI)}addBounds(e){bt(e,{x:this.x-this.radiusX,y:this.y-this.radiusY}),bt(e,{x:this.x+this.radiusX,y:this.y+this.radiusY})}}class yr extends nt{constructor(e,t,s,h,f,d){super(),Object.defineProperty(this,"cx",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"cy",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"radius",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.defineProperty(this,"startAngle",{enumerable:!0,configurable:!0,writable:!0,value:h}),Object.defineProperty(this,"endAngle",{enumerable:!0,configurable:!0,writable:!0,value:f}),Object.defineProperty(this,"anticlockwise",{enumerable:!0,configurable:!0,writable:!0,value:d})}path(e){this.radius>0&&e.arc(this.cx,this.cy,this.radius,this.startAngle,this.endAngle,this.anticlockwise)}addBounds(e){let t=mt.getArcBounds(this.cx,this.cy,this.startAngle*mt.DEGREES,this.endAngle*mt.DEGREES,this.radius);bt(e,{x:t.left,y:t.top}),bt(e,{x:t.right,y:t.bottom})}}class _r extends nt{constructor(e,t,s,h,f){super(),Object.defineProperty(this,"x1",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"y1",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"x2",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.defineProperty(this,"y2",{enumerable:!0,configurable:!0,writable:!0,value:h}),Object.defineProperty(this,"radius",{enumerable:!0,configurable:!0,writable:!0,value:f})}path(e){this.radius>0&&e.arcTo(this.x1,this.y1,this.x2,this.y2,this.radius)}addBounds(e){}}class vr extends nt{constructor(e,t){super(),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:t})}path(e){e.lineTo(this.x,this.y)}addBounds(e){bt(e,{x:this.x,y:this.y})}}class Wi extends nt{constructor(e,t){super(),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:t})}path(e){e.moveTo(this.x,this.y)}addBounds(e){bt(e,{x:this.x,y:this.y})}}class Zi extends nt{path(e){e.closePath()}}class Qi extends nt{constructor(e,t,s,h,f,d){super(),Object.defineProperty(this,"cpX",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"cpY",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"cpX2",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.defineProperty(this,"cpY2",{enumerable:!0,configurable:!0,writable:!0,value:h}),Object.defineProperty(this,"toX",{enumerable:!0,configurable:!0,writable:!0,value:f}),Object.defineProperty(this,"toY",{enumerable:!0,configurable:!0,writable:!0,value:d})}path(e){e.bezierCurveTo(this.cpX,this.cpY,this.cpX2,this.cpY2,this.toX,this.toY)}addBounds(e){bt(e,{x:this.cpX,y:this.cpY}),bt(e,{x:this.cpX2,y:this.cpY2}),bt(e,{x:this.toX,y:this.toY})}}class xr extends nt{constructor(e,t,s,h){super(),Object.defineProperty(this,"cpX",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"cpY",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"toX",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.defineProperty(this,"toY",{enumerable:!0,configurable:!0,writable:!0,value:h})}path(e){e.quadraticCurveTo(this.cpX,this.cpY,this.toX,this.toY)}addBounds(e){bt(e,{x:this.cpX,y:this.cpY}),bt(e,{x:this.toX,y:this.toY})}}class $i extends nt{constructor(e,t,s,h,f){super(),Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"blur",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"offsetX",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.defineProperty(this,"offsetY",{enumerable:!0,configurable:!0,writable:!0,value:h}),Object.defineProperty(this,"opacity",{enumerable:!0,configurable:!0,writable:!0,value:f})}colorize(e,t){this.opacity&&(e.fillStyle=this.color),e.shadowColor=this.color,e.shadowBlur=this.blur,e.shadowOffsetX=this.offsetX,e.shadowOffsetY=this.offsetY}colorizeGhost(e,t){}}class Ci extends nt{constructor(e,t,s,h,f){super(),Object.defineProperty(this,"image",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:h}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:f})}path(e){e.drawImage(this.image,this.x,this.y,this.width,this.height)}addBounds(e){bt(e,{x:this.x,y:this.y}),bt(e,{x:this.width,y:this.height})}}class Ii extends Ei{constructor(){super(...arguments),Object.defineProperty(this,"_operations",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"blendMode",{enumerable:!0,configurable:!0,writable:!0,value:Rt.b.NORMAL}),Object.defineProperty(this,"_hasShadows",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_fillAlpha",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_strokeAlpha",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}clear(){super.clear(),this._operations.length=0}_pushOp(e){this._operations.push(e)}beginFill(e,t=1){this._fillAlpha=t,e?e instanceof pt.Il?this._pushOp(new Li(e.toCSS(t))):(this.isMeasured=!0,this._pushOp(new Li(e))):this._pushOp(new Li("rgba(0, 0, 0, "+t+")"))}endFill(){this._pushOp(new Rr(this._hasShadows))}endStroke(){this._pushOp(new Hi)}beginPath(){this._pushOp(new Mr)}lineStyle(e=0,t,s=1,h){this._strokeAlpha=s,this._pushOp(new lr(e,t?t instanceof pt.Il?t.toCSS(s):t:"rgba(0, 0, 0, "+s+")",h))}setLineDash(e){this._pushOp(new Vi(e||[]))}setLineDashOffset(e=0){this._pushOp(new Ri(e))}drawRect(e,t,s,h){this._pushOp(new mr(e,t,s,h))}drawCircle(e,t,s){this._pushOp(new ur(e,t,s))}drawEllipse(e,t,s,h){this._pushOp(new br(e,t,s,h))}arc(e,t,s,h,f,d=!1){this._pushOp(new yr(e,t,s,h,f,d))}arcTo(e,t,s,h,f){this._pushOp(new _r(e,t,s,h,f))}lineTo(e,t){this._pushOp(new vr(e,t))}moveTo(e,t){this._pushOp(new Wi(e,t))}bezierCurveTo(e,t,s,h,f,d){this._pushOp(new Qi(e,t,s,h,f,d))}quadraticCurveTo(e,t,s,h){this._pushOp(new xr(e,t,s,h))}closePath(){this._pushOp(new Zi)}shadow(e,t=0,s=0,h=0,f){this._hasShadows=!0,this._pushOp(new $i(e.toCSS(f||this._fillAlpha||this._strokeAlpha),t,s,h))}image(e,t,s,h,f){this._pushOp(new Ci(e,t,s,h,f))}svgPath(e){let t=0,s=0,h=null,f=null,d=null,p=null;const A=/([MmZzLlHhVvCcSsQqTtAa])([^MmZzLlHhVvCcSsQqTtAa]*)/g,L=/[\u0009\u0020\u000A\u000C\u000D]*([\+\-]?[0-9]*\.?[0-9]+(?:[eE][\+\-]?[0-9]+)?)[\u0009\u0020\u000A\u000C\u000D]*,?/g;let G;for(;null!==(G=A.exec(e));){const B=G[1],X=G[2],M=[];for(;null!==(G=L.exec(X));)M.push(G[1]);switch("S"!==B&&"s"!==B&&"C"!==B&&"c"!==B&&(h=null,f=null),"Q"!==B&&"q"!==B&&"T"!==B&&"t"!==B&&(d=null,p=null),B){case"M":It(B,M.length,2),t=+M[0],s=+M[1],this.moveTo(t,s);for(let T=2;T<M.length;T+=2)t=+M[T],s=+M[T+1],this.lineTo(t,s);break;case"m":It(B,M.length,2),t+=+M[0],s+=+M[1],this.moveTo(t,s);for(let T=2;T<M.length;T+=2)t+=+M[T],s+=+M[T+1],this.lineTo(t,s);break;case"L":It(B,M.length,2);for(let T=0;T<M.length;T+=2)t=+M[T],s=+M[T+1],this.lineTo(t,s);break;case"l":It(B,M.length,2);for(let T=0;T<M.length;T+=2)t+=+M[T],s+=+M[T+1],this.lineTo(t,s);break;case"H":Xt(B,M.length,1);for(let T=0;T<M.length;++T)t=+M[T],this.lineTo(t,s);break;case"h":Xt(B,M.length,1);for(let T=0;T<M.length;++T)t+=+M[T],this.lineTo(t,s);break;case"V":Xt(B,M.length,1);for(let T=0;T<M.length;++T)s=+M[T],this.lineTo(t,s);break;case"v":Xt(B,M.length,1);for(let T=0;T<M.length;++T)s+=+M[T],this.lineTo(t,s);break;case"C":It(B,M.length,6);for(let T=0;T<M.length;T+=6)h=+M[T+2],f=+M[T+3],t=+M[T+4],s=+M[T+5],this.bezierCurveTo(+M[T],+M[T+1],h,f,t,s);break;case"c":It(B,M.length,6);for(let T=0;T<M.length;T+=6){const le=+M[T]+t,ne=+M[T+1]+s;h=+M[T+2]+t,f=+M[T+3]+s,t+=+M[T+4],s+=+M[T+5],this.bezierCurveTo(le,ne,h,f,t,s)}break;case"S":It(B,M.length,4),(null===h||null===f)&&(h=t,f=s);for(let T=0;T<M.length;T+=4){const le=2*t-h,ne=2*s-f;h=+M[T],f=+M[T+1],t=+M[T+2],s=+M[T+3],this.bezierCurveTo(le,ne,h,f,t,s)}break;case"s":It(B,M.length,4),(null===h||null===f)&&(h=t,f=s);for(let T=0;T<M.length;T+=4){const le=2*t-h,ne=2*s-f;h=+M[T]+t,f=+M[T+1]+s,t+=+M[T+2],s+=+M[T+3],this.bezierCurveTo(le,ne,h,f,t,s)}break;case"Q":It(B,M.length,4);for(let T=0;T<M.length;T+=4)d=+M[T],p=+M[T+1],t=+M[T+2],s=+M[T+3],this.quadraticCurveTo(d,p,t,s);break;case"q":It(B,M.length,4);for(let T=0;T<M.length;T+=4)d=+M[T]+t,p=+M[T+1]+s,t+=+M[T+2],s+=+M[T+3],this.quadraticCurveTo(d,p,t,s);break;case"T":It(B,M.length,2),(null===d||null===p)&&(d=t,p=s);for(let T=0;T<M.length;T+=2)d=2*t-d,p=2*s-p,t=+M[T],s=+M[T+1],this.quadraticCurveTo(d,p,t,s);break;case"t":It(B,M.length,2),(null===d||null===p)&&(d=t,p=s);for(let T=0;T<M.length;T+=2)d=2*t-d,p=2*s-p,t+=+M[T],s+=+M[T+1],this.quadraticCurveTo(d,p,t,s);break;case"A":case"a":const de="a"===B;Ai(M),It(B,M.length,7);for(let T=0;T<M.length;T+=7){let le=+M[T+5],ne=+M[T+6];de&&(le+=t,ne+=s);const Ee=ti({px:t,py:s,rx:+M[T],ry:+M[T+1],xAxisRotation:+M[T+2],largeArcFlag:Ui(+M[T+3]),sweepFlag:Ui(+M[T+4]),cx:le,cy:ne});S.each(Ee,we=>{this.bezierCurveTo(we.x1,we.y1,we.x2,we.y2,we.x,we.y),t=we.x,s=we.y})}break;case"Z":case"z":_i(B,M.length,0),this.closePath()}}}_runPath(e){e.beginPath(),S.each(this._operations,t=>{t.path(e)})}_render(e){super._render(e);const t=e.layer.dirty,s=this._isInteractive(e);if(t||s){const h=e.layer.context,f=this._renderer._ghostLayer.context;let d;t&&(h.globalCompositeOperation=this.blendMode,h.beginPath()),s&&(f.beginPath(),d=this._getColorId()),S.each(this._operations,p=>{t&&(p.path(h),p.colorize(h,void 0)),s&&(p.pathGhost(f),p.colorizeGhost(f,d))})}}renderDetached(e){if(this.visible){this._setMatrix(),e.save();const t=this.mask;t&&(t._setMatrix(),t._transform(e,1),t._runPath(e),e.clip()),e.globalAlpha=this.compoundAlpha*this.alpha,this._transform(e,1),this.filter&&(e.filter=this.filter),e.globalCompositeOperation=this.blendMode,e.beginPath(),S.each(this._operations,s=>{s.path(e),s.colorize(e,void 0)}),e.restore()}}_addBounds(e){this.visible&&this.isMeasured&&S.each(this._operations,t=>{t.addBounds(e)})}}class hr extends Ei{constructor(e,t,s){super(e),Object.defineProperty(this,"text",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"style",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"resolution",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"textVisible",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"_textInfo",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_originalScale",{enumerable:!0,configurable:!0,writable:!0,value:1}),this.text=t,this.style=s}invalidateBounds(){super.invalidateBounds(),this._textInfo=void 0}_shared(e){this.style.textAlign&&(e.textAlign=this.style.textAlign),this.style.direction&&(e.direction=this.style.direction),this.style.textBaseline&&(e.textBaseline=this.style.textBaseline)}_prerender(e,t=!1,s=!1){super._render(e);const h=e.layer.context,f=this._renderer._ghostLayer.context,d=this.style;let p=this._getFontStyle(void 0,s);h.font=p,this._isInteractive(e)&&!t&&(f.font=p),d.fill&&(h.fillStyle=d.fill instanceof pt.Il?d.fill.toCSS(null!=d.fillOpacity?d.fillOpacity:1):d.fill),d.shadowColor&&(e.layer.context.shadowColor=d.shadowColor.toCSS(d.shadowOpacity||1)),d.shadowBlur&&(e.layer.context.shadowBlur=d.shadowBlur),d.shadowOffsetX&&(e.layer.context.shadowOffsetX=d.shadowOffsetX),d.shadowOffsetY&&(e.layer.context.shadowOffsetY=d.shadowOffsetY),this._shared(h),this._isInteractive(e)&&!t&&(f.fillStyle=this._getColorId(),this._shared(f))}_getFontStyle(e,t=!1){const s=this.style;let h=[];return e&&e.fontVariant?h.push(e.fontVariant):s.fontVariant&&h.push(s.fontVariant),t||(e&&e.fontWeight?h.push(e.fontWeight):s.fontWeight&&h.push(s.fontWeight)),e&&e.fontStyle?h.push(e.fontStyle):s.fontStyle&&h.push(s.fontStyle),e&&e.fontSize?(Le.isNumber(e.fontSize)&&(e.fontSize=e.fontSize+"px"),h.push(e.fontSize)):s.fontSize&&(Le.isNumber(s.fontSize)&&(s.fontSize=s.fontSize+"px"),h.push(s.fontSize)),e&&e.fontFamily?h.push(e.fontFamily):s.fontFamily?h.push(s.fontFamily):h.length&&h.push("Arial"),h.join(" ")}_render(e){if(this._textInfo||this._measure(e),this.textVisible){const t=this._isInteractive(e),s=e.layer.context,h=e.layer.dirty,f=this._renderer._ghostLayer.context;s.save(),f.save(),this._prerender(e),S.each(this._textInfo,(d,p)=>{S.each(d.textChunks,(A,L)=>{if(A.style&&(s.save(),f.save(),s.font=A.style,this._isInteractive(e)&&(f.font=A.style)),A.fill&&(s.save(),s.fillStyle=A.fill.toCSS()),h&&s.fillText(A.text,A.offsetX,d.offsetY+A.offsetY),"underline"==A.textDecoration||"line-through"==A.textDecoration){let de,G=1,B=1,X=A.height,M=A.offsetX;switch(this.style.textAlign){case"right":case"end":M-=A.width;break;case"center":M-=A.width/2}if(A.style)switch(Ce.V.getTextStyle(A.style).fontWeight){case"bolder":case"bold":case"700":case"800":case"900":G=2}X&&(B=X/20),de="line-through"==A.textDecoration?G+d.offsetY+A.offsetY-A.height/2:G+1.5*B+d.offsetY+A.offsetY,s.save(),s.beginPath(),A.fill?s.strokeStyle=A.fill.toCSS():this.style.fill&&this.style.fill instanceof pt.Il&&(s.strokeStyle=this.style.fill.toCSS()),s.lineWidth=G*B,s.moveTo(M,de),s.lineTo(M+A.width,de),s.stroke(),s.restore()}t&&this.interactive&&f.fillText(A.text,A.offsetX,d.offsetY+A.offsetY),A.fill&&s.restore(),A.style&&(s.restore(),f.restore())})}),s.restore(),f.restore()}}_addBounds(e){if(this.visible&&this.isMeasured){const t=this._measure({inactive:this.inactive,layer:this.getLayer()});bt(e,{x:t.left,y:t.top}),bt(e,{x:t.right,y:t.bottom})}}_ignoreFontWeight(){return/apple/i.test(navigator.vendor)}_measure(e){const t=e.layer.context,s=this._renderer._ghostLayer.context,h="rtl"==this.style.direction;this._textInfo=[];const f=this.style.oversizedBehavior,d=this.style.maxWidth,p=Le.isNumber(d)&&"truncate"==f,A=Le.isNumber(d)&&("wrap"==f||"wrap-no-break"==f);t.save(),s.save(),this._prerender(e,!0,this._ignoreFontWeight());const L="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",G=this.text.toString().replace(/\r/g,"").split(/\n/);let T,B=!0,X=0,M=0,de=0;S.each(G,(ne,Ee)=>{let we;for(we=""==ne?[{type:"value",text:""}]:Ce.V.chunk(ne,!1,this.style.ignoreFormatting);we.length>0;){let pe={offsetY:de,ascent:0,width:0,height:0,left:0,right:0,textChunks:[]};const Be=this._measureText(L,t);pe.height=Be.actualBoundingBoxAscent+Be.actualBoundingBoxDescent,pe.ascent=Be.actualBoundingBoxAscent;let ot,Ct,He,$e,vt=this.style.textDecoration,tt=!1,dt=!0,je=[];S.eachContinue(we,(yt,pi)=>{if("format"==yt.type)if("[/]"==yt.text)B||(t.restore(),s.restore(),B=!0),Ct=void 0,T=void 0,He=void 0,vt=this.style.textDecoration,$e=void 0,ot=yt.text;else{B||(t.restore(),s.restore());let it=Ce.V.getTextStyle(yt.text);const At=this._getFontStyle(it);t.save(),s.save(),t.font=At,T=At,ot=yt.text,it.textDecoration&&(vt=it.textDecoration),it.fill&&(Ct=it.fill),it.width&&(He=Le.toNumber(it.width)),it.verticalAlign&&($e=it.verticalAlign),B=!1;const Vt=this._measureText(L,t),$t=Vt.actualBoundingBoxAscent+Vt.actualBoundingBoxDescent;$t>pe.height&&(pe.height=$t),Vt.actualBoundingBoxAscent>pe.ascent&&(pe.ascent=Vt.actualBoundingBoxAscent)}else if("value"==yt.type&&!tt){const it=this._measureText(yt.text,t);let At=it.actualBoundingBoxLeft+it.actualBoundingBoxRight;if(p){let Kt=dt||this.style.breakWords||!1;const ui=this.style.ellipsis||"",Nt=this._measureText(ui,t);pe.width+At>d&&(yt.text=this._truncateText(t,yt.text,d-pe.width-(Nt.actualBoundingBoxLeft+Nt.actualBoundingBoxRight),Kt),yt.text+=ui,tt=!0)}else if(A&&pe.width+At>d){const ui=this._truncateText(t,yt.text,d-pe.width,!1,dt&&"wrap-no-break"!=this.style.oversizedBehavior);if(""==ui)return this.textVisible=!0,!1;je=we.slice(pi+1),I.trim(ui)!=I.trim(yt.text)&&(je.unshift({type:"value",text:yt.text.substr(ui.length)}),ot&&je.unshift({type:"format",text:ot})),yt.text=I.trim(ui),we=[],tt=!0}let Vt=1,$t=1;if(T&&He&&He>At){const Kt=At/He;switch(this.style.textAlign){case"right":case"end":Vt=Kt;break;case"center":Vt=Kt,$t=Kt;break;default:$t=Kt}At=He}const li=it.actualBoundingBoxAscent+it.actualBoundingBoxDescent;li>pe.height&&(pe.height=li),it.actualBoundingBoxAscent>pe.ascent&&(pe.ascent=it.actualBoundingBoxAscent),pe.width+=At,pe.left+=it.actualBoundingBoxLeft/Vt,pe.right+=it.actualBoundingBoxRight/$t,pe.textChunks.push({style:T,fill:Ct,text:yt.text,width:At,height:li,left:it.actualBoundingBoxLeft,right:it.actualBoundingBoxRight,ascent:it.actualBoundingBoxAscent,offsetX:0,offsetY:0,textDecoration:vt,verticalAlign:$e}),dt=!1}return!0}),this.style.lineHeight instanceof Ze.gG?(pe.height*=this.style.lineHeight.value,pe.ascent*=this.style.lineHeight.value):(pe.height*=this.style.lineHeight||1.2,pe.ascent*=this.style.lineHeight||1.2),X<pe.left&&(X=pe.left),M<pe.right&&(M=pe.right),this._textInfo.push(pe),de+=pe.height,we=je||[]}}),B||(t.restore(),s.restore()),S.each(this._textInfo,(ne,Ee)=>{let we=0;S.each(ne.textChunks,pe=>{if(pe.offsetX=we+pe.left-ne.left,pe.offsetY+=ne.height-ne.height*(this.style.baselineRatio||.19),we+=pe.width,pe.verticalAlign)switch(pe.verticalAlign){case"super":pe.offsetY-=ne.height/2-pe.height/2;break;case"sub":pe.offsetY+=pe.height/2}})});const le={left:h?-M:-X,top:0,right:h?X:M,bottom:de};if("none"!==f){const ne=this._fitRatio(le);if(ne<1)if("fit"==f)Le.isNumber(this.style.minScale)&&ne<this.style.minScale?(this.textVisible=!1,le.left=0,le.top=0,le.right=0,le.bottom=0):((!this._originalScale||1==this._originalScale)&&(this._originalScale=this.scale),this.scale=ne,this.textVisible=!0);else if("hide"==f)this.textVisible=!1,le.left=0,le.top=0,le.right=0,le.bottom=0;else{switch(this.style.textAlign){case"right":case"end":le.left=-d,le.right=0;break;case"center":le.left=-d/2,le.right=d/2;break;default:le.left=0,le.right=d}this.scale=this._originalScale||1,this._originalScale=void 0,this.textVisible=!0}else this.scale=this._originalScale||1,this._originalScale=void 0,this.textVisible=!0}return t.restore(),s.restore(),le}_fitRatio(e){const t=this.style.maxWidth,s=this.style.maxHeight;return Le.isNumber(t)||Le.isNumber(s)?Math.min(t/(e.right-e.left)||1,s/(e.bottom-e.top)||1):1}_truncateText(e,t,s,h=!1,f=!0){let d;do{if(h)t=t.slice(0,-1);else{let A=t.replace(/[^,;:!?\\\/\s\u200b]+[,;:!?\\\/\s\u200b]*$/g,"");if(""!=A&&A!==t||!f){if(""==A)return t;t=A}else h=!0}const p=this._measureText(t,e);d=p.actualBoundingBoxLeft+p.actualBoundingBoxRight}while(d>s&&""!=t);return t}_measureText(e,t){let s=t.measureText(e),h={};if(null==s.actualBoundingBoxAscent){const d=document.createElement("div");d.innerText=e,d.style.visibility="hidden",d.style.position="absolute",d.style.top="-1000000px;",d.style.fontFamily=this.style.fontFamily||"",d.style.fontSize=this.style.fontSize+"",document.body.appendChild(d);const p=d.getBoundingClientRect();document.body.removeChild(d);const A=p.height,L=s.width;h={actualBoundingBoxAscent:A,actualBoundingBoxDescent:0,actualBoundingBoxLeft:0,actualBoundingBoxRight:L,fontBoundingBoxAscent:A,fontBoundingBoxDescent:0,width:L}}else h={actualBoundingBoxAscent:s.actualBoundingBoxAscent,actualBoundingBoxDescent:s.actualBoundingBoxDescent,actualBoundingBoxLeft:s.actualBoundingBoxLeft,actualBoundingBoxRight:s.actualBoundingBoxRight,fontBoundingBoxAscent:s.actualBoundingBoxAscent,fontBoundingBoxDescent:s.actualBoundingBoxDescent,width:s.width};const f=s.width;switch(this.style.textAlign){case"right":case"end":h.actualBoundingBoxLeft=f,h.actualBoundingBoxRight=0;break;case"center":h.actualBoundingBoxLeft=f/2,h.actualBoundingBoxRight=f/2;break;default:h.actualBoundingBoxLeft=0,h.actualBoundingBoxRight=f}return h}}class ji{constructor(){Object.defineProperty(this,"fill",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fillOpacity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"textAlign",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fontFamily",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fontWeight",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fontVariant",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"textDecoration",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowColor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowBlur",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowOffsetX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowOffsetY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowOpacity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"lineHeight",{enumerable:!0,configurable:!0,writable:!0,value:(0,Ze.aQ)(120)}),Object.defineProperty(this,"baselineRatio",{enumerable:!0,configurable:!0,writable:!0,value:.19}),Object.defineProperty(this,"direction",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"textBaseline",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"oversizedBehavior",{enumerable:!0,configurable:!0,writable:!0,value:"none"}),Object.defineProperty(this,"breakWords",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"ellipsis",{enumerable:!0,configurable:!0,writable:!0,value:"\u2026"}),Object.defineProperty(this,"maxWidth",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxHeight",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"minScale",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"ignoreFormatting",{enumerable:!0,configurable:!0,writable:!0,value:!1})}}class Ni extends hr{constructor(){super(...arguments),Object.defineProperty(this,"textType",{enumerable:!0,configurable:!0,writable:!0,value:"circular"}),Object.defineProperty(this,"radius",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"startAngle",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"inside",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"orientation",{enumerable:!0,configurable:!0,writable:!0,value:"auto"}),Object.defineProperty(this,"kerning",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_textReversed",{enumerable:!0,configurable:!0,writable:!0,value:!1})}_render(e){"circular"===this.textType?this._renderCircular(e):super._render(e)}_renderCircular(e){if(this.textVisible){this._prerender(e);const t=this._isInteractive(e),s=e.layer.context,h=e.layer.dirty,f=this._renderer._ghostLayer.context;s.save(),t&&f.save(),this._textInfo||this._measure(e);let d=this.radius||0,p=this.startAngle||0,A=0,L=this.orientation,G="auto"==L?"auto":"inward"==L;const B=this.inside,X=this.style.textAlign||"left",M=this.kerning||0;let de="left"==X?1:-1;const T=!this._textReversed;if("auto"==G){let le=0,ne=0;S.each(this._textInfo,(Ee,we)=>{const pe=p+Ee.width/(d-Ee.height)/2*-de;pe>le&&(le=pe)}),ne="left"==X?(le+A/2)*mt.DEGREES:"right"==X?(le-A/2)*mt.DEGREES:p*mt.DEGREES,ne=mt.normalizeAngle(ne),G=ne>=270||ne<=90}1==G&&T&&(this._textInfo.reverse(),this._textReversed=!0),S.each(this._textInfo,(le,ne)=>{const Ee=le.height;B||(d+=Ee),(-1==de&&G||1==de&&!G)&&T&&le.textChunks.reverse();let we=p;A=0,"center"==X&&(we+=le.width/(d-Ee)/2*-de,A=we-p),we+=Math.PI*(G?0:1),s.save(),t&&f.save(),s.rotate(we),t&&f.rotate(we);let pe=0;S.each(le.textChunks,(Be,_t)=>{const ot=Be.text,vt=Be.width;pe=vt/2/(d-Ee)*de,s.rotate(pe),t&&f.rotate(pe),Be.style&&(s.save(),f.save(),s.font=Be.style,t&&(f.font=Be.style)),Be.fill&&(s.save(),s.fillStyle=Be.fill.toCSS()),s.textBaseline="middle",s.textAlign="center",t&&(f.textBaseline="middle",f.textAlign="center"),h&&s.fillText(ot,0,(G?1:-1)*(0-d+Ee/2)),t&&f.fillText(ot,0,(G?1:-1)*(0-d+Ee/2)),Be.fill&&s.restore(),Be.style&&(s.restore(),f.restore()),pe=(vt/2+M)/(d-Ee)*de,s.rotate(pe),t&&f.rotate(pe)}),s.restore(),t&&f.restore(),B&&(d-=Ee)}),s.restore(),t&&f.restore()}}_measure(e){return"circular"===this.textType?this._measureCircular(e):super._measure(e)}_measureCircular(e){const t=e.layer.context,s=this._renderer._ghostLayer.context,h="rtl"==this.style.direction,f=this.style.oversizedBehavior,d=this.style.maxWidth,p=Le.isNumber(d)&&"truncate"==f,A=this.style.ellipsis||"";let L;this.textVisible=!0,this._textInfo=[],this._textReversed=!1,t.save(),s.save(),this._prerender(e,!0);const G=this.text.toString().replace(/\r/g,"").split(/\n/);let B=!0,X=0,M=0;return S.each(G,(de,T)=>{let Ee,we,pe,le=Ce.V.chunk(de,!1,this.style.ignoreFormatting),ne={offsetY:M,ascent:0,width:0,height:0,left:0,right:0,textChunks:[]};S.each(le,(Be,_t)=>{if("format"==Be.type){if("[/]"==Be.text)B||(t.restore(),s.restore(),B=!0),we=void 0,Ee=void 0,pe=void 0;else{let ot=Ce.V.getTextStyle(Be.text);const vt=this._getFontStyle(ot);t.save(),s.save(),t.font=vt,Ee=vt,ot.fill&&(we=ot.fill),ot.width&&(pe=Le.toNumber(ot.width)),B=!1}p&&(L=this._measureText(A,t))}else if("value"==Be.type){const ot=Be.text.match(/./gu)||[];h&&ot.reverse();for(let vt=0;vt<ot.length;vt++){const Ct=ot[vt],He=this._measureText(Ct,t);let tt=He.width;Ee&&pe&&pe>tt&&(tt=pe);const dt=He.actualBoundingBoxAscent+He.actualBoundingBoxDescent;if(dt>ne.height&&(ne.height=dt),He.actualBoundingBoxAscent>ne.ascent&&(ne.ascent=He.actualBoundingBoxAscent),X+=tt,p){L||(L=this._measureText(A,t));const je=L.actualBoundingBoxLeft+L.actualBoundingBoxRight;if(X+je>d){1==ne.textChunks.length?this.textVisible=!1:(ne.width+=je,ne.left+=L.actualBoundingBoxLeft,ne.right+=L.actualBoundingBoxRight,ne.textChunks.push({style:Ee,fill:we,text:A,width:je,height:dt+L.actualBoundingBoxDescent,left:L.actualBoundingBoxLeft,right:L.actualBoundingBoxRight,ascent:L.actualBoundingBoxAscent,offsetX:0,offsetY:dt,textDecoration:void 0}));break}}if(ne.width+=tt,ne.left+=He.actualBoundingBoxLeft,ne.right+=He.actualBoundingBoxRight,ne.textChunks.push({style:Ee,fill:we,text:Ct,width:tt,height:dt+He.actualBoundingBoxDescent,left:He.actualBoundingBoxLeft,right:He.actualBoundingBoxRight,ascent:He.actualBoundingBoxAscent,offsetX:0,offsetY:dt,textDecoration:void 0}),h)break}}}),ne.height*=this.style.lineHeight instanceof Ze.gG?this.style.lineHeight.value:this.style.lineHeight||1.2,this._textInfo.push(ne),M+=ne.height}),B||(t.restore(),s.restore()),"hide"==f&&X>d&&(this.textVisible=!1),S.each(this._textInfo,de=>{S.each(de.textChunks,T=>{T.offsetY+=Math.round((de.height-T.height+(de.ascent-T.ascent))/2)})}),t.restore(),s.restore(),{left:0,top:0,right:0,bottom:0}}}class Z extends Ei{constructor(e,t){super(e),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"image",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tainted",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowColor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowBlur",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowOffsetX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowOffsetY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowOpacity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_imageMask",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.image=t}_dispose(){super._dispose(),this._imageMask&&ki(this._imageMask)}getLocalBounds(){if(!this._localBounds){let e=0,t=0;this.width&&(e=this.width),this.height&&(t=this.height),this._localBounds={left:0,top:0,right:e,bottom:t},this._addBounds(this._localBounds)}return this._localBounds}_render(e){if(super._render(e),this.image){if(void 0===this.tainted&&(this.tainted=gr(this.image),e.layer.tainted=!0),this.tainted&&this._renderer._omitTainted)return;if(e.layer.dirty&&(this.shadowColor&&(e.layer.context.shadowColor=this.shadowColor.toCSS(this.shadowOpacity||1)),this.shadowBlur&&(e.layer.context.shadowBlur=this.shadowBlur),this.shadowOffsetX&&(e.layer.context.shadowOffsetX=this.shadowOffsetX),this.shadowOffsetY&&(e.layer.context.shadowOffsetY=this.shadowOffsetY),e.layer.context.drawImage(this.image,0,0,this.width||this.image.naturalWidth,this.height||this.image.naturalHeight)),this.interactive&&this._isInteractive(e)){const t=this._getMask(this.image);this._renderer._ghostLayer.context.drawImage(t,0,0)}}}clear(){super.clear(),this.image=void 0,this._imageMask=void 0}_getMask(e){if(void 0===this._imageMask){const t=this.width||e.naturalWidth,s=this.height||e.naturalHeight,h=document.createElement("canvas");h.width=t,h.height=s;const f=h.getContext("2d");f.imageSmoothingEnabled=!1,f.fillStyle=this._getColorId(),f.fillRect(0,0,t,s),gr(e)||(f.globalCompositeOperation="destination-in",f.drawImage(e,0,0,t,s)),this._imageMask=h}return this._imageMask}}class i{constructor(e,t,s,h){Object.defineProperty(this,"event",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"originalPoint",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"point",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.defineProperty(this,"bbox",{enumerable:!0,configurable:!0,writable:!0,value:h}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"simulated",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"native",{enumerable:!0,configurable:!0,writable:!0,value:!0}),this.id=I.supports("touchevents")&&e instanceof Touch?e.identifier:null}}class a extends ae.rk{constructor(e){if(super(),Object.defineProperty(this,"view",{enumerable:!0,configurable:!0,writable:!0,value:document.createElement("div")}),Object.defineProperty(this,"_layerDom",{enumerable:!0,configurable:!0,writable:!0,value:document.createElement("div")}),Object.defineProperty(this,"layers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_dirtyLayers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"defaultLayer",{enumerable:!0,configurable:!0,writable:!0,value:this.getLayer(0)}),Object.defineProperty(this,"_ghostLayer",{enumerable:!0,configurable:!0,writable:!0,value:new u}),Object.defineProperty(this,"_patternCanvas",{enumerable:!0,configurable:!0,writable:!0,value:document.createElement("canvas")}),Object.defineProperty(this,"_patternContext",{enumerable:!0,configurable:!0,writable:!0,value:this._patternCanvas.getContext("2d")}),Object.defineProperty(this,"_realWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_realHeight",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_calculatedWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_calculatedHeight",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"resolution",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"interactionsEnabled",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"_listeners",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_events",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_colorId",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_colorMap",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_forceInteractive",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_omitTainted",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_hovering",{enumerable:!0,configurable:!0,writable:!0,value:new Set}),Object.defineProperty(this,"_dragging",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_mousedown",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_lastPointerMoveEvent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tapToActivate",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"tapToActivateTimeout",{enumerable:!0,configurable:!0,writable:!0,value:3e3}),Object.defineProperty(this,"_touchActive",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_touchActiveTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.resolution=null==e?window.devicePixelRatio:e,this.view.style.position="absolute",this.view.setAttribute("aria-hidden","true"),this.view.appendChild(this._layerDom),this._disposers.push(new ae.ku(()=>{Je.each(this._events,(t,s)=>{s.disposer.dispose()}),S.each(this.layers,t=>{ki(t.view),t.exportableView&&ki(t.exportableView)}),ki(this._ghostLayer.view),ki(this._patternCanvas)})),this._disposers.push(I.onZoom(()=>{null==e&&(this.resolution=window.devicePixelRatio)})),I.supports("touchevents")){const t=s=>{0!==this._dragging.length&&S.eachContinue(this._dragging,h=>!h.value.shouldCancelTouch()||(s.preventDefault(),!1)),this._touchActiveTimeout&&this._delayTouchDeactivate()};this._disposers.push(I.addEventListener(window,"touchstart",t,{passive:!1})),this._disposers.push(I.addEventListener(this.view,"touchstart",t,{passive:!1})),this._disposers.push(I.addEventListener(this.view,"touchmove",()=>{this._touchActiveTimeout&&this._delayTouchDeactivate()},{passive:!0})),this._disposers.push(I.addEventListener(window,"click",s=>{this._touchActive=!1},{passive:!0})),this._disposers.push(I.addEventListener(this.view,"click",s=>{window.setTimeout(()=>{this._touchActive=!0,this._delayTouchDeactivate()},100)},{passive:!0}))}I.supports("wheelevents")&&this._disposers.push(I.addEventListener(this.view,"wheel",t=>{let s=!1;this._hovering.forEach(h=>{if(h.wheelable)return s=!0,!1}),s&&t.preventDefault()},{passive:!1}))}resetImageArray(){this._ghostLayer.imageArray=void 0}_delayTouchDeactivate(){this._touchActiveTimeout&&clearTimeout(this._touchActiveTimeout),this.tapToActivateTimeout>0&&(this._touchActiveTimeout=window.setTimeout(()=>{this._touchActive=!1},this.tapToActivateTimeout))}get debugGhostView(){return!!this._ghostLayer.view.parentNode}set debugGhostView(e){e?this._ghostLayer.view.parentNode||this.view.appendChild(this._ghostLayer.view):this._ghostLayer.view.parentNode&&this._ghostLayer.view.parentNode.removeChild(this._ghostLayer.view)}createLinearGradient(e,t,s,h){return this.defaultLayer.context.createLinearGradient(e,t,s,h)}createRadialGradient(e,t,s,h,f,d){return this.defaultLayer.context.createRadialGradient(e,t,s,h,f,d)}createPattern(e,t,s,h,f){return this._patternCanvas.width=h,this._patternCanvas.height=f,this._patternContext.clearRect(0,0,h,f),t.renderDetached(this._patternContext),e.renderDetached(this._patternContext),this._patternContext.createPattern(this._patternCanvas,s)}makeContainer(){return new Si(this)}makeGraphics(){return new Ii(this)}makeText(e,t){return new hr(this,e,t)}makeTextStyle(){return new ji}makeRadialText(e,t){return new Ni(this,e,t)}makePicture(e){return new Z(this,e)}resizeLayer(e){e.resize(this._calculatedWidth,this._calculatedHeight,this._calculatedWidth,this._calculatedHeight,this.resolution)}resizeGhost(){this._ghostLayer.resize(this._calculatedWidth,this._calculatedHeight,this._calculatedWidth,this._calculatedHeight,this.resolution)}resize(e,t,s,h){this._realWidth=e,this._realHeight=t,this._calculatedWidth=s,this._calculatedHeight=h,S.each(this.layers,f=>{f&&(f.dirty=!0,this.resizeLayer(f))}),this.resizeGhost(),this.view.style.width=s+"px",this.view.style.height=h+"px"}createDetachedLayer(e=!1){const t=document.createElement("canvas"),s=t.getContext("2d",{willReadFrequently:e}),h=new g(t,s);return t.style.position="absolute",t.style.top="0px",t.style.left="0px",h}getLayerByOrder(e){const t=this.layers,s=t.length;for(let h=0;h<s;h++){const f=t[h];if(f.order==e)return f}}getLayer(e,t=!0){let s=this.getLayerByOrder(e);if(s)return s;const h=this.createDetachedLayer(99==e);h.order=e,h.visible=t,h.view.className="am5-layer-"+e,h.visible&&this.resizeLayer(h);const f=this.layers;f.push(h),f.sort((L,G)=>L.order>G.order?1:L.order<G.order?-1:0);const d=f.length;let A;for(let L=S.indexOf(f,h)+1;L<d;L++)if(f[L].visible){A=f[L];break}return h.visible&&(void 0===A?this._layerDom.appendChild(h.view):this._layerDom.insertBefore(h.view,A.view)),h}render(e){if(this._dirtyLayers.length=0,S.each(this.layers,t=>{t&&t.dirty&&t.visible&&(this._dirtyLayers.push(t),t.clear())}),this._ghostLayer.clear(),e.render({inactive:null,layer:this.defaultLayer}),this._ghostLayer.context.restore(),S.each(this.layers,t=>{if(t){const s=t.context;s.beginPath(),s.moveTo(0,0),s.stroke()}}),S.each(this._dirtyLayers,t=>{t.context.restore(),t.dirty=!1}),this._hovering.size&&this._lastPointerMoveEvent){const{events:t,target:s,native:h}=this._lastPointerMoveEvent;S.each(t,f=>{this._dispatchGlobalMousemove(f,s,h)})}}paintId(e){const t=function Lr(H){const e=[0,0,0];for(let t=0;t<24;t++)e[t%3]<<=1,e[t%3]|=1&H,H>>=1;return(0|e[0])+(e[1]<<8)+(e[2]<<16)}(++this._colorId),s=pt.Il.fromHex(t).toCSS();return this._colorMap[s]=e,s}_removeObject(e){void 0!==e._colorId&&delete this._colorMap[e._colorId]}_adjustBoundingBox(e){const t=this._ghostLayer.margin;return new DOMRect(-t.left,-t.top,e.width+t.left+t.right,e.height+t.top+t.bottom)}getEvent(e,t=!0){const s=this.view.getBoundingClientRect(),h=e.clientX||0,f=e.clientY||0;return new i(e,{x:h-s.left,y:f-s.top},{x:this._calculatedWidth/this._realWidth*(h-(t?s.left:0)),y:this._calculatedHeight/this._realHeight*(f-(t?s.top:0))},this._adjustBoundingBox(s))}_getHitTarget(e,t,s){if(0===t.width||0===t.height||e.x<t.left||e.x>t.right||e.y<t.top||e.y>t.bottom||!s||!this._layerDom.contains(s))return;const h=this._ghostLayer.getImageData(e,t);if(0===h.data[0]&&0===h.data[1]&&0===h.data[2])return!1;const f=pt.Il.fromRGB(h.data[0],h.data[1],h.data[2]).toCSS();return this._colorMap[f]}getObjectAtPoint(e){const t=this._ghostLayer.getImageArray(e);if(0===t[0]&&0===t[1]&&0===t[2])return;const s=pt.Il.fromRGB(t[0],t[1],t[2]).toCSS();return this._colorMap[s]}_withEvents(e,t){const s=this._events[e];if(void 0!==s){s.dispatching=!0;try{t(s)}finally{s.dispatching=!1,s.cleanup&&(s.cleanup=!1,S.keepIf(s.callbacks,h=>!h.disposed),0===s.callbacks.length&&(s.disposer.dispose(),delete this._events[e]))}}}_dispatchEventAll(e,t){this.interactionsEnabled&&this._withEvents(e,s=>{S.each(s.callbacks,h=>{h.disposed||h.callback.call(h.context,t)})})}_dispatchEvent(e,t,s){if(!this.interactionsEnabled)return!1;let h=!1;return this._withEvents(e,f=>{S.each(f.callbacks,d=>{!d.disposed&&d.object===t&&(d.callback.call(d.context,s),h=!0)})}),h}_dispatchMousedown(e,t){const s=e.button;if(0!=s&&2!=s&&1!=s&&void 0!==s)return;const h=this.getEvent(e),f=this._getHitTarget(h.originalPoint,h.bbox,t);if(f){const d=h.id;let p=!1;Mi(f,A=>{const L={id:d,value:A};return this._mousedown.push(L),!p&&this._dispatchEvent("pointerdown",A,h)&&(p=!0,this._dragging.some(B=>B.value===A&&B.id===d)||this._dragging.push(L)),!0})}}_dispatchGlobalMousemove(e,t,s){const h=this.getEvent(e),f=this._getHitTarget(h.originalPoint,h.bbox,t);h.native=s,f?(this._hovering.forEach(d=>{d.contains(f)||(this._hovering.delete(d),d.cursorOverStyle&&I.setStyle(document.body,"cursor",d._replacedCursorStyle),this._dispatchEvent("pointerout",d,h))}),h.native&&Mi(f,d=>(this._hovering.has(d)||(this._hovering.add(d),d.cursorOverStyle&&(d._replacedCursorStyle=I.getStyle(document.body,"cursor"),I.setStyle(document.body,"cursor",d.cursorOverStyle)),this._dispatchEvent("pointerover",d,h)),!0))):(this._hovering.forEach(d=>{d.cursorOverStyle&&I.setStyle(document.body,"cursor",d._replacedCursorStyle),this._dispatchEvent("pointerout",d,h)}),this._hovering.clear()),this._dispatchEventAll("globalpointermove",h)}removeHovering(e){this._hovering.delete(e),e.cursorOverStyle&&I.setStyle(document.body,"cursor",e._replacedCursorStyle)}_dispatchGlobalMouseup(e,t){const s=this.getEvent(e);s.native=t,this._dispatchEventAll("globalpointerup",s)}_dispatchDragMove(e){if(0!==this._dragging.length){const t=this.getEvent(e),s=t.id;this._dragging.forEach(h=>{h.id===s&&this._dispatchEvent("pointermove",h.value,t)})}}_dispatchDragEnd(e,t){const s=e.button;let h;if(0==s||void 0===s)h="click";else if(2==s)h="rightclick";else{if(1!=s)return;h="middleclick"}const f=this.getEvent(e),d=f.id;if(0!==this._mousedown.length){const p=this._getHitTarget(f.originalPoint,f.bbox,t);p&&this._mousedown.forEach(A=>{A.id===d&&A.value.contains(p)&&this._dispatchEvent(h,A.value,f)}),this._mousedown.length=0}0!==this._dragging.length&&(this._dragging.forEach(p=>{p.id===d&&this._dispatchEvent("pointerup",p.value,f)}),this._dragging.length=0)}_dispatchDoubleClick(e,t){const s=this.getEvent(e),h=this._getHitTarget(s.originalPoint,s.bbox,t);h&&Mi(h,f=>!this._dispatchEvent("dblclick",f,s))}_dispatchWheel(e,t){const s=this.getEvent(e),h=this._getHitTarget(s.originalPoint,s.bbox,t);h&&Mi(h,f=>!this._dispatchEvent("wheel",f,s))}_makeSharedEvent(e,t){if(void 0===this._listeners[e]){const s=t();this._listeners[e]=new ae.DM(()=>{delete this._listeners[e],s.dispose()})}return this._listeners[e].increment()}_onPointerEvent(e,t){let s=!1,h=null;function f(){h=null,s=!1}return new ae.FV([new ae.ku(()=>{null!==h&&clearTimeout(h),f()}),I.addEventListener(this.view,I.getRendererEvent(e),d=>{s=!0,null!==h&&clearTimeout(h),h=window.setTimeout(f,0)}),jt(window,e,(d,p)=>{null!==h&&(clearTimeout(h),h=null),t(d,p,s),s=!1})])}_initEvent(e){switch(e){case"globalpointermove":case"pointerover":case"pointerout":return this._makeSharedEvent("pointermove",()=>{const t=(s,h,f)=>{this._lastPointerMoveEvent={events:s,target:h,native:f},S.each(s,d=>{this._dispatchGlobalMousemove(d,h,f)})};return new ae.FV([this._onPointerEvent("pointerdown",t),this._onPointerEvent("pointermove",t)])});case"globalpointerup":return this._makeSharedEvent("pointerup",()=>{const t=this._onPointerEvent("pointerup",(h,f,d)=>{S.each(h,p=>{this._dispatchGlobalMouseup(p,d)}),this._lastPointerMoveEvent={events:h,target:f,native:d}}),s=this._onPointerEvent("pointercancel",(h,f,d)=>{S.each(h,p=>{this._dispatchGlobalMouseup(p,d)}),this._lastPointerMoveEvent={events:h,target:f,native:d}});return new ae.ku(()=>{t.dispose(),s.dispose()})});case"click":case"rightclick":case"middleclick":case"pointerdown":case"pointermove":case"pointerup":return this._makeSharedEvent("pointerdown",()=>{const t=this._onPointerEvent("pointerdown",(d,p)=>{S.each(d,A=>{this._dispatchMousedown(A,p)})}),s=this._onPointerEvent("pointermove",d=>{S.each(d,p=>{this._dispatchDragMove(p)})}),h=this._onPointerEvent("pointerup",(d,p)=>{S.each(d,A=>{this._dispatchDragEnd(A,p)})}),f=this._onPointerEvent("pointercancel",(d,p)=>{S.each(d,A=>{this._dispatchDragEnd(A,p)})});return new ae.ku(()=>{t.dispose(),s.dispose(),h.dispose(),f.dispose()})});case"dblclick":return this._makeSharedEvent("dblclick",()=>this._onPointerEvent("dblclick",(t,s)=>{S.each(t,h=>{this._dispatchDoubleClick(h,s)})}));case"wheel":return this._makeSharedEvent("wheel",()=>I.addEventListener(this.view,I.getRendererEvent("wheel"),t=>{this._dispatchWheel(t,I.getEventTarget(t))},{passive:!1}))}}_addEvent(e,t,s,h){let f=this._events[t];void 0===f&&(f=this._events[t]={disposer:this._initEvent(t),callbacks:[],dispatching:!1,cleanup:!1});const d={object:e,context:h,callback:s,disposed:!1};return f.callbacks.push(d),new ae.ku(()=>{d.disposed=!0,f.dispatching?f.cleanup=!0:(S.removeFirst(f.callbacks,d),0===f.callbacks.length&&(f.disposer.dispose(),delete this._events[t]))})}getCanvas(e,t){this.render(e),t||(t={});let s=this.resolution,h=Math.floor(this._calculatedWidth*this.resolution),f=Math.floor(this._calculatedHeight*this.resolution);if(t.minWidth&&t.minWidth>h){let M=t.minWidth/h;M>s&&(s=M*this.resolution)}if(t.minHeight&&t.minHeight>f){let M=t.minHeight/f;M>s&&(s=M*this.resolution)}if(t.maxWidth&&t.maxWidth<h){let M=t.maxWidth/h;M<s&&(s=M*this.resolution)}if(t.maxHeight&&t.maxHeight>f){let M=t.maxHeight/f;M<s&&(s=M*this.resolution)}t.maintainPixelRatio&&(s/=this.resolution);const d=[];let p=!1;const A=document.createElement("canvas");s!=this.resolution&&(p=!0,h=h*s/this.resolution,f=f*s/this.resolution),A.width=h,A.height=f,A.style.position="fixed",A.style.top="-10000px",this.view.appendChild(A),d.push(A);const L=A.getContext("2d");let G=0,B=0,X=!1;return S.each(this.layers,M=>{if(M&&M.visible&&(M.tainted||p)){X=!0,M.exportableView=M.view,M.exportableContext=M.context,M.view=document.createElement("canvas"),M.view.style.position="fixed",M.view.style.top="-10000px",this.view.appendChild(M.view),d.push(M.view);let de=0,T=0;M.margin&&(de+=M.margin.left||0+M.margin.right||0,T+=M.margin.top||0+M.margin.bottom||0),M.view.width=h+de,M.view.height=f+T,M.context=M.view.getContext("2d"),M.dirty=!0,M.scale=s}}),X&&(this._omitTainted=!0,this.render(e),this._omitTainted=!1),S.each(this.layers,M=>{if(M&&M.visible){let de=0,T=0;M.margin&&(de=-(M.margin.left||0)*this.resolution,T=-(M.margin.top||0)*this.resolution),L.drawImage(M.view,de,T),M.exportableView&&(M.view=M.exportableView,M.exportableView=void 0),M.exportableContext&&(M.context=M.exportableContext,M.exportableContext=void 0),G<M.view.clientWidth&&(G=M.view.clientWidth),B<M.view.clientHeight&&(B=M.view.clientHeight),M.scale=void 0}}),A.style.width=G+"px",A.style.height=B+"px",S.each(d,M=>{M.style.position="",M.style.top="",this.view.removeChild(M)}),A}}class u{constructor(){Object.defineProperty(this,"view",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"context",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"margin",{enumerable:!0,configurable:!0,writable:!0,value:{left:0,right:0,top:0,bottom:0}}),Object.defineProperty(this,"_resolution",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_width",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_height",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"imageArray",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.view=document.createElement("canvas"),this.context=this.view.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.context.imageSmoothingEnabled=!1,this.view.style.position="absolute",this.view.style.top="0px",this.view.style.left="0px"}resize(e,t,s,h,f){this._resolution=f,e+=this.margin.left+this.margin.right,t+=this.margin.top+this.margin.bottom,s+=this.margin.left+this.margin.right,h+=this.margin.top+this.margin.bottom,this.view.style.left=-this.margin.left+"px",this.view.style.top=-this.margin.top+"px",this._width=Math.floor(e*f),this._height=Math.floor(t*f),this.view.width=this._width,this.view.style.width=s+"px",this.view.height=this._height,this.view.style.height=h+"px"}getImageData(e,t){return this.context.getImageData(Math.round((e.x-t.left)/t.width*this._width),Math.round((e.y-t.top)/t.height*this._height),1,1)}getImageArray(e){this.imageArray||(this.imageArray=this.context.getImageData(0,0,this._width,this._height).data);const t=this.imageArray,s=Math.round(e.x*this._resolution),f=4*(Math.round(e.y*this._resolution)*this._width+s);return[t[f],t[f+1],t[f+2],t[f+3]]}setMargin(e){this.margin.left=0,this.margin.right=0,this.margin.top=0,this.margin.bottom=0,S.each(e,t=>{t.margin&&(this.margin.left=Math.max(this.margin.left,t.margin.left),this.margin.right=Math.max(this.margin.right,t.margin.right),this.margin.top=Math.max(this.margin.top,t.margin.top),this.margin.bottom=Math.max(this.margin.bottom,t.margin.bottom))})}clear(){this.context.save(),this.context.fillStyle="#000",this.context.fillRect(0,0,this._width,this._height)}}class g{constructor(e,t){Object.defineProperty(this,"view",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"context",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tainted",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"margin",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"order",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"visible",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"scale",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"dirty",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"exportableView",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"exportableContext",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_width",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_height",{enumerable:!0,configurable:!0,writable:!0,value:0}),this.view=e,this.context=t}resize(e,t,s,h,f){null!=this.width&&(e=this.width,s=this.width),null!=this.height&&(t=this.height,h=this.height),this.margin?(e+=this.margin.left+this.margin.right,t+=this.margin.top+this.margin.bottom,s+=this.margin.left+this.margin.right,h+=this.margin.top+this.margin.bottom,this.view.style.left=-this.margin.left+"px",this.view.style.top=-this.margin.top+"px"):(this.view.style.left="0px",this.view.style.top="0px"),this._width=Math.floor(e*f),this._height=Math.floor(t*f),this.view.width=this._width,this.view.style.width=s+"px",this.view.height=this._height,this.view.style.height=h+"px"}clear(){this.context.save(),this.context.clearRect(0,0,this._width,this._height)}}var y=z(8018),x=z(5411),b=z(4178);function _(H,e){null==H?requestAnimationFrame(e):setTimeout(()=>{requestAnimationFrame(e)},1e3/H)}class P{constructor(e,t={},s){if(Object.defineProperty(this,"dom",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_inner",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_isDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_isDirtyParents",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dirty",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_dirtyParents",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_dirtyBounds",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_dirtyPositions",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_ticker",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"_tickers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_updateTick",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:new di.p}),Object.defineProperty(this,"animationTime",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"_animations",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_renderer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_rootContainer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"container",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tooltipContainer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipContainerSettings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltip",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"language",{enumerable:!0,configurable:!0,writable:!0,value:gt.new(this,{})}),Object.defineProperty(this,"locale",{enumerable:!0,configurable:!0,writable:!0,value:yi.default}),Object.defineProperty(this,"utc",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"timezone",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fps",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"numberFormatter",{enumerable:!0,configurable:!0,writable:!0,value:Ke.e.new(this,{})}),Object.defineProperty(this,"dateFormatter",{enumerable:!0,configurable:!0,writable:!0,value:si.new(this,{})}),Object.defineProperty(this,"durationFormatter",{enumerable:!0,configurable:!0,writable:!0,value:ke.new(this,{})}),Object.defineProperty(this,"tabindex",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_tabindexes",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_a11yD",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_focusElementDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_focusElementContainer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_focusedSprite",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_isShift",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_keyboardDragPoint",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipElementContainer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_readerAlertElement",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_logo",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipDiv",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"nonce",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"interfaceColors",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"verticalLayout",{enumerable:!0,configurable:!0,writable:!0,value:W.Z.new(this,{})}),Object.defineProperty(this,"horizontalLayout",{enumerable:!0,configurable:!0,writable:!0,value:te.G.new(this,{})}),Object.defineProperty(this,"gridLayout",{enumerable:!0,configurable:!0,writable:!0,value:Te.M.new(this,{})}),Object.defineProperty(this,"_paused",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"autoResize",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"_fontHash",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"_isDisposed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_disposers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_resizeSensorDisposer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltips",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_htmlElementContainer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_htmlEnabledContainers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),!s)throw new Error("You cannot use `new Class()`, instead use `Class.new()`");let h,f;if(this._settings=t,0==t.accessible&&(this._a11yD=!0),null==t.useSafeResolution&&(t.useSafeResolution=!0),t.useSafeResolution&&(h=I.getSafeResolution()),this._renderer=new a(h),f=e instanceof HTMLElement?e:document.getElementById(e),S.each(x.i_.rootElements,A=>{if(A.dom===f)throw new Error("You cannot have multiple Roots on the same DOM node")}),this.interfaceColors=Oe.new(this,{}),null===f)throw new Error("Could not find HTML element with id `"+e+"`");this.dom=f;let d=document.createElement("div");d.style.position="relative",d.style.width="100%",d.style.height="100%",f.appendChild(d);const p=t.tooltipContainerBounds;p&&(this._tooltipContainerSettings=p),this._inner=d,this._updateComputedStyles(),x.i_.rootElements.push(this)}static new(e,t){const s=new P(e,t,!0);return s._init(),s}moveDOM(e){let t;if(t=e instanceof HTMLElement?e:document.getElementById(e),t){for(;this.dom.childNodes.length>0;)t.appendChild(this.dom.childNodes[0]);this.dom=t,this._initResizeSensor(),this.resize()}}_handleLogo(){this._logo&&(this.dom.offsetWidth<=150||this.dom.offsetHeight<=60?this._logo.hide():this._logo.show())}_showBranding(){if(!this._logo){const e=this.tooltipContainer.children.push(ue.W.new(this,{interactive:!0,interactiveChildren:!1,position:"absolute",setStateOnChildren:!0,paddingTop:9,paddingRight:9,paddingBottom:9,paddingLeft:9,scale:.6,y:(0,Ze.aQ)(100),centerY:Ze.AQ,tooltipText:"Created using amCharts 5",tooltipX:Ze.AQ,cursorOverStyle:"pointer",background:Me.A.new(this,{fill:(0,pt.$_)(4671320),fillOpacity:0,tooltipY:5})})),t=Ge.u.new(this,{pointerOrientation:"horizontal",paddingTop:4,paddingRight:7,paddingBottom:4,paddingLeft:7});t.label.setAll({fontSize:12}),t.get("background").setAll({fill:this.interfaceColors.get("background"),stroke:this.interfaceColors.get("grid"),strokeOpacity:.3}),e.set("tooltip",t),e.events.on("click",()=>{window.open("https://www.amcharts.com/","_blank")}),e.states.create("hover",{}),e.children.push(he.T.new(this,{stroke:(0,pt.$_)(13421772),strokeWidth:3,svgPath:"M5 25 L13 25h13.6c3.4 0 6 0 10.3-4.3s5.2-12 8.6-12c3.4 0 4.3 8.6 7.7 8.6M83.4 25H79.8c-3.4 0-6 0-10.3-4.3s-5.2-12-8.6-12-4.3 8.6-7.7 8.6"})).states.create("hover",{stroke:(0,pt.$_)(3976191)}),e.children.push(he.T.new(this,{stroke:(0,pt.$_)(8947848),strokeWidth:3,svgPath:"M83.4 25h-31C37 25 39.5 4.4 28.4 4.4S18.9 24.2 4.3 25H0"})).states.create("hover",{stroke:(0,pt.$_)(4671320)}),this._logo=e,this._handleLogo()}}_getRealSize(){return this.dom.getBoundingClientRect()}_getCalculatedSize(e){return this._settings.calculateSize?this._settings.calculateSize(e):{width:e.width,height:e.height}}_init(){const e=this._settings;!1!==e.accessible&&(e.focusable&&(this._inner.setAttribute("focusable","true"),this._inner.setAttribute("tabindex",this.tabindex+"")),e.ariaLabel&&this._inner.setAttribute("aria-label",e.ariaLabel),e.role&&this._inner.setAttribute("role",e.role));const t=this._renderer,s=this._getRealSize(),h=this._getCalculatedSize(s),f=Math.floor(h.width),d=Math.floor(h.height),p=Math.floor(s.width),A=Math.floor(s.height),L=ue.W.new(this,{visible:!0,width:f,height:d});this._rootContainer=L,this._rootContainer._defaultThemes.push(nr.X.new(this));const G=L.children.push(ue.W.new(this,{visible:!0,width:Ze.AQ,height:Ze.AQ}));this.container=G,t.resize(p,A,f,d),this._inner.appendChild(t.view),this._initResizeSensor();const B=document.createElement("div");if(this._htmlElementContainer=B,B.className="am5-html-container",B.style.position="absolute",B.style.pointerEvents="none",this._tooltipContainerSettings||(B.style.overflow="hidden"),this._inner.appendChild(B),!0!==this._a11yD){const X=document.createElement("div");X.className="am5-reader-container",X.setAttribute("role","alert"),X.style.position="absolute",X.style.width="1px",X.style.height="1px",X.style.overflow="hidden",X.style.clip="rect(1px, 1px, 1px, 1px)",this._readerAlertElement=X,this._inner.appendChild(this._readerAlertElement);const M=document.createElement("div");M.className="am5-focus-container",M.style.position="absolute",M.style.pointerEvents="none",M.style.top="0px",M.style.left="0px",M.style.overflow="hidden",M.style.width=f+"px",M.style.height=d+"px",M.setAttribute("role","graphics-document"),I.setInteractive(M,!1),this._focusElementContainer=M,this._inner.appendChild(this._focusElementContainer);const de=document.createElement("div");this._tooltipElementContainer=de,de.className="am5-tooltip-container",this._inner.appendChild(de),I.supports("keyboardevents")&&(this._disposers.push(I.addEventListener(window,"keydown",T=>{16==T.keyCode?this._isShift=!0:9==T.keyCode&&(this._isShift=T.shiftKey)})),this._disposers.push(I.addEventListener(window,"keyup",T=>{16==T.keyCode&&(this._isShift=!1)})),this._disposers.push(I.addEventListener(M,"click",()=>{const T=this._focusedSprite;if(T){const le=t.getEvent(new MouseEvent("click"));T.events.dispatch("click",{type:"click",originalEvent:le.event,point:le.point,simulated:!0,target:T})}})),this._disposers.push(I.addEventListener(M,"keydown",T=>{const le=this._focusedSprite;if(le){27==T.keyCode&&(I.blur(),this._focusedSprite=void 0);let ne=0,Ee=0;switch(T.keyCode){case 13:T.preventDefault();const we=t.getEvent(new MouseEvent("click"));return void le.events.dispatch("click",{type:"click",originalEvent:we.event,point:we.point,simulated:!0,target:le});case 37:ne=-6;break;case 39:ne=6;break;case 38:Ee=-6;break;case 40:Ee=6;break;default:return}if(0!=ne||0!=Ee){if(T.preventDefault(),!le.isDragging()){this._keyboardDragPoint={x:0,y:0};const Be=t.getEvent(new MouseEvent("mousedown",{clientX:0,clientY:0}));le.events.isEnabled("pointerdown")&&le.events.dispatch("pointerdown",{type:"pointerdown",originalEvent:Be.event,point:Be.point,simulated:!0,target:le})}const we=this._keyboardDragPoint;we.x+=ne,we.y+=Ee;const pe=t.getEvent(new MouseEvent("mousemove",{clientX:we.x,clientY:we.y}),!1);le.events.isEnabled("globalpointermove")&&le.events.dispatch("globalpointermove",{type:"globalpointermove",originalEvent:pe.event,point:pe.point,simulated:!0,target:le})}}})),this._disposers.push(I.addEventListener(M,"keyup",T=>{if(this._focusedSprite){const le=this._focusedSprite,ne=T.keyCode;switch(ne){case 37:case 39:case 38:case 40:if(le.isDragging()){const Ee=this._keyboardDragPoint,we=t.getEvent(new MouseEvent("mouseup",{clientX:Ee.x,clientY:Ee.y}));return le.events.isEnabled("globalpointerup")&&le.events.dispatch("globalpointerup",{type:"globalpointerup",originalEvent:we.event,point:we.point,simulated:!0,target:le}),void(this._keyboardDragPoint=void 0)}if(le.get("focusableGroup")){const Ee=le.get("focusableGroup"),we=this._tabindexes.filter(_t=>_t.get("focusableGroup")==Ee&&!1!==_t.getPrivate("focusable"));let pe=we.indexOf(le);const Be=we.length-1;pe+=39==ne||40==ne?1:-1,pe<0?pe=Be:pe>Be&&(pe=0),I.focus(we[pe].getPrivate("focusElement").dom)}}}})))}this._startTicker(),this.setThemes([]),this._addTooltip(),this._hasLicense()||this._showBranding()}_initResizeSensor(){this._resizeSensorDisposer&&this._resizeSensorDisposer.dispose(),this._resizeSensorDisposer=new ve(this.dom,()=>{this.autoResize&&this.resize()}),this._disposers.push(this._resizeSensorDisposer)}resize(){const e=this._getRealSize(),t=this._getCalculatedSize(e),s=Math.floor(t.width),h=Math.floor(t.height);if(s>0&&h>0){const f=Math.floor(e.width),d=Math.floor(e.height),p=this._htmlElementContainer;if(p.style.width=s+"px",p.style.height=h+"px",!0!==this._a11yD){const L=this._focusElementContainer;L.style.width=s+"px",L.style.height=h+"px"}this._renderer.resize(f,d,s,h);const A=this._rootContainer;A.setPrivate("width",s),A.setPrivate("height",h),this._render(),this._handleLogo()}}_render(){this._renderer.render(this._rootContainer._display),this._focusElementDirty&&(this._updateCurrentFocus(),this._focusElementDirty=!1)}_runTickers(e){S.each(this._tickers,t=>{t(e)})}_runAnimations(e){let t=0;return S.keepIf(this._animations,s=>{const h=s._runAnimation(e);return h!==U.SR.Stopped&&(h===U.SR.Playing&&++t,!0)}),0===t}_runDirties(){let e={};for(;this._isDirtyParents;)this._isDirtyParents=!1,Je.keys(this._dirtyParents).forEach(d=>{const p=this._dirtyParents[d];delete this._dirtyParents[d],p.isDisposed()||(e[p.uid]=p,p._prepareChildren())});Je.keys(e).forEach(d=>{e[d]._updateChildren()});const t=[];Je.keys(this._dirty).forEach(d=>{const p=this._dirty[d];p.isDisposed()?delete this._dirty[p.uid]:(t.push(p),p._beforeChanged())}),t.forEach(d=>{d._changed(),delete this._dirty[d.uid],d._clearDirty()}),this._isDirty=!1;const s={},h=[];Je.keys(this._dirtyBounds).forEach(d=>{const p=this._dirtyBounds[d];delete this._dirtyBounds[d],p.isDisposed()||(s[p.uid]=p.depth(),h.push(p))}),this._positionHTMLElements(),h.sort((d,p)=>b.qu(s[p.uid],s[d.uid])),h.forEach(d=>{d._updateBounds()});const f=this._dirtyPositions;Je.keys(f).forEach(d=>{const p=f[d];delete f[d],p.isDisposed()||p._updatePosition()}),t.forEach(d=>{d._afterChanged()})}_renderFrame(e){if(this._updateTick){this.events.isEnabled("framestarted")&&this.events.dispatch("framestarted",{type:"framestarted",target:this,timestamp:e}),this._checkComputedStyles(),this._runTickers(e);const t=this._runAnimations(e);return this._runDirties(),this._render(),this._renderer.resetImageArray(),this._positionHTMLElements(),this.events.isEnabled("frameended")&&this.events.dispatch("frameended",{type:"frameended",target:this,timestamp:e}),0===this._tickers.length&&t&&!this._isDirty}return!0}_runTicker(e,t){this.isDisposed()||(this.animationTime=e,this._renderFrame(e)?(this._ticker=null,this.animationTime=null):this._paused||t||_(this.fps,this._ticker))}_runTickerNow(e=1e4){if(!this.isDisposed()){const t=performance.now()+e;for(;;){const s=performance.now();if(s>=t){this.animationTime=null;break}if(this.animationTime=s,this._renderFrame(s)){this.animationTime=null;break}}}}_startTicker(){null===this._ticker&&(this.animationTime=null,this._ticker=e=>{this._runTicker(e)},_(this.fps,this._ticker))}get updateTick(){return this._updateTick}set updateTick(e){this._updateTick=e,e&&this._startTicker()}_addDirtyEntity(e){void 0===this._dirty[e.uid]&&(this._isDirty=!0,this._dirty[e.uid]=e,this._startTicker())}_addDirtyParent(e){void 0===this._dirtyParents[e.uid]&&(this._isDirty=!0,this._isDirtyParents=!0,this._dirtyParents[e.uid]=e,this._startTicker())}_addDirtyBounds(e){void 0===this._dirtyBounds[e.uid]&&(this._isDirty=!0,this._dirtyBounds[e.uid]=e,this._startTicker())}_addDirtyPosition(e){void 0===this._dirtyPositions[e.uid]&&(this._isDirty=!0,this._dirtyPositions[e.uid]=e,this._startTicker())}_addAnimation(e){-1===this._animations.indexOf(e)&&this._animations.push(e),this._startTicker()}_markDirty(){this._isDirty=!0}_markDirtyRedraw(){this.events.once("frameended",()=>{this._isDirty=!0,this._startTicker()})}eachFrame(e){return this._tickers.push(e),this._startTicker(),new ae.ku(()=>{S.removeFirst(this._tickers,e)})}markDirtyGlobal(e){e||(e=this.container),e.walkChildren(t=>{t instanceof ue.W&&this.markDirtyGlobal(t),t.markDirty(),t.markDirtyBounds()})}width(){return Math.floor(this._getCalculatedSize(this._getRealSize()).width)}height(){return Math.floor(this._getCalculatedSize(this._getRealSize()).height)}dispose(){this._isDisposed||(this._isDisposed=!0,this._rootContainer.dispose(),this._renderer.dispose(),this.horizontalLayout.dispose(),this.verticalLayout.dispose(),this.interfaceColors.dispose(),S.each(this._disposers,e=>{e.dispose()}),this._inner&&I.removeElement(this._inner),S.remove(x.i_.rootElements,this))}isDisposed(){return this._isDisposed}readerAlert(e){!0!==this._a11yD&&(this._readerAlertElement.innerHTML=I.stripTags(e))}setThemes(e){this._rootContainer.set("themes",e);const t=this.tooltipContainer;t&&t._applyThemes();const s=this.interfaceColors;s&&s._applyThemes()}_addTooltip(){if(!this.tooltipContainer){const e=this._tooltipContainerSettings,t=this._rootContainer.children.push(ue.W.new(this,{position:"absolute",isMeasured:!1,width:Ze.AQ,height:Ze.AQ,layer:e?35:30,layerMargin:e||void 0}));this.tooltipContainer=t;const s=Ge.u.new(this,{});this.container.set("tooltip",s),s.hide(0),this._tooltip=s}}_registerTabindexOrder(e){1!=this._a11yD&&(e.get("focusable")?S.pushOne(this._tabindexes,e):S.remove(this._tabindexes,e),this._invalidateTabindexes())}_unregisterTabindexOrder(e){1!=this._a11yD&&(S.remove(this._tabindexes,e),this._invalidateTabindexes())}_invalidateTabindexes(){if(1==this._a11yD)return;this._tabindexes.sort((t,s)=>{const h=t.get("tabindexOrder",0),f=s.get("tabindexOrder",0);return h==f?0:h>f?1:-1});const e=[];S.each(this._tabindexes,(t,s)=>{t.getPrivate("focusElement")?this._moveFocusElement(s,t):this._makeFocusElement(s,t);const h=t.get("focusableGroup");h&&!1!==t.getPrivate("focusable")&&(-1!==e.indexOf(h)?t.getPrivate("focusElement").dom.setAttribute("tabindex","-1"):e.push(h))})}_updateCurrentFocus(){1!=this._a11yD&&this._focusedSprite&&(this._decorateFocusElement(this._focusedSprite),this._positionFocusElement(this._focusedSprite))}_decorateFocusElement(e,t){if(1==this._a11yD||(t||(t=e.getPrivate("focusElement").dom),!t))return;const s=e.get("role");s?t.setAttribute("role",s):t.removeAttribute("role");const h=e.get("ariaLabel");if(h){const M=(0,y.q)(e,h);t.setAttribute("aria-label",M)}else t.removeAttribute("aria-label");const f=e.get("ariaLive");f?t.setAttribute("aria-live",f):t.removeAttribute("aria-live");const d=e.get("ariaChecked");null!=d&&s&&-1!==["checkbox","option","radio","menuitemcheckbox","menuitemradio","treeitem"].indexOf(s)?t.setAttribute("aria-checked",d?"true":"false"):t.removeAttribute("aria-checked"),e.get("ariaHidden")?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden");const p=e.get("ariaOrientation");p?t.setAttribute("aria-orientation",p):t.removeAttribute("aria-orientation");const A=e.get("ariaValueNow");A?t.setAttribute("aria-valuenow",A):t.removeAttribute("aria-valuenow");const L=e.get("ariaValueMin");L?t.setAttribute("aria-valuemin",L):t.removeAttribute("aria-valuemin");const G=e.get("ariaValueMax");G?t.setAttribute("aria-valuemax",G):t.removeAttribute("aria-valuemax");const B=e.get("ariaValueText");B?t.setAttribute("aria-valuetext",B):t.removeAttribute("aria-valuetext");const X=e.get("ariaControls");X?t.setAttribute("aria-controls",X):t.removeAttribute("aria-controls"),e.get("visible")&&0!==e.get("opacity")&&"tooltip"!=e.get("role")&&!e.isHidden()&&!1!==e.getPrivate("focusable")?("-1"!=t.getAttribute("tabindex")&&t.setAttribute("tabindex",""+this.tabindex),t.removeAttribute("aria-hidden")):(t.removeAttribute("tabindex"),t.setAttribute("aria-hidden","true"))}_makeFocusElement(e,t){if(t.getPrivate("focusElement")||1==this._a11yD)return;const s=document.createElement("div");"tooltip"!=t.get("role")&&(s.tabIndex=this.tabindex),s.style.position="absolute",I.setInteractive(s,!1);const h=[];t.setPrivate("focusElement",{dom:s,disposers:h}),this._decorateFocusElement(t),h.push(I.addEventListener(s,"focus",f=>{this._handleFocus(f,e)})),h.push(I.addEventListener(s,"blur",f=>{this._handleBlur(f,e)})),this._moveFocusElement(e,t)}_removeFocusElement(e){if(1==this._a11yD)return;S.remove(this._tabindexes,e);const t=e.getPrivate("focusElement");t&&(this._focusElementContainer.removeChild(t.dom),S.each(t.disposers,h=>{h.dispose()}))}_hideFocusElement(e){1!=this._a11yD&&(e.getPrivate("focusElement").dom.style.display="none")}_moveFocusElement(e,t){if(1==this._a11yD)return;const s=this._focusElementContainer,h=t.getPrivate("focusElement").dom;if(h===this._focusElementContainer.children[e])return;const f=this._focusElementContainer.children[e+1];f?s.insertBefore(h,f):s.append(h)}_positionFocusElement(e){if(1==this._a11yD||null==e)return;const t=e.globalBounds();let s=t.right==t.left?e.width():t.right-t.left,h=t.top==t.bottom?e.height():t.bottom-t.top;const f=void 0!==this._settings.focusPadding?this._settings.focusPadding:2;let d=t.left-f,p=t.top-f;s<0&&(d+=s,s=Math.abs(s)),h<0&&(p+=h,h=Math.abs(h));const A=e.getPrivate("focusElement").dom;A.style.top=p+"px",A.style.left=d+"px",A.style.width=s+2*f+"px",A.style.height=h+2*f+"px"}_handleFocus(e,t){if(1==this._a11yD)return;const s=this._tabindexes[t];s.isVisibleDeep()?(this._positionFocusElement(s),this._focusedSprite=s,s.events.isEnabled("focus")&&s.events.dispatch("focus",{type:"focus",originalEvent:e,target:s})):this._focusNext(e.target,this._isShift?-1:1)}_focusNext(e,t){if(1==this._a11yD)return;const s=Array.from(document.querySelectorAll(["a[href]","area[href]","button:not([disabled])","details","input:not([disabled])","iframe:not([disabled])","select:not([disabled])","textarea:not([disabled])",'[contentEditable=""]','[contentEditable="true"]','[contentEditable="TRUE"]','[tabindex]:not([tabindex^="-"])'].join(",")));let h=s.indexOf(e)+t;h<0?h=s.length-1:h>=s.length&&(h=0),s[h].focus()}_handleBlur(e,t){if(1==this._a11yD)return;const s=this._focusedSprite;s&&!s.isDisposed()&&s.events.isEnabled("blur")&&s.events.dispatch("blur",{type:"blur",originalEvent:e,target:s}),this._focusedSprite=void 0}updateTooltip(e){if(1==this._a11yD)return;const t=I.stripTags(e._getText());let s=e.getPrivate("tooltipElement");"tooltip"==e.get("role")&&""!=t?(s||(s=this._makeTooltipElement(e)),s.innerHTML!=t&&(s.innerHTML=t)):s&&(s.remove(),e.removePrivate("tooltipElement"))}_makeTooltipElement(e){const t=this._tooltipElementContainer,s=document.createElement("div");return s.style.position="absolute",s.style.width="1px",s.style.height="1px",s.style.overflow="hidden",s.style.clip="rect(1px, 1px, 1px, 1px)",I.setInteractive(s,!1),this._decorateFocusElement(e,s),t.append(s),e.setPrivate("tooltipElement",s),s}_removeTooltipElement(e){if(1==this._a11yD)return;const t=e.getPrivate("tooltipElement");if(t){const s=t.parentElement;s&&s.removeChild(t)}}_invalidateAccessibility(e){if(1==this._a11yD)return;this._focusElementDirty=!0;const t=e.getPrivate("focusElement");e.get("focusable")?t&&(this._decorateFocusElement(e),this._positionFocusElement(e)):t&&this._removeFocusElement(e)}focused(e){return this._focusedSprite===e}documentPointToRoot(e){const t=this._getRealSize(),s=this._getCalculatedSize(t);return{x:s.width/t.width*(e.x-t.left),y:s.height/t.height*(e.y-t.top)}}rootPointToDocument(e){const t=this._getRealSize(),s=this._getCalculatedSize(t);return{x:e.x/(s.width/t.width)+t.left,y:e.y/(s.height/t.height)+t.top}}addDisposer(e){return this._disposers.push(e),e}_updateComputedStyles(){const e=window.getComputedStyle(this.dom);let t="";Je.each(e,(h,f)=>{Le.isString(h)&&h.match(/^font/)&&(t+=f)});const s=t!=this._fontHash;return s&&(this._fontHash=t),s}_checkComputedStyles(){this._updateComputedStyles()&&this._invalidateLabelBounds(this.container)}_invalidateLabelBounds(e){e instanceof ue.W?e.children.each(t=>{this._invalidateLabelBounds(t)}):e instanceof ye.x&&e.markDirtyBounds()}_hasLicense(){for(let e=0;e<x.i_.licenses.length;e++)if(x.i_.licenses[e].match(/^AM5C.{5,}/i))return!0;return!1}_licenseApplied(){this._logo&&this._logo.set("forceHidden",!0)}get debugGhostView(){return this._renderer.debugGhostView}set debugGhostView(e){this._renderer.debugGhostView=e}set tapToActivate(e){this._renderer.tapToActivate=e}get tapToActivate(){return this._renderer.tapToActivate}set tapToActivateTimeout(e){this._renderer.tapToActivateTimeout=e}get tapToActivateTimeout(){return this._renderer.tapToActivateTimeout}_makeHTMLElement(e){const t=this._htmlElementContainer,s=document.createElement("div");return e.setPrivate("htmlElement",s),s.style.position="absolute",s.style.overflow="auto",s.style.boxSizing="border-box",I.setInteractive(s,e.get("interactive",!1)),e.events.isEnabled("click")&&(I.setInteractive(s,!0),this._disposers.push(I.addEventListener(s,"click",h=>{const f=this._renderer.getEvent(h);e.events.dispatch("click",{type:"click",originalEvent:f.event,point:f.point,simulated:!1,target:e})}))),this._positionHTMLElement(e),t.append(s),S.pushOne(this._htmlEnabledContainers,e),s}_positionHTMLElements(){S.each(this._htmlEnabledContainers,e=>{this._positionHTMLElement(e)})}_positionHTMLElement(e){const t=e.getPrivate("htmlElement");if(t){S.each(["paddingTop","paddingRight","paddingBottom","paddingLeft","minWidth","minHeight","maxWidth","maxHeight"],B=>{const X=e.get(B);t.style[B]=X?X+"px":""});const h=e.compositeOpacity();setTimeout(()=>{t.style.opacity=h+""},10);const f=e.isVisibleDeep();f&&(t.style.display="block");const d=e.globalBounds();t.style.top=d.top+"px",t.style.left=d.left+"px";const p=e.get("width"),A=e.get("height");let L=0,G=0;if(p&&(L=e.width()),A&&(G=e.height()),p&&A)e.removePrivate("minWidth"),e.removePrivate("minHeight");else{t.style.position="fixed",t.style.width="",t.style.height="";const B=t.getBoundingClientRect();t.style.position="absolute",L=B.width,G=B.height,e._adjustedLocalBounds={left:0,right:0,top:0,bottom:0},e.setPrivate("minWidth",L),e.setPrivate("minHeight",G)}L>0&&(t.style.minWidth=L+"px"),G>0&&(t.style.minHeight=G+"px"),(!f||0==h)&&(t.style.display="none")}}_setHTMLContent(e,t){let s=e.getPrivate("htmlElement");s||(s=this._makeHTMLElement(e)),s.innerHTML!=t&&(s.innerHTML=t)}_removeHTMLContent(e){let t=e.getPrivate("htmlElement");t&&(this._htmlElementContainer.removeChild(t),e.removePrivate("htmlElement")),S.remove(this._htmlEnabledContainers,e)}}var O=z(5013);let w;class K extends De.JH{_afterNew(){super._afterNewApplyThemes(),this._setRawDefault("deactivateRoot",!0),function j(H,e,t){const s=e.interfaceColors,h=s.get("secondaryButton").toCSS(),f=s.get("text").toCSS(),d=s.get("alternativeBackground").toCSS(.45);if(!w){const p=new ae.FV([new I.StyleRule(H,".am5-modal",{width:"100%",height:"100%",position:"absolute","z-index":"100000",top:"0",left:"0"}),new I.StyleRule(H,".am5-modal-curtain",{top:"0",left:"0",width:"100%",height:"100%",position:"absolute",background:s.get("background").toCSS(.5),"z-index":"100"}),new I.StyleRule(H,".am5-modal-wrapper",{top:"0",left:"0",width:"100%",height:"100%",position:"absolute","text-align":"center","white-space":"nowrap",background:s.get("background").toCSS(.5),"z-index":"101"}),new I.StyleRule(H,".am5-modal-wrapper:before",{content:"''",display:"inline-block",height:"100%","vertical-align":"middle","margin-right":"-0.25em"}),new I.StyleRule(H,".am5-modal-content",{display:"inline-block",padding:"1.2em","vertical-align":"middle","text-align":"left","white-space":"normal",background:s.get("background").toCSS(),"border-radius":"4px","-webkit-box-shadow":"0px 0px 36px 0px "+d,"box-shadow":"0px 0px 36px 0px "+d,color:f}),new I.StyleRule(H,".am5-modal-content h1",{"font-size":"1em",margin:"0 0 0.5em 0"}),new I.StyleRule(H,".am5-modal-table",{display:"table",margin:"1em 0"}),new I.StyleRule(H,".am5-modal-table-row",{display:"table-row"}),new I.StyleRule(H,".am5-modal-table-heading",{display:"table-heading",padding:"3px 10px 3px 0"}),new I.StyleRule(H,".am5-modal-table-cell",{display:"table-cell",padding:"3px 0 3px 0"}),new I.StyleRule(H,".am5-modal-table-cell > *",{"vertical-align":"middle"}),new I.StyleRule(H,".am5-modal-content input[type=text], .am5-modal-content input[type=number], .am5-modal-content select",{border:"1px solid "+h,"border-radius":"4px",padding:"3px 5px",margin:"2px"}),new I.StyleRule(H,".am5-modal-input-narrow",{width:"50px"}),new I.StyleRule(H,".am5-modal-button",{"font-weight":"400",color:s.get("secondaryButtonText").toCSS(),"line-height":"1.5","text-align":"center","text-decoration":"none","vertical-align":"middle",cursor:"pointer",padding:"0.2em 0.8em","font-size":"1em","border-radius":"0.25em",margin:"0 0.25em 0 0",border:"1px solid "+s.get("secondaryButtonStroke").toCSS(),background:s.get("secondaryButton").toCSS()}),new I.StyleRule(H,".am5-modal-button:hover",{background:s.get("secondaryButtonHover").toCSS()}),new I.StyleRule(H,".am5-modal-button.am5-modal-primary",{color:s.get("primaryButtonText").toCSS(),border:"1px solid "+s.get("primaryButtonStroke").toCSS(),background:s.get("primaryButton").toCSS()}),new I.StyleRule(H,".am5-modal-button.am5-modal-primary:hover",{background:s.get("primaryButtonHover").toCSS()})]);w=new ae.DM(()=>{w=void 0,p.dispose()})}w.increment()}(I.getShadowRoot(this._root.dom),this._root);const e=document.createElement("div");e.className="am5-modal",e.style.display="none",this.root._inner.appendChild(e),this.setPrivate("container",e);const t=document.createElement("div");t.className="am5-modal-curtain",e.appendChild(t),this.setPrivate("curtain",t),this._disposers.push(I.addEventListener(t,"click",()=>{this.cancel()}));const s=document.createElement("div");s.className="am5-modal-wrapper",e.appendChild(s),this.setPrivate("wrapper",s);const h=document.createElement("div");h.className="am5-modal-content",s.appendChild(h),this.setPrivate("content",h);const f=this.get("content");f&&(h.innerHTML=f),I.supports("keyboardevents")&&this._disposers.push(I.addEventListener(document,"keydown",d=>{this.isOpen()&&27==d.keyCode&&this.cancel()}))}_beforeChanged(){super._beforeChanged(),this.isDirty("content")&&(this.getPrivate("content").innerHTML=this.get("content",""))}isOpen(){return"none"!=this.getPrivate("container").style.display}open(){this.getPrivate("container").style.display="block",this.get("deactivateRoot")&&this.setTimeout(()=>{this._root._renderer.interactionsEnabled=!1},10),this.events.dispatch("opened",{type:"opened",target:this})}close(){this.getPrivate("container").style.display="none",this.get("deactivateRoot")&&(this._root._renderer.interactionsEnabled=!0),this.events.dispatch("closed",{type:"closed",target:this})}cancel(){this.getPrivate("container").style.display="none",this.get("deactivateRoot")&&(this._root._renderer.interactionsEnabled=!0),this.events.dispatch("cancelled",{type:"cancelled",target:this})}dispose(){super.dispose();const e=this.getPrivate("container");e.parentElement&&e.parentElement.removeChild(e)}}Object.defineProperty(K,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Modal"}),Object.defineProperty(K,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:De.JH.classNames.concat([K.className])});var q=z(6095),se=z(4618),Q=z(1578);class ee extends he.T{constructor(){super(...arguments),Object.defineProperty(this,"morphAnimation",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_beforeChanged(){if(super._beforeChanged(),this.isDirty("coordinates")){const e=[],t=this.get("coordinates");t&&S.each(t,s=>{e.push({x:s[0],y:s[1]})}),this.set("points",e)}if(this.isPrivateDirty("points")&&(this._clear=!0),this.isDirty("points")){this._clear=!0;const e=this.get("points"),t=this._prevSettings.points;if(t){if(e){let p=S.copy(e),A=S.copy(t),L=p.length,G=A.length;if(L>G){let B=S.copy(p);for(let X=0;X<L;X++){let M=Math.floor(X/L*G);B[X]={x:A[M].x,y:A[M].y}}A=B}else if(G>L){let B=S.copy(A);for(let X=0;X<G;X++){let M=Math.floor(X/G*L);B[X]={x:p[M].x,y:p[M].y}}p=B}this.setPrivateRaw("previousPoints",A),this.setPrivateRaw("points",p),this.morphAnimation=this.animatePrivate({key:"morphProgress",from:0,to:1,duration:this.get("animationDuration",0),easing:this.get("animationEasing")}),this._root.events.once("frameended",()=>{this._markDirtyPrivateKey("morphProgress")})}}else this.setPrivateRaw("previousPoints",e),this.setPrivateRaw("points",e);let s=1/0,h=-1/0,f=1/0,d=-1/0;if(e)for(let p=1,A=e.length;p<A;p++){const L=e[p];s=Math.min(s,L.x),h=Math.max(h,L.x),f=Math.min(f,L.y),d=Math.max(d,L.y)}this.setPrivate("minX",s),this.setPrivate("maxX",h),this.setPrivate("minY",f),this.setPrivate("maxY",f)}this.isPrivateDirty("morphProgress")&&(this._clear=!0)}_changed(){super._changed(),this._clear&&this._draw()}_draw(){const e=this.getPrivate("previousPoints"),t=this.getPrivate("points"),s=this.getPrivate("morphProgress",1);if(t&&e){const h=t[0],f=e[0];h&&this._display.moveTo(f.x+(h.x-f.x)*s,f.y+(h.y-f.y)*s);for(let d=1,p=t.length;d<p;d++){const A=t[d],L=e[d];this._display.lineTo(L.x+(A.x-L.x)*s,L.y+(A.y-L.y)*s)}this._display.closePath()}}_updateSize(){this.markDirty(),this._clear=!0}}Object.defineProperty(ee,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Polygon"}),Object.defineProperty(ee,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:he.T.classNames.concat([ee.className])});class fe extends he.T{_beforeChanged(){super._beforeChanged(),(this.isDirty("radiusX")||this.isDirty("radiusY")||this.isDirty("rotation"))&&(this._clear=!0)}_changed(){super._changed(),this._clear&&this._display.drawEllipse(0,0,Math.abs(this.get("radiusX")),Math.abs(this.get("radiusY")))}}Object.defineProperty(fe,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Ellipse"}),Object.defineProperty(fe,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:he.T.classNames.concat([fe.className])});class re extends he.T{_beforeChanged(){super._beforeChanged(),(this.isDirty("radius")||this.isDirty("innerRadius")||this.isDirty("spikes"))&&(this._clear=!0)}_changed(){if(super._changed(),this._clear){const e=this._display,t=this.get("radius",0),s=I.relativeToValue(this.get("innerRadius",0),t),h=this.get("spikes",0),f=Math.PI/h;let d=Math.PI/2*3;e.moveTo(0,-t);for(let p=0;p<h;p++)e.lineTo(Math.cos(d)*t,Math.sin(d)*t),d+=f,e.lineTo(Math.cos(d)*s,Math.sin(d)*s),d+=f;e.lineTo(0,-t),e.closePath()}}}Object.defineProperty(re,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Star"}),Object.defineProperty(re,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:he.T.classNames.concat([re.className])});var ie=z(7313);class _e extends ue.W{constructor(){super(...arguments),Object.defineProperty(this,"_za",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_txa",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tya",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_movePoints",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_downScale",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_downX",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_downY",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_pinchDP",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contents",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(ue.W.new(this._root,{width:Ze.AQ,height:Ze.AQ,x:0,y:0,draggable:!0,background:Me.A.new(this._root,{fill:(0,pt.$_)(16777215),fillOpacity:0})}))}),Object.defineProperty(this,"_wheelDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_afterNew(){super._afterNew();const e=this.contents.events;this._disposers.push(e.on("pointerdown",t=>{this._handleThisDown(t)})),this._disposers.push(e.on("globalpointerup",t=>{this._handleThisUp(t)})),this._disposers.push(e.on("globalpointermove",t=>{this._handleThisMove(t)}))}_prepareChildren(){super._prepareChildren(),this.isDirty("wheelable")&&this._handleSetWheel(),this.contents._display.cancelTouch=this.get("pinchZoom",!1)}_handleSetWheel(){this.get("wheelable")?(this._wheelDp&&this._wheelDp.dispose(),this._wheelDp=this.events.on("wheel",e=>{const t=e.originalEvent;if(!I.isLocalEvent(t,this))return;t.preventDefault();const s=this.toLocal(e.point);this._handleWheelZoom(t.deltaY,s)}),this._disposers.push(this._wheelDp)):this._wheelDp&&this._wheelDp.dispose()}_handleWheelZoom(e,t){let s=this.get("zoomStep",2),h=this.contents.get("scale",1),f=h;e>0?f=h/s:e<0&&(f=h*s),f!=h&&this.zoomToPoint(t,f)}zoomToPoint(e,t){t&&(t=mt.fitToRange(t,this.get("minZoomLevel",1),this.get("maxZoomLevel",32)));const s=this.contents.get("scale",1);let h=e.x,f=e.y,d=h,p=f;const A=this.contents;let L=A.x(),G=A.y();return this._animateTo(d-(h-L)/s*t,p-(f-G)/s*t,t),this._za}zoomIn(){return this.zoomToPoint({x:this.width()/2,y:this.height()/2},this.contents.get("scale",1)*this.get("zoomStep",2))}zoomOut(){return this.zoomToPoint({x:this.width()/2,y:this.height()/2},this.contents.get("scale",1)/this.get("zoomStep",2))}goHome(){return this._animateTo(0,0,1)}_animateTo(e,t,s){const h=this.get("animationDuration",0),f=this.get("animationEasing"),d=this.contents;this._txa=d.animate({key:"x",to:e,duration:h,easing:f}),this._tya=d.animate({key:"y",to:t,duration:h,easing:f}),this._za=d.animate({key:"scale",to:s,duration:h,easing:f})}_handleThisUp(e){this._downPoints={}}_handleThisDown(e){const t=this.contents;this._downScale=t.get("scale",1);const s=t._downPoints;let h=Je.keys(s).length;if(1==h){let f=s[1];f||(f=s[0]),f&&f.x==e.point.x&&f.y==e.point.y&&(h=0)}if(h>0){this._downX=t.x(),this._downY=t.y();const f=t._getDownPointId();if(f){let d=this._movePoints[f];d&&(t._downPoints[f]=d)}}}_handleThisMove(e){const s=e.originalEvent.pointerId;this.get("pinchZoom")&&s&&(this._movePoints[s]=e.point,Je.keys(this.contents._downPoints).length>1)&&this._handlePinch()}_handlePinch(){let e=0,t=[],s=[];if(Je.each(this.contents._downPoints,(h,f)=>{t[e]=f;let d=this._movePoints[h];d&&(s[e]=d),e++}),t.length>1&&s.length>1){this.contents._isDragging=!1;let h=t[0],f=t[1],d=s[0],p=s[1];if(h&&f&&d&&p){h=this.toLocal(h),f=this.toLocal(f),d=this.toLocal(d),p=this.toLocal(p);let A=Math.hypot(f.x-h.x,f.y-h.y),G=Math.hypot(p.x-d.x,p.y-d.y)/A*this._downScale,B={x:d.x+(p.x-d.x)/2,y:d.y+(p.y-d.y)/2},X={x:h.x+(f.x-h.x)/2,y:h.y+(f.y-h.y)/2},T=this._downScale;this.contents.setAll({x:B.x-(-(this._downX||0)+X.x)/T*G,y:B.y-(-(this._downY||0)+X.y)/T*G,scale:G})}}}}Object.defineProperty(_e,"className",{enumerable:!0,configurable:!0,writable:!0,value:"ZoomableContainer"}),Object.defineProperty(_e,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ue.W.classNames.concat([_e.className])});var Se=z(1262),Ye=z(867),xe=z(1371),Ie=z(434);class ze extends De.JH{_afterNew(){super._afterNewApplyThemes()}getFill(e){return{addColorStop:(t,s)=>{}}}_changed(){super._changed()}getBounds(e){const t=this.get("target");if(t){let s=t.globalBounds();const h=e.toLocal({x:s.left,y:s.top}),f=e.toLocal({x:s.right,y:s.top}),d=e.toLocal({x:s.right,y:s.bottom}),p=e.toLocal({x:s.left,y:s.bottom});return{left:Math.min(h.x,f.x,d.x,p.x),top:Math.min(h.y,f.y,d.y,p.y),right:Math.max(h.x,f.x,d.x,p.x),bottom:Math.max(h.y,f.y,d.y,p.y)}}return e._display.getLocalBounds()}}Object.defineProperty(ze,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Gradient"}),Object.defineProperty(ze,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:De.JH.classNames.concat([ze.className])});class et extends ze{getFill(e){const t=this.get("rotation",0);let s=this.getBounds(e),h=s.left||0,f=s.right||0,d=s.top||0,p=s.bottom||0,A=mt.cos(t),L=mt.sin(t),X=Math.max(A*(f-h),L*(p-d));const M=this._root._renderer.createLinearGradient(h,d,h+X*A,d+X*L),de=this.get("stops");if(de){let T=0;S.each(de,le=>{let ne=le.offset;Le.isNumber(ne)||(ne=T/(de.length-1));let Ee=le.opacity;Le.isNumber(Ee)||(Ee=1);let we=le.color;if(we){const pe=le.lighten;pe&&(we=pt.Il.lighten(we,pe));const Be=le.brighten;Be&&(we=pt.Il.brighten(we,Be)),M.addColorStop(ne,"rgba("+we.r+","+we.g+","+we.b+","+Ee+")")}T++})}return M}}Object.defineProperty(et,"className",{enumerable:!0,configurable:!0,writable:!0,value:"LinearGradient"}),Object.defineProperty(et,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ze.classNames.concat([et.className])});class qe extends ue.W{constructor(){super(...arguments),Object.defineProperty(this,"labelContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(ue.W.new(this._root,{}))}),Object.defineProperty(this,"markerContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(ue.W.new(this._root,{}))}),Object.defineProperty(this,"startLabel",{enumerable:!0,configurable:!0,writable:!0,value:this.labelContainer.children.push(Se._.new(this._root,{themeTags:["start"]}))}),Object.defineProperty(this,"endLabel",{enumerable:!0,configurable:!0,writable:!0,value:this.labelContainer.children.push(Se._.new(this._root,{themeTags:["end"]}))}),Object.defineProperty(this,"markers",{enumerable:!0,configurable:!0,writable:!0,value:new Ie.o(xe.YS.new({}),()=>Ye.c._new(this._root,{themeTags:I.mergeTags(this.markers.template.get("themeTags",[]),[this.get("orientation"),"heatlegend","marker"])},[this.markers.template]))})}_afterNew(){this._settings.themeTags=I.mergeTags(this._settings.themeTags,["heatlegend",this._settings.orientation]),super._afterNew(),this.set("tooltip",Ge.u.new(this._root,{themeTags:["heatlegend"]}))}makeMarker(){const e=this.markers.make();return e.states.create("disabled",{}),e}showValue(e,t,s){const h=this.getTooltip();if(h&&Le.isNumber(e)){const f=this.get("startValue",0),p=(e-f)/(this.get("endValue",1)-f),A=this.get("startColor"),L=this.get("endColor");let G;t||(t=this.getNumberFormatter().format(e)),s||(s=pt.Il.interpolate(p,A,L)),h.label.set("text",t),G="vertical"==this.get("orientation")?this.markerContainer.toGlobal({x:0,y:this.innerHeight()*(1-p)}):this.markerContainer.toGlobal({x:this.innerWidth()*p,y:0});let B=h.get("background");B&&B.set("fill",s),h.set("pointTo",G),h.show()}}_prepareChildren(){super._prepareChildren();const e=this.labelContainer,t=this.get("orientation"),s=this.startLabel,h=this.endLabel,f=this.getTooltip();if(this.isDirty("orientation")&&("vertical"==t?(this.markerContainer.setAll({layout:this._root.verticalLayout,height:Ze.AQ}),this.set("layout",this._root.horizontalLayout),s.setAll({y:Ze.AQ,x:void 0,centerY:Ze.AQ,centerX:Ze.AQ}),h.setAll({y:0,x:void 0,centerY:0,centerX:Ze.AQ}),e.setAll({height:Ze.AQ,width:void 0}),f&&f.set("pointerOrientation","horizontal")):(this.markerContainer.setAll({layout:this._root.horizontalLayout,width:Ze.AQ}),this.set("layout",this._root.verticalLayout),s.setAll({x:0,y:void 0,centerX:0,centerY:0}),h.setAll({x:Ze.AQ,y:void 0,centerX:Ze.AQ,centerY:0}),e.setAll({width:Ze.AQ,height:void 0}),f&&f.set("pointerOrientation","vertical"))),this.isDirty("stepCount")){const d=this.get("stepCount",1),p=this.get("startColor"),A=this.get("endColor");if(this.markerContainer.children.clear(),d>1)for(let L=0;L<d;L++){const G=this.makeMarker();"vertical"==t?this.markerContainer.children.moveValue(G,0):this.markerContainer.children.push(G),p&&A&&G.set("fill",pt.Il.interpolate(L/d,p,A))}else if(1==d){const L=this.makeMarker();this.markerContainer.children.push(L);const G=et.new(this._root,{stops:[{color:p},{color:A}]});if("vertical"==t){G.set("rotation",90);let B=G.get("stops");B&&B.reverse()}else G.set("rotation",0);p&&A&&L.set("fillGradient",G)}}(this.isDirty("startText")||this.isDirty("startValue"))&&s.set("text",this.get("startText",this.getNumberFormatter().format(this.get("startValue",0)))),(this.isDirty("endText")||this.isDirty("endValue"))&&h.set("text",this.get("endText",this.getNumberFormatter().format(this.get("endValue",1))))}}Object.defineProperty(qe,"className",{enumerable:!0,configurable:!0,writable:!0,value:"HeatLegend"}),Object.defineProperty(qe,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ue.W.classNames.concat([qe.className])});var Ue=z(7591),Mt=z(3164);class Tt extends Mt.F{constructor(){super(...arguments),Object.defineProperty(this,"itemContainers",{enumerable:!0,configurable:!0,writable:!0,value:new Ie.o(xe.YS.new({}),()=>ue.W._new(this._root,{themeTags:I.mergeTags(this.itemContainers.template.get("themeTags",[]),["legend","item"]),themeTagsSelf:I.mergeTags(this.itemContainers.template.get("themeTagsSelf",[]),["itemcontainer"]),background:Ye.c.new(this._root,{themeTags:I.mergeTags(this.itemContainers.template.get("themeTags",[]),["legend","item","background"]),themeTagsSelf:I.mergeTags(this.itemContainers.template.get("themeTagsSelf",[]),["itemcontainer"])})},[this.itemContainers.template]))}),Object.defineProperty(this,"markers",{enumerable:!0,configurable:!0,writable:!0,value:new Ie.o(xe.YS.new({}),()=>ue.W._new(this._root,{themeTags:I.mergeTags(this.markers.template.get("themeTags",[]),["legend","marker"])},[this.markers.template]))}),Object.defineProperty(this,"labels",{enumerable:!0,configurable:!0,writable:!0,value:new Ie.o(xe.YS.new({}),()=>Se._._new(this._root,{themeTags:I.mergeTags(this.labels.template.get("themeTags",[]),["legend","label"])},[this.labels.template]))}),Object.defineProperty(this,"valueLabels",{enumerable:!0,configurable:!0,writable:!0,value:new Ie.o(xe.YS.new({}),()=>Se._._new(this._root,{themeTags:I.mergeTags(this.valueLabels.template.get("themeTags",[]),["legend","label","value"])},[this.valueLabels.template]))}),Object.defineProperty(this,"markerRectangles",{enumerable:!0,configurable:!0,writable:!0,value:new Ie.o(xe.YS.new({}),()=>Ye.c._new(this._root,{themeTags:I.mergeTags(this.markerRectangles.template.get("themeTags",[]),["legend","marker","rectangle"])},[this.markerRectangles.template]))})}_afterNew(){this._settings.themeTags=I.mergeTags(this._settings.themeTags,["legend"]),this.fields.push("name","stroke","fill"),super._afterNew()}makeItemContainer(e){const t=this.children.push(this.itemContainers.make());return t._setDataItem(e),this.itemContainers.push(t),t.states.create("disabled",{}),t}makeMarker(){const e=this.markers.make();return this.markers.push(e),e.states.create("disabled",{}),e}makeLabel(){const e=this.labels.make();return e.states.create("disabled",{}),e}makeValueLabel(){const e=this.valueLabels.make();return e.states.create("disabled",{}),e}makeMarkerRectangle(){const e=this.markerRectangles.make();return e.states.create("disabled",{}),e}processDataItem(e){super.processDataItem(e);const t=this.makeItemContainer(e),s=this.get("nameField"),h=this.get("fillField"),f=this.get("strokeField");if(t){const d=this.get("clickTarget","itemContainer"),p=e.dataContext;p&&p.set&&p.set("legendDataItem",e),t._setDataItem(e),e.set("itemContainer",t);const A=this.makeMarker();if(A){t.children.push(A),A._setDataItem(e),e.set("marker",A);const B=this.get("useDefaultMarker"),X=A.children.push(this.makeMarkerRectangle());let M=e.get("fill"),de=e.get("stroke");e.set("markerRectangle",X),p&&p.get&&(M=p.get(h,M),de=p.get(f,de)),de||(de=M),B?p.on&&(p.on(h,()=>{X.set("fill",p.get(h))}),p.on(f,()=>{X.set("stroke",p.get(f))})):p&&p.createLegendMarker&&p.createLegendMarker(),X.setAll({fill:M,stroke:de});const T=p.component;T&&T.updateLegendMarker&&T.updateLegendMarker(p)}const L=this.makeLabel();if(L){t.children.push(L),L._setDataItem(e),e.set("label",L),L.text.on("text",()=>{t.setRaw("ariaLabel",L.text._getText()+("none"!==this.get("clickTarget")?"; "+this._t("Press ENTER to toggle"):"")),t.markDirtyAccessibility()}),p&&p.get&&e.set("name",p.get(s));let B=e.get("name");B&&L.set("text",B)}const G=this.makeValueLabel();if(G&&(t.children.push(G),G._setDataItem(e),e.set("valueLabel",G)),p&&p.show&&(p.on("visible",B=>{t.set("disabled",!B)}),p.get("visible")||t.set("disabled",!0),"none"!=d)){let B=t;"marker"==d&&(B=A),this._addClickEvents(B,p,e)}this.children.values.sort((B,X)=>{const M=B.dataItem.dataContext,de=X.dataItem.dataContext;if(M&&de){const T=this.data.indexOf(M),le=this.data.indexOf(de);if(T>le)return 1;if(T<le)return-1}return 0}),p&&p.updateLegendValue&&p.updateLegendValue()}}_addClickEvents(e,t,s){e.set("cursorOverStyle","pointer"),e.events.on("pointerover",()=>{const h=t.component;h&&h.hoverDataItem&&h.hoverDataItem(t)}),e.events.on("pointerout",()=>{const h=t.component;h&&h.hoverDataItem&&h.unhoverDataItem(t)}),e.events.on("click",()=>{const h=s.get("label").text._getText();t.show&&t.isHidden&&(t.isHidden()||!1===t.get("visible"))?(t.show(),e.set("disabled",!1),this._root.readerAlert(this._t("%1 shown",this._root.locale,h))):t.hide&&(t.hide(),e.set("disabled",!0),this._root.readerAlert(this._t("%1 hidden",this._root.locale,h)))})}disposeDataItem(e){super.disposeDataItem(e);const t=e.dataContext;t&&t.get&&t.get("legendDataItem")==e&&t.set("legendDataItem",void 0);let s=e.get("itemContainer");s&&(this.itemContainers.removeValue(s),s.dispose());let h=e.get("marker");h&&(this.markers.removeValue(h),h.dispose());let f=e.get("markerRectangle");f&&(this.markerRectangles.removeValue(f),f.dispose());let d=e.get("label");d&&(this.labels.removeValue(d),d.dispose());let p=e.get("valueLabel");p&&(this.valueLabels.removeValue(p),p.dispose())}}Object.defineProperty(Tt,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Legend"}),Object.defineProperty(Tt,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Mt.F.classNames.concat([Tt.className])});var Dt=z(6606),Ht=z(6290);class ct extends Ht.j{constructor(){super(...arguments),Object.defineProperty(this,"_display",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makePicture(void 0)})}_changed(){if(super._changed(),this.isDirty("width")){const e=this.get("width");this._display.width=Le.isNumber(e)?e:void 0}if(this.isDirty("height")){const e=this.get("height");this._display.height=Le.isNumber(e)?e:void 0}if(this.isDirty("shadowColor")){this._display.clear();const e=this.get("shadowColor");this._display.shadowColor=e??void 0}this.isDirty("shadowBlur")&&(this._display.clear(),this._display.shadowBlur=this.get("shadowBlur")),this.isDirty("shadowOffsetX")&&(this._display.clear(),this._display.shadowOffsetX=this.get("shadowOffsetX")),this.isDirty("shadowOffsetY")&&(this._display.clear(),this._display.shadowOffsetY=this.get("shadowOffsetY")),this.isDirty("shadowOpacity")&&(this._display.clear(),this._display.shadowOpacity=this.get("shadowOpacity")),(this.isDirty("src")||this.isDirty("cors"))&&(this._display.clear(),this._load())}_load(){const e=this.get("src");if(e){const t=new Image;t.crossOrigin=this.get("cors","anonymous"),t.src=e,t.decode().then(()=>{this._display.image=t,this._updateSize(),this.events.isEnabled("loaded")&&this.events.dispatch("loaded",{type:"loaded",target:this})}).catch(s=>{this.events.isEnabled("loaderror")&&this.events.dispatch("loaderror",{type:"loaderror",target:this})})}}_updateSize(){super._updateSize();const e=this._display.image;if(e){let t=this.getPrivate("width",this.get("width")),s=this.getPrivate("height",this.get("height"));const h=e.width&&e.height?e.width/e.height:0;Le.isNumber(t)&&Le.isNumber(s)?(this._display.width=t,this._display.height=s):Le.isNumber(t)&&h?s=t/h:Le.isNumber(s)&&h?t=s*h:(t=e.width,s=e.height),Le.isNumber(t)&&(this._display.width=t),Le.isNumber(s)&&(this._display.height=s),this.markDirtyBounds(),this.markDirty()}}}Object.defineProperty(ct,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Picture"}),Object.defineProperty(ct,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Ht.j.classNames.concat([ct.className])});var Qe=z(7707),ai=z(9005),oi=z(8490);class Wt extends he.T{_beforeChanged(){super._beforeChanged(),(this.isDirty("width")||this.isDirty("height")||this.isPrivateDirty("width")||this.isPrivateDirty("height"))&&(this._clear=!0)}_changed(){super._changed(),this._clear&&!this.get("draw")&&this._draw()}_draw(){const e=this.width(),t=this.height(),s=this._display;s.moveTo(-e/2,t/2),s.lineTo(0,-t/2),s.lineTo(e/2,t/2),s.lineTo(-e/2,t/2),s.closePath()}_updateSize(){this.markDirty(),this._clear=!0}}Object.defineProperty(Wt,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Triangle"}),Object.defineProperty(Wt,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:he.T.classNames.concat([Wt.className])});var kt=z(4248);class Zt extends kt.L{_afterNew(){this._addOrientationClass(),super._afterNew(),this.endGrip.setPrivate("visible",!1),this.thumb.setPrivate("visible",!1)}updateGrips(){super.updateGrips();const e=this.startGrip;this.endGrip.setAll({x:e.x(),y:e.y()}),this.setRaw("end",this.get("start"))}}Object.defineProperty(Zt,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Slider"}),Object.defineProperty(Zt,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:kt.L.classNames.concat([Zt.className])});var Et=z(6979);const at=Math.abs,St=Math.atan2,Gt=Math.cos,vs=Math.max,Tr=Math.min,ei=Math.sin,Ki=Math.sqrt,Qt=1e-12,cr=Math.PI,Sr=cr/2,Cr=2*cr;function Ir(H){return H>=1?Sr:H<=-1?-Sr:Math.asin(H)}var xs=z(5831);function jr(H){return H.innerRadius}function Nr(H){return H.outerRadius}function qr(H){return H.startAngle}function es(H){return H.endAngle}function Br(H){return H&&H.padAngle}function fi(H,e,t,s,h,f,d){var p=H-t,A=e-s,L=(d?f:-f)/Ki(p*p+A*A),G=L*A,B=-L*p,X=H+G,M=e+B,de=t+G,T=s+B,le=(X+de)/2,ne=(M+T)/2,Ee=de-X,we=T-M,pe=Ee*Ee+we*we,Be=h-f,_t=X*T-de*M,ot=(we<0?-1:1)*Ki(vs(0,Be*Be*pe-_t*_t)),vt=(_t*we-Ee*ot)/pe,Ct=(-_t*Ee-we*ot)/pe,He=(_t*we+Ee*ot)/pe,tt=(-_t*Ee+we*ot)/pe,dt=vt-le,je=Ct-ne,$e=He-le,yt=tt-ne;return dt*dt+je*je>$e*$e+yt*yt&&(vt=He,Ct=tt),{cx:vt,cy:Ct,x01:-G,y01:-B,x11:vt*(h/Be-1),y11:Ct*(h/Be-1)}}function ws(){var H=jr,e=Nr,t=(0,Et.Z)(0),s=null,h=qr,f=es,d=Br,p=null,A=(0,xs.d)(L);function L(){var G,B,X=+H.apply(this,arguments),M=+e.apply(this,arguments),de=h.apply(this,arguments)-Sr,T=f.apply(this,arguments)-Sr,le=at(T-de),ne=T>de;if(p||(p=G=A()),M<X&&(B=M,M=X,X=B),M>Qt)if(le>Cr-Qt)p.moveTo(M*Gt(de),M*ei(de)),p.arc(0,0,M,de,T,!ne),X>Qt&&(p.moveTo(X*Gt(T),X*ei(T)),p.arc(0,0,X,T,de,ne));else{var je,$e,Ee=de,we=T,pe=de,Be=T,_t=le,ot=le,vt=d.apply(this,arguments)/2,Ct=vt>Qt&&(s?+s.apply(this,arguments):Ki(X*X+M*M)),He=Tr(at(M-X)/2,+t.apply(this,arguments)),tt=He,dt=He;if(Ct>Qt){var yt=Ir(Ct/X*ei(vt)),pi=Ir(Ct/M*ei(vt));(_t-=2*yt)>Qt?(pe+=yt*=ne?1:-1,Be-=yt):(_t=0,pe=Be=(de+T)/2),(ot-=2*pi)>Qt?(Ee+=pi*=ne?1:-1,we-=pi):(ot=0,Ee=we=(de+T)/2)}var it=M*Gt(Ee),At=M*ei(Ee),Vt=X*Gt(Be),$t=X*ei(Be);if(He>Qt){var wt,li=M*Gt(we),Kt=M*ei(we),ui=X*Gt(pe),Nt=X*ei(pe);if(le<cr)if(wt=function Yr(H,e,t,s,h,f,d,p){var A=t-H,L=s-e,G=d-h,B=p-f,X=B*A-G*L;if(!(X*X<Qt))return[H+(X=(G*(e-f)-B*(H-h))/X)*A,e+X*L]}(it,At,ui,Nt,li,Kt,Vt,$t)){var Ft=it-wt[0],ri=At-wt[1],wr=li-wt[0],er=Kt-wt[1],Gr=1/ei(function Jr(H){return H>1?0:H<-1?cr:Math.acos(H)}((Ft*wr+ri*er)/(Ki(Ft*Ft+ri*ri)*Ki(wr*wr+er*er)))/2),os=Ki(wt[0]*wt[0]+wt[1]*wt[1]);tt=Tr(He,(X-os)/(Gr-1)),dt=Tr(He,(M-os)/(Gr+1))}else tt=dt=0}ot>Qt?dt>Qt?(je=fi(ui,Nt,it,At,M,dt,ne),$e=fi(li,Kt,Vt,$t,M,dt,ne),p.moveTo(je.cx+je.x01,je.cy+je.y01),dt<He?p.arc(je.cx,je.cy,dt,St(je.y01,je.x01),St($e.y01,$e.x01),!ne):(p.arc(je.cx,je.cy,dt,St(je.y01,je.x01),St(je.y11,je.x11),!ne),p.arc(0,0,M,St(je.cy+je.y11,je.cx+je.x11),St($e.cy+$e.y11,$e.cx+$e.x11),!ne),p.arc($e.cx,$e.cy,dt,St($e.y11,$e.x11),St($e.y01,$e.x01),!ne))):(p.moveTo(it,At),p.arc(0,0,M,Ee,we,!ne)):p.moveTo(it,At),X>Qt&&_t>Qt?tt>Qt?(je=fi(Vt,$t,li,Kt,X,-tt,ne),$e=fi(it,At,ui,Nt,X,-tt,ne),p.lineTo(je.cx+je.x01,je.cy+je.y01),tt<He?p.arc(je.cx,je.cy,tt,St(je.y01,je.x01),St($e.y01,$e.x01),!ne):(p.arc(je.cx,je.cy,tt,St(je.y01,je.x01),St(je.y11,je.x11),!ne),p.arc(0,0,X,St(je.cy+je.y11,je.cx+je.x11),St($e.cy+$e.y11,$e.cx+$e.x11),ne),p.arc($e.cx,$e.cy,tt,St($e.y11,$e.x11),St($e.y01,$e.x01),!ne))):p.arc(0,0,X,Be,pe,ne):p.lineTo(Vt,$t)}else p.moveTo(0,0);if(p.closePath(),G)return p=null,G+""||null}return L.centroid=function(){var G=(+H.apply(this,arguments)+ +e.apply(this,arguments))/2,B=(+h.apply(this,arguments)+ +f.apply(this,arguments))/2-cr/2;return[Gt(B)*G,ei(B)*G]},L.innerRadius=function(G){return arguments.length?(H="function"==typeof G?G:(0,Et.Z)(+G),L):H},L.outerRadius=function(G){return arguments.length?(e="function"==typeof G?G:(0,Et.Z)(+G),L):e},L.cornerRadius=function(G){return arguments.length?(t="function"==typeof G?G:(0,Et.Z)(+G),L):t},L.padRadius=function(G){return arguments.length?(s=null==G?null:"function"==typeof G?G:(0,Et.Z)(+G),L):s},L.startAngle=function(G){return arguments.length?(h="function"==typeof G?G:(0,Et.Z)(+G),L):h},L.endAngle=function(G){return arguments.length?(f="function"==typeof G?G:(0,Et.Z)(+G),L):f},L.padAngle=function(G){return arguments.length?(d="function"==typeof G?G:(0,Et.Z)(+G),L):d},L.context=function(G){return arguments.length?(p=G??null,L):p},L}class Or extends he.T{constructor(){super(...arguments),Object.defineProperty(this,"ix",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"iy",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_generator",{enumerable:!0,configurable:!0,writable:!0,value:ws()})}_getTooltipPoint(){let e=this.get("tooltipX"),t=this.get("tooltipY"),s=0,h=0;Le.isNumber(e)&&(s=e),Le.isNumber(t)&&(h=t);let f=this.get("radius",0),d=this.get("innerRadius",0);return f+=this.get("dRadius",0),d+=this.get("dInnerRadius",0),d<0&&(d=f+d),e instanceof Ze.gG&&(s=this.ix*(d+(f-d)*e.value)),t instanceof Ze.gG&&(h=this.iy*(d+(f-d)*t.value)),this.get("arc")>=360&&0==d&&(s=0,h=0),{x:s,y:h}}_beforeChanged(){super._beforeChanged(),(this.isDirty("radius")||this.isDirty("arc")||this.isDirty("innerRadius")||this.isDirty("startAngle")||this.isDirty("dRadius")||this.isDirty("dInnerRadius")||this.isDirty("cornerRadius")||this.isDirty("shiftRadius"))&&(this._clear=!0)}_changed(){if(super._changed(),this._clear){let e=this.get("startAngle",0),t=this.get("arc",0);const s=this._generator;t<0&&(e+=t,t*=-1),t>.1&&s.cornerRadius(this.get("cornerRadius",0)),s.context(this._display);let h=this.get("radius",0),f=this.get("innerRadius",0);h+=this.get("dRadius",0),f+=this.get("dInnerRadius",0),f<0&&(f=h+f),s({innerRadius:f,outerRadius:h,startAngle:(e+90)*mt.RADIANS,endAngle:(e+t+90)*mt.RADIANS});let A=e+t/2;this.ix=mt.cos(A),this.iy=mt.sin(A);const L=this.get("shiftRadius",0);this.setRaw("dx",this.ix*L),this.setRaw("dy",this.iy*L),this.markDirtyPosition()}}}Object.defineProperty(Or,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Slice"}),Object.defineProperty(Or,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:he.T.classNames.concat([Or.className])});var ts=z(6288),Ps=z(3704),is=z(9879),zr=z(8853),ii=z(4555);class Bi extends ii.c{constructor(){super(...arguments),Object.defineProperty(this,"canvas",{enumerable:!0,configurable:!0,writable:!0,value:document.createElement("canvas")}),Object.defineProperty(this,"context",{enumerable:!0,configurable:!0,writable:!0,value:this.canvas.getContext("2d")}),Object.defineProperty(this,"_clearGrain",{enumerable:!0,configurable:!0,writable:!0,value:!1})}_beforeChanged(){this.canvas.width=this.get("width",200),this.canvas.height=this.get("height",200),(this.isDirty("size")||this.isDirty("density")||this.isDirty("minOpacity")||this.isDirty("maxOpacity")||this.isDirty("colors")||this.isDirty("horizontalGap")||this.isDirty("verticalGap"))&&(this._clearGrain=!0),super._beforeChanged()}_changed(){if(super._changed(),this._clearGrain){const e=this.get("width",200),t=this.get("height",200),s=this.context.getImageData(0,0,e,t),h=Math.max(1,this.get("size",1)),f=this.get("minOpacity",0),d=this.get("maxOpacity",.3),p=this.get("colors",[this.get("color",pt.Il.fromHex(0))]),A=e/h,L=t/h,G=this.get("density",1),B=this.get("horizontalGap",0)+1,X=this.get("verticalGap",0)+1;for(let M=0;M<L;M++)if(!(X>0&&M/X!=Math.round(M/X)))for(let de=0;de<A;de++){const T=p[Math.floor(Math.random()*p.length)],le=255*(f+Math.random()*(d-f)),ne=Math.random();B>0&&de/B!=Math.round(de/B)||ne<G&&this._setRectData(de,M,h,e,s.data,T.r,T.g,T.b,le)}this.context.putImageData(s,0,0),this._pattern=this.context.createPattern(this.canvas,"repeat")}this._clearGrain=!1}_checkDirtyFill(){return!1}_setRectData(e,t,s,h,f,d,p,A,L){for(var G=e*s;G<e*s+s;G++)for(var B=t*s;B<t*s+s;B++){var X=4*(B*h+G);f[X]=d,f[X+1]=p,f[X+2]=A,f[X+3]=L}}}Object.defineProperty(Bi,"className",{enumerable:!0,configurable:!0,writable:!0,value:"GrainPattern"}),Object.defineProperty(Bi,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ii.c.classNames.concat([Bi.className])});class Ji extends ze{getFill(e){const t=this.getBounds(e);let s=0,h=0;const L=(t.right||0)-(t.left||0),G=(t.bottom||0)-(t.top||0);let B=e.get("radius");Le.isNumber(B)?(s=0,h=0):(B=Math.min(L,G)/2,s=L/2,h=G/2);let X=this.get("x"),M=this.get("y");null!=X&&(s=I.relativeToValue(X,L)),null!=M&&(h=I.relativeToValue(M,G));const de=this._root._renderer.createRadialGradient(s,h,0,s,h,B),T=this.get("stops");if(T){let le=0;S.each(T,ne=>{let Ee=ne.offset;Le.isNumber(Ee)||(Ee=le/(T.length-1));let we=ne.opacity;Le.isNumber(we)||(we=1);let pe=ne.color;if(pe){const Be=ne.lighten;Be&&(pe=pt.Il.lighten(pe,Be));const _t=ne.brighten;_t&&(pe=pt.Il.brighten(pe,_t)),de.addColorStop(Ee,"rgba("+pe.r+","+pe.g+","+pe.b+","+we+")")}le++})}return de}}Object.defineProperty(Ji,"className",{enumerable:!0,configurable:!0,writable:!0,value:"RadialGradient"}),Object.defineProperty(Ji,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ze.classNames.concat([Ji.className])});class qi extends ii.c{_beforeChanged(){super._beforeChanged(),this.isDirty("gap")&&(this._clear=!0)}_draw(){super._draw();const e=this.get("checkered",!1),t=this.get("centered",!0),s=this.get("gap",0),h=this.get("rotation",0);let f=this.get("width",100),d=this.get("height",100),p=this.get("radius",3),A=2*p+s,L=2*p+s,G=Math.round(f/A),B=Math.round(d/L);A=f/G,L=d/B,0!=h&&(this._display.x=A*mt.cos(h),this._display.y=L*mt.sin(h));const X=this.get("color"),M=this.get("colorOpacity");(X||M)&&this._display.beginFill(X,M);for(let de=0==h?0:2*-B;de<2*B;de++)for(let T=0==h?0:2*-G;T<2*G;T++)if(!e||1!=(1&de)&&1!=(1&T)||1==(1&de)&&1==(1&T)){let le=T*A,ne=de*L;t&&(le+=A+s/2,ne+=L+s/2),this._display.drawCircle(le-p,ne-p,p)}e?(f=f/2-2*s,d=d/2-2*s):(f-=s,d-=s),(X||M)&&this._display.endFill()}}Object.defineProperty(qi,"className",{enumerable:!0,configurable:!0,writable:!0,value:"CirclePattern"}),Object.defineProperty(qi,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ii.c.classNames.concat([qi.className])});class Oi extends ii.c{_beforeChanged(){super._beforeChanged(),this.isDirty("gap")&&(this._clear=!0)}_draw(){super._draw();const e=this.get("width",100),t=this.get("height",100),s=this.get("gap",0),h=this.get("strokeWidth",1);if(s){let p=s+h,A=t/p;for(let L=-A;L<2*A;L++){const G=Math.round(L*p-p/2)+.5;this._display.moveTo(-e,G),this._display.lineTo(2*e,G)}}else this._display.moveTo(0,0),this._display.lineTo(e,0);this._display.lineStyle(h,this.get("color"),this.get("colorOpacity"));let f=this.get("strokeDasharray");Le.isNumber(f)&&(f=f<.5?[0]:[f]),this._display.setLineDash(f);const d=this.get("strokeDashoffset");d&&this._display.setLineDashOffset(d),this._display.endStroke()}}Object.defineProperty(Oi,"className",{enumerable:!0,configurable:!0,writable:!0,value:"LinePattern"}),Object.defineProperty(Oi,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ii.c.classNames.concat([Oi.className])});var Fr=z(1701);class dr extends ii.c{_beforeChanged(){super._beforeChanged(),this.isDirty("gap")&&(this._clear=!0)}_draw(){super._draw();const e=this.get("checkered",!1),t=this.get("centered",!0),s=this.get("gap",0),h=this.get("rotation",0);let f=this.get("width",100),d=this.get("height",100),p=this.get("maxWidth",5),A=this.get("maxHeight",5);const L=this._display;let G=p+s,B=A+s,X=Math.round(f/G),M=Math.round(d/B);G=f/X,B=d/M,0!=h&&(L.x=G/2*mt.cos(h),L.y=-B/2*mt.sin(h));for(let le=0==h?0:2*-M;le<2*M;le++)for(let ne=0==h?0:2*-X;ne<2*X;ne++)if(!e||1!=(1&le)&&1!=(1&ne)||1==(1&le)&&1==(1&ne)){let Ee=ne*G,we=le*B;t&&(Ee+=(G-p)/2,we+=(B-A)/2),L.drawRect(Ee,we,p,A)}e?(f=f/2-2*s,d=d/2-2*s):(f-=s,d-=s);const de=this.get("color"),T=this.get("colorOpacity");(de||T)&&(L.beginFill(de,T),L.endFill())}}Object.defineProperty(dr,"className",{enumerable:!0,configurable:!0,writable:!0,value:"RectanglePattern"}),Object.defineProperty(dr,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ii.c.classNames.concat([dr.className])});class Yi extends ii.c{_beforeChanged(){super._beforeChanged(),this.isDirty("svgPath")&&(this._clear=!0)}_draw(){super._draw();const e=this.get("svgPath");null!=e&&this._display.svgPath(e);const t=this.get("color"),s=this.get("colorOpacity");(t||s)&&(this._display.beginFill(t,s),this._display.endFill())}}Object.defineProperty(Yi,"className",{enumerable:!0,configurable:!0,writable:!0,value:"PathPattern"}),Object.defineProperty(Yi,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ii.c.classNames.concat([Yi.className])});var rs=z(2661),Xr=z(1171);class vi{static parse(e,t){t=this._applyDefaults(t);try{if(Le.isString(e)){let s=JSON.parse(e);return t.reverse&&Le.isArray(s)&&s.reverse(),s}if(Le.isArray(e)||Le.isObject(e))return e;throw"Unable to parse JSON data"}catch{return}}static _applyDefaults(e){const t={};return e||(e={}),Je.each({reverse:!1},(h,f)=>{t[h]=e[h]||f}),t}}class xi{static parse(e,t){t=this._applyDefaults(t);let d,p,A,s=this.CSVToArray(e,t.delimiter),h=[],f=[];for(p=0;p<t.skipRows;p++)s.shift();if(t.useColumnNames){f=s.shift();for(let L=0;L<f.length;L++)d=null!=f[L]?f[L].replace(/^\s+|\s+$/gm,""):"",""===d&&(d="col"+L),f[L]=d}for(;A=t.reverse?s.pop():s.shift(),A;){if(t.skipEmpty&&1===A.length&&""===A[0])continue;let L={};for(p=0;p<A.length;p++)d=void 0===f[p]?"col"+p:f[p],L[d]=A[p];h.push(L)}return h}static CSVToArray(e,t){t=t||",";let s=new RegExp("(\\"+t+'|\\r?\\n|\\r|^)(?:"([^"]*(?:""[^"]*)*)"|([^"\\'+t+"\\r\\n]*))","gi"),h=[[]],f=null;for(;f=s.exec(e),f;){let p,d=f[1];d.length&&d!==t&&h.push([]),p=f[2]?f[2].replace(new RegExp('""',"g"),'"'):f[3],h[h.length-1].push(p)}return h}static _applyDefaults(e){const t={};return e||(e={}),Je.each({delimiter:",",reverse:!1,skipRows:0,skipEmpty:!0,useColumnNames:!1},(h,f)=>{t[h]=e[h]||f}),t}}class gi extends De.JH{constructor(){super(...arguments),Object.defineProperty(this,"_checkDates",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_checkNumbers",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_checkColors",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_checkEmpty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_checkDeep",{enumerable:!0,configurable:!0,writable:!0,value:!1})}_afterNew(){super._afterNew(),this._checkFeatures(),this.on("dateFields",()=>this._checkFeatures()),this.on("dateFormat",()=>this._checkFeatures()),this.on("numericFields",()=>this._checkFeatures()),this.on("colorFields",()=>this._checkFeatures()),this.on("emptyAs",()=>this._checkFeatures())}_checkFeatures(){(this.isDirty("dateFields")||this.isDirty("dateFormat"))&&(this._checkDates=this.get("dateFields")&&this.get("dateFields").length>0),this.isDirty("numericFields")&&(this._checkNumbers=this.get("numericFields")&&this.get("numericFields").length>0),this.isDirty("colorFields")&&(this._checkColors=this.get("colorFields")&&this.get("colorFields").length>0),this.isDirty("emptyAs")&&(this._checkEmpty=null!=this.get("emptyAs")),this._checkDeepFeatures()}_checkDeepFeatures(){const e=[];S.each(["dateFields","numericFields","colorFields"],t=>{S.each(this.get(t,[]),s=>{const h=s.split(".");for(h.pop();h.length>0;)e.push(h.join(".")),h.pop()})}),this._checkDeep=e.length>0,this.setPrivate("deepFields",e)}processMany(e){Le.isArray(e)&&(this._checkDates||this._checkNumbers||this._checkColors||this._checkEmpty)&&S.each(e,t=>{this.processRow(t)})}processRow(e,t=""){Je.each(e,(s,h)=>{const f=t+s;this._checkEmpty&&(e[s]=this._maybeToEmpty(e[s])),this._checkNumbers&&(e[s]=this._maybeToNumber(f,e[s])),this._checkDates&&(e[s]=this._maybeToDate(f,e[s])),this._checkColors&&(e[s]=this._maybeToColor(f,e[s])),this._checkDeep&&-1!==this.getPrivate("deepFields",[]).indexOf(f)&&Le.isObject(e[s])&&this.processRow(e[s],f+".")})}_maybeToNumber(e,t){return-1!==this.get("numericFields").indexOf(e)?Le.toNumber(t):t}_maybeToDate(e,t){return-1!==this.get("dateFields").indexOf(e)?this._root.dateFormatter.parse(t,this.get("dateFormat","")).getTime():t}_maybeToEmpty(e){return null!=e&&""!=e||null==this.get("emptyAs")?e:this.get("emptyAs")}_maybeToColor(e,t){return-1!==this.get("colorFields").indexOf(e)?pt.Il.fromAny(t):t}}class wi extends ue.W{constructor(){super(...arguments),Object.defineProperty(this,"rectangle",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(Me.A.new(this._root,{themeTags:["rectangle"],fillOpacity:0,fill:(0,pt.$_)(16777215)}))}),Object.defineProperty(this,"gripL",{enumerable:!0,configurable:!0,writable:!0,value:this._createGrip("left")}),Object.defineProperty(this,"gripR",{enumerable:!0,configurable:!0,writable:!0,value:this._createGrip("right")}),Object.defineProperty(this,"gripT",{enumerable:!0,configurable:!0,writable:!0,value:this._createGrip("top")}),Object.defineProperty(this,"gripB",{enumerable:!0,configurable:!0,writable:!0,value:this._createGrip("bottom")}),Object.defineProperty(this,"_is",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_ix",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_iw",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_positionDP",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_isHover",{enumerable:!0,configurable:!0,writable:!0,value:!1})}_afterNew(){super._afterNew(),this.addTag("resizer"),this.set("visible",!1),this.gripL.events.on("dragged",e=>{this._resize(e.target,-1)}),this.gripR.events.on("dragged",e=>{this._resize(e.target,1)}),this.gripL.events.on("dragstart",e=>{this._resizeStart(e.target)}),this.gripR.events.on("dragstart",e=>{this._resizeStart(e.target)}),this.gripT.events.on("dragged",e=>{this._rotate(e,90)}),this.gripB.events.on("dragged",e=>{this._rotate(e,-90)}),this.gripT.events.on("dragstart",e=>{this._resizeStart(e.target)}),this.gripB.events.on("dragstart",e=>{this._resizeStart(e.target)})}_resizeStart(e){const t=this.get("sprite");t&&(this._is=t.get("scale",1),this._ix=e.x(),this._iw=this.width()/2)}_resize(e,t){const s=this.get("sprite"),h=this.get("spriteTemplate");if(s){const f=Math.max(.01,this._is*(1+t*(e.x()-this._ix)/this._iw));h?h.set("scale",f):s.set("scale",f),s.states.lookup("default").set("scale",f),this._updatePositions()}}_rotate(e,t){const s=this.get("sprite"),h=this.get("spriteTemplate");if(s){const f=this.parent;if(f){const d=this.get("rotationStep",10);let p=Math.round((mt.getAngle({x:this.x(),y:this.y()},f.toLocal(e.point))+t)/d)*d;h?h.set("rotation",p):s.set("rotation",p),s.states.lookup("default").set("rotation",p),this._updatePositions()}}}_createGrip(e){const t=this.children.push(ue.W.new(this._root,{themeTags:["grip",e],setStateOnChildren:!0,draggable:!0}));return t.children.push(Ye.c.new(this._root,{themeTags:["outline"],centerX:Ze.CI,centerY:Ze.CI})),t.children.push(Ye.c.new(this._root,{centerX:Ze.CI,centerY:Ze.CI})),t}_updateChildren(){if(super._updateChildren(),this.isDirty("sprite")){const e=this.get("sprite");if(e){this.show(0),this.setPrivate("visible",!0),this._updatePositions();const t=e.parent;t&&t.children.moveValue(this,0),this._positionDP=e.events.on("positionchanged",()=>{this._updatePositions()})}else this.hide(0),this.setPrivate("visible",!1),this._positionDP&&this._positionDP.dispose()}(this.isDirty("width")||this.isDirty("height")||this.isDirty("rotation"))&&this._updatePositions()}_updatePositions(){const e=this.get("sprite");if(e){let t=e.localBounds(),s=e.get("scale",1),h=20,f=(t.right-t.left)*s+h,d=(t.bottom-t.top)*s+h,p=e.get("rotation",0);const A=this.rectangle;let L=e.get("centerX",Ze.CI),G=e.get("centerY",Ze.CI),B=0;L instanceof Ze.gG&&(B=L.value);let X=0;G instanceof Ze.gG&&(X=G.value),A.setAll({centerX:L,centerY:G,width:f,height:d}),this.setAll({x:e.x()+h*(B-.5)*mt.cos(p)-h*(X-.5)*mt.sin(p),y:e.y()+h*(X-.5)*mt.cos(p)+h*(B-.5)*mt.sin(p),width:f,height:d,rotation:p}),this.gripT.setAll({x:(.5-B)*f,y:-X*d}),this.gripB.setAll({x:(.5-B)*f,y:(1-X)*d}),this.gripL.setAll({x:-B*f,y:(.5-X)*d}),this.gripR.setAll({x:(1-B)*f,y:(.5-X)*d}),this.rectangle.setAll({width:f,height:d})}}}Object.defineProperty(wi,"className",{enumerable:!0,configurable:!0,writable:!0,value:"SpriteResizer"}),Object.defineProperty(wi,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ue.W.classNames.concat([wi.className])});var ss=z(5770);function Ds(H,e,t){return new Promise((s,h)=>{let f=null!=t&&"blob"==t.responseType,d=new XMLHttpRequest;if(d.onload=()=>{if(200===d.status){let p,A;if(f)return A=d.response,void ns(A).then(G=>{let B={xhr:d,error:!1,response:G,blob:A,type:d.getResponseHeader("Content-Type"),target:e};s(B)});p=d.responseText||d.response;let L={xhr:d,error:!1,response:p,blob:A,type:d.getResponseHeader("Content-Type"),target:e};s(L)}else h({xhr:d,error:!0,type:d.getResponseHeader("Content-Type"),target:e})},d.onerror=()=>{h({xhr:d,error:!0,type:d.getResponseHeader("Content-Type"),target:e})},d.open("GET",H,!0),t&&t.withCredentials&&(d.withCredentials=!0),null!=t){if(null!=t.requestHeaders)for(let p=0;p<t.requestHeaders.length;p++){let A=t.requestHeaders[p];d.setRequestHeader(A.key,A.value)}null!=t.responseType&&(d.responseType=t.responseType)}d.send()})}function ns(H){return new Promise((e,t)=>{const s=new FileReader;s.onload=h=>{e(s.result)},s.onerror=h=>{t(h)},s.readAsText(H)})}var as=z(1445)},6109:(Yt,We,z)=>{z.r(We),z.d(We,{default:()=>Ne});const Ne={_decimalSeparator:",",_thousandSeparator:".",_percentPrefix:null,_percentSuffix:"%",_big_number_suffix_3:"K",_big_number_suffix_6:"Mio",_big_number_suffix_9:"Mrd",_big_number_suffix_12:"Bio",_big_number_suffix_15:"Brd",_big_number_suffix_18:"Trill",_big_number_suffix_21:"Trd",_big_number_suffix_24:"Y",_small_number_suffix_3:"m",_small_number_suffix_6:"\u03bc",_small_number_suffix_9:"n",_small_number_suffix_12:"p",_small_number_suffix_15:"f",_small_number_suffix_18:"a",_small_number_suffix_21:"z",_small_number_suffix_24:"y",_byte_suffix_B:"B",_byte_suffix_KB:"KB",_byte_suffix_MB:"MB",_byte_suffix_GB:"GB",_byte_suffix_TB:"TB",_byte_suffix_PB:"PB",_date_millisecond:"mm:ss SSS",_date_millisecond_full:"HH:mm:ss SSS",_date_second:"HH:mm:ss",_date_second_full:"HH:mm:ss",_date_minute:"HH:mm",_date_minute_full:"HH:mm - dd. MMM, yyyy",_date_hour:"HH:mm",_date_hour_full:"HH:mm - dd. MMM, yyyy",_date_day:"dd. MMM",_date_day_full:"dd. MMM, yyyy",_date_week:"ww",_date_week_full:"dd. MMM, yyyy",_date_month:"MMM",_date_month_full:"MMM, yyyy",_date_year:"yyyy",_duration_millisecond:"SSS",_duration_second:"ss",_duration_minute:"mm",_duration_hour:"hh",_duration_day:"dd",_duration_week:"ww",_duration_month:"MM",_duration_year:"yyyy",_era_ad:"v. Chr.",_era_bc:"n. Chr.",A:"",P:"",AM:"",PM:"","A.M.":"","P.M.":"",January:"Januar",February:"Februar",March:"M\xe4rz",April:"April",May:"Mai",June:"Juni",July:"Juli",August:"August",September:"September",October:"Oktober",November:"November",December:"Dezember",Jan:"Jan.",Feb:"Febr.",Mar:"M\xe4rz",Apr:"Apr.","May(short)":"Mai",Jun:"Juni",Jul:"Juli",Aug:"Aug.",Sep:"Sept.",Oct:"Okt.",Nov:"Nov.",Dec:"Dez.",Sunday:"Sonntag",Monday:"Montag",Tuesday:"Dienstag",Wednesday:"Mittwoch",Thursday:"Donnerstag",Friday:"Freitag",Saturday:"Samstag",Sun:"So.",Mon:"Mo.",Tue:"Di.",Wed:"Mi.",Thu:"Do.",Fri:"Fr.",Sat:"Sa.",_dateOrd:function(U){return U+"."},"Zoom Out":"Herauszoomen",Play:"Abspielen",Stop:"Stop",Legend:"Legende","Press ENTER to toggle":"Klicken, tippen oder ENTER dr\xfccken zum Umschalten",Loading:"Wird geladen",Home:"Home",Chart:"Diagramm","Serial chart":"Seriendiagramm","X/Y chart":"X-Y-Diagramm","Pie chart":"Kreisdiagramm","Gauge chart":"Messdiagramm","Radar chart":"Netzdiagramm","Sankey diagram":"Sankey-Diagramm","Chord diagram":"","Flow diagram":"Flussdiagramm","TreeMap chart":"Baumdiagramm",Series:"Serie","Candlestick Series":"Kerzendiagramm","Column Series":"Balkendiagramm","Line Series":"Liniendiagramm","Pie Slice Series":"Kreisdiagramm","X/Y Series":"Punktdiagramm",Map:"Karte","Press ENTER to zoom in":"Dr\xfccke ENTER zum Hereinzoomen","Press ENTER to zoom out":"Dr\xfccke ENTER zum Herauszoomen","Use arrow keys to zoom in and out":"Benutze die Pfeiltasten zum Zoomen","Use plus and minus keys on your keyboard to zoom in and out":"Benutze Plus- und Minustasten zum Zoomen",Export:"Export",Image:"Bild",Data:"Daten",Print:"Drucken","Press ENTER to open":"Zum \xd6ffnen klicken, tippen oder ENTER dr\xfccken","Press ENTER to print.":"Zum Drucken klicken, tippen oder ENTER dr\xfccken.","Press ENTER to export as %1.":"Klicken, tippen oder ENTER dr\xfccken um als %1 zu exportieren","(Press ESC to close this message)":"ESC dr\xfccken um diese Nachricht zu schlie\xdfen","Image Export Complete":"Bildexport komplett","Export operation took longer than expected. Something might have gone wrong.":"Der Export dauert l\xe4nger als geplant. Vielleicht ist etwas schiefgelaufen.","Saved from":"Gespeichert von",PNG:"",JPG:"",GIF:"",SVG:"",PDF:"",JSON:"",CSV:"",XLSX:"",HTML:"","Use TAB to select grip buttons or left and right arrows to change selection":"TAB nutzen, um Ankerpunkte auszuw\xe4hlen oder linke und rechte Pfeiltaste um die Auswahl zu \xe4ndern","Use left and right arrows to move selection":"Linke und rechte Pfeiltaste nutzen um die Auswahl zu verschieben","Use left and right arrows to move left selection":"Linke und rechte Pfeiltaste nutzen um die linke Auswahl zu verschieben","Use left and right arrows to move right selection":"Linke und rechte Pfeiltaste nutzen um die rechte Auswahl zu verschieben","Use TAB select grip buttons or up and down arrows to change selection":"TAB nutzen, um Ankerpunkte auszuw\xe4hlen oder Pfeiltaste nach oben und unten dr\xfccken, um die Auswahl zu \xe4ndern","Use up and down arrows to move selection":"Pfeiltaste nach oben und unten dr\xfccken, um die Auswahl zu verschieben","Use up and down arrows to move lower selection":"Pfeiltaste nach oben und unten dr\xfccken, um die untere Auswahl zu verschieben","Use up and down arrows to move upper selection":"Pfeiltaste nach oben und unten dr\xfccken, um die obere Auswahl zu verschieben","From %1 to %2":"Von %1 bis %2","From %1":"Von %1","To %1":"Bis %1","No parser available for file: %1":"Kein Parser f\xfcr Datei %1 verf\xfcgbar","Error parsing file: %1":"Fehler beim Parsen von Datei %1","Unable to load file: %1":"Datei %1 konnte nicht geladen werden","Invalid date":"Kein Datum"}},7551:(Yt,We,z)=>{z.r(We),z.d(We,{default:()=>Ne});const Ne={firstDayOfWeek:1,_decimalSeparator:".",_thousandSeparator:",",_percentPrefix:null,_percentSuffix:"%",_big_number_suffix_3:"k",_big_number_suffix_6:"M",_big_number_suffix_9:"G",_big_number_suffix_12:"T",_big_number_suffix_15:"P",_big_number_suffix_18:"E",_big_number_suffix_21:"Z",_big_number_suffix_24:"Y",_small_number_suffix_3:"m",_small_number_suffix_6:"\u03bc",_small_number_suffix_9:"n",_small_number_suffix_12:"p",_small_number_suffix_15:"f",_small_number_suffix_18:"a",_small_number_suffix_21:"z",_small_number_suffix_24:"y",_byte_suffix_B:"B",_byte_suffix_KB:"KB",_byte_suffix_MB:"MB",_byte_suffix_GB:"GB",_byte_suffix_TB:"TB",_byte_suffix_PB:"PB",_date:"yyyy-MM-dd",_date_millisecond:"mm:ss SSS",_date_millisecond_full:"HH:mm:ss SSS",_date_second:"HH:mm:ss",_date_second_full:"HH:mm:ss",_date_minute:"HH:mm",_date_minute_full:"HH:mm - MMM dd, yyyy",_date_hour:"HH:mm",_date_hour_full:"HH:mm - MMM dd, yyyy",_date_day:"MMM dd",_date_day_full:"MMM dd, yyyy",_date_week:"ww",_date_week_full:"MMM dd, yyyy",_date_month:"MMM",_date_month_full:"MMM, yyyy",_date_year:"yyyy",_duration_millisecond:"SSS",_duration_millisecond_second:"ss.SSS",_duration_millisecond_minute:"mm:ss SSS",_duration_millisecond_hour:"hh:mm:ss SSS",_duration_millisecond_day:"d'd' mm:ss SSS",_duration_millisecond_week:"d'd' mm:ss SSS",_duration_millisecond_month:"M'm' dd'd' mm:ss SSS",_duration_millisecond_year:"y'y' MM'm' dd'd' mm:ss SSS",_duration_second:"ss",_duration_second_minute:"mm:ss",_duration_second_hour:"hh:mm:ss",_duration_second_day:"d'd' hh:mm:ss",_duration_second_week:"d'd' hh:mm:ss",_duration_second_month:"M'm' dd'd' hh:mm:ss",_duration_second_year:"y'y' MM'm' dd'd' hh:mm:ss",_duration_minute:"mm",_duration_minute_hour:"hh:mm",_duration_minute_day:"d'd' hh:mm",_duration_minute_week:"d'd' hh:mm",_duration_minute_month:"M'm' dd'd' hh:mm",_duration_minute_year:"y'y' MM'm' dd'd' hh:mm",_duration_hour:"hh'h'",_duration_hour_day:"d'd' hh'h'",_duration_hour_week:"d'd' hh'h'",_duration_hour_month:"M'm' dd'd' hh'h'",_duration_hour_year:"y'y' MM'm' dd'd' hh'h'",_duration_day:"d'd'",_duration_day_week:"d'd'",_duration_day_month:"M'm' dd'd'",_duration_day_year:"y'y' MM'm' dd'd'",_duration_week:"w'w'",_duration_week_month:"w'w'",_duration_week_year:"w'w'",_duration_month:"M'm'",_duration_month_year:"y'y' MM'm'",_duration_year:"y'y'",_era_ad:"AD",_era_bc:"BC",A:"",P:"",AM:"",PM:"","A.M.":"","P.M.":"",January:"",February:"",March:"",April:"",May:"",June:"",July:"",August:"",September:"",October:"",November:"",December:"",Jan:"",Feb:"",Mar:"",Apr:"","May(short)":"May",Jun:"",Jul:"",Aug:"",Sep:"",Oct:"",Nov:"",Dec:"",Sunday:"",Monday:"",Tuesday:"",Wednesday:"",Thursday:"",Friday:"",Saturday:"",Sun:"",Mon:"",Tue:"",Wed:"",Thu:"",Fri:"",Sat:"",_dateOrd:function(U){let ue="th";if(U<11||U>13)switch(U%10){case 1:ue="st";break;case 2:ue="nd";break;case 3:ue="rd"}return ue},"Zoom Out":"",Play:"",Stop:"",Legend:"","Press ENTER to toggle":"",Loading:"",Home:"",Chart:"","Serial chart":"","X/Y chart":"","Pie chart":"","Gauge chart":"","Radar chart":"","Sankey diagram":"","Flow diagram":"","Chord diagram":"","TreeMap chart":"","Force directed tree":"","Sliced chart":"",Series:"","Candlestick Series":"","OHLC Series":"","Column Series":"","Line Series":"","Pie Slice Series":"","Funnel Series":"","Pyramid Series":"","X/Y Series":"",Map:"","Press ENTER to zoom in":"","Press ENTER to zoom out":"","Use arrow keys to zoom in and out":"","Use plus and minus keys on your keyboard to zoom in and out":"",Export:"",Image:"",Data:"",Print:"","Press ENTER or use arrow keys to navigate":"","Press ENTER to open":"","Press ENTER to print.":"","Press ENTER to export as %1.":"","(Press ESC to close this message)":"","Image Export Complete":"","Export operation took longer than expected. Something might have gone wrong.":"","Saved from":"",PNG:"",JPG:"",GIF:"",SVG:"",PDF:"",JSON:"",CSV:"",XLSX:"",HTML:"","Use TAB to select grip buttons or left and right arrows to change selection":"","Use left and right arrows to move selection":"","Use left and right arrows to move left selection":"","Use left and right arrows to move right selection":"","Use TAB select grip buttons or up and down arrows to change selection":"","Use up and down arrows to move selection":"","Use up and down arrows to move lower selection":"","Use up and down arrows to move upper selection":"","From %1 to %2":"","From %1":"","To %1":"","No parser available for file: %1":"","Error parsing file: %1":"","Unable to load file: %1":"","Invalid date":"",Close:"",Minimize:""}},5637:(Yt,We,z)=>{z.r(We),z.d(We,{default:()=>Ne});const Ne={_decimalSeparator:".",_thousandSeparator:",",_percentPrefix:null,_percentSuffix:"%",_date_millisecond:"mm:ss SSS",_date_millisecond_full:"HH:mm:ss SSS",_date_second:"hh:mm:ss a",_date_second_full:"hh:mm:ss a",_date_minute:"hh:mm a",_date_minute_full:"hh:mm a - MMM dd, yyyy",_date_hour:"hh:mm a",_date_hour_full:"hh:mm a - MMM dd, yyyy",_date_day:"MMM dd",_date_day_full:"MMM dd, yyyy",_date_week:"ww",_date_week_full:"MMM dd, yyyy",_date_month:"MMM",_date_month_full:"MMM, yyyy",_date_year:"yyyy",_duration_millisecond:"SSS",_duration_second:"ss",_duration_minute:"mm",_duration_hour:"hh",_duration_day:"dd",_duration_week:"ww",_duration_month:"MM",_duration_year:"yyyy",_era_ad:"AD",_era_bc:"BC",A:"",P:"",AM:"",PM:"","A.M.":"","P.M.":"",January:"",February:"",March:"",April:"",May:"",June:"",July:"",August:"",September:"",October:"",November:"",December:"",Jan:"",Feb:"",Mar:"",Apr:"","May(short)":"May",Jun:"",Jul:"",Aug:"",Sep:"",Oct:"",Nov:"",Dec:"",Sunday:"",Monday:"",Tuesday:"",Wednesday:"",Thursday:"",Friday:"",Saturday:"",Sun:"",Mon:"",Tue:"",Wed:"",Thu:"",Fri:"",Sat:"",_dateOrd:function(U){let ue="th";if(U<11||U>13)switch(U%10){case 1:ue="st";break;case 2:ue="nd";break;case 3:ue="rd"}return ue},Play:"",Stop:"","Zoom Out":"",Legend:"","Press ENTER to toggle":"",Loading:"",Home:"",Chart:"","Serial chart":"","X/Y chart":"","Pie chart":"","Gauge chart":"","Radar chart":"","Sankey diagram":"","Chord diagram":"","Flow diagram":"","TreeMap chart":"",Series:"","Candlestick Series":"","Column Series":"","Line Series":"","Pie Slice Series":"","X/Y Series":"",Map:"","Press ENTER to zoom in":"","Press ENTER to zoom out":"","Use arrow keys to zoom in and out":"","Use plus and minus keys on your keyboard to zoom in and out":"",Export:"",Image:"",Data:"",Print:"","Press ENTER to open":"","Press ENTER to print.":"","Press ENTER to export as %1.":"","(Press ESC to close this message)":"","Image Export Complete":"","Export operation took longer than expected. Something might have gone wrong.":"","Saved from":"",PNG:"",JPG:"",GIF:"",SVG:"",PDF:"",JSON:"",CSV:"",XLSX:"",HTML:"","Use TAB to select grip buttons or left and right arrows to change selection":"","Use left and right arrows to move selection":"","Use left and right arrows to move left selection":"","Use left and right arrows to move right selection":"","Use TAB select grip buttons or up and down arrows to change selection":"","Use up and down arrows to move selection":"","Use up and down arrows to move lower selection":"","Use up and down arrows to move upper selection":"","From %1 to %2":"","From %1":"","To %1":"","No parser available for file: %1":"","Error parsing file: %1":"","Unable to load file: %1":"","Invalid date":""}},8781:(Yt,We,z)=>{z.r(We),z.d(We,{ClusteredPointSeries:()=>ms,DefaultTheme:()=>Jr,GraticuleSeries:()=>Hi,MapChart:()=>ds,MapLine:()=>Ti,MapLineSeries:()=>Si,MapPointSeries:()=>kr,MapPolygon:()=>Hr,MapPolygonSeries:()=>fs,MapSeries:()=>ye,ZoomControl:()=>bs,geoAlbersUsa:()=>Jn,geoEqualEarth:()=>ea,geoEquirectangular:()=>Vn,geoMercator:()=>cr,geoNaturalEarth1:()=>ta,geoOrthographic:()=>Hn,getGeoArea:()=>Pn,getGeoBounds:()=>cs,getGeoCentroid:()=>hs,getGeoCircle:()=>wn,getGeoRectangle:()=>Dn,normalizeGeoPoint:()=>Mn});var Ne=z(3164),U=z(3559),ue=z(8148);class ye extends Ne.F{constructor(){super(...arguments),Object.defineProperty(this,"_types",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_geometries",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_geoJSONparsed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_excluded",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_notIncluded",{enumerable:!0,configurable:!0,writable:!0,value:[]})}_afterNew(){this.fields.push("geometry","geometryType"),this._setRawDefault("geometryField","geometry"),this._setRawDefault("geometryTypeField","geometryType"),this._setRawDefault("idField","id"),this.on("geoJSON",r=>{let n=this._prevSettings.geoJSON;n&&n!=r&&this.data.clear()}),super._afterNew()}_handleDirties(){const r=this.get("geoJSON");let n=this._prevSettings.geoJSON;n&&n!=r&&(this._prevSettings.geoJSON=void 0,this._geoJSONparsed=!1),this._geoJSONparsed||(this._parseGeoJSON(),this._geoJSONparsed=!0)}_prepareChildren(){if(super._prepareChildren(),this._valuesDirty&&this._handleDirties(),this.get("geoJSON")&&(this.isDirty("geoJSON")||this.isDirty("include")||this.isDirty("exclude"))){this._handleDirties();const r=this.chart,n=this.get("exclude");n&&(r&&(r._centerLocation=null),U.each(n,c=>{const m=this.getDataItemById(c);m&&this._excludeDataItem(m)})),(!n||0==n.length)&&(U.each(this._excluded,c=>{this._unexcludeDataItem(c)}),this._excluded=[]);const o=this.get("include");o&&(r&&(r._centerLocation=null),U.each(this.dataItems,c=>{const m=c.get("id");m&&-1==o.indexOf(m)?this._notIncludeDataItem(c):this._unNotIncludeDataItem(c)})),o||(U.each(this._notIncluded,c=>{this._unNotIncludeDataItem(c)}),this._notIncluded=[])}}_excludeDataItem(r){this._removeGeometry(r.get("geometry")),U.move(this._excluded,r)}_unexcludeDataItem(r){this._addGeometry(r.get("geometry"),this)}_notIncludeDataItem(r){this._removeGeometry(r.get("geometry")),U.move(this._notIncluded,r)}_unNotIncludeDataItem(r){this._addGeometry(r.get("geometry"),this)}checkInclude(r,n,o){if(n){if(0==n.length)return!1;if(-1==n.indexOf(r))return!1}return!(o&&o.length>0&&-1!=o.indexOf(r))}_parseGeoJSON(){const r=this.get("geoJSON");if(r){let n;"FeatureCollection"==r.type?n=r.features:"Feature"==r.type?n=[r]:-1!=["Point","LineString","Polygon","MultiPoint","MultiLineString","MultiPolygon"].indexOf(r.type)?n=[{geometry:r}]:console.log("nothing found in geoJSON");const o=this.get("geodataNames");if(n){const m=this.get("idField","id");for(let v=0,D=n.length;v<D;v++){let C=n[v],R=C.geometry;if(R){let E=R.type,F=C[m];if(o&&o[F]&&(C.properties.name=o[F]),-1!=this._types.indexOf(E)){let Y,V;null!=F&&(Y=U.find(this.dataItems,J=>J.get("id")==F)),Y&&(V=Y.dataContext),Y?V.geometry||(V.geometry=R,V.geometryType=E,Y.set("geometry",R),Y.set("geometryType",E),this.processDataItem(Y)):(V={geometry:R,geometryType:E,madeFromGeoData:!0},V[m]=F,this.data.push(V)),ue.softCopyProperties(C.properties,V)}}}}const c="geodataprocessed";this.events.isEnabled(c)&&this.events.dispatch(c,{type:c,target:this})}}_placeBulletsContainer(r){this.children.moveValue(this.bulletsContainer)}_removeBulletsContainer(){}projection(){const r=this.chart;if(r)return r.get("projection")}geoPath(){const r=this.chart;if(r)return r.getPrivate("geoPath")}_addGeometry(r,n){if(r&&n.get("affectsBounds",!0)){this._geometries.push(r);const o=this.chart;o&&o.markDirtyGeometries()}}_removeGeometry(r){if(r){U.remove(this._geometries,r);const n=this.chart;n&&n.markDirtyGeometries()}}_dispose(){super._dispose();const r=this.chart;r&&r.series.removeValue(this)}_onDataClear(){super._onDataClear(),this._geoJSONparsed=!1,this._markDirtyKey("exclude")}}Object.defineProperty(ye,"className",{enumerable:!0,configurable:!0,writable:!0,value:"MapSeries"}),Object.defineProperty(ye,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Ne.F.classNames.concat([ye.className])});var te=z(2743),W=z(7039),Te=z(3232);class ae{constructor(){this._partials=new Float64Array(32),this._n=0}add(r){const n=this._partials;let o=0;for(let c=0;c<this._n&&c<32;c++){const m=n[c],v=r+m,D=Math.abs(r)<Math.abs(m)?r-(v-m):m-(v-r);D&&(n[o++]=D),r=v}return n[o]=r,this._n=o+1,this}valueOf(){const r=this._partials;let o,c,m,n=this._n,v=0;if(n>0){for(v=r[--n];n>0&&(o=v,c=r[--n],v=o+c,m=c-(v-o),!m););n>0&&(m<0&&r[n-1]<0||m>0&&r[n-1]>0)&&(c=2*m,o=v+c,c==o-v&&(v=o))}return v}}var $=1e-6,ce=1e-12,k=Math.PI,N=k/2,ve=k/4,De=2*k,Oe=180/k,he=k/180,Me=Math.abs,Ge=Math.atan,Ke=Math.atan2,Ce=Math.cos,ft=Math.ceil,zt=Math.exp,Le=(Math,Math.hypot),si=Math.log,ke=(Math,Math.sin),yi=Math.sign||function(l){return l>0?1:l<0?-1:0},gt=Math.sqrt,di=Math.tan;function Rt(l){return l>1?N:l<-1?-N:Math.asin(l)}function pt(l){return(l=ke(l/2))*l}function ut(){}function Ze(l,r){l&&Fi.hasOwnProperty(l.type)&&Fi[l.type](l,r)}var mt={Feature:function(l,r){Ze(l.geometry,r)},FeatureCollection:function(l,r){for(var n=l.features,o=-1,c=n.length;++o<c;)Ze(n[o].geometry,r)}},Fi={Sphere:function(l,r){r.sphere()},Point:function(l,r){r.point((l=l.coordinates)[0],l[1],l[2])},MultiPoint:function(l,r){for(var n=l.coordinates,o=-1,c=n.length;++o<c;)r.point((l=n[o])[0],l[1],l[2])},LineString:function(l,r){Di(l.coordinates,r,0)},MultiLineString:function(l,r){for(var n=l.coordinates,o=-1,c=n.length;++o<c;)Di(n[o],r,0)},Polygon:function(l,r){ar(l.coordinates,r)},MultiPolygon:function(l,r){for(var n=l.coordinates,o=-1,c=n.length;++o<c;)ar(n[o],r)},GeometryCollection:function(l,r){for(var n=l.geometries,o=-1,c=n.length;++o<c;)Ze(n[o],r)}};function Di(l,r,n){var m,o=-1,c=l.length-n;for(r.lineStart();++o<c;)r.point((m=l[o])[0],m[1],m[2]);r.lineEnd()}function ar(l,r){var n=-1,o=l.length;for(r.polygonStart();++n<o;)Di(l[n],r,1);r.polygonEnd()}function ni(l,r){l&&mt.hasOwnProperty(l.type)?mt[l.type](l,r):Ze(l,r)}var or,Xi,Gi,ti,_i={sphere:ut,point:ut,lineStart:function Xt(){_i.point=Ai,_i.lineEnd=It},lineEnd:ut,polygonStart:ut,polygonEnd:ut};function It(){_i.point=_i.lineEnd=ut}function Ai(l,r){Xi=l*=he,Gi=ke(r*=he),ti=Ce(r),_i.point=Ui}function Ui(l,r){l*=he;var n=ke(r*=he),o=Ce(r),c=Me(l-Xi),m=Ce(c),D=o*ke(c),C=ti*n-Gi*o*m,R=Gi*n+ti*o*m;or.add(Ke(gt(D*D+C*C),R)),Xi=l,Gi=n,ti=o}function Lr(l){return or=new ae,ni(l,_i),+or}var Mi=[null,null],jt={type:"LineString",coordinates:Mi};function gr(l,r){return Mi[0]=l,Mi[1]=r,Lr(jt)}class Ti extends Te.T{constructor(){super(...arguments),Object.defineProperty(this,"_projectionDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1})}_beforeChanged(){if(super._beforeChanged(),this._projectionDirty||this.isDirty("geometry")||this.isDirty("precision")){const r=this.get("geometry");if(r){const o=this.getPrivate("series");if(o){const c=o.chart;if(c){const m=c.get("projection");let v=null;m&&m.clipAngle&&(v=m.clipAngle(),m.precision(this.get("precision",.5)));const D=this.dataItem,C=c.getPrivate("geoPath");if(C&&D)if(this._clear=!0,"straight"==D.get("lineType",o.get("lineType"))){const R=this.get("geometry");if(R){let E=R.coordinates;if(E){let F;"LineString"==R.type?F=[E]:"MultiLineString"==R.type&&(F=E),this.set("draw",Y=>{for(let V=0;V<F.length;V++){let J=F[V];if(J.length>0){const oe=J[0],ge=c.convert({longitude:oe[0],latitude:oe[1]});Y.lineTo(ge.x,ge.y);for(let me=0;me<J.length;me++){const Ae=J[me],be=c.convert({longitude:Ae[0],latitude:Ae[1]});Y.lineTo(be.x,be.y)}}}})}}}else this.set("draw",R=>{m&&!1===o.get("clipBack")&&m.clipAngle(180),C.context(this._display),C(r),C.context(null),m&&m.clipAngle&&m.clipAngle(v)})}}}const n="linechanged";this.events.isEnabled(n)&&this.events.dispatch(n,{type:n,target:this})}}markDirtyProjection(){this.markDirty(),this._projectionDirty=!0}_clearDirty(){super._clearDirty(),this._projectionDirty=!1}_getTooltipPoint(){let r=this.get("tooltipX"),n=this.get("tooltipY"),o=0,c=0;if(te.isNumber(r)&&(o=r),te.isNumber(n)&&(c=n),r instanceof W.gG){const m=this.positionToGeoPoint(r.value),v=this.getPrivate("series");if(v){const D=v.chart;if(D){const C=D.convert(m);o=C.x,c=C.y}}}return{x:o,y:c}}positionToGeoPoint(r){const n=this.get("geometry"),o=this.getPrivate("series"),c=o.chart,m=this.dataItem;if(n&&o&&c&&m){const v=m.get("lineType",o.get("lineType"));let R,Y,V,D=Lr(n),C=0,E=0,F=0,J=n.coordinates;if(J){let oe;"LineString"==n.type?oe=[J]:"MultiLineString"==n.type&&(oe=J);for(let ge=0;ge<oe.length;ge++){let me=oe[ge];if(me.length>1){for(let Ae=1;Ae<me.length;Ae++)if(Y=me[Ae-1],V=me[Ae],E=C/D,R=gr(Y,V),C+=R,F=C/D,E<=r&&F>r){ge=oe.length;break}}else 1==me.length&&(Y=me[0],V=me[0],E=0,F=1)}if(Y&&V){let me,ge=(r-E)/(F-E);if("straight"==v){let Ae=c.convert({longitude:Y[0],latitude:Y[1]}),be=c.convert({longitude:V[0],latitude:V[1]});return c.invert({x:Ae.x+(be.x-Ae.x)*ge,y:Ae.y+(be.y-Ae.y)*ge})}return me=function ki(l,r){var n=l[0]*he,o=l[1]*he,c=r[0]*he,m=r[1]*he,v=Ce(o),D=ke(o),C=Ce(m),R=ke(m),E=v*Ce(n),F=v*ke(n),Y=C*Ce(c),V=C*ke(c),J=2*Rt(gt(pt(m-o)+v*C*pt(c-n))),oe=ke(J),ge=J?function(me){var Ae=ke(me*=J)/oe,be=ke(J-me)/oe,Re=be*E+Ae*Y,Fe=be*F+Ae*V,Xe=be*D+Ae*R;return[Ke(Fe,Re)*Oe,Ke(Xe,gt(Re*Re+Fe*Fe))*Oe]}:function(){return[n*Oe,o*Oe]};return ge.distance=J,ge}(Y,V)(ge),{longitude:me[0],latitude:me[1]}}}}return{longitude:0,latitude:0}}}Object.defineProperty(Ti,"className",{enumerable:!0,configurable:!0,writable:!0,value:"MapLine"}),Object.defineProperty(Ti,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Te.T.classNames.concat([Ti.className])});var pr=z(434),Ei=z(1371);class Si extends ye{constructor(){super(...arguments),Object.defineProperty(this,"mapLines",{enumerable:!0,configurable:!0,writable:!0,value:new pr.o(Ei.YS.new({}),()=>Ti._new(this._root,{},[this.mapLines.template]))}),Object.defineProperty(this,"_types",{enumerable:!0,configurable:!0,writable:!0,value:["LineString","MultiLineString"]})}_afterNew(){this.fields.push("lineType"),this._setRawDefault("lineTypeField","lineType"),super._afterNew()}makeMapLine(r){const n=this.children.push(this.mapLines.make());return n._setDataItem(r),this.mapLines.push(n),n}markDirtyProjection(){U.each(this.dataItems,r=>{let n=r.get("mapLine");n&&n.markDirtyProjection()})}_prepareChildren(){super._prepareChildren(),this.isDirty("stroke")&&this.mapLines.template.set("stroke",this.get("stroke"))}processDataItem(r){super.processDataItem(r);let n=r.get("mapLine");n||(n=this.makeMapLine(r)),this._handlePointsToConnect(r),r.on("pointsToConnect",()=>{this._handlePointsToConnect(r)}),r.set("mapLine",n),this._addGeometry(r.get("geometry"),this),n.setPrivate("series",this)}_handlePointsToConnect(r){const n=r.get("pointsToConnect");n&&(U.each(n,o=>{o.on("geometry",()=>{this.markDirtyValues(r)}),o.on("longitude",()=>{this.markDirtyValues(r)}),o.on("latitude",()=>{this.markDirtyValues(r)})}),this.markDirtyValues(r))}markDirtyValues(r){if(super.markDirtyValues(),r){const n=r.get("mapLine");if(n){const o=r.get("pointsToConnect");if(o){let c=[];U.each(o,v=>{const D=v.get("longitude"),C=v.get("latitude");if(null!=D&&null!=C)c.push([D,C]);else{const R=v.get("geometry");if(R){const E=R.coordinates;E&&c.push([E[0],E[1]])}}});let m={type:"LineString",coordinates:c};r.setRaw("geometry",m),n.set("geometry",m)}else n.set("geometry",r.get("geometry"))}}}disposeDataItem(r){super.disposeDataItem(r);const n=r.get("mapLine");n&&(this.mapLines.removeValue(n),n.dispose())}_excludeDataItem(r){super._excludeDataItem(r);const n=r.get("mapLine");n&&n.setPrivate("visible",!1)}_unexcludeDataItem(r){super._unexcludeDataItem(r);const n=r.get("mapLine");n&&n.setPrivate("visible",!0)}_notIncludeDataItem(r){super._notIncludeDataItem(r);const n=r.get("mapLine");n&&n.setPrivate("visible",!1)}_unNotIncludeDataItem(r){super._unNotIncludeDataItem(r);const n=r.get("mapLine");n&&n.setPrivate("visible",!0)}}function bt(l,r,n){l=+l,r=+r,n=(c=arguments.length)<2?(r=l,l=0,1):c<3?1:+n;for(var o=-1,c=0|Math.max(0,Math.ceil((r-l)/n)),m=new Array(c);++o<c;)m[o]=l+o*n;return m}function nt(l,r,n){var o=bt(l,r-$,n).concat(r);return function(c){return o.map(function(m){return[c,m]})}}function Mr(l,r,n){var o=bt(l,r-$,n).concat(r);return function(c){return o.map(function(m){return[m,c]})}}Object.defineProperty(Si,"className",{enumerable:!0,configurable:!0,writable:!0,value:"MapLineSeries"}),Object.defineProperty(Si,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ye.classNames.concat([Si.className])});class Hi extends Si{constructor(){super(...arguments),Object.defineProperty(this,"_dataItem",{enumerable:!0,configurable:!0,writable:!0,value:this.makeDataItem({})})}_afterNew(){super._afterNew(),this.dataItems.push(this._dataItem),this._generate()}_updateChildren(){if(super._updateChildren(),this.isDirty("step")&&this._generate(),this.isDirty("clipExtent")&&this.get("clipExtent")){const r=this.chart;r&&r.events.on("geoboundschanged",()=>{this._generate()}),this._generate()}}_generate(){let r=function Li(){var l,r,n,o,c,m,v,D,Y,V,J,oe,C=10,R=C,E=90,F=360,ge=2.5;function me(){return{type:"MultiLineString",coordinates:Ae()}}function Ae(){return bt(ft(o/E)*E,n,E).map(J).concat(bt(ft(D/F)*F,v,F).map(oe)).concat(bt(ft(r/C)*C,l,C).filter(function(be){return Me(be%E)>$}).map(Y)).concat(bt(ft(m/R)*R,c,R).filter(function(be){return Me(be%F)>$}).map(V))}return me.lines=function(){return Ae().map(function(be){return{type:"LineString",coordinates:be}})},me.outline=function(){return{type:"Polygon",coordinates:[J(o).concat(oe(v).slice(1),J(n).reverse().slice(1),oe(D).reverse().slice(1))]}},me.extent=function(be){return arguments.length?me.extentMajor(be).extentMinor(be):me.extentMinor()},me.extentMajor=function(be){return arguments.length?(D=+be[0][1],v=+be[1][1],(o=+be[0][0])>(n=+be[1][0])&&(be=o,o=n,n=be),D>v&&(be=D,D=v,v=be),me.precision(ge)):[[o,D],[n,v]]},me.extentMinor=function(be){return arguments.length?(m=+be[0][1],c=+be[1][1],(r=+be[0][0])>(l=+be[1][0])&&(be=r,r=l,l=be),m>c&&(be=m,m=c,c=be),me.precision(ge)):[[r,m],[l,c]]},me.step=function(be){return arguments.length?me.stepMajor(be).stepMinor(be):me.stepMinor()},me.stepMajor=function(be){return arguments.length?(E=+be[0],F=+be[1],me):[E,F]},me.stepMinor=function(be){return arguments.length?(C=+be[0],R=+be[1],me):[C,R]},me.precision=function(be){return arguments.length?(ge=+be,Y=nt(m,c,90),V=Mr(r,l,ge),J=nt(D,v,90),oe=Mr(o,n,ge),me):ge},me.extentMajor([[-180,-90+$],[180,90-$]]).extentMinor([[-180,-80-$],[180,80+$]])}();if(r){if(this.get("clipExtent")){const o=this.chart;if(o){const c=o.geoBounds();c&&r.extent([[c.left,c.bottom],[c.right,c.top]])}}const n=this.get("step",10);r.stepMinor([360,360]),r.stepMajor([n,n]),this._dataItem.set("geometry",r())}}}Object.defineProperty(Hi,"className",{enumerable:!0,configurable:!0,writable:!0,value:"GraticuleSeries"}),Object.defineProperty(Hi,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Si.classNames.concat([Hi.className])});var lr=z(5013),Vi=z(2231);function Ri(l,r){function n(o,c){return o=l(o,c),r(o[0],o[1])}return l.invert&&r.invert&&(n.invert=function(o,c){return(o=r.invert(o,c))&&l.invert(o[0],o[1])}),n}function mr(l,r){return Me(l)>k&&(l-=Math.round(l/De)*De),[l,r]}function ur(l,r,n){return(l%=De)?r||n?Ri(yr(l),_r(r,n)):yr(l):r||n?_r(r,n):mr}function br(l){return function(r,n){return Me(r+=l)>k&&(r-=Math.round(r/De)*De),[r,n]}}function yr(l){var r=br(l);return r.invert=br(-l),r}function _r(l,r){var n=Ce(l),o=ke(l),c=Ce(r),m=ke(r);function v(D,C){var R=Ce(C),E=Ce(D)*R,F=ke(D)*R,Y=ke(C),V=Y*n+E*o;return[Ke(F*c-V*m,E*n-Y*o),Rt(V*c+F*m)]}return v.invert=function(D,C){var R=Ce(C),E=Ce(D)*R,F=ke(D)*R,Y=ke(C),V=Y*c-F*m;return[Ke(F*c+Y*m,E*n+V*o),Rt(V*n-E*o)]},v}function Wi(){var r,l=[];return{point:function(n,o,c){r.push([n,o,c])},lineStart:function(){l.push(r=[])},lineEnd:ut,rejoin:function(){l.length>1&&l.push(l.pop().concat(l.shift()))},result:function(){var n=l;return l=[],r=null,n}}}function Zi(l,r){return Me(l[0]-r[0])<$&&Me(l[1]-r[1])<$}function Qi(l,r,n,o){this.x=l,this.z=r,this.o=n,this.e=o,this.v=!1,this.n=this.p=null}function xr(l,r,n,o,c){var D,C,m=[],v=[];if(l.forEach(function(J){if(!((oe=J.length-1)<=0)){var oe,Ae,ge=J[0],me=J[oe];if(Zi(ge,me)){if(!ge[2]&&!me[2]){for(c.lineStart(),D=0;D<oe;++D)c.point((ge=J[D])[0],ge[1]);return void c.lineEnd()}me[0]+=2*$}m.push(Ae=new Qi(ge,J,null,!0)),v.push(Ae.o=new Qi(ge,null,Ae,!1)),m.push(Ae=new Qi(me,J,null,!1)),v.push(Ae.o=new Qi(me,null,Ae,!0))}}),m.length){for(v.sort(r),$i(m),$i(v),D=0,C=v.length;D<C;++D)v[D].e=n=!n;for(var E,F,R=m[0];;){for(var Y=R,V=!0;Y.v;)if((Y=Y.n)===R)return;E=Y.z,c.lineStart();do{if(Y.v=Y.o.v=!0,Y.e){if(V)for(D=0,C=E.length;D<C;++D)c.point((F=E[D])[0],F[1]);else o(Y.x,Y.n.x,1,c);Y=Y.n}else{if(V)for(D=(E=Y.p.z).length-1;D>=0;--D)c.point((F=E[D])[0],F[1]);else o(Y.x,Y.p.x,-1,c);Y=Y.p}E=(Y=Y.o).z,V=!V}while(!Y.v);c.lineEnd()}}}function $i(l){if(r=l.length){for(var r,c,n=0,o=l[0];++n<r;)o.n=c=l[n],c.p=o,o=c;o.n=c=l[0],c.p=o}}function Ci(l){return[Ke(l[1],l[0]),Rt(l[2])]}function Ii(l){var r=l[0],n=l[1],o=Ce(n);return[o*Ce(r),o*ke(r),ke(n)]}function hr(l,r){return l[0]*r[0]+l[1]*r[1]+l[2]*r[2]}function ji(l,r){return[l[1]*r[2]-l[2]*r[1],l[2]*r[0]-l[0]*r[2],l[0]*r[1]-l[1]*r[0]]}function Ni(l,r){l[0]+=r[0],l[1]+=r[1],l[2]+=r[2]}function Z(l,r){return[l[0]*r,l[1]*r,l[2]*r]}function i(l){var r=gt(l[0]*l[0]+l[1]*l[1]+l[2]*l[2]);l[0]/=r,l[1]/=r,l[2]/=r}function a(l){return Me(l[0])<=k?l[0]:yi(l[0])*((Me(l[0])+k)%De-k)}function y(l){return Array.from(function*g(l){for(const r of l)yield*r}(l))}function x(l,r,n,o){return function(c){var R,E,F,m=r(c),v=Wi(),D=r(v),C=!1,Y={point:V,lineStart:oe,lineEnd:ge,polygonStart:function(){Y.point=me,Y.lineStart=Ae,Y.lineEnd=be,E=[],R=[]},polygonEnd:function(){Y.point=V,Y.lineStart=oe,Y.lineEnd=ge,E=y(E);var Re=function u(l,r){var n=a(r),o=r[1],c=ke(o),m=[ke(n),-Ce(n),0],v=0,D=0,C=new ae;1===c?o=N+$:-1===c&&(o=-N-$);for(var R=0,E=l.length;R<E;++R)if(Y=(F=l[R]).length)for(var F,Y,V=F[Y-1],J=a(V),oe=V[1]/2+ve,ge=ke(oe),me=Ce(oe),Ae=0;Ae<Y;++Ae,J=Re,ge=Xe,me=ht,V=be){var be=F[Ae],Re=a(be),Fe=be[1]/2+ve,Xe=ke(Fe),ht=Ce(Fe),rt=Re-J,st=rt>=0?1:-1,xt=st*rt,Ve=xt>k,qt=ge*Xe;if(C.add(Ke(qt*st*ke(xt),me*ht+qt*Ce(xt))),v+=Ve?rt+st*De:rt,Ve^J>=n^Re>=n){var Ot=ji(Ii(V),Ii(be));i(Ot);var Pt=ji(m,Ot);i(Pt);var Pe=(Ve^rt>=0?-1:1)*Rt(Pt[2]);(o>Pe||o===Pe&&(Ot[0]||Ot[1]))&&(D+=Ve^rt>=0?1:-1)}}return(v<-$||v<$&&C<-ce)^1&D}(R,o);E.length?(C||(c.polygonStart(),C=!0),xr(E,_,Re,n,c)):Re&&(C||(c.polygonStart(),C=!0),c.lineStart(),n(null,null,1,c),c.lineEnd()),C&&(c.polygonEnd(),C=!1),E=R=null},sphere:function(){c.polygonStart(),c.lineStart(),n(null,null,1,c),c.lineEnd(),c.polygonEnd()}};function V(Re,Fe){l(Re,Fe)&&c.point(Re,Fe)}function J(Re,Fe){m.point(Re,Fe)}function oe(){Y.point=J,m.lineStart()}function ge(){Y.point=V,m.lineEnd()}function me(Re,Fe){F.push([Re,Fe]),D.point(Re,Fe)}function Ae(){D.lineStart(),F=[]}function be(){me(F[0][0],F[0][1]),D.lineEnd();var Xe,rt,st,xt,Re=D.clean(),Fe=v.result(),ht=Fe.length;if(F.pop(),R.push(F),F=null,ht){if(1&Re){if((rt=(st=Fe[0]).length-1)>0){for(C||(c.polygonStart(),C=!0),c.lineStart(),Xe=0;Xe<rt;++Xe)c.point((xt=st[Xe])[0],xt[1]);c.lineEnd()}return}ht>1&&2&Re&&Fe.push(Fe.pop().concat(Fe.shift())),E.push(Fe.filter(b))}}return Y}}function b(l){return l.length>1}function _(l,r){return((l=l.x)[0]<0?l[1]-N-$:N-l[1])-((r=r.x)[0]<0?r[1]-N-$:N-r[1])}mr.invert=mr;const P=x(function(){return!0},function O(l){var c,r=NaN,n=NaN,o=NaN;return{lineStart:function(){l.lineStart(),c=1},point:function(m,v){var D=m>0?k:-k,C=Me(m-r);Me(C-k)<$?(l.point(r,n=(n+v)/2>0?N:-N),l.point(o,n),l.lineEnd(),l.lineStart(),l.point(D,n),l.point(m,n),c=0):o!==D&&C>=k&&(Me(r-o)<$&&(r-=o*$),Me(m-D)<$&&(m-=D*$),n=function w(l,r,n,o){var c,m,v=ke(l-n);return Me(v)>$?Ge((ke(r)*(m=Ce(o))*ke(n)-ke(o)*(c=Ce(r))*ke(l))/(c*m*v)):(r+o)/2}(r,n,m,v),l.point(o,n),l.lineEnd(),l.lineStart(),l.point(D,n),c=0),l.point(r=m,n=v),o=D},lineEnd:function(){l.lineEnd(),r=n=NaN},clean:function(){return 2-c}}},function j(l,r,n,o){var c;if(null==l)o.point(-k,c=n*N),o.point(0,c),o.point(k,c),o.point(k,0),o.point(k,-c),o.point(0,-c),o.point(-k,-c),o.point(-k,0),o.point(-k,c);else if(Me(l[0]-r[0])>$){var m=l[0]<r[0]?k:-k;o.point(-m,c=n*m/2),o.point(0,c),o.point(m,c)}else o.point(r[0],r[1])},[-k,-N]);function K(l){return function(){return l}}function q(l,r,n,o,c,m){if(n){var v=Ce(r),D=ke(r),C=o*n;null==c?(c=r+o*De,m=r-C/2):(c=se(v,c),m=se(v,m),(o>0?c<m:c>m)&&(c+=o*De));for(var R,E=c;o>0?E>m:E<m;E-=C)R=Ci([v,-D*Ce(E),-D*ke(E)]),l.point(R[0],R[1])}}function se(l,r){(r=Ii(r))[0]-=l,i(r);var n=function nr(l){return l>1?0:l<-1?k:Math.acos(l)}(-r[1]);return((-r[2]<0?-n:n)+De-$)%De}var re=1e9,ie=-re;const Se=l=>l;function xe(l){return function(r){var n=new Ie;for(var o in l)n[o]=l[o];return n.stream=r,n}}function Ie(){}Ie.prototype={constructor:Ie,point:function(l,r){this.stream.point(l,r)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var ze=1/0,et=ze,qe=-ze,Ue=qe;const Dt={point:function Tt(l,r){l<ze&&(ze=l),l>qe&&(qe=l),r<et&&(et=r),r>Ue&&(Ue=r)},lineStart:ut,lineEnd:ut,polygonStart:ut,polygonEnd:ut,result:function(){var l=[[ze,et],[qe,Ue]];return qe=Ue=-(et=ze=1/0),l}};function Ht(l,r,n){var o=l.clipExtent&&l.clipExtent();return l.scale(150).translate([0,0]),null!=o&&l.clipExtent(null),ni(n,l.stream(Dt)),r(Dt.result()),null!=o&&l.clipExtent(o),l}function ct(l,r,n){return Ht(l,function(o){var c=r[1][0]-r[0][0],m=r[1][1]-r[0][1],v=Math.min(c/(o[1][0]-o[0][0]),m/(o[1][1]-o[0][1])),D=+r[0][0]+(c-v*(o[1][0]+o[0][0]))/2,C=+r[0][1]+(m-v*(o[1][1]+o[0][1]))/2;l.scale(150*v).translate([D,C])},n)}function Qe(l,r,n){return ct(l,[[0,0],r],n)}function ai(l,r,n){return Ht(l,function(o){var c=+r,m=c/(o[1][0]-o[0][0]),v=(c-m*(o[1][0]+o[0][0]))/2,D=-m*o[0][1];l.scale(150*m).translate([v,D])},n)}function oi(l,r,n){return Ht(l,function(o){var c=+r,m=c/(o[1][1]-o[0][1]),v=-m*o[0][0],D=(c-m*(o[1][1]+o[0][1]))/2;l.scale(150*m).translate([v,D])},n)}var Wt=16,kt=Ce(30*he);function Zt(l,r){return+r?function at(l,r){function n(o,c,m,v,D,C,R,E,F,Y,V,J,oe,ge){var me=R-o,Ae=E-c,be=me*me+Ae*Ae;if(be>4*r&&oe--){var Re=v+Y,Fe=D+V,Xe=C+J,ht=gt(Re*Re+Fe*Fe+Xe*Xe),rt=Rt(Xe/=ht),st=Me(Me(Xe)-1)<$||Me(m-F)<$?(m+F)/2:Ke(Fe,Re),xt=l(st,rt),Ve=xt[0],qt=xt[1],Ot=Ve-o,Pt=qt-c,Pe=Ae*Ot-me*Pt;(Pe*Pe/be>r||Me((me*Ot+Ae*Pt)/be-.5)>.3||v*Y+D*V+C*J<kt)&&(n(o,c,m,v,D,C,Ve,qt,st,Re/=ht,Fe/=ht,Xe,oe,ge),ge.point(Ve,qt),n(Ve,qt,st,Re,Fe,Xe,R,E,F,Y,V,J,oe,ge))}}return function(o){var c,m,v,D,C,R,E,F,Y,V,J,oe,ge={point:me,lineStart:Ae,lineEnd:Re,polygonStart:function(){o.polygonStart(),ge.lineStart=Fe},polygonEnd:function(){o.polygonEnd(),ge.lineStart=Ae}};function me(rt,st){rt=l(rt,st),o.point(rt[0],rt[1])}function Ae(){F=NaN,ge.point=be,o.lineStart()}function be(rt,st){var xt=Ii([rt,st]),Ve=l(rt,st);n(F,Y,E,V,J,oe,F=Ve[0],Y=Ve[1],E=rt,V=xt[0],J=xt[1],oe=xt[2],Wt,o),o.point(F,Y)}function Re(){ge.point=me,o.lineEnd()}function Fe(){Ae(),ge.point=Xe,ge.lineEnd=ht}function Xe(rt,st){be(c=rt,st),m=F,v=Y,D=V,C=J,R=oe,ge.point=be}function ht(){n(F,Y,E,V,J,oe,m,v,c,D,C,R,Wt,o),ge.lineEnd=Re,Re()}return ge}}(l,r):function Et(l){return xe({point:function(r,n){r=l(r,n),this.stream.point(r[0],r[1])}})}(l)}var St=xe({point:function(l,r){this.stream.point(l*he,r*he)}});function Tr(l,r,n,o,c,m){if(!m)return function vs(l,r,n,o,c){function m(v,D){return[r+l*(v*=o),n-l*(D*=c)]}return m.invert=function(v,D){return[(v-r)/l*o,(n-D)/l*c]},m}(l,r,n,o,c);var v=Ce(m),D=ke(m),C=v*l,R=D*l,E=v/l,F=D/l,Y=(D*n-v*r)/l,V=(D*r+v*n)/l;function J(oe,ge){return[C*(oe*=o)-R*(ge*=c)+r,n-R*oe-C*ge]}return J.invert=function(oe,ge){return[o*(E*oe-F*ge+Y),c*(V-F*oe-E*ge)]},J}function ei(l){return Ki(function(){return l})()}function Ki(l){var r,E,me,Ae,be,Xe,ht,rt,st,xt,n=150,o=480,c=250,m=0,v=0,D=0,C=0,R=0,F=0,Y=1,V=1,J=null,oe=P,ge=null,Re=Se,Fe=.5;function Ve(Pe){return rt(Pe[0]*he,Pe[1]*he)}function qt(Pe){return(Pe=rt.invert(Pe[0],Pe[1]))&&[Pe[0]*Oe,Pe[1]*Oe]}function Ot(){var Pe=Tr(n,0,0,Y,V,F).apply(null,r(m,v)),lt=Tr(n,o-Pe[0],c-Pe[1],Y,V,F);return E=ur(D,C,R),ht=Ri(r,lt),rt=Ri(E,ht),Xe=Zt(ht,Fe),Pt()}function Pt(){return st=xt=null,Ve}return Ve.stream=function(Pe){return st&&xt===Pe?st:st=St(function Gt(l){return xe({point:function(r,n){var o=l(r,n);return this.stream.point(o[0],o[1])}})}(E)(oe(Xe(Re(xt=Pe)))))},Ve.preclip=function(Pe){return arguments.length?(oe=Pe,J=void 0,Pt()):oe},Ve.postclip=function(Pe){return arguments.length?(Re=Pe,ge=me=Ae=be=null,Pt()):Re},Ve.clipAngle=function(Pe){return arguments.length?(oe=+Pe?function ee(l){var r=Ce(l),n=6*he,o=r>0,c=Me(r)>$;function v(E,F){return Ce(E)*Ce(F)>r}function C(E,F,Y){var oe=[1,0,0],ge=ji(Ii(E),Ii(F)),me=hr(ge,ge),Ae=ge[0],be=me-Ae*Ae;if(!be)return!Y&&E;var Re=r*me/be,Fe=-r*Ae/be,Xe=ji(oe,ge),ht=Z(oe,Re);Ni(ht,Z(ge,Fe));var st=Xe,xt=hr(ht,st),Ve=hr(st,st),qt=xt*xt-Ve*(hr(ht,ht)-1);if(!(qt<0)){var Ot=gt(qt),Pt=Z(st,(-xt-Ot)/Ve);if(Ni(Pt,ht),Pt=Ci(Pt),!Y)return Pt;var Pi,Pe=E[0],lt=F[0],Jt=E[1],ci=F[1];lt<Pe&&(Pi=Pe,Pe=lt,lt=Pi);var Kr=lt-Pe,rr=Me(Kr-k)<$;if(!rr&&ci<Jt&&(Pi=Jt,Jt=ci,ci=Pi),rr||Kr<$?rr?Jt+ci>0^Pt[1]<(Me(Pt[0]-Pe)<$?Jt:ci):Jt<=Pt[1]&&Pt[1]<=ci:Kr>k^(Pe<=Pt[0]&&Pt[0]<=lt)){var sr=Z(st,(-xt+Ot)/Ve);return Ni(sr,ht),[Pt,Ci(sr)]}}}function R(E,F){var Y=o?l:k-l,V=0;return E<-Y?V|=1:E>Y&&(V|=2),F<-Y?V|=4:F>Y&&(V|=8),V}return x(v,function D(E){var F,Y,V,J,oe;return{lineStart:function(){J=V=!1,oe=1},point:function(ge,me){var be,Ae=[ge,me],Re=v(ge,me),Fe=o?Re?0:R(ge,me):Re?R(ge+(ge<0?k:-k),me):0;if(!F&&(J=V=Re)&&E.lineStart(),Re!==V&&(!(be=C(F,Ae))||Zi(F,be)||Zi(Ae,be))&&(Ae[2]=1),Re!==V)oe=0,Re?(E.lineStart(),be=C(Ae,F),E.point(be[0],be[1])):(be=C(F,Ae),E.point(be[0],be[1],2),E.lineEnd()),F=be;else if(c&&F&&o^Re){var Xe;!(Fe&Y)&&(Xe=C(Ae,F,!0))&&(oe=0,o?(E.lineStart(),E.point(Xe[0][0],Xe[0][1]),E.point(Xe[1][0],Xe[1][1]),E.lineEnd()):(E.point(Xe[1][0],Xe[1][1]),E.lineEnd(),E.lineStart(),E.point(Xe[0][0],Xe[0][1],3)))}Re&&(!F||!Zi(F,Ae))&&E.point(Ae[0],Ae[1]),F=Ae,V=Re,Y=Fe},lineEnd:function(){V&&E.lineEnd(),F=null},clean:function(){return oe|(J&&V)<<1}}},function m(E,F,Y,V){q(V,l,n,Y,E,F)},o?[0,-l]:[-k,l-k])}(J=Pe*he):(J=null,P),Pt()):J*Oe},Ve.clipExtent=function(Pe){return arguments.length?(Re=null==Pe?(ge=me=Ae=be=null,Se):function _e(l,r,n,o){function c(R,E){return l<=R&&R<=n&&r<=E&&E<=o}function m(R,E,F,Y){var V=0,J=0;if(null==R||(V=v(R,F))!==(J=v(E,F))||C(R,E)<0^F>0)do{Y.point(0===V||3===V?l:n,V>1?o:r)}while((V=(V+F+4)%4)!==J);else Y.point(E[0],E[1])}function v(R,E){return Me(R[0]-l)<$?E>0?0:3:Me(R[0]-n)<$?E>0?2:1:Me(R[1]-r)<$?E>0?1:0:E>0?3:2}function D(R,E){return C(R.x,E.x)}function C(R,E){var F=v(R,1),Y=v(E,1);return F!==Y?F-Y:0===F?E[1]-R[1]:1===F?R[0]-E[0]:2===F?R[1]-E[1]:E[0]-R[0]}return function(R){var Y,V,J,oe,ge,me,Ae,be,Re,Fe,Xe,E=R,F=Wi(),ht={point:rt,lineStart:function qt(){ht.point=Pt,V&&V.push(J=[]),Fe=!0,Re=!1,Ae=be=NaN},lineEnd:function Ot(){Y&&(Pt(oe,ge),me&&Re&&F.rejoin(),Y.push(F.result())),ht.point=rt,Re&&E.lineEnd()},polygonStart:function xt(){E=F,Y=[],V=[],Xe=!0},polygonEnd:function Ve(){var Pe=function st(){for(var Pe=0,lt=0,Jt=V.length;lt<Jt;++lt)for(var Dr,sr,ci=V[lt],Pi=1,Kr=ci.length,rr=ci[0],_s=rr[0],Er=rr[1];Pi<Kr;++Pi)Dr=_s,sr=Er,_s=(rr=ci[Pi])[0],Er=rr[1],sr<=o?Er>o&&(_s-Dr)*(o-sr)>(Er-sr)*(l-Dr)&&++Pe:Er<=o&&(_s-Dr)*(o-sr)<(Er-sr)*(l-Dr)&&--Pe;return Pe}(),lt=Xe&&Pe,Jt=(Y=y(Y)).length;(lt||Jt)&&(R.polygonStart(),lt&&(R.lineStart(),m(null,null,1,R),R.lineEnd()),Jt&&xr(Y,D,Pe,m,R),R.polygonEnd()),E=R,Y=V=J=null}};function rt(Pe,lt){c(Pe,lt)&&E.point(Pe,lt)}function Pt(Pe,lt){var Jt=c(Pe,lt);if(V&&J.push([Pe,lt]),Fe)oe=Pe,ge=lt,me=Jt,Fe=!1,Jt&&(E.lineStart(),E.point(Pe,lt));else if(Jt&&Re)E.point(Pe,lt);else{var ci=[Ae=Math.max(ie,Math.min(re,Ae)),be=Math.max(ie,Math.min(re,be))],Pi=[Pe=Math.max(ie,Math.min(re,Pe)),lt=Math.max(ie,Math.min(re,lt))];!function fe(l,r,n,o,c,m){var J,v=l[0],D=l[1],E=0,F=1,Y=r[0]-v,V=r[1]-D;if(J=n-v,Y||!(J>0)){if(J/=Y,Y<0){if(J<E)return;J<F&&(F=J)}else if(Y>0){if(J>F)return;J>E&&(E=J)}if(J=c-v,Y||!(J<0)){if(J/=Y,Y<0){if(J>F)return;J>E&&(E=J)}else if(Y>0){if(J<E)return;J<F&&(F=J)}if(J=o-D,V||!(J>0)){if(J/=V,V<0){if(J<E)return;J<F&&(F=J)}else if(V>0){if(J>F)return;J>E&&(E=J)}if(J=m-D,V||!(J<0)){if(J/=V,V<0){if(J>F)return;J>E&&(E=J)}else if(V>0){if(J<E)return;J<F&&(F=J)}return E>0&&(l[0]=v+E*Y,l[1]=D+E*V),F<1&&(r[0]=v+F*Y,r[1]=D+F*V),!0}}}}}(ci,Pi,l,r,n,o)?Jt&&(E.lineStart(),E.point(Pe,lt),Xe=!1):(Re||(E.lineStart(),E.point(ci[0],ci[1])),E.point(Pi[0],Pi[1]),Jt||E.lineEnd(),Xe=!1)}Ae=Pe,be=lt,Re=Jt}return ht}}(ge=+Pe[0][0],me=+Pe[0][1],Ae=+Pe[1][0],be=+Pe[1][1]),Pt()):null==ge?null:[[ge,me],[Ae,be]]},Ve.scale=function(Pe){return arguments.length?(n=+Pe,Ot()):n},Ve.translate=function(Pe){return arguments.length?(o=+Pe[0],c=+Pe[1],Ot()):[o,c]},Ve.center=function(Pe){return arguments.length?(m=Pe[0]%360*he,v=Pe[1]%360*he,Ot()):[m*Oe,v*Oe]},Ve.rotate=function(Pe){return arguments.length?(D=Pe[0]%360*he,C=Pe[1]%360*he,R=Pe.length>2?Pe[2]%360*he:0,Ot()):[D*Oe,C*Oe,R*Oe]},Ve.angle=function(Pe){return arguments.length?(F=Pe%360*he,Ot()):F*Oe},Ve.reflectX=function(Pe){return arguments.length?(Y=Pe?-1:1,Ot()):Y<0},Ve.reflectY=function(Pe){return arguments.length?(V=Pe?-1:1,Ot()):V<0},Ve.precision=function(Pe){return arguments.length?(Xe=Zt(ht,Fe=Pe*Pe),Pt()):gt(Fe)},Ve.fitExtent=function(Pe,lt){return ct(Ve,Pe,lt)},Ve.fitSize=function(Pe,lt){return Qe(Ve,Pe,lt)},Ve.fitWidth=function(Pe,lt){return ai(Ve,Pe,lt)},Ve.fitHeight=function(Pe,lt){return oi(Ve,Pe,lt)},function(){return r=l.apply(this,arguments),Ve.invert=r.invert&&qt,Ot()}}function Qt(l,r){return[l,si(di((N+r)/2))]}function cr(){return function Sr(l){var D,C,R,r=ei(l),n=r.center,o=r.scale,c=r.translate,m=r.clipExtent,v=null;function E(){var F=k*o(),Y=r(function vr(l){function r(n){return(n=l(n[0]*he,n[1]*he))[0]*=Oe,n[1]*=Oe,n}return l=ur(l[0]*he,l[1]*he,l.length>2?l[2]*he:0),r.invert=function(n){return(n=l.invert(n[0]*he,n[1]*he))[0]*=Oe,n[1]*=Oe,n},r}(r.rotate()).invert([0,0]));return m(null==v?[[Y[0]-F,Y[1]-F],[Y[0]+F,Y[1]+F]]:l===Qt?[[Math.max(Y[0]-F,v),D],[Math.min(Y[0]+F,C),R]]:[[v,Math.max(Y[1]-F,D)],[C,Math.min(Y[1]+F,R)]])}return r.scale=function(F){return arguments.length?(o(F),E()):o()},r.translate=function(F){return arguments.length?(c(F),E()):c()},r.center=function(F){return arguments.length?(n(F),E()):n()},r.clipExtent=function(F){return arguments.length?(null==F?v=D=C=R=null:(v=+F[0][0],D=+F[0][1],C=+F[1][0],R=+F[1][1]),E()):null==v?null:[[v,D],[C,R]]},E()}(Qt).scale(961/De)}Qt.invert=function(l,r){return[l,2*Ge(zt(r))-N]};var Cr=z(5770);class Jr extends lr.Q{setupDefaultRules(){super.setupDefaultRules();const r=this._root.interfaceColors,n=this.rule.bind(this);n("MapChart").setAll({projection:cr(),panX:"translateX",panY:"translateY",pinchZoom:!0,zoomStep:2,zoomLevel:1,rotationX:0,rotationY:0,rotationZ:0,maxZoomLevel:32,minZoomLevel:1,wheelY:"zoom",wheelX:"none",animationEasing:Cr.out(Cr.cubic),wheelEasing:Cr.out(Cr.cubic),wheelDuration:0,wheelSensitivity:1,maxPanOut:.4,centerMapOnZoomOut:!0});{const o=n("MapLine");o.setAll({precision:.5,role:"figure"}),(0,Vi.v)(o,"stroke",r,"grid")}n("MapPolygonSeries").setAll({affectsBounds:!0}),n("MapPointSeries").setAll({affectsBounds:!1,clipFront:!1,clipBack:!0,autoScale:!1}),n("ClusteredPointSeries").setAll({minDistance:20,scatterDistance:3,scatterRadius:8,stopClusterZoom:.95}),n("MapLineSeries").setAll({affectsBounds:!1});{const o=n("MapPolygon");o.setAll({precision:.5,isMeasured:!1,role:"figure",fillOpacity:1,position:"absolute",strokeWidth:.2,strokeOpacity:1}),(0,Vi.v)(o,"fill",r,"primaryButton"),(0,Vi.v)(o,"stroke",r,"background")}n("Button",["zoomtools","home"]).setAll({visible:!1}),n("GraticuleSeries").setAll({step:10})}}var qr,es,Br,Yr,Ir=z(3704),xs=z(3605),jr=new ae,Nr=new ae,fi={point:ut,lineStart:ut,lineEnd:ut,polygonStart:function(){fi.lineStart=ws,fi.lineEnd=Ps},polygonEnd:function(){fi.lineStart=fi.lineEnd=fi.point=ut,jr.add(Me(Nr)),Nr=new ae},result:function(){var l=jr/2;return jr=new ae,l}};function ws(){fi.point=Or}function Or(l,r){fi.point=ts,qr=Br=l,es=Yr=r}function ts(l,r){Nr.add(Yr*l-Br*r),Br=l,Yr=r}function Ps(){ts(qr,es)}const is=fi;var rs,Xr,vi,xi,zr=0,ii=0,Bi=0,Ji=0,qi=0,Oi=0,Fr=0,dr=0,Yi=0,gi={point:wi,lineStart:ss,lineEnd:as,polygonStart:function(){gi.lineStart=H,gi.lineEnd=e},polygonEnd:function(){gi.point=wi,gi.lineStart=ss,gi.lineEnd=as},result:function(){var l=Yi?[Fr/Yi,dr/Yi]:Oi?[Ji/Oi,qi/Oi]:Bi?[zr/Bi,ii/Bi]:[NaN,NaN];return zr=ii=Bi=Ji=qi=Oi=Fr=dr=Yi=0,l}};function wi(l,r){zr+=l,ii+=r,++Bi}function ss(){gi.point=Ds}function Ds(l,r){gi.point=ns,wi(vi=l,xi=r)}function ns(l,r){var n=l-vi,o=r-xi,c=gt(n*n+o*o);Ji+=c*(vi+l)/2,qi+=c*(xi+r)/2,Oi+=c,wi(vi=l,xi=r)}function as(){gi.point=wi}function H(){gi.point=t}function e(){s(rs,Xr)}function t(l,r){gi.point=s,wi(rs=vi=l,Xr=xi=r)}function s(l,r){var n=l-vi,o=r-xi,c=gt(n*n+o*o);Ji+=c*(vi+l)/2,qi+=c*(xi+r)/2,Oi+=c,Fr+=(c=xi*l-vi*r)*(vi+l),dr+=c*(xi+r),Yi+=3*c,wi(vi=l,xi=r)}const h=gi;function f(l){this._context=l}f.prototype={_radius:4.5,pointRadius:function(l){return this._radius=l,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(l,r){switch(this._point){case 0:this._context.moveTo(l,r),this._point=1;break;case 1:this._context.lineTo(l,r);break;default:this._context.moveTo(l+this._radius,r),this._context.arc(l,r,this._radius,0,De)}},result:ut};var p,A,L,G,B,d=new ae,X={point:ut,lineStart:function(){X.point=M},lineEnd:function(){p&&de(A,L),X.point=ut},polygonStart:function(){p=!0},polygonEnd:function(){p=null},result:function(){var l=+d;return d=new ae,l}};function M(l,r){X.point=de,A=G=l,L=B=r}function de(l,r){d.add(gt((G-=l)*G+(B-=r)*B)),G=l,B=r}const T=X;let le,ne,Ee,we;class pe{constructor(r){this._append=null==r?Be:function _t(l){const r=Math.floor(l);if(!(r>=0))throw new RangeError(`invalid digits: ${l}`);if(r>15)return Be;if(r!==le){const n=10**r;le=r,ne=function(c){let m=1;this._+=c[0];for(const v=c.length;m<v;++m)this._+=Math.round(arguments[m]*n)/n+c[m]}}return ne}(r),this._radius=4.5,this._=""}pointRadius(r){return this._radius=+r,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){0===this._line&&(this._+="Z"),this._point=NaN}point(r,n){switch(this._point){case 0:this._append`M${r},${n}`,this._point=1;break;case 1:this._append`L${r},${n}`;break;default:if(this._append`M${r},${n}`,this._radius!==Ee||this._append!==ne){const o=this._radius,c=this._;this._="",this._append`m0,${o}a${o},${o} 0 1,1 0,${-2*o}a${o},${o} 0 1,1 0,${2*o}z`,Ee=o,ne=this._append,we=this._,this._=c}this._+=we}}result(){const r=this._;return this._="",r.length?r:null}}function Be(l){let r=1;this._+=l[0];for(const n=l.length;r<n;++r)this._+=arguments[r]+l[r]}var tt,dt,je,$e,yt,pi,it,At,Vt,$t,li,Kt,ui,Nt,wt,Ft,vt=z(796),Ct=z(5411),He=z(9472),ri={sphere:ut,point:wr,lineStart:Gr,lineEnd:Is,polygonStart:function(){ri.lineStart=cn,ri.lineEnd=dn},polygonEnd:function(){ri.lineStart=Gr,ri.lineEnd=Is}};function wr(l,r){l*=he;var n=Ce(r*=he);er(n*Ce(l),n*ke(l),ke(r))}function er(l,r,n){++tt,je+=(l-je)/tt,$e+=(r-$e)/tt,yt+=(n-yt)/tt}function Gr(){ri.point=os}function os(l,r){l*=he;var n=Ce(r*=he);Nt=n*Ce(l),wt=n*ke(l),Ft=ke(r),ri.point=hn,er(Nt,wt,Ft)}function hn(l,r){l*=he;var n=Ce(r*=he),o=n*Ce(l),c=n*ke(l),m=ke(r),v=Ke(gt((v=wt*m-Ft*c)*v+(v=Ft*o-Nt*m)*v+(v=Nt*c-wt*o)*v),Nt*o+wt*c+Ft*m);dt+=v,pi+=v*(Nt+(Nt=o)),it+=v*(wt+(wt=c)),At+=v*(Ft+(Ft=m)),er(Nt,wt,Ft)}function Is(){ri.point=wr}function cn(){ri.point=fn}function dn(){js(Kt,ui),ri.point=wr}function fn(l,r){Kt=l,ui=r,l*=he,r*=he,ri.point=js;var n=Ce(r);Nt=n*Ce(l),wt=n*ke(l),Ft=ke(r),er(Nt,wt,Ft)}function js(l,r){l*=he;var n=Ce(r*=he),o=n*Ce(l),c=n*ke(l),m=ke(r),v=wt*m-Ft*c,D=Ft*o-Nt*m,C=Nt*c-wt*o,R=Le(v,D,C),E=Rt(R),F=R&&-E/R;Vt.add(F*v),$t.add(F*D),li.add(F*C),dt+=E,pi+=E*(Nt+(Nt=o)),it+=E*(wt+(wt=c)),At+=E*(Ft+(Ft=m)),er(Nt,wt,Ft)}var Ns,Bs,Ms,Ts,Ss,ls=new ae,us=new ae,zi={point:ut,lineStart:ut,lineEnd:ut,polygonStart:function(){ls=new ae,zi.lineStart=pn,zi.lineEnd=mn},polygonEnd:function(){var l=+ls;us.add(l<0?De+l:l),this.lineStart=this.lineEnd=this.point=ut},sphere:function(){us.add(De)}};function pn(){zi.point=bn}function mn(){Ys(Ns,Bs)}function bn(l,r){zi.point=Ys,Ns=l,Bs=r,Ms=l*=he,Ts=Ce(r=(r*=he)/2+ve),Ss=ke(r)}function Ys(l,r){var n=(l*=he)-Ms,o=n>=0?1:-1,c=o*n,m=Ce(r=(r*=he)/2+ve),v=ke(r),D=Ss*v,C=Ts*m+D*Ce(c),R=D*o*ke(c);ls.add(Ke(R,C)),Ms=l,Ts=m,Ss=v}function zs(l){return us=new ae,ni(l,zi),2*us}var Lt,hi,Bt,mi,Pr,Fs,Xs,Ar,Ur,fr,tr,ir={point:Cs,lineStart:Us,lineEnd:Hs,polygonStart:function(){ir.point=Vs,ir.lineStart=yn,ir.lineEnd=_n,Ur=new ae,zi.polygonStart()},polygonEnd:function(){zi.polygonEnd(),ir.point=Cs,ir.lineStart=Us,ir.lineEnd=Hs,ls<0?(Lt=-(Bt=180),hi=-(mi=90)):Ur>$?mi=90:Ur<-$&&(hi=-90),tr[0]=Lt,tr[1]=Bt},sphere:function(){Lt=-(Bt=180),hi=-(mi=90)}};function Cs(l,r){fr.push(tr=[Lt=l,Bt=l]),r<hi&&(hi=r),r>mi&&(mi=r)}function Gs(l,r){var n=Ii([l*he,r*he]);if(Ar){var o=ji(Ar,n),m=ji([o[1],-o[0],0],o);i(m),m=Ci(m);var R,v=l-Pr,D=v>0?1:-1,C=m[0]*Oe*D,E=Me(v)>180;E^(D*Pr<C&&C<D*l)?(R=m[1]*Oe)>mi&&(mi=R):E^(D*Pr<(C=(C+360)%360-180)&&C<D*l)?(R=-m[1]*Oe)<hi&&(hi=R):(r<hi&&(hi=r),r>mi&&(mi=r)),E?l<Pr?bi(Lt,l)>bi(Lt,Bt)&&(Bt=l):bi(l,Bt)>bi(Lt,Bt)&&(Lt=l):Bt>=Lt?(l<Lt&&(Lt=l),l>Bt&&(Bt=l)):l>Pr?bi(Lt,l)>bi(Lt,Bt)&&(Bt=l):bi(l,Bt)>bi(Lt,Bt)&&(Lt=l)}else fr.push(tr=[Lt=l,Bt=l]);r<hi&&(hi=r),r>mi&&(mi=r),Ar=n,Pr=l}function Us(){ir.point=Gs}function Hs(){tr[0]=Lt,tr[1]=Bt,ir.point=Cs,Ar=null}function Vs(l,r){if(Ar){var n=l-Pr;Ur.add(Me(n)>180?n+(n>0?360:-360):n)}else Fs=l,Xs=r;zi.point(l,r),Gs(l,r)}function yn(){zi.lineStart()}function _n(){Vs(Fs,Xs),zi.lineEnd(),Me(Ur)>$&&(Lt=-(Bt=180)),tr[0]=Lt,tr[1]=Bt,Ar=null}function bi(l,r){return(r-=l)<0?r+360:r}function vn(l,r){return l[0]-r[0]}function Ws(l,r){return l[0]<=l[1]?l[0]<=r&&r<=l[1]:r<l[0]||l[1]<r}function wn(l,r){return function Q(){var o,c,l=K([0,0]),r=K(90),n=K(6),m={point:function v(C,R){o.push(C=c(C,R)),C[0]*=Oe,C[1]*=Oe}};function D(){var C=l.apply(this,arguments),R=r.apply(this,arguments)*he,E=n.apply(this,arguments)*he;return o=[],c=ur(-C[0]*he,-C[1]*he,0).invert,q(m,R,E,1),C={type:"Polygon",coordinates:[o]},o=c=null,C}return D.center=function(C){return arguments.length?(l="function"==typeof C?C:K([+C[0],+C[1]]),D):l},D.radius=function(C){return arguments.length?(r="function"==typeof C?C:K(+C),D):r},D.precision=function(C){return arguments.length?(n="function"==typeof C?C:K(+C),D):n},D}().center([l.longitude,l.latitude]).radius(r)()}function hs(l){const r=function gn(l){tt=dt=je=$e=yt=pi=it=At=0,Vt=new ae,$t=new ae,li=new ae,ni(l,ri);var r=+Vt,n=+$t,o=+li,c=Le(r,n,o);return c<ce&&(r=pi,n=it,o=At,dt<$&&(r=je,n=$e,o=yt),(c=Le(r,n,o))<ce)?[NaN,NaN]:[Ke(n,r)*Oe,Rt(o/c)*Oe]}(l);return{longitude:r[0],latitude:r[1]}}function Pn(l){return zs(l)}function cs(l){const r=function xn(l){var r,n,o,c,m,v,D;if(mi=Bt=-(Lt=hi=1/0),fr=[],ni(l,ir),n=fr.length){for(fr.sort(vn),r=1,m=[o=fr[0]];r<n;++r)Ws(o,(c=fr[r])[0])||Ws(o,c[1])?(bi(o[0],c[1])>bi(o[0],o[1])&&(o[1]=c[1]),bi(c[0],o[1])>bi(o[0],o[1])&&(o[0]=c[0])):m.push(o=c);for(v=-1/0,r=0,o=m[n=m.length-1];r<=n;o=c,++r)(D=bi(o[1],(c=m[r])[0]))>v&&(v=D,Lt=c[0],Bt=o[1])}return fr=tr=null,Lt===1/0||hi===1/0?[[NaN,NaN],[NaN,NaN]]:[[Lt,hi],[Bt,mi]]}(l);if(r){const n={left:r[0][0],right:r[1][0],top:r[1][1],bottom:r[0][1]};return n.right<n.left&&(n.right=180,n.left=-180),n}return{left:0,right:0,top:0,bottom:0}}function Dn(l,r,n,o){let c=[];o<=-180&&(o=-179.9999),n<=-90&&(n=-89.9999),l>=90&&(l=89.9999),r>=180&&(r=179.9999);let m=Math.min(90,(r-o)/Math.ceil((r-o)/90)),v=(l-n)/Math.ceil((l-n)/90);for(let D=o;D<r;D+=m){let C=[];c.push([C]),D+m>r&&(m=r-D);for(let R=D;R<=D+m;R+=5)C.push([R,l]);for(let R=l;R>=n;R-=v)C.push([D+m,R]);for(let R=D+m;R>=D;R-=5)C.push([R,n]);for(let R=n;R<=l;R+=v)C.push([D,R])}return{type:"MultiPolygon",coordinates:c}}function Mn(l){let r=Os(l.longitude),n=Math.asin(Math.sin(l.latitude*He.RADIANS))*He.DEGREES,o=Os(l.latitude);return Math.abs(o)>90&&(r=Os(r+180)),l.longitude=r,l.latitude=n,l}function Os(l){return(l%=360)>180&&(l-=360),l<-180&&(l+=360),l}var As=z(8261);class ds extends Ir.j{constructor(){super(...arguments),Object.defineProperty(this,"_downTranslateX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downTranslateY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downRotationX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downRotationY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downRotationZ",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_pLat",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_pLon",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_movePoints",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_downZoomLevel",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_doubleDownDistance",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_dirtyGeometries",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_geometryColection",{enumerable:!0,configurable:!0,writable:!0,value:{type:"GeometryCollection",geometries:[]}}),Object.defineProperty(this,"_centerLocation",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"_za",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_rxa",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_rya",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_txa",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tya",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_mapBounds",{enumerable:!0,configurable:!0,writable:!0,value:[[0,0],[0,0]]}),Object.defineProperty(this,"_geoCentroid",{enumerable:!0,configurable:!0,writable:!0,value:{longitude:0,latitude:0}}),Object.defineProperty(this,"_geoBounds",{enumerable:!0,configurable:!0,writable:!0,value:{left:0,right:0,top:0,bottom:0}}),Object.defineProperty(this,"_prevGeoBounds",{enumerable:!0,configurable:!0,writable:!0,value:{left:0,right:0,top:0,bottom:0}}),Object.defineProperty(this,"_dispatchBounds",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_wheelDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_pw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_ph",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_mapFitted",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_centerX",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_centerY",{enumerable:!0,configurable:!0,writable:!0,value:0})}_makeGeoPath(){const r=this.get("projection"),n=function ot(l,r){let c,m,n=3,o=4.5;function v(D){return D&&("function"==typeof o&&m.pointRadius(+o.apply(this,arguments)),ni(D,c(m))),m.result()}return v.area=function(D){return ni(D,c(is)),is.result()},v.measure=function(D){return ni(D,c(T)),T.result()},v.bounds=function(D){return ni(D,c(Dt)),Dt.result()},v.centroid=function(D){return ni(D,c(h)),h.result()},v.projection=function(D){return arguments.length?(c=null==D?(l=null,Se):(l=D).stream,v):l},v.context=function(D){return arguments.length?(m=null==D?(r=null,new pe(n)):new f(r=D),"function"!=typeof o&&m.pointRadius(o),v):r},v.pointRadius=function(D){return arguments.length?(o="function"==typeof D?D:(m.pointRadius(+D),+D),v):o},v.digits=function(D){if(!arguments.length)return n;if(null==D)n=null;else{const C=Math.floor(D);if(!(C>=0))throw new RangeError(`invalid digits: ${D}`);n=C}return null===r&&(m=new pe(n)),v},v.projection(l).digits(n).context(r)}();n.projection(r),this.setPrivateRaw("geoPath",n)}geoPoint(){return this.invert(this.seriesContainer.toGlobal({x:this.width()/2,y:this.height()/2}))}geoCentroid(){return this._geoCentroid}geoBounds(){return this._geoBounds}_handleSetWheel(){const r=this.get("wheelX"),n=this.get("wheelY"),o=this.chartContainer;"none"!=r||"none"!=n?(this._wheelDp&&this._wheelDp.dispose(),this._wheelDp=o.events.on("wheel",c=>{const m=this.get("wheelEasing"),v=this.get("wheelSensitivity",1),D=this.get("wheelDuration",0),C=c.originalEvent;if(!As.isLocalEvent(C,this))return;C.preventDefault();const R=o._display.toLocal(c.point);"zoom"==n?this._handleWheelZoom(C.deltaY,R):"rotateY"==n?this._handleWheelRotateY(C.deltaY/5*v,D,m):"rotateX"==n&&this._handleWheelRotateX(C.deltaY/5*v,D,m),"zoom"==r?this._handleWheelZoom(C.deltaX,R):"rotateY"==r?this._handleWheelRotateY(C.deltaX/5*v,D,m):"rotateX"==r&&this._handleWheelRotateX(C.deltaX/5*v,D,m)}),this._disposers.push(this._wheelDp)):this._wheelDp&&this._wheelDp.dispose()}_prepareChildren(){super._prepareChildren();const r=this.get("projection"),n=this.innerWidth(),o=this.innerHeight(),c=this._geometryColection.geometries;if(this.isDirty("projection")){this._makeGeoPath(),this.markDirtyProjection(),this._fitMap(),r.scale(this.getPrivate("mapScale")*this.get("zoomLevel",1)),r.rotate&&r.rotate([this.get("rotationX",0),this.get("rotationY",0),this.get("rotationZ",0)]);let m=this._prevSettings.projection;if(m&&m!=r){let v=n/2,D=o/2;if(m.invert){let C=m.invert([v,D]);if(C){let R=r(C);if(R){let E=r.translate(),F=v-(R[0]-E[0]),Y=D-(R[1]-E[1]);r.translate([F,Y]),this.setRaw("translateX",F),this.setRaw("translateY",Y)}}}}}if((this.isDirty("wheelX")||this.isDirty("wheelY"))&&this._handleSetWheel(),this._dirtyGeometries&&(this._geometryColection.geometries=[],this.series.each(m=>{U.pushAll(this._geometryColection.geometries,m._geometries)}),this._fitMap()),0!=c.length&&(n!=this._pw||o!=this._ph||this._dirtyGeometries)&&n>0&&o>0){let m=n/2,v=o/2;r.fitSize([n,o],this._geometryColection);const D=r.scale();if(this.setPrivateRaw("mapScale",D),r.scale(D*this.get("zoomLevel",1)),this._centerLocation){let R=r(this._centerLocation);if(R){let E=r.translate(),F=m-(R[0]-E[0]),Y=v-(R[1]-E[1]);r.translate([F,Y]),this.setRaw("translateX",F),this.setRaw("translateY",Y),this._centerX=E[0],this._centerY=E[1]}}this.markDirtyProjection();const C=this.getPrivate("geoPath");this._mapBounds=C.bounds(this._geometryColection)}if(this._pw=n,this._ph=o,this.isDirty("zoomControl")){const m=this._prevSettings.zoomControl,v=this.get("zoomControl");v!==m&&(this._disposeProperty("zoomControl"),m&&m.dispose(),v&&(v.setPrivate("chart",this),this.children.push(v)),this.setRaw("zoomControl",v))}this.isDirty("zoomLevel")&&(r.scale(this.getPrivate("mapScale")*this.get("zoomLevel",1)),this.markDirtyProjection(),this.series.each(m=>{m.isType("MapPointSeries")&&m.get("autoScale")&&U.each(m.dataItems,v=>{const D=v.bullets;D&&U.each(D,C=>{const R=C.get("sprite");R&&R.set("scale",this.get("zoomLevel"))})})})),(this.isDirty("translateX")||this.isDirty("translateY"))&&(r.translate([this.get("translateX",this.width()/2),this.get("translateY",this.height()/2)]),this.markDirtyProjection()),r.rotate&&(this.isDirty("rotationX")||this.isDirty("rotationY")||this.isDirty("rotationZ"))&&(r.rotate([this.get("rotationX",0),this.get("rotationY",0),this.get("rotationZ",0)]),this.markDirtyProjection()),(this.isDirty("pinchZoom")||this.get("panX")||this.get("panY"))&&this._setUpTouch()}_fitMap(){const r=this.get("projection");let n=this.innerWidth(),o=this.innerHeight();if(n>0&&o>0){r.fitSize([n,o],this._geometryColection),this.setPrivateRaw("mapScale",r.scale());const c=r.translate();this.setRaw("translateX",c[0]),this.setRaw("translateY",c[1]),this._centerX=c[0],this._centerY=c[1];const m=this.getPrivate("geoPath");this._mapBounds=m.bounds(this._geometryColection),this._geoCentroid=hs(this._geometryColection);const v=cs(this._geometryColection);if(this._geoBounds=v,this._geometryColection.geometries.length>0){v.left=He.round(this._geoBounds.left,3),v.right=He.round(this._geoBounds.right,3),v.top=He.round(this._geoBounds.top,3),v.bottom=He.round(this._geoBounds.bottom,3);const D=this._prevGeoBounds;D&&!As.sameBounds(v,D)&&(this._dispatchBounds=!0,this._prevGeoBounds=v)}this._mapFitted=!0}}homeGeoPoint(){let r=this.get("homeGeoPoint");if(!r){const o=this.getPrivate("geoPath").bounds(this._geometryColection),c=o[0][0],m=o[0][1];r=this.invert({x:c+(o[1][0]-c)/2,y:m+(o[1][1]-m)/2})}return r}goHome(r){this.zoomToGeoPoint(this.homeGeoPoint(),this.get("homeZoomLevel",1),!0,r,this.get("homeRotationX"),this.get("homeRotationY"))}_updateChildren(){const r=this.get("projection");if(r.invert){let n=this.innerWidth(),o=this.innerHeight();n>0&&o>0&&(this._centerLocation=r.invert([this.innerWidth()/2,this.innerHeight()/2]))}super._updateChildren()}_afterChanged(){if(super._afterChanged(),this._dispatchBounds){this._dispatchBounds=!1;const r="geoboundschanged";this.events.isEnabled(r)&&this.events.dispatch(r,{type:r,target:this})}}_setUpTouch(){this.chartContainer._display.cancelTouch||(this.chartContainer._display.cancelTouch=!!(this.get("pinchZoom")||this.get("panX")||this.get("panY")))}markDirtyGeometries(){this._dirtyGeometries=!0,this.markDirty()}markDirtyProjection(){this.series.each(r=>{r.markDirtyProjection()})}_afterNew(){this._defaultThemes.push(Jr.new(this._root)),this._settings.themeTags=As.mergeTags(this._settings.themeTags,["map"]),this.children.push(this.bulletsContainer),super._afterNew(),this._makeGeoPath(),this.chartContainer.children.push(this.seriesContainer),null==this.get("translateX")&&this.set("translateX",this.width()/2),null==this.get("translateY")&&this.set("translateY",this.height()/2),this.chartContainer.set("interactive",!0),this.chartContainer.set("interactiveChildren",!1),this.chartContainer.set("background",xs.A.new(this._root,{themeTags:["map","background"],fill:vt.Il.fromHex(0),fillOpacity:0})),this._disposers.push(this.chartContainer.events.on("pointerdown",n=>{this._handleChartDown(n)})),this._disposers.push(this.chartContainer.events.on("globalpointerup",n=>{this._handleChartUp(n)})),this._disposers.push(this.chartContainer.events.on("globalpointermove",n=>{this._handleChartMove(n)}));let r=!1;for(let n=0;n<Ct.i_.licenses.length;n++)Ct.i_.licenses[n].match(/^AM5M.{5,}/i)&&(r=!0);r||this._root._showBranding(),this._setUpTouch()}_handleChartDown(r){this._downZoomLevel=this.get("zoomLevel",1);const n=this.chartContainer._downPoints;let o=ue.keys(n).length;if(1==o){let c=n[1];c||(c=n[0]),c&&c.x==r.point.x&&c.y==r.point.y&&(o=0)}if(o>0){this._downTranslateX=this.get("translateX"),this._downTranslateY=this.get("translateY"),this._downRotationX=this.get("rotationX"),this._downRotationY=this.get("rotationY"),this._downRotationZ=this.get("rotationZ");const c=this.chartContainer._getDownPointId();if(c){let m=this._movePoints[c];m&&(this.chartContainer._downPoints[c]=m)}}else if(0==o){let c=this.chartContainer.get("background");if(c&&c.events.enableType("click"),this.get("panX")||this.get("panY")){this._za&&this._za.stop(),this._txa&&this._txa.stop(),this._tya&&this._tya.stop(),this._rxa&&this._rxa.stop(),this._rya&&this._rya.stop();const m=this.chartContainer._display.toLocal(r.point);this._downTranslateX=this.get("translateX"),this._downTranslateY=this.get("translateY"),this._downRotationX=this.get("rotationX"),this._downRotationY=this.get("rotationY"),this._downRotationZ=this.get("rotationZ");let v=this.get("projection");if(v.invert){let D=v.invert([m.x,m.y]),C=v.invert([m.x+1,m.y+1]);D&&C&&(this._pLon=Math.abs(C[0]-D[0]),this._pLat=Math.abs(C[1]-D[1]))}}}}invert(r){let n=this.get("projection");if(n.invert){const o=n.invert([r.x,r.y]);if(o)return{longitude:o[0],latitude:o[1]}}return{longitude:0,latitude:0}}convert(r,n,o){let m,c=this.get("projection");if(c.rotate||(n=void 0,o=void 0),null!=n||null!=o){null==n&&(n=0),null==o&&(o=0);let v=c.rotate();c.rotate([n,o,0]),m=c([r.longitude,r.latitude]),c.rotate(v)}else m=c([r.longitude,r.latitude]);return m?{x:m[0],y:m[1]}:{x:0,y:0}}_handleChartUp(r){this.chartContainer._downPoints={}}_handlePinch(){const r=this.chartContainer;let n=0,o=[],c=[];if(ue.each(r._downPoints,(m,v)=>{o[n]=v;let D=this._movePoints[m];D&&(c[n]=D),n++}),o.length>1&&c.length>1){const m=r._display;let v=o[0],D=o[1],C=c[0],R=c[1];if(v&&D&&C&&R){v=m.toLocal(v),D=m.toLocal(D),C=m.toLocal(C),R=m.toLocal(R);let E=Math.hypot(D.x-v.x,D.y-v.y),Y=Math.hypot(R.x-C.x,R.y-C.y)/E*this._downZoomLevel;Y=He.fitToRange(Y,this.get("minZoomLevel",1),this.get("maxZoomLevel",32));let V={x:C.x+(R.x-C.x)/2,y:C.y+(R.y-C.y)/2},J={x:v.x+(D.x-v.x)/2,y:v.y+(D.y-v.y)/2},me=this._downZoomLevel,Ae=V.x-(-(this._downTranslateX||0)+J.x)/me*Y,be=V.y-(-(this._downTranslateY||0)+J.y)/me*Y;this.set("zoomLevel",Y),this.set("translateX",Ae),this.set("translateY",be)}}}_handleChartMove(r){const n=this.chartContainer;let o=n._getDownPoint();const c=n._getDownPointId(),v=r.originalEvent.pointerId;if(this.get("pinchZoom")&&v&&(this._movePoints[v]=r.point,ue.keys(n._downPoints).length>1))this._handlePinch();else if((!c||!v||v==c)&&o){const D=this.get("panX"),C=this.get("panY");if("none"!=D||"none"!=C){const R=n._display;let E=R.toLocal(r.point);o=R.toLocal(o);let F=this._downTranslateX,Y=this._downTranslateY;if(Math.hypot(o.x-E.x,o.y-E.y)>5){let V=n.get("background");if(V&&V.events.disableType("click"),te.isNumber(F)&&te.isNumber(Y)){let J=this.get("projection");const oe=this.get("zoomLevel",1),ge=this.get("maxPanOut",.4),me=this._mapBounds,Ae=this.width(),be=this.height(),Re=me[1][0]-me[0][0],Fe=me[1][1]-me[0][1];if("translateX"==D){F+=E.x-o.x;const Xe=Ae/2-(Ae/2-this._centerX)*oe;F=Math.min(F,Xe+Re*ge*oe),F=Math.max(F,Xe-Re*ge*oe)}if("translateY"==C){Y+=E.y-o.y;const Xe=be/2-(be/2-this._centerY)*oe;Y=Math.min(Y,Xe+Fe*ge*oe),Y=Math.max(Y,Xe-Fe*ge*oe)}if(this.set("translateX",F),this.set("translateY",Y),J.invert){let Xe=J.invert([o.x,o.y]);location&&Xe&&("rotateX"==D&&this.set("rotationX",this._downRotationX-(o.x-E.x)*this._pLon),"rotateY"==C&&this.set("rotationY",this._downRotationY+(o.y-E.y)*this._pLat))}}}}}}_handleWheelRotateY(r,n,o){this._rya=this.animate({key:"rotationY",to:this.get("rotationY",0)-r,duration:n,easing:o})}_handleWheelRotateX(r,n,o){this._rxa=this.animate({key:"rotationX",to:this.get("rotationX",0)-r,duration:n,easing:o})}_handleWheelZoom(r,n){let o=this.get("zoomStep",2),c=this.get("zoomLevel",1),m=c;r>0?m=c/o:r<0&&(m=c*o),m!=c&&this.zoomToPoint(n,m)}zoomToGeoBounds(r,n,o,c){r.right<r.left&&(r.right=180,r.left=-180);const v=this.getPrivate("geoPath").bounds(this._geometryColection);let D=this.convert({longitude:r.left,latitude:r.top},o,c),C=this.convert({longitude:r.right,latitude:r.bottom},o,c);D.y<v[0][1]&&(D.y=v[0][1]),C.y>v[1][1]&&(C.y=v[1][1]);let R=this.get("zoomLevel",1),E_left=D.x,E_right=C.x,E_top=D.y,E_bottom=C.y,F=this.seriesContainer,Y=.9*Math.min(F.innerWidth()/(E_right-E_left)*R,F.innerHeight()/(E_bottom-E_top)*R),oe=this.invert({x:E_left+(E_right-E_left)/2,y:E_top+(E_bottom-E_top)/2});return(null!=o||null!=c)&&this.rotate(o,c),this.zoomToGeoPoint(oe,Y,!0,n)}zoomToPoint(r,n,o,c){n&&(n=He.fitToRange(n,this.get("minZoomLevel",1),this.get("maxZoomLevel",32))),te.isNumber(c)||(c=this.get("animationDuration",0));const m=this.get("animationEasing"),v=this.get("zoomLevel",1);this.get("centerMapOnZoomOut")&&n==this.get("homeZoomLevel",1)&&(r=this.convert(this.homeGeoPoint(),this.get("homeRotationX"),this.get("homeRotationY")),o=!0);let D=r.x,C=r.y,R=this.get("translateX",0),E=this.get("translateY",0),F=D,Y=C;o&&(F=this.width()/2,Y=this.height()/2);let J=Y-(C-E)/v*n;return this._txa=this.animate({key:"translateX",to:F-(D-R)/v*n,duration:c,easing:m}),this._tya=this.animate({key:"translateY",to:J,duration:c,easing:m}),this._za=this.animate({key:"zoomLevel",to:n,duration:c,easing:m}),v!=n&&this._root.readerAlert(this._t("Zoom level changed to %1",this._root.locale,te.numberToString(n))),this._za}zoomToGeoPoint(r,n,o,c,m,v){let D=this.convert(r,m,v);if((null!=m||null!=v)&&this.rotate(m,v,c),D)return this.zoomToPoint(D,n,o,c)}rotate(r,n,o){if(this.get("projection").rotate){te.isNumber(o)||(o=this.get("animationDuration",0));const m=this.get("animationEasing");null!=r&&this.animate({key:"rotationX",to:r,duration:o,easing:m}),null!=n&&this.animate({key:"rotationY",to:n,duration:o,easing:m})}}zoomIn(){return this.zoomToPoint({x:this.width()/2,y:this.height()/2},this.get("zoomLevel",1)*this.get("zoomStep",2))}zoomOut(){return this.zoomToPoint({x:this.width()/2,y:this.height()/2},this.get("zoomLevel",1)/this.get("zoomStep",2))}_clearDirty(){super._clearDirty(),this._dirtyGeometries=!1,this._mapFitted=!1}getArea(r){const n=this.getPrivate("geoPath"),o=r.get("geometry");return o?n.area(o):0}}Object.defineProperty(ds,"className",{enumerable:!0,configurable:!0,writable:!0,value:"MapChart"}),Object.defineProperty(ds,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Ir.j.classNames.concat([ds.className])});class kr extends ye{constructor(){super(...arguments),Object.defineProperty(this,"_types",{enumerable:!0,configurable:!0,writable:!0,value:["Point","MultiPoint"]}),Object.defineProperty(this,"_lineChangedDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_afterNew(){this.fields.push("polygonId","lineId","longitude","latitude","fixed"),super._afterNew()}markDirtyProjection(){this.markDirty()}markDirtyValues(r){super.markDirtyValues(),r&&this._positionBullets(r)}processDataItem(r){super.processDataItem(r);let n=r.get("geometry");if(n){if("Point"==n.type){const o=n.coordinates;o&&(r.set("longitude",o[0]),r.set("latitude",o[1]))}else if("MultiPoint"==n.type){const o=n.coordinates;o&&o[0]&&(r.set("longitude",o[0][0]),r.set("latitude",o[0][1]))}}else n={type:"Point",coordinates:[r.get("longitude",0),r.get("latitude",0)]},r.set("geometry",n);this._addGeometry(n,this)}_makeBullets(r){r.bullets=[],this.bullets.each(n=>{const o=r.get("geometry");if(o)if("Point"==o.type)this._setBulletParent(this._makeBullet(r,n));else if(o.type="MultiPoint"){let c=0;U.each(o.coordinates,()=>{this._setBulletParent(this._makeBullet(r,n,c)),c++})}})}_setBulletParent(r){if(r){const n=r.get("sprite"),o=this.chart;if(n&&o){const c=n.dataItem;c&&(c.get("fixed")?n.parent!=o.bulletsContainer&&o.bulletsContainer.children.moveValue(n):n.parent!=this.bulletsContainer&&this.bulletsContainer.children.moveValue(n))}}}_positionBullet(r){const n=r.get("sprite");if(n){const o=n.dataItem;if(o&&o.get("fixed"))return;const c=o.get("latitude"),m=o.get("longitude"),v=o.get("lineDataItem"),D=o.get("fixed"),C=this.chart;let R;if(v)R=v.get("mapLine");else{const oe=o.get("lineId");oe&&C&&C.series.each(ge=>{if(ge.isType("MapLineSeries")){let me=ge.getDataItemById(oe);me&&(o.set("lineDataItem",me),R=me.get("mapLine"))}})}this._lineChangedDp&&this._lineChangedDp.dispose(),R&&(this._lineChangedDp=R.events.on("linechanged",()=>{this._positionBullets(o)}));const E=o.get("polygonDataItem");let F;if(E)F=E.get("mapPolygon");else{const oe=o.get("polygonId");oe&&C&&C.series.each(ge=>{if(ge.isType("MapPolygonSeries")){let me=ge.getDataItemById(oe);me&&(o.set("polygonDataItem",me),F=me.get("mapPolygon"))}})}const Y=o.get("positionOnLine");let V,J;if(F){let oe=F.visualCentroid();V=[oe.longitude,oe.latitude],o.setRaw("longitude",oe.longitude),o.setRaw("latitude",oe.latitude)}else if(R&&te.isNumber(Y)){let oe=R.positionToGeoPoint(Y);if(V=[oe.longitude,oe.latitude],o.get("autoRotate",r.get("autoRotate"))&&C){const ge=R.positionToGeoPoint(Y-.002),me=R.positionToGeoPoint(Y+.002),Ae=C.convert(ge),be=C.convert(me);J=He.getAngle(Ae,be)}o.setRaw("longitude",oe.longitude),o.setRaw("latitude",oe.latitude)}else if(te.isNumber(m)&&te.isNumber(c))V=[m,c];else{const oe=o.get("geometry");oe&&("Point"==oe.type?this._positionBulletReal(r,oe,oe.coordinates,J):"MultiPoint"==oe.type&&(V=oe.coordinates[r._index||0]))}!D&&V&&this._positionBulletReal(r,{type:"Point",coordinates:V},V,J)}}_positionBulletReal(r,n,o,c){const m=r.get("sprite"),v=this.chart;if(v){const D=v.get("projection"),C=v.getPrivate("geoPath"),R=m.dataItem,E=D(o);if(E){const Y={x:E[0],y:E[1]};m.setAll(Y),R.setRaw("point",Y)}let F=!0;C(n)?this.get("clipFront")&&(F=!1):this.get("clipBack")&&(F=!1),m.setPrivate("visible",F),R.set("clipped",!F),R&&null!=c&&R.get("autoRotate",r.get("autoRotate"))&&m.set("rotation",c+R.get("autoRotateAngle",r.get("autoRotateAngle",0)))}}zoomToDataItem(r,n,o){const c=this.chart;if(c){const m=r.get("longitude",0),v=r.get("latitude",0);return o?c.zoomToGeoPoint({longitude:m,latitude:v},n,!0,void 0,-m,-v):c.zoomToGeoPoint({longitude:m,latitude:v},n,!0)}}zoomToDataItems(r,n){let o=null,c=null,m=null,v=null;if(U.each(r,D=>{const C=D.get("longitude",0),R=D.get("latitude",0);(null==o||o>C)&&(o=C),(null==c||c<C)&&(c=C),(null==m||m<R)&&(m=R),(null==v||v>R)&&(v=R)}),null!=o&&null!=c&&null!=m&&null!=v){const D=this.chart;if(D)return n?D.zoomToGeoBounds({left:o,right:c,top:m,bottom:v},void 0,-(o+(c-o)/2),-(m+(m-v)/2)):D.zoomToGeoBounds({left:o,right:c,top:m,bottom:v})}}disposeDataItem(r){const n=this.chart;n&&n.series.each(o=>{o.isType("MapLineSeries")&&U.each(o.dataItems,c=>{const m=c.get("pointsToConnect");m&&U.each(m,v=>{v==r&&(U.remove(m,v),o.markDirtyValues(c))})})}),super.disposeDataItem(r)}_excludeDataItem(r){super._excludeDataItem(r);const n=r.bullets;n&&U.each(n,o=>{const c=o.get("sprite");c&&c.setPrivate("visible",!1)})}_unexcludeDataItem(r){super._unexcludeDataItem(r);const n=r.bullets;n&&U.each(n,o=>{const c=o.get("sprite");c&&c.setPrivate("visible",!0)})}_notIncludeDataItem(r){super._notIncludeDataItem(r);const n=r.bullets;n&&U.each(n,o=>{const c=o.get("sprite");c&&c.setPrivate("visible",!1)})}_unNotIncludeDataItem(r){super._unNotIncludeDataItem(r);const n=r.bullets;n&&U.each(n,o=>{const c=o.get("sprite");c&&c.setPrivate("visible",!0)})}}Object.defineProperty(kr,"className",{enumerable:!0,configurable:!0,writable:!0,value:"MapPointSeries"}),Object.defineProperty(kr,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ye.classNames.concat([kr.className])});var Tn=z(1783),Sn=z.n(Tn);class Hr extends Te.T{constructor(){super(...arguments),Object.defineProperty(this,"_projectionDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"series",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_beforeChanged(){if(super._beforeChanged(),this._projectionDirty||this.isDirty("geometry")||this.isDirty("precision")){const r=this.get("geometry");if(r){const n=this.series;if(n){const o=n.projection();o&&o.precision(this.get("precision",.5));const c=n.geoPath();c&&(this._clear=!0,this.set("draw",m=>{c.context(this._display),c(r),c.context(null)}),this.isHover()&&this.showTooltip())}}}}markDirtyProjection(){this.markDirty(),this._projectionDirty=!0}_clearDirty(){super._clearDirty(),this._projectionDirty=!1}geoCentroid(){const r=this.get("geometry");return r?hs(r):{latitude:0,longitude:0}}visualCentroid(){let r=0,n=[];const o=this.get("geometry");if(o){if("Polygon"==o.type)n=o.coordinates;else if("MultiPolygon"==o.type)for(let c=0;c<o.coordinates.length;c++){let m=o.coordinates[c],v=zs({type:"Polygon",coordinates:m});v>r&&(n=m,r=v)}if(n){let c=Sn()(n);return{longitude:c[0],latitude:c[1]}}}return{longitude:0,latitude:0}}_getTooltipPoint(){const r=this.series;if(r){const n=r.projection();if(n){const o=this.visualCentroid(),c=n([o.longitude,o.latitude]);if(c)return{x:c[0],y:c[1]}}}return{x:0,y:0}}}Object.defineProperty(Hr,"className",{enumerable:!0,configurable:!0,writable:!0,value:"MapPolygon"}),Object.defineProperty(Hr,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Te.T.classNames.concat([Hr.className])});class fs extends ye{constructor(){super(...arguments),Object.defineProperty(this,"mapPolygons",{enumerable:!0,configurable:!0,writable:!0,value:new pr.o(Ei.YS.new({}),()=>Hr._new(this._root,{},[this.mapPolygons.template]))}),Object.defineProperty(this,"_types",{enumerable:!0,configurable:!0,writable:!0,value:["Polygon","MultiPolygon"]})}makeMapPolygon(r){const n=this.children.push(this.mapPolygons.make());return n._setDataItem(r),this.mapPolygons.push(n),n}markDirtyProjection(){U.each(this.dataItems,r=>{let n=r.get("mapPolygon");n&&n.markDirtyProjection()})}_prepareChildren(){super._prepareChildren(),this.isDirty("fill")&&this.mapPolygons.template.set("fill",this.get("fill")),this.isDirty("stroke")&&this.mapPolygons.template.set("stroke",this.get("stroke"))}processDataItem(r){super.processDataItem(r);let n=r.get("mapPolygon");n||(n=this.makeMapPolygon(r)),r.set("mapPolygon",n);let o=r.get("geometry");if(o){if(this.get("reverseGeodata")&&o.coordinates)for(let m=0;m<o.coordinates.length;m++)if("MultiPolygon"==o.type)for(let v=0;v<o.coordinates[m].length;v++)o.coordinates[m][v].reverse();else o.coordinates[m].reverse();n.set("geometry",o)}n.series=this,this._addGeometry(r.get("geometry"),this)}disposeDataItem(r){super.disposeDataItem(r);const n=r.get("mapPolygon");n&&(this.mapPolygons.removeValue(n),n.dispose()),this._removeGeometry(r.get("geometry"))}_excludeDataItem(r){super._excludeDataItem(r);const n=r.get("mapPolygon");n&&n.setPrivate("visible",!1)}_unexcludeDataItem(r){super._unexcludeDataItem(r);const n=r.get("mapPolygon");n&&n.setPrivate("visible",!0)}_notIncludeDataItem(r){super._notIncludeDataItem(r);const n=r.get("mapPolygon");n&&n.setPrivate("visible",!1)}_unNotIncludeDataItem(r){super._unNotIncludeDataItem(r);const n=r.get("mapPolygon");n&&n.setPrivate("visible",!0)}markDirtyValues(r){if(super.markDirtyValues(),r){const n=r.get("mapPolygon");n&&n.set("geometry",r.get("geometry"))}}zoomToDataItem(r,n){const o=r.get("mapPolygon");if(o){const c=o.get("geometry"),m=this.chart;if(c&&m){if(n){const v=hs(c);return m.rotate(-v.longitude,-v.latitude),m.zoomToGeoBounds(cs(c),void 0,-v.longitude,-v.latitude)}return m.zoomToGeoBounds(cs(c))}}}}Object.defineProperty(fs,"className",{enumerable:!0,configurable:!0,writable:!0,value:"MapPolygonSeries"}),Object.defineProperty(fs,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ye.classNames.concat([fs.className])});var Cn=z(7313),On=z(9239),An=z(1262);function Zs(){return 0}const Qs=4294967296;function Yn(l,r){var n,o;if(ks(r,l))return[r];for(n=0;n<l.length;++n)if(gs(r,l[n])&&ks(Vr(l[n],r),l))return[l[n],r];for(n=0;n<l.length-1;++n)for(o=n+1;o<l.length;++o)if(gs(Vr(l[n],l[o]),r)&&gs(Vr(l[n],r),l[o])&&gs(Vr(l[o],r),l[n])&&ks(Js(l[n],l[o],r),l))return[l[n],l[o],r];throw new Error}function gs(l,r){var n=l.r-r.r,o=r.x-l.x,c=r.y-l.y;return n<0||n*n<o*o+c*c}function Ks(l,r){var n=l.r-r.r+1e-9*Math.max(l.r,r.r,1),o=r.x-l.x,c=r.y-l.y;return n>0&&n*n>o*o+c*c}function ks(l,r){for(var n=0;n<r.length;++n)if(!Ks(l,r[n]))return!1;return!0}function zn(l){switch(l.length){case 1:return function Fn(l){return{x:l.x,y:l.y,r:l.r}}(l[0]);case 2:return Vr(l[0],l[1]);case 3:return Js(l[0],l[1],l[2])}}function Vr(l,r){var n=l.x,o=l.y,c=l.r,m=r.x,v=r.y,D=r.r,C=m-n,R=v-o,E=D-c,F=Math.sqrt(C*C+R*R);return{x:(n+m+C/F*E)/2,y:(o+v+R/F*E)/2,r:(F+c+D)/2}}function Js(l,r,n){var o=l.x,c=l.y,m=l.r,v=r.x,D=r.y,C=r.r,R=n.x,E=n.y,F=n.r,Y=o-v,V=o-R,J=c-D,oe=c-E,ge=C-m,me=F-m,Ae=o*o+c*c-m*m,be=Ae-v*v-D*D+C*C,Re=Ae-R*R-E*E+F*F,Fe=V*J-Y*oe,Xe=(J*Re-oe*be)/(2*Fe)-o,ht=(oe*ge-J*me)/Fe,rt=(V*be-Y*Re)/(2*Fe)-c,st=(Y*me-V*ge)/Fe,xt=ht*ht+st*st-1,Ve=2*(m+Xe*ht+rt*st),qt=Xe*Xe+rt*rt-m*m,Ot=-(Math.abs(xt)>1e-6?(Ve+Math.sqrt(Ve*Ve-4*xt*qt))/(2*xt):qt/Ve);return{x:o+Xe+ht*Ot,y:c+rt+st*Ot,r:Ot}}function qs(l,r,n){var c,m,D,C,o=l.x-r.x,v=l.y-r.y,R=o*o+v*v;R?(m=r.r+n.r,C=l.r+n.r,(m*=m)>(C*=C)?(c=(R+C-m)/(2*R),D=Math.sqrt(Math.max(0,C/R-c*c)),n.x=l.x-c*o-D*v,n.y=l.y-c*v+D*o):(c=(R+m-C)/(2*R),D=Math.sqrt(Math.max(0,m/R-c*c)),n.x=r.x+c*o-D*v,n.y=r.y+c*v+D*o)):(n.x=r.x+n.r,n.y=r.y)}function en(l,r){var n=l.r+r.r-1e-6,o=r.x-l.x,c=r.y-l.y;return n>0&&n*n>o*o+c*c}function tn(l){var r=l._,n=l.next._,o=r.r+n.r,c=(r.x*n.r+n.x*r.r)/o,m=(r.y*n.r+n.y*r.r)/o;return c*c+m*m}function ps(l){this._=l,this.next=null,this.previous=null}function rn(l,r){if(!(m=(l=function Nn(l){return"object"==typeof l&&"length"in l?l:Array.from(l)}(l)).length))return 0;var n,o,c,m,v,D,C,R,E,F,Y;if((n=l[0]).x=0,n.y=0,!(m>1))return n.r;if(n.x=-(o=l[1]).r,o.x=n.r,o.y=0,!(m>2))return n.r+o.r;qs(o,n,c=l[2]),n=new ps(n),o=new ps(o),c=new ps(c),n.next=c.previous=o,o.next=n.previous=c,c.next=o.previous=n;e:for(C=3;C<m;++C){qs(n._,o._,c=l[C]),c=new ps(c),R=o.next,E=n.previous,F=o._.r,Y=n._.r;do{if(F<=Y){if(en(R._,c._)){n.next=o=R,o.previous=n,--C;continue e}F+=R._.r,R=R.next}else{if(en(E._,c._)){(n=E).next=o,o.previous=n,--C;continue e}Y+=E._.r,E=E.previous}}while(R!==E.next);for(c.previous=n,c.next=o,n.next=o.previous=o=c,v=tn(n);(c=c.next)!==o;)(D=tn(c))<v&&(n=c,v=D);o=n.next}for(n=[o._],c=o;(c=c.next)!==o;)n.push(c._);for(c=function $s(l,r){for(var m,v,n=0,o=(l=function Bn(l,r){let o,c,n=l.length;for(;n;)c=r()*n--|0,o=l[n],l[n]=l[c],l[c]=o;return l}(Array.from(l),r)).length,c=[];n<o;)m=l[n],v&&Ks(v,m)?++n:(v=zn(c=Yn(c,m)),n=0);return v}(n,r),C=0;C<m;++C)(n=l[C]).x-=c.x,n.y-=c.y;return c.r}function Xn(l){return Math.sqrt(l.value)}function Gn(){var l=null,r=1,n=1,o=Zs;function c(m){const v=function jn(){let l=1;return()=>(l=(1664525*l+1013904223)%Qs)/Qs}();return m.x=r/2,m.y=n/2,l?m.eachBefore(sn(l)).eachAfter(Es(o,.5,v)).eachBefore(nn(1)):m.eachBefore(sn(Xn)).eachAfter(Es(Zs,1,v)).eachAfter(Es(o,m.r/Math.min(r,n),v)).eachBefore(nn(Math.min(r,n)/(2*m.r))),m}return c.radius=function(m){return arguments.length?(l=function kn(l){return null==l?null:function En(l){if("function"!=typeof l)throw new Error;return l}(l)}(m),c):l},c.size=function(m){return arguments.length?(r=+m[0],n=+m[1],c):[r,n]},c.padding=function(m){return arguments.length?(o="function"==typeof m?m:function Ln(l){return function(){return l}}(+m),c):o},c}function sn(l){return function(r){r.children||(r.r=Math.max(0,+l(r)||0))}}function Es(l,r,n){return function(o){if(c=o.children){var c,m,C,v=c.length,D=l(o)*r||0;if(D)for(m=0;m<v;++m)c[m].r+=D;if(C=rn(c,n),D)for(m=0;m<v;++m)c[m].r-=D;o.r=C+D}}}function nn(l){return function(r){var n=r.parent;r.r*=l,n&&(r.x=n.x+l*r.x,r.y=n.y+l*r.y)}}class ms extends kr{constructor(){super(...arguments),Object.defineProperty(this,"_dataItem",{enumerable:!0,configurable:!0,writable:!0,value:this.makeDataItem({})}),Object.defineProperty(this,"_clusterIndex",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_clusters",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"clusteredDataItems",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_scatterIndex",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_scatters",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_packLayout",{enumerable:!0,configurable:!0,writable:!0,value:Gn()}),Object.defineProperty(this,"_spiral",{enumerable:!0,configurable:!0,writable:!0,value:[]})}_afterNew(){this.fields.push("groupId"),this._setRawDefault("groupIdField","groupId"),super._afterNew()}_updateChildren(){super._updateChildren(),this.isDirty("scatterRadius")&&(this._spiral=He.spiralPoints(0,0,300,300,0,3,3,0,0));const r={};U.each(this.dataItems,n=>{const o=n.get("groupId","_default");r[o]||(r[o]=[]),r[o].push(n)}),this._scatterIndex=-1,this._scatters=[],this._clusterIndex=-1,this._clusters=[],U.each(this.clusteredDataItems,n=>{n.setRaw("children",void 0)}),U.each(this.dataItems,n=>{n.setRaw("cluster",void 0)}),ue.each(r,(n,o)=>{this._scatterGroup(o)}),ue.each(r,(n,o)=>{this._clusterGroup(o)}),U.each(this.dataItems,n=>{if(!n.get("cluster")){const o=n.bullets;o&&U.each(o,c=>{const m=c.get("sprite");m&&m.set("forceHidden",!1)})}})}zoomToCluster(r,n){this.zoomToDataItems(r.get("children",[]),n)}_clusterGroup(r){const n=this.chart;if(!(n&&n.get("zoomLevel",1)>=n.get("maxZoomLevel",100)*this.get("stopClusterZoom",.95)))for(;r.length>0;){this._clusterIndex++,this._clusters[this._clusterIndex]=[];const m=r[0];this._clusters[this._clusterIndex].push(m),U.remove(r,m),this._clusterDataItem(m,r)}let o=0;U.each(this._clusters,c=>{let m=0,v=0,D=c.length;if(D>1){let C=this.clusteredDataItems[o];if(!C){C=new Cn.z(this,void 0,{});const V=this.get("clusteredBullet");if(V){const J=C.set("bullet",V(this._root,this,C));if(J){const oe=J.get("sprite");oe&&(this.bulletsContainer.children.push(oe),oe._setDataItem(C))}}this.clusteredDataItems.push(C)}U.each(c,V=>{V.setRaw("cluster",C);const J=V.get("point");J&&(m+=J.x,v+=J.y);const oe=V.bullets;oe&&U.each(oe,ge=>{const me=ge.get("sprite");me&&me.set("forceHidden",!0)})});let R=m/D,E=v/D;C.setRaw("children",c);const F=C.get("value");C.setRaw("value",D);const Y=C.get("bullet");if(Y){const V=Y.get("sprite");V&&(V.set("forceHidden",!1),V.setAll({x:R,y:E}),F!=D&&V instanceof On.W&&V.walkChildren(J=>{J instanceof An._&&J.text.markDirtyText()}))}o++}}),U.each(this.clusteredDataItems,c=>{let m=c.get("children");if(!m||0==m.length){const v=c.get("bullet");if(v){const D=v.get("sprite");D&&D.set("forceHidden",!0)}}})}_onDataClear(){super._onDataClear(),U.each(this.clusteredDataItems,r=>{const n=r.get("bullet");if(n){const o=n.get("sprite");o&&o.dispose()}}),this.clusteredDataItems=[]}_clusterDataItem(r,n){const o=r.get("point");o&&U.each(n,c=>{if(c&&!c.get("clipped")){const m=c.get("point");m&&Math.hypot(m.x-o.x,m.y-o.y)<this.get("minDistance",20)&&(this._clusters[this._clusterIndex].push(c),U.remove(n,c),this._clusterDataItem(c,n))}})}_scatterGroup(r){const n=this.chart;if(n&&n.get("zoomLevel",1)>=n.get("maxZoomLevel",100)*this.get("stopClusterZoom",.95)){for(;r.length>0;){this._scatterIndex++,this._scatters[this._scatterIndex]=[];const c=r[0];this._scatters[this._scatterIndex].push(c),U.remove(r,c),this._scatterDataItem(c,r)}U.each(this._scatters,o=>{if(o.length>1){let m=[],v=0,D=this.get("scatterRadius",8);U.each(o,C=>{let R=this._spiral[v],E=!0;if(m.length>0)for(;E;)U.each(m,J=>{for(E=!1;He.circlesOverlap({x:R.x,y:R.y,radius:D},J);)v++,null==this._spiral[v]?E=!1:(E=!0,R=this._spiral[v])});const F=R.x,Y=R.y;m.push({x:F,y:Y,radius:D}),C.set("dx",F),C.set("dy",Y);const V=C.bullets;V&&U.each(V,J=>{const oe=J.get("sprite");oe&&oe.setAll({dx:F,dy:Y})})})}})}}_scatterDataItem(r,n){const o=r.get("point");o&&U.each(n,c=>{if(c&&!c.get("clipped")){const m=c.get("point");m&&Math.hypot(m.x-o.x,m.y-o.y)<this.get("scatterDistance",5)&&(this._scatters[this._scatterIndex].push(c),U.remove(n,c),this._scatterDataItem(c,n))}})}}Object.defineProperty(ms,"className",{enumerable:!0,configurable:!0,writable:!0,value:"ClusteredPointSeries"}),Object.defineProperty(ms,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:kr.classNames.concat([ms.className])});var an=z(8853);class bs extends an.H{_afterNew(){super._afterNew(),this.addTag("zoomtools")}_prepareChildren(){super._prepareChildren(),this.isPrivateDirty("chart")&&this.set("target",this.getPrivate("chart"))}}function on(l,r){return[Ce(r)*ke(l),ke(r)]}function Hn(){return ei(on).scale(249.5).clipAngle(90+$)}function Ls(l,r){return[l,r]}function Vn(){return ei(Ls).scale(152.63)}function Qn(l,r){var n=ke(l),o=(n+ke(r))/2;if(Me(o)<$)return function Zn(l){var r=Ce(l);function n(o,c){return[o*r,ke(c)/r]}return n.invert=function(o,c){return[o/r,Rt(c*r)]},n}(l);var c=1+n*(2*o-n),m=gt(c)/o;function v(D,C){var R=gt(c-2*o*ke(C))/o;return[R*ke(D*=o),m-R*Ce(D)]}return v.invert=function(D,C){var R=m-C,E=Ke(D,Me(R))*yi(R);return R*o<0&&(E-=k*yi(D)*yi(R)),[E/o,Rt((c-(D*D+R*R)*o*o)/(2*o))]},v}function Rs(){return function Wn(l){var r=0,n=k/3,o=Ki(l),c=o(r,n);return c.parallels=function(m){return arguments.length?o(r=m[0]*he,n=m[1]*he):[r*Oe,n*Oe]},c}(Qn).scale(155.424).center([0,33.6442])}function Jn(){var l,r,o,m,D,C,n=function $n(){return Rs().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}(),c=Rs().rotate([154,0]).center([-2,58.5]).parallels([55,65]),v=Rs().rotate([157,0]).center([-3,19.9]).parallels([8,18]),R={point:function(Y,V){C=[Y,V]}};function E(Y){var V=Y[0],J=Y[1];return C=null,o.point(V,J),C||(m.point(V,J),C)||(D.point(V,J),C)}function F(){return l=r=null,E}return E.invert=function(Y){var V=n.scale(),J=n.translate(),oe=(Y[0]-J[0])/V,ge=(Y[1]-J[1])/V;return(ge>=.12&&ge<.234&&oe>=-.425&&oe<-.214?c:ge>=.166&&ge<.234&&oe>=-.214&&oe<-.115?v:n).invert(Y)},E.stream=function(Y){return l&&r===Y?l:l=function Kn(l){var r=l.length;return{point:function(n,o){for(var c=-1;++c<r;)l[c].point(n,o)},sphere:function(){for(var n=-1;++n<r;)l[n].sphere()},lineStart:function(){for(var n=-1;++n<r;)l[n].lineStart()},lineEnd:function(){for(var n=-1;++n<r;)l[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<r;)l[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<r;)l[n].polygonEnd()}}}([n.stream(r=Y),c.stream(Y),v.stream(Y)])},E.precision=function(Y){return arguments.length?(n.precision(Y),c.precision(Y),v.precision(Y),F()):n.precision()},E.scale=function(Y){return arguments.length?(n.scale(Y),c.scale(.35*Y),v.scale(Y),E.translate(n.translate())):n.scale()},E.translate=function(Y){if(!arguments.length)return n.translate();var V=n.scale(),J=+Y[0],oe=+Y[1];return o=n.translate(Y).clipExtent([[J-.455*V,oe-.238*V],[J+.455*V,oe+.238*V]]).stream(R),m=c.translate([J-.307*V,oe+.201*V]).clipExtent([[J-.425*V+$,oe+.12*V+$],[J-.214*V-$,oe+.234*V-$]]).stream(R),D=v.translate([J-.205*V,oe+.212*V]).clipExtent([[J-.214*V+$,oe+.166*V+$],[J-.115*V-$,oe+.234*V-$]]).stream(R),F()},E.fitExtent=function(Y,V){return ct(E,Y,V)},E.fitSize=function(Y,V){return Qe(E,Y,V)},E.fitWidth=function(Y,V){return ai(E,Y,V)},E.fitHeight=function(Y,V){return oi(E,Y,V)},E.scale(1070)}Object.defineProperty(bs,"className",{enumerable:!0,configurable:!0,writable:!0,value:"ZoomControl"}),Object.defineProperty(bs,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:an.H.classNames.concat([bs.className])}),on.invert=function Un(l){return function(r,n){var o=gt(r*r+n*n),c=l(o),m=ke(c),v=Ce(c);return[Ke(r*m,o*v),Rt(o&&n*m/o)]}}(Rt),Ls.invert=Ls;var Wr=1.340264,Zr=-.081106,Qr=893e-6,$r=.003796,ys=gt(3)/2;function ln(l,r){var n=Rt(ys*ke(r)),o=n*n,c=o*o*o;return[l*Ce(n)/(ys*(Wr+3*Zr*o+c*(7*Qr+9*$r*o))),n*(Wr+Zr*o+c*(Qr+$r*o))]}function ea(){return ei(ln).scale(177.158)}function un(l,r){var n=r*r,o=n*n;return[l*(.8707-.131979*n+o*(o*(.003971*n-.001529*o)-.013791)),r*(1.007226+n*(.015085+o*(.028874*n-.044475-.005916*o)))]}function ta(){return ei(un).scale(175.295)}ln.invert=function(l,r){for(var v,n=r,o=n*n,c=o*o*o,m=0;m<12&&(c=(o=(n-=v=(n*(Wr+Zr*o+c*(Qr+$r*o))-r)/(Wr+3*Zr*o+c*(7*Qr+9*$r*o)))*n)*o*o,!(Me(v)<ce));++m);return[ys*l*(Wr+3*Zr*o+c*(7*Qr+9*$r*o))/Ce(n),Rt(ke(n)/ys)]},un.invert=function(l,r){var c,n=r,o=25;do{var m=n*n,v=m*m;n-=c=(n*(1.007226+m*(.015085+v*(.028874*m-.044475-.005916*v)))-r)/(1.007226+m*(.045255+v*(.259866*m-.311325-.005916*11*v)))}while(Me(c)>$&&--o>0);return[l/(.8707+(m=n*n)*(m*(m*m*m*(.003971-.001529*m)-.013791)-.131979)),n]}},2677:(Yt,We,z)=>{z.r(We),z.d(We,{Axis:()=>Le.R,AxisBullet:()=>ut,AxisLabel:()=>Ze.k,AxisLabelRadial:()=>Fi,AxisRenderer:()=>ar.Y,AxisRendererX:()=>ni.n,AxisRendererY:()=>or.j,AxisTick:()=>Di.T,BaseColumnSeries:()=>Ut.d,Candlestick:()=>ti,CandlestickSeries:()=>It,CategoryAxis:()=>si.$,CategoryDateAxis:()=>Je,ColumnSeries:()=>_i.d,DateAxis:()=>di,DefaultTheme:()=>I,DurationAxis:()=>Rt,GaplessDateAxis:()=>nr,Grid:()=>ft.r,LineSeries:()=>nt,OHLC:()=>Ai,OHLCSeries:()=>Ui,SmoothedXLineSeries:()=>Wi,SmoothedXYLineSeries:()=>$i,SmoothedYLineSeries:()=>Ri,StepLineSeries:()=>Ni,ValueAxis:()=>gt,XYChart:()=>Ge,XYChartScrollbar:()=>Ce,XYCursor:()=>zt,XYSeries:()=>Xi.o});var Ne=z(5013),U=z(7039),ue=z(2661),ye=z(2231),te=z(1445),W=z(2743),Te=z(9472),ae=z(8148),S=z(3559);class I extends Ne.Q{setupDefaultRules(){super.setupDefaultRules();const i=this._root.interfaceColors,a=this._root.language,u=this.rule.bind(this);u("XYChart").setAll({colors:ue.U.new(this._root,{}),paddingLeft:20,paddingRight:20,paddingTop:16,paddingBottom:16,panX:!1,panY:!1,wheelStep:.25,arrangeTooltips:!0,pinchZoomX:!1,pinchZoomY:!1}),u("XYSeries").setAll({legendLabelText:"{name}"}),u("XYChart",["scrollbar","chart"]).setAll({paddingBottom:0,paddingLeft:0,paddingTop:0,paddingRight:0,colors:ue.U.new(this._root,{saturation:0})});{const _=u("Graphics",["scrollbar","overlay"]);_.setAll({fillOpacity:.5}),(0,ye.v)(_,"fill",i,"background")}u("RoundedRectangle",["xy","scrollbar","thumb"]).setAll({cornerRadiusTR:0,cornerRadiusTL:0,cornerRadiusBR:0,cornerRadiusBL:0,fillOpacity:0,focusable:!0}),u("RoundedRectangle",["xy","scrollbar","thumb"]).states.create("hover",{fillOpacity:.4}),u("RoundedRectangle",["xy","scrollbar","chart","background"]).setAll({cornerRadiusTL:0,cornerRadiusBL:0,cornerRadiusTR:0,cornerRadiusBR:0}),u("RoundedRectangle",["xy","scrollbar","chart","background","resize","button"]).setAll({cornerRadiusBL:40,cornerRadiusBR:40,cornerRadiusTL:40,cornerRadiusTR:40}),u("AxisRendererX",["xy","chart","scrollbar"]).setAll({strokeOpacity:0,inside:!0}),u("AxisRendererY",["xy","chart","scrollbar"]).setAll({strokeOpacity:0,inside:!0,minGridDistance:5}),u("AxisLabel",["xy","scrollbar","x"]).setAll({opacity:.5,centerY:U.AQ,minPosition:.01,maxPosition:.99,fontSize:"0.8em"}),u("AxisLabel",["category"]).setAll({text:"{category}",populateText:!0}),u("AxisLabel",["x"]).setAll({centerY:0}),u("AxisLabel",["x","inside"]).setAll({centerY:U.AQ}),u("AxisLabel",["x","inside","opposite"]).setAll({centerY:0}),u("AxisLabel",["x","opposite"]).setAll({centerY:U.AQ}),u("AxisLabel",["y"]).setAll({centerX:U.AQ}),u("AxisLabel",["y","inside"]).setAll({centerX:0}),u("AxisLabel",["y","inside","opposite"]).setAll({centerX:U.AQ}),u("AxisLabel",["y","opposite"]).setAll({centerX:0}),u("AxisLabel",["minor"]).setAll({fontSize:"0.6em"}),u("AxisLabel",["xy","scrollbar","y"]).setAll({visible:!1}),u("Grid",["xy","scrollbar","y"]).setAll({visible:!1}),u("Grid",["xy","scrollbar","x"]).setAll({opacity:.5}),u("XYCursor").setAll({behavior:"none",layer:30,exportable:!1,snapToSeriesBy:"xy",moveThreshold:1});{const _=u("Grid",["cursor","x"]);_.setAll({strokeOpacity:.8,strokeDasharray:[2,2],ariaLabel:a.translate("Use left and right arrows to move selection")}),(0,ye.v)(_,"stroke",i,"alternativeBackground")}{const _=u("Grid",["cursor","y"]);_.setAll({strokeOpacity:.8,strokeDasharray:[2,2],ariaLabel:a.translate("Use up and down arrows to move selection")}),(0,ye.v)(_,"stroke",i,"alternativeBackground")}{const _=u("Graphics",["cursor","selection"]);_.setAll({fillOpacity:.15}),(0,ye.v)(_,"fill",i,"alternativeBackground")}u("Axis").setAll({start:0,end:1,minZoomCount:1,maxZoomCount:1/0,maxZoomFactor:1e3,maxDeviation:.1,snapTooltip:!0,tooltipLocation:.5,panX:!0,panY:!0,zoomX:!0,zoomY:!0,fixAxisSize:!0}),u("AxisLabel").setAll({location:.5,multiLocation:0,centerX:U.CI,centerY:U.CI,paddingTop:3,paddingBottom:3,paddingLeft:5,paddingRight:5}),u("Container",["axis","header"]).setAll({layer:30}),u("Rectangle",["axis","header","background"]).setAll({crisp:!0});{const _=u("AxisRenderer");_.setAll({crisp:!0,strokeOpacity:0}),(0,ye.v)(_,"stroke",i,"grid")}u("AxisRendererX").setAll({minGridDistance:120,opposite:!1,inversed:!1,cellStartLocation:0,cellEndLocation:1,width:U.AQ}),u("AxisRendererY").setAll({minGridDistance:40,opposite:!1,inversed:!1,cellStartLocation:0,cellEndLocation:1,height:U.AQ});{const _=u("Rectangle",["axis","thumb"]);_.setAll({fillOpacity:0}),(0,ye.v)(_,"fill",i,"alternativeBackground"),_.states.create("hover",{fillOpacity:.1})}u("Rectangle",["axis","thumb","x"]).setAll({cursorOverStyle:"ew-resize"}),u("Rectangle",["axis","thumb","y"]).setAll({cursorOverStyle:"ns-resize"});{const _=u("Grid");_.setAll({location:0,strokeOpacity:.15,crisp:!0}),(0,ye.v)(_,"stroke",i,"grid")}{const _=u("Grid",["minor"]);_.setAll({location:0,strokeOpacity:.07,crisp:!0}),(0,ye.v)(_,"stroke",i,"grid")}u("Grid",["base"]).setAll({strokeOpacity:.3});{const _=u("Graphics",["axis","fill"]);_.setAll({visible:!1,isMeasured:!1,position:"absolute",fillOpacity:.05}),(0,ye.v)(_,"fill",i,"alternativeBackground")}u("Graphics",["axis","fill","range"]).setAll({isMeasured:!0}),u("Graphics",["series","fill","range"]).setAll({visible:!1,isMeasured:!0}),u("Grid",["series","range"]).setAll({visible:!1}),u("AxisTick",["series","range"]).setAll({visible:!1}),u("AxisLabel",["series","range"]).setAll({visible:!1});{const _=u("AxisTick");_.setAll({location:.5,multiLocation:0,strokeOpacity:1,isMeasured:!1,position:"absolute",visible:!1}),(0,ye.v)(_,"stroke",i,"grid")}u("CategoryAxis").setAll({startLocation:0,endLocation:1,fillRule:(_,P)=>{const O=_.get("axisFill");O&&(W.isNumber(P)&&P%2!=0?O.setPrivate("visible",!1):O.setPrivate("visible",!0))}});const g=[{timeUnit:"millisecond",count:1},{timeUnit:"millisecond",count:5},{timeUnit:"millisecond",count:10},{timeUnit:"millisecond",count:50},{timeUnit:"millisecond",count:100},{timeUnit:"millisecond",count:500},{timeUnit:"second",count:1},{timeUnit:"second",count:5},{timeUnit:"second",count:10},{timeUnit:"second",count:30},{timeUnit:"minute",count:1},{timeUnit:"minute",count:5},{timeUnit:"minute",count:10},{timeUnit:"minute",count:15},{timeUnit:"minute",count:30},{timeUnit:"hour",count:1},{timeUnit:"hour",count:3},{timeUnit:"hour",count:6},{timeUnit:"hour",count:12},{timeUnit:"day",count:1},{timeUnit:"day",count:2},{timeUnit:"day",count:3},{timeUnit:"day",count:4},{timeUnit:"day",count:5},{timeUnit:"week",count:1},{timeUnit:"month",count:1},{timeUnit:"month",count:2},{timeUnit:"month",count:3},{timeUnit:"month",count:6},{timeUnit:"year",count:1},{timeUnit:"year",count:2},{timeUnit:"year",count:5},{timeUnit:"year",count:10},{timeUnit:"year",count:50},{timeUnit:"year",count:100},{timeUnit:"year",count:200},{timeUnit:"year",count:500},{timeUnit:"year",count:1e3},{timeUnit:"year",count:2e3},{timeUnit:"year",count:5e3},{timeUnit:"year",count:1e4},{timeUnit:"year",count:1e5}],y={millisecond:a.translate("_date_millisecond"),second:a.translate("_date_second"),minute:a.translate("_date_minute"),hour:a.translate("_date_hour"),day:a.translate("_date_day"),week:a.translate("_date_day"),month:a.translate("_date_month"),year:a.translate("_date_year")},x={millisecond:a.translate("_date_millisecond"),second:a.translate("_date_second"),minute:a.translate("_date_minute"),hour:a.translate("_date_day"),day:a.translate("_date_day"),week:a.translate("_date_day"),month:a.translate("_date_month")+" "+a.translate("_date_year"),year:a.translate("_date_year")},b={millisecond:a.translate("_date_millisecond_full"),second:a.translate("_date_second_full"),minute:a.translate("_date_minute_full"),hour:a.translate("_date_hour_full"),day:a.translate("_date_day_full"),week:a.translate("_date_week_full"),month:a.translate("_date_month_full"),year:a.translate("_date_year")};u("CategoryDateAxis").setAll({markUnitChange:!0,gridIntervals:S.copy(g),dateFormats:ae.copy(y),periodChangeDateFormats:ae.copy(x)}),u("DateAxis").setAll({maxZoomFactor:null,strictMinMax:!0,startLocation:0,endLocation:1,markUnitChange:!0,groupData:!1,groupCount:500,gridIntervals:S.copy(g),dateFormats:ae.copy(y),periodChangeDateFormats:ae.copy(x),tooltipDateFormats:b,groupIntervals:[{timeUnit:"millisecond",count:1},{timeUnit:"millisecond",count:10},{timeUnit:"millisecond",count:100},{timeUnit:"second",count:1},{timeUnit:"second",count:10},{timeUnit:"minute",count:1},{timeUnit:"minute",count:10},{timeUnit:"hour",count:1},{timeUnit:"day",count:1},{timeUnit:"week",count:1},{timeUnit:"month",count:1},{timeUnit:"year",count:1}],fillRule:_=>{const P=_.get("axisFill");if(P){const O=_.component,w=_.get("value"),j=_.get("endValue"),K=O.intervalDuration(),q=O.getPrivate("baseInterval"),se=O.getPrivate("gridInterval",q);let Q=O.getPrivate("min",0);if(Q=te.round(new Date(Q),se.timeUnit,se.count,this._root.locale.firstDayOfWeek,this._root.utc,void 0,this._root.timezone).getTime(),null!=w&&null!=j){const ee=Math.round(Math.round((w-Q)/K))/2;ee==Math.round(ee)?P.setPrivate("visible",!0):P.setPrivate("visible",!1)}}}}),u("GaplessDateAxis").setAll({fillRule:_=>{const P=_.get("axisFill");if(P){const O=_.get("index");let w=!1;(!W.isNumber(O)||O%2==0)&&(w=!0),P.setPrivate("visible",w)}}}),u("ValueAxis").setAll({baseValue:0,logarithmic:!1,strictMinMax:!1,autoZoom:!0,fillRule:_=>{const P=_.get("axisFill");if(P){const O=_.component,w=_.get("value"),j=O.getPrivate("step");W.isNumber(w)&&W.isNumber(j)&&(Te.round(w/j/2,5)==Math.round(w/j/2)?P.setPrivate("visible",!1):P.setPrivate("visible",!0))}}}),u("DurationAxis").setAll({baseUnit:"second"}),u("XYSeries").setAll({maskBullets:!0,stackToNegative:!0,locationX:.5,locationY:.5,snapTooltip:!1,openValueXGrouped:"open",openValueYGrouped:"open",valueXGrouped:"close",valueYGrouped:"close",seriesTooltipTarget:"series"}),u("BaseColumnSeries").setAll({adjustBulletPosition:!0}),u("ColumnSeries").setAll({clustered:!0}),u("RoundedRectangle",["series","column"]).setAll({position:"absolute",isMeasured:!1,width:(0,U.aQ)(70),height:(0,U.aQ)(70),strokeWidth:1,strokeOpacity:1,cornerRadiusBL:0,cornerRadiusTL:0,cornerRadiusBR:0,cornerRadiusTR:0,fillOpacity:1,role:"figure"}),u("LineSeries").setAll({connect:!0,autoGapCount:1.1,stackToNegative:!1}),u("Graphics",["series","stroke"]).setAll({position:"absolute",strokeWidth:1,strokeOpacity:1,isMeasured:!1}),u("Graphics",["series","fill"]).setAll({visible:!1,fillOpacity:0,position:"absolute",strokeWidth:0,strokeOpacity:0,isMeasured:!1}),u("Graphics",["line","series","legend","marker","stroke"]).setAll({draw:(_,P)=>{const O=P.parent;if(O){const w=O.height(),j=O.width();_.moveTo(0,w/2),_.lineTo(j,w/2)}}});{const _=u("Graphics",["line","series","legend","marker","stroke"]).states.create("disabled",{});(0,ye.v)(_,"stroke",i,"disabled")}u("Graphics",["line","series","legend","marker","fill"]).setAll({draw:(_,P)=>{const O=P.parent;if(O){const w=O.height(),j=O.width();_.moveTo(0,0),_.lineTo(j,0),_.lineTo(j,w),_.lineTo(0,w),_.lineTo(0,0)}}});{const _=u("Graphics",["line","series","legend","marker","fill"]).states.create("disabled",{});(0,ye.v)(_,"stroke",i,"disabled")}u("SmoothedXYLineSeries").setAll({tension:.5}),u("SmoothedXLineSeries").setAll({tension:.5}),u("SmoothedYLineSeries").setAll({tension:.5}),u("Candlestick").setAll({position:"absolute",isMeasured:!1,width:(0,U.aQ)(50),height:(0,U.aQ)(50),strokeWidth:1,strokeOpacity:1,cornerRadiusBL:0,cornerRadiusTL:0,cornerRadiusBR:0,cornerRadiusTR:0,fillOpacity:1,role:"figure"}),u("OHLC").setAll({width:(0,U.aQ)(80),height:(0,U.aQ)(80)}),u("CandlestickSeries").setAll({lowValueXGrouped:"low",lowValueYGrouped:"low",highValueXGrouped:"high",highValueYGrouped:"high",openValueXGrouped:"open",openValueYGrouped:"open",valueXGrouped:"close",valueYGrouped:"close"});{const _=u("Rectangle",["column","autocolor"]).states.create("riseFromOpen",{});(0,ye.v)(_,"fill",i,"positive"),(0,ye.v)(_,"stroke",i,"positive")}{const _=u("Rectangle",["column","autocolor"]).states.create("dropFromOpen",{});(0,ye.v)(_,"fill",i,"negative"),(0,ye.v)(_,"stroke",i,"negative")}u("Rectangle",["column","autocolor","pro"]).states.create("riseFromOpen",{fillOpacity:0}),u("Rectangle",["column","autocolor","pro"]).states.create("dropFromOpen",{fillOpacity:1});{const _=u("Rectangle",["column","autocolor","pro"]).states.create("riseFromPrevious",{});(0,ye.v)(_,"fill",i,"positive"),(0,ye.v)(_,"stroke",i,"positive")}{const _=u("Rectangle",["column","autocolor","pro"]).states.create("dropFromPrevious",{});(0,ye.v)(_,"fill",i,"negative"),(0,ye.v)(_,"stroke",i,"negative")}u("RoundedRectangle",["rangegrip"]).setAll({strokeOpacity:0,fillOpacity:0,strokeWidth:1,width:12,height:12});{const _=u("Graphics",["rangegrip","button","icon"]);_.setAll({interactive:!1,crisp:!0,strokeOpacity:.5,draw:P=>{P.moveTo(0,.5),P.lineTo(0,12.5),P.moveTo(2,.5),P.lineTo(2,12.5),P.moveTo(4,.5),P.lineTo(4,12.5)}}),(0,ye.v)(_,"stroke",i,"secondaryButtonText")}u("Button",["rangegrip"]).setAll({draggable:!0,paddingTop:0,paddingBottom:0}),u("Button",["rangegrip","vertical"]).setAll({rotation:90,cursorOverStyle:"ns-resize",centerX:U.CI}),u("Button",["rangegrip","horizontal"]).setAll({cursorOverStyle:"ew-resize",centerX:U.CI}),u("Button",["rangegrip","vertical","left"]).setAll({centerY:U.AQ}),u("Button",["rangegrip","vertical","right"]).setAll({centerY:0}),u("Button",["rangegrip","horizontal","top"]).setAll({centerY:0}),u("Button",["rangegrip","horizontal","bottom"]).setAll({centerY:U.AQ})}}var $=z(9239),ce=z(3605),k=z(3704),N=z(434),ve=z(796),De=z(4618),Oe=z(3232),he=z(4178),Me=z(8261);class Ge extends k.j{constructor(){super(...arguments),Object.defineProperty(this,"xAxes",{enumerable:!0,configurable:!0,writable:!0,value:new N.dn}),Object.defineProperty(this,"yAxes",{enumerable:!0,configurable:!0,writable:!0,value:new N.dn}),Object.defineProperty(this,"topAxesContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.chartContainer.children.push($.W.new(this._root,{width:U.AQ,layout:this._root.verticalLayout}))}),Object.defineProperty(this,"yAxesAndPlotContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.chartContainer.children.push($.W.new(this._root,{width:U.AQ,height:U.AQ,layout:this._root.horizontalLayout}))}),Object.defineProperty(this,"bottomAxesContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.chartContainer.children.push($.W.new(this._root,{width:U.AQ,layout:this._root.verticalLayout}))}),Object.defineProperty(this,"leftAxesContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.yAxesAndPlotContainer.children.push($.W.new(this._root,{height:U.AQ,layout:this._root.horizontalLayout}))}),Object.defineProperty(this,"plotsContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.yAxesAndPlotContainer.children.push($.W.new(this._root,{width:U.AQ,height:U.AQ,maskContent:!1}))}),Object.defineProperty(this,"plotContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.plotsContainer.children.push($.W.new(this._root,{width:U.AQ,height:U.AQ}))}),Object.defineProperty(this,"topPlotContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.plotsContainer.children.push($.W.new(this._root,{width:U.AQ,height:U.AQ}))}),Object.defineProperty(this,"gridContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.plotContainer.children.push($.W.new(this._root,{width:U.AQ,height:U.AQ,isMeasured:!1}))}),Object.defineProperty(this,"topGridContainer",{enumerable:!0,configurable:!0,writable:!0,value:$.W.new(this._root,{width:U.AQ,height:U.AQ,isMeasured:!1})}),Object.defineProperty(this,"rightAxesContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.yAxesAndPlotContainer.children.push($.W.new(this._root,{height:U.AQ,layout:this._root.horizontalLayout}))}),Object.defineProperty(this,"axisHeadersContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.plotContainer.children.push($.W.new(this._root,{}))}),Object.defineProperty(this,"zoomOutButton",{enumerable:!0,configurable:!0,writable:!0,value:this.topPlotContainer.children.push(De.z.new(this._root,{themeTags:["zoom"],icon:Oe.T.new(this._root,{themeTags:["button","icon"]})}))}),Object.defineProperty(this,"_movePoint",{enumerable:!0,configurable:!0,writable:!0,value:{x:0,y:0}}),Object.defineProperty(this,"_wheelDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_otherCharts",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_movePoints",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_downStartX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downEndX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downStartY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downEndY",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_afterNew(){this._defaultThemes.push(I.new(this._root)),super._afterNew(),this._disposers.push(this.xAxes),this._disposers.push(this.yAxes);const i=this._root;let a=this._root.verticalLayout;const u=this.zoomOutButton;u.events.on("click",()=>{this.zoomOut()}),u.hide(0),u.states.lookup("default").set("opacity",1),this.chartContainer.set("layout",a);const g=this.plotContainer;g.children.push(this.seriesContainer),this._disposers.push(this._processAxis(this.xAxes,this.bottomAxesContainer)),this._disposers.push(this._processAxis(this.yAxes,this.leftAxesContainer)),g.children.push(this.topGridContainer),g.children.push(this.bulletsContainer),g.set("interactive",!0),g.set("interactiveChildren",!1),g.set("background",ce.A.new(i,{themeTags:["xy","background"],fill:ve.Il.fromHex(0),fillOpacity:0})),this._disposers.push(g.events.on("pointerdown",y=>{this._handlePlotDown(y)})),this._disposers.push(g.events.on("globalpointerup",y=>{this._handlePlotUp(y)})),this._disposers.push(g.events.on("globalpointermove",y=>{this._handlePlotMove(y)})),this._maskGrid(),this._setUpTouch()}_beforeChanged(){super._beforeChanged(),(this.isDirty("pinchZoomX")||this.isDirty("pinchZoomY")||this.get("panX")||this.get("panY"))&&this._setUpTouch()}_setUpTouch(){this.plotContainer._display.cancelTouch||(this.plotContainer._display.cancelTouch=!!(this.get("pinchZoomX")||this.get("pinchZoomY")||this.get("panX")||this.get("panY")))}_maskGrid(){this.gridContainer.set("maskContent",!0),this.topGridContainer.set("maskContent",!0)}_removeSeries(i){i._unstack(),i._posXDp&&i._posXDp.dispose(),i._posYDp&&i._posYDp.dispose(),i.set("baseAxis",void 0);const a=i.get("xAxis");a&&(S.remove(a.series,i),a.markDirtyExtremes());const u=i.get("yAxis");u&&(S.remove(u.series,i),u.markDirtyExtremes());const g=this.get("cursor");if(g){const y=g.get("snapToSeries");y&&S.remove(y,i)}super._removeSeries(i)}handleWheel(i){const a=this.get("wheelX"),u=this.get("wheelY"),g=this.plotContainer,y=i.originalEvent;if(!Me.isLocalEvent(y,this))return;y.preventDefault();const x=g.toLocal(i.point),b=this.get("wheelStep",.2),_=y.deltaY/100,P=y.deltaX/100,O=this.get("wheelZoomPositionX"),w=this.get("wheelZoomPositionY");("zoomX"===a||"zoomXY"===a)&&0!=P&&this.xAxes.each(j=>{if(j.get("zoomX")){let K=j.get("start"),q=j.get("end"),se=j.fixPosition(x.x/g.width());null!=O&&(se=O);let Q=K-b*(q-K)*P*se,ee=q+b*(q-K)*P*(1-se);1/(ee-Q)<j.getPrivate("maxZoomFactor",1/0)/j.get("minZoomCount",1)&&this._handleWheelAnimation(j.zoom(Q,ee))}}),("zoomX"===u||"zoomXY"===u)&&0!=_&&this.xAxes.each(j=>{if(j.get("zoomX")){let K=j.get("start"),q=j.get("end"),se=j.fixPosition(x.x/g.width());null!=O&&(se=O);let Q=K-b*(q-K)*_*se,ee=q+b*(q-K)*_*(1-se);1/(ee-Q)<j.getPrivate("maxZoomFactor",1/0)/j.get("minZoomCount",1)&&this._handleWheelAnimation(j.zoom(Q,ee))}}),("zoomY"===a||"zoomXY"===a)&&0!=P&&this.yAxes.each(j=>{if(j.get("zoomY")){let K=j.get("start"),q=j.get("end"),se=j.fixPosition(x.y/g.height());null!=w&&(se=w);let Q=K-b*(q-K)*P*se,ee=q+b*(q-K)*P*(1-se);1/(ee-Q)<j.getPrivate("maxZoomFactor",1/0)/j.get("minZoomCount",1)&&this._handleWheelAnimation(j.zoom(Q,ee))}}),("zoomY"===u||"zoomXY"===u)&&0!=_&&this.yAxes.each(j=>{if(j.get("zoomY")){let K=j.get("start"),q=j.get("end"),se=j.fixPosition(x.y/g.height());null!=w&&(se=w);let Q=K-b*(q-K)*_*se,ee=q+b*(q-K)*_*(1-se);1/(ee-Q)<j.getPrivate("maxZoomFactor",1/0)/j.get("minZoomCount",1)&&this._handleWheelAnimation(j.zoom(Q,ee))}}),("panX"===a||"panXY"===a)&&0!=P&&this.xAxes.each(j=>{if(j.get("panX")){let K=j.get("start"),q=j.get("end"),se=this._getWheelSign(j)*b*(q-K)*P,Q=K+se,ee=q+se,fe=this._fixWheel(Q,ee);Q=fe[0],ee=fe[1],this._handleWheelAnimation(j.zoom(Q,ee))}}),("panX"===u||"panXY"===u)&&0!=_&&this.xAxes.each(j=>{if(j.get("panX")){let K=j.get("start"),q=j.get("end"),se=this._getWheelSign(j)*b*(q-K)*_,Q=K+se,ee=q+se,fe=this._fixWheel(Q,ee);Q=fe[0],ee=fe[1],this._handleWheelAnimation(j.zoom(Q,ee))}}),("panY"===a||"panXY"===a)&&0!=P&&this.yAxes.each(j=>{if(j.get("panY")){let K=j.get("start"),q=j.get("end"),se=this._getWheelSign(j)*b*(q-K)*P,Q=K+se,ee=q+se,fe=this._fixWheel(Q,ee);Q=fe[0],ee=fe[1],this._handleWheelAnimation(j.zoom(Q,ee))}}),("panY"===u||"panXY"===u)&&0!=_&&this.yAxes.each(j=>{if(j.get("panY")){let K=j.get("start"),q=j.get("end"),se=this._getWheelSign(j)*b*(q-K)*_,Q=K-se,ee=q-se,fe=this._fixWheel(Q,ee);Q=fe[0],ee=fe[1],this._handleWheelAnimation(j.zoom(Q,ee))}})}_handleSetWheel(){const i=this.get("wheelX"),a=this.get("wheelY");"none"!==i||"none"!==a?(this._wheelDp=this.plotContainer.events.on("wheel",g=>{const y=g.originalEvent;("none"!==i&&0!=Math.abs(y.deltaX)||"none"!==a&&0!=Math.abs(y.deltaY))&&this.handleWheel(g)}),this._disposers.push(this._wheelDp)):this._wheelDp&&this._wheelDp.dispose()}_getWheelSign(i){let a=1;return i.get("renderer").get("inversed")&&(a=-1),a}_fixWheel(i,a){const u=a-i;return i<0&&(a=(i=0)+u),a>1&&(i=(a=1)-u),[i,a]}_handlePlotDown(i){const a=i.originalEvent;if(2==a.button)return;const u=this.plotContainer;let g=u.toLocal(i.point);if((this.get("pinchZoomX")||this.get("pinchZoomY"))&&a.pointerId&&ae.keys(u._downPoints).length>0){const x=this.xAxes.getIndex(0),b=this.yAxes.getIndex(0);x&&(this._downStartX=x.get("start",0),this._downEndX=x.get("end",1)),b&&(this._downStartY=b.get("start",0),this._downEndY=b.get("end",1))}if((this.get("panX")||this.get("panY"))&&g.x>=0&&g.y>=0&&g.x<=u.width()&&g.y<=this.height()){this._downPoint={x:a.clientX,y:a.clientY};const y=this.get("panX"),x=this.get("panY");y&&this.xAxes.each(_=>{_._panStart=_.get("start"),_._panEnd=_.get("end")}),x&&this.yAxes.each(_=>{_._panStart=_.get("start"),_._panEnd=_.get("end")});const b="panstarted";this.events.isEnabled(b)&&this.events.dispatch(b,{type:b,target:this,originalEvent:i.originalEvent})}}_handleWheelAnimation(i){i?i.events.on("stopped",()=>{this._dispatchWheelAnimation()}):this._dispatchWheelAnimation()}_dispatchWheelAnimation(){const i="wheelended";this.events.isEnabled(i)&&this.events.dispatch(i,{type:i,target:this})}_handlePlotUp(i){const a=this._downPoint;if(a&&(this.get("panX")||this.get("panY"))){let u=this.plotContainer.toLocal(i.point);if(u.x==a.x&&u.y==a.y){const y="pancancelled";this.events.isEnabled(y)&&this.events.dispatch(y,{type:y,target:this,originalEvent:i.originalEvent})}const g="panended";this.events.isEnabled(g)&&this.events.dispatch(g,{type:g,target:this,originalEvent:i.originalEvent})}this._downPoint=void 0,this.xAxes.each(u=>{u._isPanning=!1}),this.yAxes.each(u=>{u._isPanning=!1})}_handlePlotMove(i){const a=this.plotContainer;if(this.get("pinchZoomX")||this.get("pinchZoomY")){const y=i.originalEvent.pointerId;if(y&&(this._movePoints[y]=i.point,ae.keys(a._downPoints).length>1))return void this._handlePinch()}let u=this._downPoint;if(u){u=a.toLocal(this._root.documentPointToRoot(u));let g=a.toLocal(i.point);const y=this.get("panX"),x=this.get("panY");if(y){let b=this.get("scrollbarX");b&&b.events.disableType("rangechanged"),this.xAxes.each(_=>{if(_.get("panX")){_._isPanning=!0;let P=_._panStart,O=_._panEnd,j=(O-P)*(u.x-g.x)/a.width();_.get("renderer").get("inversed")&&(j*=-1);let K=P+j,q=O+j;q-K<1+2*_.get("maxDeviation",1)&&(_.set("start",K),_.set("end",q))}}),b&&b.events.enableType("rangechanged")}if(x){let b=this.get("scrollbarY");b&&b.events.disableType("rangechanged"),this.yAxes.each(_=>{if(_.get("panY")){_._isPanning=!0;let P=_._panStart,O=_._panEnd,j=(O-P)*(u.y-g.y)/a.height();_.get("renderer").get("inversed")&&(j*=-1);let K=P-j,q=O-j;q-K<1+2*_.get("maxDeviation",1)&&(_.set("start",K),_.set("end",q))}}),b&&b.events.enableType("rangechanged")}}}_handlePinch(){const i=this.plotContainer;let a=0,u=[],g=[];if(ae.each(i._downPoints,(y,x)=>{u[a]=x;let b=this._movePoints[y];b&&(g[a]=b),a++}),u.length>1&&g.length>1){const y=i.width(),x=i.height();let b=u[0],_=u[1],P=g[0],O=g[1];if(b&&_&&P&&O){if(P=i.toLocal(P),O=i.toLocal(O),b=i.toLocal(b),_=i.toLocal(_),this.get("pinchZoomX")){const w=this._downStartX,j=this._downEndX;if(null!=w&&null!=j){b.x>_.x&&([b,_]=[_,b],[P,O]=[O,P]);let K=w+b.x/y*(j-w),q=w+_.x/y*(j-w),se=w+P.x/y*(j-w),Q=w+O.x/y*(j-w),re=Math.max(.001,q-K)/Math.max(.001,Q-se),ie=w*re+K-se*re,_e=j*re+q-Q*re;this.xAxes.each(Se=>{let Ye=Se.fixPosition(ie),xe=Se.fixPosition(_e);Se.zoom(Ye,xe,0)})}}if(this.get("pinchZoomY")){const w=this._downStartY,j=this._downEndY;if(null!=w&&null!=j){b.y<_.y&&([b,_]=[_,b],[P,O]=[O,P]);let K=w+(1-b.y/x)*(j-w),q=w+(1-_.y/x)*(j-w),se=w+(1-P.y/x)*(j-w),Q=w+(1-O.y/x)*(j-w),re=Math.max(.001,q-K)/Math.max(.001,Q-se),ie=w*re+K-se*re,_e=j*re+q-Q*re;this.yAxes.each(Se=>{let Ye=Se.fixPosition(ie),xe=Se.fixPosition(_e);Se.zoom(Ye,xe,0)})}}}}}_handleCursorPosition(){const i=this.get("cursor");if(i){const a=i.getPrivate("point");let u=i.get("snapToSeries");if(i._downPoint&&(u=void 0),u&&a){const g=i.get("snapToSeriesBy"),y=[];S.each(u,_=>{if(!_.isHidden()&&!_.isHiding())if("x!"!=g&&"y!"!=g){const P=_.startIndex(),O=_.endIndex();for(let w=P;w<O;w++){const j=_.dataItems[w];j&&!j.isHidden()&&y.push(j)}}else{const P=_.get("tooltipDataItem");P&&y.push(P)}});let b,x=1/0;if(S.each(y,_=>{const P=_.get("point");if(P){let O=0;O="x"==g||"x!"==g?Math.abs(a.x-P.x):"y"==g||"y!"==g?Math.abs(a.y-P.y):Math.hypot(a.x-P.x,a.y-P.y),O<x&&(x=O,b=_)}}),S.each(u,_=>{const P=_.get("tooltip");P&&P._setDataItem(void 0)}),b){let _=b.component;_.showDataItemTooltip(b),_.setRaw("tooltipDataItem",b);const P=b.get("point");P&&i.handleMove(_.toGlobal({x:P.x-_.x(),y:P.y-_.y()}),!0)}}}}_updateCursor(){let i=this.get("cursor");i&&i.updateCursor()}_addCursor(i){this.plotContainer.children.push(i)}_prepareChildren(){if(super._prepareChildren(),this.series.each(i=>{this._colorize(i)}),(this.isDirty("wheelX")||this.isDirty("wheelY"))&&this._handleSetWheel(),this.isDirty("cursor")){const i=this._prevSettings.cursor,a=this.get("cursor");a!==i&&(this._disposeProperty("cursor"),i&&i.dispose(),a&&(a._setChart(this),this._addCursor(a),this._pushPropertyDisposer("cursor",a.events.on("selectended",()=>{this._handleCursorSelectEnd()}))),this._prevSettings.cursor=a)}if(this.isDirty("scrollbarX")){const i=this._prevSettings.scrollbarX,a=this.get("scrollbarX");a!==i&&(this._disposeProperty("scrollbarX"),i&&i.dispose(),a&&(a.parent||this.topAxesContainer.children.push(a),this._pushPropertyDisposer("scrollbarX",a.events.on("rangechanged",u=>{this._handleScrollbar(this.xAxes,u.start,u.end,u.grip)})),a.setPrivate("positionTextFunction",u=>{const g=this.xAxes.getIndex(0);return g&&g.getTooltipText(u,!1)||""})),this._prevSettings.scrollbarX=a)}if(this.isDirty("scrollbarY")){const i=this._prevSettings.scrollbarY,a=this.get("scrollbarY");a!==i&&(this._disposeProperty("scrollbarY"),i&&i.dispose(),a&&(a.parent||this.rightAxesContainer.children.push(a),this._pushPropertyDisposer("scrollbarY",a.events.on("rangechanged",u=>{this._handleScrollbar(this.yAxes,u.start,u.end,u.grip)})),a.setPrivate("positionTextFunction",u=>{const g=this.yAxes.getIndex(0);return g&&g.getTooltipText(u,!1)||""})),this._prevSettings.scrollbarY=a)}this._handleZoomOut()}_processSeries(i){super._processSeries(i);const a=i.get("xAxis"),u=i.get("yAxis");S.move(a.series,i),S.move(u.series,i),i._posXDp=i.addDisposer(a.events.on("positionchanged",()=>{i._fixPosition()})),i._posXDp=i.addDisposer(u.events.on("positionchanged",()=>{i._fixPosition()})),i.get("baseAxis")||(u.isType("CategoryAxis")||u.isType("DateAxis")?i.set("baseAxis",u):i.set("baseAxis",a)),i.get("stacked")&&(i._markDirtyKey("stacked"),S.each(i.dataItems,g=>{g.set("stackToItemY",void 0),g.set("stackToItemX",void 0)})),i._markDirtyAxes(),u.markDirtyExtremes(),a.markDirtyExtremes(),a._seriesAdded=!0,u._seriesAdded=!0,this._colorize(i)}_colorize(i){const a=this.get("colors");if(a&&null==i.get("fill")){const u=a.next();i._setSoft("stroke",u),i._setSoft("fill",u)}}_handleCursorSelectEnd(){const i=this.get("cursor"),a=i.get("behavior"),u=i.getPrivate("downPositionX",0),g=i.getPrivate("downPositionY",0),y=Math.min(1,Math.max(0,i.getPrivate("positionX",.5))),x=Math.min(1,Math.max(0,i.getPrivate("positionY",.5)));this.xAxes.each(b=>{if("zoomX"===a||"zoomXY"===a){let _=b.toAxisPosition(u),P=b.toAxisPosition(y);b.zoom(_,P)}b.setPrivate("updateScrollbar",!0)}),this.yAxes.each(b=>{if("zoomY"===a||"zoomXY"===a){let _=b.toAxisPosition(g),P=b.toAxisPosition(x);b.zoom(_,P)}b.setPrivate("updateScrollbar",!0)})}_handleScrollbar(i,a,u,g){i.each(y=>{let x=y.fixPosition(a),b=y.fixPosition(u),_=y.zoom(x,b,void 0,g);const P="updateScrollbar";y.setPrivateRaw(P,!1),_?_.events.on("stopped",()=>{y.setPrivateRaw(P,!0)}):y.setPrivateRaw(P,!0)})}_processAxis(i,a){return i.events.onAll(u=>{if("clear"===u.type)S.each(u.oldValues,g=>{this._removeAxis(g)});else if("push"===u.type)a.children.push(u.newValue),u.newValue.processChart(this);else if("setIndex"===u.type)a.children.setIndex(u.index,u.newValue),u.newValue.processChart(this);else if("insertIndex"===u.type)a.children.insertIndex(u.index,u.newValue),u.newValue.processChart(this);else if("removeIndex"===u.type)this._removeAxis(u.oldValue);else{if("moveIndex"!==u.type)throw new Error("Unknown IListEvent type");a.children.moveValue(u.value,u.newIndex),u.value.processChart(this)}})}_removeAxis(i){if(!i.isDisposed()){const a=i.parent;a&&a.children.removeValue(i);const u=i.gridContainer,g=u.parent;g&&g.children.removeValue(u);const y=i.topGridContainer,x=y.parent;x&&x.children.removeValue(y)}}_updateChartLayout(){const i=this.leftAxesContainer.width(),a=this.rightAxesContainer.width(),u=this.bottomAxesContainer;u.set("paddingLeft",i),u.set("paddingRight",a);const g=this.topAxesContainer;g.set("paddingLeft",i),g.set("paddingRight",a)}processAxis(i){this.get("cursor")&&(this.addDisposer(i.on("start",()=>{this._updateCursor()})),this.addDisposer(i.on("end",()=>{this._updateCursor()})))}_handleAxisSelection(i,a){let u=i.fixPosition(i.get("start",0)),g=i.fixPosition(i.get("end",1));if(u>g&&([u,g]=[g,u]),-1!=this.xAxes.indexOf(i)){if(a||i.getPrivate("updateScrollbar")){let y=this.get("scrollbarX");y&&(!y.getPrivate("isBusy")||a)&&(y.setRaw("start",u),y.setRaw("end",g),y.updateGrips())}}else if(-1!=this.yAxes.indexOf(i)&&(a||i.getPrivate("updateScrollbar"))){let y=this.get("scrollbarY");y&&(!y.getPrivate("isBusy")||a)&&(y.setRaw("start",u),y.setRaw("end",g),y.updateGrips())}this._handleZoomOut()}_handleZoomOut(){let i=this.zoomOutButton;if(i&&i.parent){let a=!1;this.xAxes.each(u=>{(0!=u.get("start")||1!=u.get("end"))&&(a=!0)}),this.yAxes.each(u=>{(0!=u.get("start")||1!=u.get("end"))&&(a=!0)}),a?i.isHidden()&&i.show():i.hide()}}inPlot(i){const a=this.plotContainer,u=this.getPrivate("otherCharts",this._otherCharts),g=a.toGlobal(i);if(i.x>=-.5&&i.y>=-.5&&i.x<=a.width()+.5&&i.y<=a.height()+.5)return!0;if(u)for(let y=u.length-1;y>=0;y--){const x=u[y];if(x!=this){const b=x.plotContainer,_=this._root.rootPointToDocument(g),P=x._root.documentPointToRoot(_),O=b.toLocal(P);if(O.x>=-.1&&O.y>=-.1&&O.x<=b.width()+.1&&O.y<=b.height()+.1)return!0}}return!1}arrangeTooltips(){const i=this.plotContainer,a=i.width(),u=i.height(),g=this.height();let y=i._display.toGlobal({x:0,y:0}),x=i._display.toGlobal({x:a,y:u});const b=[];let K,q,_=0,P=1/0,O=this._movePoint,w=this.get("maxTooltipDistance"),j=this.get("maxTooltipDistanceBy","xy");W.isNumber(w)&&this.series.each(Q=>{if(!Q.isHidden()){const ee=Q.get("tooltip");if(ee){let fe=ee.get("pointTo");if(fe){let re=Math.hypot(O.x-fe.x,O.y-fe.y);"x"==j?re=Math.abs(O.x-fe.x):"y"==j&&(re=Math.abs(O.y-fe.y)),re<P&&(P=re,K=Q,q=fe)}}}});const se=[];if(this.series.each(Q=>{const ee=Q.get("tooltip");if(ee&&!ee.get("forceHidden")){let fe=!1,re=ee.get("pointTo");if(re){if(w>=0){let ie=ee.get("pointTo");if(ie&&q&&Q!=K){let _e=Math.hypot(q.x-ie.x,q.y-ie.y);"x"==j?_e=Math.abs(q.x-ie.x):"y"==j&&(_e=Math.abs(q.y-ie.y)),_e>w&&(fe=!0)}}else-1==w&&Q!=K&&(fe=!0);this.inPlot(this._tooltipToLocal(re))&&ee.dataItem?fe||(_+=re.y):fe=!0,fe||Q.isHidden()||Q.isHiding()?ee.hide(0):(ee.show(),b.push(ee),se.push(Q))}}}),this.setPrivate("tooltipSeries",se),this.get("arrangeTooltips")){const Q=this._root.tooltipContainer;if(_/b.length>u/2+y.y){b.sort((ie,_e)=>he.HO(_e.get("pointTo").y,ie.get("pointTo").y));let re=x.y;if(S.each(b,ie=>{let _e=ie.height(),Se=ie.get("centerY");Se instanceof U.gG&&(_e*=Se.value),_e+=ie.get("marginBottom",0),ie.set("bounds",{left:y.x,top:y.y,right:x.x,bottom:re}),ie.setPrivate("customData",{left:y.x,top:y.y,right:x.x,bottom:re}),re=Math.min(re-_e,ie._fy-_e),ie.parent==Q&&Q.children.moveValue(ie,0)}),re<0){b.reverse();let ie=re;S.each(b,_e=>{let Se=_e.get("bounds");if(Se){let Ye=Se.top-re,xe=Se.bottom-re;Ye<ie&&(Ye=ie,xe=Ye+_e.height()),_e.set("bounds",{left:Se.left,top:Ye,right:Se.right,bottom:xe}),ie=Se.bottom-re+_e.get("marginBottom",0)}})}}else{b.reverse(),b.sort((ie,_e)=>he.HO(ie.get("pointTo").y,_e.get("pointTo").y));let re=0;if(S.each(b,ie=>{let _e=ie.height(),Se=ie.get("centerY");Se instanceof U.gG&&(_e*=Se.value),_e+=ie.get("marginBottom",0),ie.set("bounds",{left:y.x,top:re,right:x.x,bottom:Math.max(y.y+g,re+_e)}),ie.parent==Q&&Q.children.moveValue(ie,0),re=Math.max(re+_e,ie._fy+_e)}),re>g){b.reverse();let ie=g;S.each(b,_e=>{let Se=_e.get("bounds");if(Se){let Ye=Se.top-(g-re),xe=Se.bottom-(g-re);xe>ie&&(xe=ie,Ye=xe-_e.height()),_e.set("bounds",{left:Se.left,top:Ye,right:Se.right,bottom:xe}),ie=xe-_e.height()-_e.get("marginBottom",0)}})}}}}_tooltipToLocal(i){return this.plotContainer.toLocal(i)}zoomOut(){this.xAxes.each(i=>{i.setPrivate("updateScrollbar",!0),i.zoom(0,1)}),this.yAxes.each(i=>{i.setPrivate("updateScrollbar",!0),i.zoom(0,1)})}}Object.defineProperty(Ge,"className",{enumerable:!0,configurable:!0,writable:!0,value:"XYChart"}),Object.defineProperty(Ge,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:k.j.classNames.concat([Ge.className])});var Ke=z(4248);class Ce extends Ke.L{constructor(){super(...arguments),Object.defineProperty(this,"chart",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(Ge.new(this._root,{themeTags:["chart"],interactive:!1,interactiveChildren:!1,panX:!1,panY:!1,wheelX:"none",wheelY:"none"}))}),Object.defineProperty(this,"overlay",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(Oe.T.new(this._root,{themeTags:["overlay"],interactive:!1}))})}_afterNew(){this._addOrientationClass(),this._settings.themeTags=Me.mergeTags(this._settings.themeTags,["scrollbar","xy","chart",this._settings.orientation]);const i=this.children;i.moveValue(this.thumb),i.moveValue(this.startGrip),i.moveValue(this.endGrip),this.thumb.set("opacity",0),this.thumb.states.create("hover",{opacity:.2});const a=this.chart.plotContainer;a.set("interactive",!1),a.remove("background"),a.children.removeValue(this.chart.zoomOutButton),super._afterNew()}_updateThumb(){super._updateThumb(),this.overlay.set("draw",i=>{const a=this.startGrip,u=this.endGrip;let g=a.x(),y=a.y(),x=u.x(),b=u.y();const _=this.height(),P=this.width();g>x&&([g,x]=[x,g]),y>b&&([y,b]=[b,y]),"horizontal"===this.get("orientation")?(i.moveTo(0,0),i.lineTo(g,0),i.lineTo(g,_),i.lineTo(0,_),i.lineTo(0,0),i.moveTo(x,0),i.lineTo(P,0),i.lineTo(P,_),i.lineTo(x,_),i.lineTo(x,0)):(i.moveTo(0,0),i.lineTo(0,y),i.lineTo(P,y),i.lineTo(P,0),i.lineTo(0,0),i.moveTo(0,b),i.lineTo(0,_),i.lineTo(P,_),i.lineTo(P,b),i.lineTo(0,b))})}}Object.defineProperty(Ce,"className",{enumerable:!0,configurable:!0,writable:!0,value:"XYChartScrollbar"}),Object.defineProperty(Ce,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Ke.L.classNames.concat([Ce.className])});var ft=z(8509);class zt extends $.W{constructor(){super(...arguments),Object.defineProperty(this,"lineX",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(ft.r.new(this._root,{themeTags:["x"]}))}),Object.defineProperty(this,"lineY",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(ft.r.new(this._root,{themeTags:["y"]}))}),Object.defineProperty(this,"selection",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(Oe.T.new(this._root,{themeTags:["selection","cursor"],layer:30}))}),Object.defineProperty(this,"_movePoint",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_lastPoint",{enumerable:!0,configurable:!0,writable:!0,value:{x:0,y:0}}),Object.defineProperty(this,"_tooltipX",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_tooltipY",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"chart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_toX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_toY",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_afterNew(){this._settings.themeTags=Me.mergeTags(this._settings.themeTags,["xy","cursor"]),super._afterNew(),this.setAll({width:U.AQ,height:U.AQ,isMeasured:!0,position:"absolute"}),this.states.create("hidden",{visible:!0,opacity:0}),this._drawLines(),this.setPrivateRaw("visible",!1),this._disposers.push(this.setTimeout(()=>{this.setPrivate("visible",!0)},500)),this._disposers.push(this.lineX.events.on("positionchanged",()=>{this._handleXLine()})),this._disposers.push(this.lineY.events.on("positionchanged",()=>{this._handleYLine()})),this._disposers.push(this.lineX.events.on("focus",i=>this._handleLineFocus(i.target))),this._disposers.push(this.lineX.events.on("blur",i=>this._handleLineBlur(i.target))),this._disposers.push(this.lineY.events.on("focus",i=>this._handleLineFocus(i.target))),this._disposers.push(this.lineY.events.on("blur",i=>this._handleLineBlur(i.target))),Me.supports("keyboardevents")&&this._disposers.push(Me.addEventListener(document,"keydown",i=>{this._handleLineMove(i.keyCode)}))}_setUpTouch(){const i=this.chart;i&&(i.plotContainer._display.cancelTouch="none"!=this.get("behavior"))}_handleXLine(){let i=this.lineX.x(),a=!0;(i<0||i>this.width())&&(a=!1),this.lineX.setPrivate("visible",a)}_handleYLine(){let i=this.lineY.y(),a=!0;(i<0||i>this.height())&&(a=!1),this.lineY.setPrivate("visible",a)}_handleLineMove(i){let a="",u=0,g=.1;const y=this.chart;this._root.focused(this.lineX)?(y&&y.xAxes.length&&(g=y.xAxes.getIndex(0).getCellWidthPosition()),u=this.getPrivate("positionX",0),a="positionX",37==i?u-=g:39==i&&(u+=g)):this._root.focused(this.lineY)&&(y&&y.yAxes.length&&(g=y.yAxes.getIndex(0).getCellWidthPosition()),u=this.getPrivate("positionY",0),a="positionY",38==i?u-=g:40==i&&(u+=g)),u<0?u=0:u>1&&(u=1),""!=a&&this.set(a,u)}_handleLineFocus(i){this.setAll({positionX:this.getPrivate("positionX"),positionY:this.getPrivate("positionY"),alwaysShow:!0})}_handleLineBlur(i){this.setAll({positionX:void 0,positionY:void 0,alwaysShow:!1})}_prepareChildren(){if(super._prepareChildren(),this.isDirty("xAxis")){this._tooltipX=!1;const i=this.get("xAxis");if(i){const a=i.get("tooltip");a&&(this._tooltipX=!0,this._disposers.push(a.on("pointTo",()=>{this._updateXLine(a)})))}}if(this.isDirty("yAxis")){this._tooltipY=!1;const i=this.get("yAxis");if(i){const a=i.get("tooltip");a&&(this._tooltipY=!0,this._disposers.push(a.on("pointTo",()=>{this._updateYLine(a)})))}}}_handleSyncWith(){const i=this.chart;if(i){const a=this.get("syncWith"),u=[];a&&S.each(a,g=>{const y=g.chart;y&&u.push(y)}),i._otherCharts=u}}_updateChildren(){if(super._updateChildren(),this._handleSyncWith(),this.isDirty("positionX")||this.isDirty("positionY")){const i=this.get("positionX"),a=this.get("positionY");null==i&&null==a?this.hide(0):(this._movePoint=this.toGlobal(this._getPoint(this.get("positionX",0),this.get("positionY",0))),this.handleMove())}}_updateXLine(i){let a=Te.round(this._display.toLocal(i.get("pointTo",{x:0,y:0})).x,2);this._toX!=a&&(this.lineX.animate({key:"x",to:a,duration:i.get("animationDuration",0),easing:i.get("animationEasing")}),this._toX=a)}_updateYLine(i){let a=Te.round(this._display.toLocal(i.get("pointTo",{x:0,y:0})).y,2);this._toY!=a&&(this.lineY.animate({key:"y",to:a,duration:i.get("animationDuration",0),easing:i.get("animationEasing")}),this._toY=a)}_drawLines(){this.lineX.set("draw",i=>{i.moveTo(0,0),i.lineTo(0,this.height())}),this.lineY.set("draw",i=>{i.moveTo(0,0),i.lineTo(this.width(),0)})}updateCursor(){this.get("alwaysShow")&&(this._movePoint=this.toGlobal(this._getPoint(this.get("positionX",0),this.get("positionY",0)))),this.handleMove()}_setChart(i){this.chart=i,this._handleSyncWith();const a=i.plotContainer;this.events.on("boundschanged",()=>{this._disposers.push(this.setTimeout(()=>{this.updateCursor()},50))}),Me.supports("touchevents")&&(this._disposers.push(a.events.on("click",g=>{Me.isTouchEvent(g.originalEvent)&&this._handleMove(g)})),this._setUpTouch()),this._disposers.push(a.events.on("pointerdown",g=>{this._handleCursorDown(g)})),this._disposers.push(a.events.on("globalpointerup",g=>{this._handleCursorUp(g),!g.native&&!this.isHidden()&&this._handleMove(g)})),this._disposers.push(a.events.on("globalpointermove",g=>{!this.get("syncWith")&&0==ae.keys(a._downPoints).length&&!g.native&&this.isHidden()||this._handleMove(g)}));const u=this.parent;u&&u.children.moveValue(this.selection)}_inPlot(i){const a=this.chart;return!!a&&a.inPlot(i)}_handleCursorDown(i){if(2==i.originalEvent.button)return;let u=this._display.toLocal(i.point);const g=this.chart;if(this.selection.set("draw",()=>{}),g&&this._inPlot(u)){if(this._downPoint=u,"none"!=this.get("behavior")){this.selection.show();const b="selectstarted";this.events.isEnabled(b)&&this.events.dispatch(b,{type:b,target:this,originalEvent:i.originalEvent})}let y=this._getPosition(u).x,x=this._getPosition(u).y;this.setPrivate("downPositionX",y),this.setPrivate("downPositionY",x)}}_handleCursorUp(i){if(this._downPoint){const a=this.get("behavior","none");if("none"!=a){"z"===a.charAt(0)&&this.selection.hide();let g=this._display.toLocal(i.point);const y=this._downPoint,x=this.get("moveThreshold",1);if(g&&y){let b=!1;if(("zoomX"===a||"zoomXY"===a||"selectX"===a||"selectXY"===a)&&Math.abs(g.x-y.x)>x&&(b=!0),("zoomY"===a||"zoomXY"===a||"selectY"===a||"selectXY"===a)&&Math.abs(g.y-y.y)>x&&(b=!0),b){const _="selectended";this.events.isEnabled(_)&&this.events.dispatch(_,{type:_,target:this,originalEvent:i.originalEvent})}else{const _="selectcancelled";this.events.isEnabled(_)&&this.events.dispatch(_,{type:_,target:this,originalEvent:i.originalEvent})}}}}this._downPoint=void 0}_handleMove(i){if(this.getPrivate("visible")){const a=this.chart;if(a&&ae.keys(a.plotContainer._downPoints).length>1)return void this.set("forceHidden",!0);this.set("forceHidden",!1);const u=i.point,g=this._lastPoint;if(Math.round(g.x)===Math.round(u.x)&&Math.round(g.y)===Math.round(u.y))return;this._lastPoint=u,this.setPrivate("lastPoint",u),this.handleMove({x:u.x,y:u.y},!1,i.originalEvent)}}_getPosition(i){return{x:i.x/this.width(),y:i.y/this.height()}}handleMove(i,a,u){i||(i=this._movePoint);const g=this.get("alwaysShow");if(!i)return void this.hide(0);this._movePoint=i;let y=this._display.toLocal(i),x=this.chart;if(x&&(this._inPlot(y)||this._downPoint)){x._movePoint=i,this.isHidden()&&(this.show(),"z"==this.get("behavior","").charAt(0)&&this.selection.set("draw",()=>{}));let b=y.x,_=y.y,P=this._getPosition(y);this.setPrivate("point",y);let O=this.get("snapToSeries");this._downPoint&&(O=void 0);let w=this.get("positionX"),j=P.x;W.isNumber(w)&&(j=w);let K=this.get("positionY"),q=P.y;W.isNumber(K)&&(q=K),this.setPrivate("positionX",j),this.setPrivate("positionY",q);const se=this._getPoint(j,q);if(b=se.x,_=se.y,x.xAxes.each(Q=>{Q._handleCursorPosition(j,O),g&&Q.handleCursorShow()}),x.yAxes.each(Q=>{Q._handleCursorPosition(q,O),g&&Q.handleCursorShow()}),!a){x._handleCursorPosition();const Q="cursormoved";this.events.isEnabled(Q)&&this.events.dispatch(Q,{type:Q,target:this,point:i,originalEvent:u})}this._updateLines(b,_),x.arrangeTooltips()}else if(!this._downPoint&&!g){this.hide(0);const b="cursorhidden";this.events.isEnabled(b)&&this.events.dispatch(b,{type:b,target:this})}this._downPoint&&"none"!=this.get("behavior")&&this._updateSelection(y)}_getPoint(i,a){return{x:this.width()*i,y:this.height()*a}}_updateLines(i,a){this._tooltipX||this.lineX.set("x",i),this._tooltipY||this.lineY.set("y",a),this._drawLines()}_updateSelection(i){const a=this.selection,u=this.get("behavior"),g=this.width(),y=this.height();i.x<0&&(i.x=0),i.x>g&&(i.x=g),i.y<0&&(i.y=0),i.y>y&&(i.y=y),a.set("draw",x=>{const b=this._downPoint;b&&("zoomXY"===u||"selectXY"===u?(x.moveTo(b.x,b.y),x.lineTo(b.x,i.y),x.lineTo(i.x,i.y),x.lineTo(i.x,b.y),x.lineTo(b.x,b.y)):"zoomX"===u||"selectX"===u?(x.moveTo(b.x,0),x.lineTo(b.x,y),x.lineTo(i.x,y),x.lineTo(i.x,0),x.lineTo(b.x,0)):("zoomY"===u||"selectY"===u)&&(x.moveTo(0,b.y),x.lineTo(g,b.y),x.lineTo(g,i.y),x.lineTo(0,i.y),x.lineTo(0,b.y)))})}_onHide(){if(this.isHidden()){let i=this.chart;i&&(i.xAxes.each(a=>{a.handleCursorHide()}),i.yAxes.each(a=>{a.handleCursorHide()}),i.series.each(a=>{a.handleCursorHide()}))}super._onHide()}_onShow(){if(!this.isHidden()){let i=this.chart;i&&(i.xAxes.each(a=>{a.handleCursorShow()}),i.yAxes.each(a=>{a.handleCursorShow()}))}super._onShow()}_dispose(){super._dispose(),this.selection.dispose()}}Object.defineProperty(zt,"className",{enumerable:!0,configurable:!0,writable:!0,value:"XYCursor"}),Object.defineProperty(zt,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:$.W.classNames.concat([zt.className])});var Ut=z(2428),Le=z(8472),si=z(7937);class Je extends si.${constructor(){super(...arguments),Object.defineProperty(this,"_frequency",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_itemMap",{enumerable:!0,configurable:!0,writable:!0,value:{}})}_afterNew(){this._settings.themeTags=Me.mergeTags(this._settings.themeTags,["axis"]),this.fields.push("category"),super._afterNew()}_prepareAxisItems(){this.setPrivateRaw("baseInterval",this.get("baseInterval"));const i=this.get("renderer"),a=this.dataItems.length;let u=this.startIndex();u>0&&u--;let g=this.endIndex();g<a&&g++;let y=i.axisLength()/Math.max(i.get("minGridDistance"),1/Number.MAX_SAFE_INTEGER),x=Math.min(a,Math.ceil((g-u)/y));u=Math.floor(u/x)*x,this._frequency=x;for(let ie=0;ie<a;ie++)this._toggleDataItem(this.dataItems[ie],!1);let b=Number(this.dataItems[u].get("category")),_=Number(this.dataItems[g-1].get("category")),P=_-b;g-u<y&&(P=_-b-((_-b)/this.baseDuration()-(g-u))*this.baseDuration());let O=te.chooseInterval(0,P,y,this.get("gridIntervals"));const w=te.getNextUnit(O.timeUnit),j=this.getPrivate("baseInterval");te.getIntervalDuration(O)<this.baseDuration()&&(O=Object.assign({},j));const K=this.get("dateFormats");let ee,q=-1/0,se=-1/0,Q=-1/0,fe=[],re=!1;for(let ie=u;ie<g;ie++){let _e=this.dataItems[ie],Se=_e.get("index"),Ye=!1,xe=Number(_e.get("category")),Ie=new Date(xe),ze=te.getUnitValue(Ie,O.timeUnit);ee=K[O.timeUnit];let et=!1;"year"!=O.timeUnit&&"week"!=O.timeUnit&&w&&this.get("markUnitChange")&&W.isNumber(q)&&te.checkChange(xe,q,w,this._root.utc)&&(ee=this.get("periodChangeDateFormats")[O.timeUnit],Se-.5*x<se&&fe.pop(),fe.push({format:ee,dataItem:_e}),re=!0,et=!0,se=Se,Q=ze);let qe=!1;"day"===O.timeUnit||"week"===O.timeUnit?Se-se>=x&&(qe=!0):ze%O.count==0&&ze!=Q&&(qe=!0),!et&&qe&&(Se-.7*x<se&&re&&(Ye=!0),Ye||(fe.push({format:ee,dataItem:_e}),se=Se,Q=ze),re=!1),q=xe}if(fe.length>0){let ie=fe[0].dataItem.get("index",0);S.each(fe,_e=>{const Se=_e.dataItem,Ye=_e.format;this._createAssets(Se,[]),this._toggleDataItem(Se,!0);let xe=Number(Se.get("category")),Ie=new Date(xe);const ze=Se.get("label");ze&&ze.set("text",this._root.dateFormatter.format(Ie,Ye)),ie++,this._prepareDataItem(Se,ie,x)})}}baseDuration(){return te.getIntervalDuration(this.getPrivate("baseInterval"))}getTooltipText(i,a){let u=this.dataItems[this.axisPositionToIndex(i)];if(u){let g=this.get("dateFormats")[this.getPrivate("baseInterval").timeUnit];return this._root.dateFormatter.format(new Date(u.get("category",0)),this.get("tooltipDateFormat",g))}}_updateTooltipText(i,a){i.label.set("text",this.getTooltipText(a))}}Object.defineProperty(Je,"className",{enumerable:!0,configurable:!0,writable:!0,value:"CategoryDateAxis"}),Object.defineProperty(Je,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:si.$.classNames.concat([Je.className])});var ke=z(7313),yi=z(8362);class gt extends Le.R{constructor(){super(...arguments),Object.defineProperty(this,"_dirtyExtremes",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dirtySelectionExtremes",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_deltaMinMax",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_minReal",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_maxReal",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_baseValue",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_syncDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_minLogAdjusted",{enumerable:!0,configurable:!0,writable:!0,value:1})}markDirtyExtremes(){this._dirtyExtremes=!0,this.markDirty()}markDirtySelectionExtremes(){this._dirtySelectionExtremes=!0,this.markDirty()}_afterNew(){this._settings.themeTags=Me.mergeTags(this._settings.themeTags,["axis"]),this.setPrivateRaw("name","value"),this.addTag("value"),super._afterNew()}_prepareChildren(){if(super._prepareChildren(),this.isDirty("syncWithAxis")){this._prevSettings.syncWithAxis&&this._syncDp&&this._syncDp.dispose();let u=this.get("syncWithAxis");u&&(this._syncDp=new yi.FV([u.onPrivate("selectionMinFinal",()=>{this._dirtySelectionExtremes=!0}),u.onPrivate("selectionMaxFinal",()=>{this._dirtySelectionExtremes=!0})]))}let i=!1;(this.isDirty("min")||this.isDirty("max")||this.isDirty("maxPrecision")||this.isDirty("numberFormat"))&&(i=!0,this.ghostLabel.set("text","")),(this._sizeDirty||this._dirtyExtremes||this._valuesDirty||i||this.isPrivateDirty("width")||this.isPrivateDirty("height")||this.isDirty("extraMin")||this.isDirty("extraMax")||this.isDirty("logarithmic")||this.isDirty("treatZeroAs")||this.isDirty("baseValue")||this.isDirty("strictMinMax")||this.isDirty("strictMinMaxSelection"))&&(this._getMinMax(),this._dirtyExtremes=!1),this._dirtySelectionExtremes&&!this._isPanning&&this.get("autoZoom",!0)&&(this._getSelectionMinMax(),this._dirtySelectionExtremes=!1),this._groupData(),(this._sizeDirty||this._valuesDirty||this.isDirty("start")||this.isDirty("end")||this.isPrivateDirty("min")||this.isPrivateDirty("selectionMax")||this.isPrivateDirty("selectionMin")||this.isPrivateDirty("max")||this.isPrivateDirty("step")||this.isPrivateDirty("width")||this.isPrivateDirty("height")||this.isDirty("logarithmic"))&&(this._handleRangeChange(),this._prepareAxisItems(),this._updateAxisRanges()),this._baseValue=this.baseValue()}_groupData(){}_formatText(i){const a=this.get("numberFormat"),u=this.getNumberFormatter();let g="";return g=a?u.format(i,a):u.format(i,void 0,this.getPrivate("stepDecimalPlaces")),g}_prepareAxisItems(){const i=this.getPrivate("min"),a=this.getPrivate("max");if(W.isNumber(i)&&W.isNumber(a)){const u=this.get("logarithmic"),g=this.getPrivate("step"),y=this.getPrivate("selectionMin"),x=this.getPrivate("selectionMax")+g;let b=y-g,_=1,P=i;if(u){if(b=this._minLogAdjusted,b<y)for(;b<y;)b+=g;P=b,P<=0&&(P=1,g<1&&(P=g)),_=Math.log(x-g)*Math.LOG10E-Math.log(P)*Math.LOG10E,_>2&&(b=Math.pow(10,Math.log(P)*Math.LOG10E-5))}const O=this.get("renderer"),w=O.get("minorLabelsEnabled"),j=O.get("minorGridEnabled",w);let K=Math.pow(10,Math.floor(Math.log(Math.abs(g))*Math.LOG10E));const q=Math.round(g/K);let se=2;Te.round(q/5,10)%1==0&&(se=5),Te.round(q/10,10)%1==0&&(se=10);let Q=g/se,ee=0,fe=0,re=-1/0;for(;b<x;){let ie;this.dataItems.length<ee+1?(ie=new ke.z(this,void 0,{}),this._dataItems.push(ie),this.processDataItem(ie)):ie=this.dataItems[ee],this._createAssets(ie,[]),this._toggleDataItem(ie,!0),ie.setRaw("value",b);const _e=ie.get("label");_e&&_e.set("text",this._formatText(b)),this._prepareDataItem(ie);let Se=b;if(u&&_>2?Se=Math.pow(10,Math.log(P)*Math.LOG10E+ee-5):Se+=g,j){let xe=b+Q;for(u&&(_>2&&(Q=this._adjustMinMax(b,Se,10).step),xe=b+Q);xe<Se-1e-11*g;){let Ie;this.minorDataItems.length<fe+1?(Ie=new ke.z(this,void 0,{}),this.minorDataItems.push(Ie),this.processDataItem(Ie)):Ie=this.minorDataItems[fe],this._createAssets(Ie,["minor"],!0),this._toggleDataItem(Ie,!0),Ie.setRaw("value",xe);const ze=Ie.get("label");ze&&(w?ze.set("text",this._formatText(xe)):ze.setPrivate("visible",!1)),this._prepareDataItem(Ie),xe+=Q,fe++}}if(b=Se,re==b)break;let Ye=Math.pow(10,Math.floor(Math.log(Math.abs(g))*Math.LOG10E));if(Ye<1){let xe=Math.round(Math.abs(Math.log(Math.abs(Ye))*Math.LOG10E))+2;b=Te.round(b,xe)}ee++,re=b}for(let ie=ee;ie<this.dataItems.length;ie++)this._toggleDataItem(this.dataItems[ie],!1);for(let ie=fe;ie<this.minorDataItems.length;ie++)this._toggleDataItem(this.minorDataItems[ie],!1);S.each(this.series,ie=>{ie.inited&&ie._markDirtyAxes()}),this._updateGhost()}}_prepareDataItem(i,a){let u=this.get("renderer"),g=i.get("value"),y=i.get("endValue"),x=this.valueToPosition(g),b=x,_=this.valueToPosition(g+this.getPrivate("step"));W.isNumber(y)&&(b=this.valueToPosition(y),_=b),i.get("isRange")&&null==y&&(_=x);let P=b,O=i.get("labelEndValue");null!=O&&(P=this.valueToPosition(O)),u.updateLabel(i.get("label"),x,P,a);const w=i.get("grid");if(u.updateGrid(w,x,b),w&&(g==this.get("baseValue",0)?(w.addTag("base"),w._applyThemes()):w.hasTag("base")&&(w.removeTag("base"),w._applyThemes())),u.updateTick(i.get("tick"),x,P,a),u.updateFill(i.get("axisFill"),x,_),this._processBullet(i),u.updateBullet(i.get("bullet"),x,b),!i.get("isRange")){const j=this.get("fillRule");j&&j(i)}}_handleRangeChange(){let i=this.positionToValue(this.get("start",0)),a=this.positionToValue(this.get("end",1));const u=this.get("renderer").gridCount();let g=this._adjustMinMax(i,a,u,!0),y=Me.decimalPlaces(g.step);this.setPrivateRaw("stepDecimalPlaces",y),i=Te.round(i,y),a=Te.round(a,y),g=this._adjustMinMax(i,a,u,!0);let x=g.step;i=g.min,a=g.max,(this.getPrivate("selectionMin")!==i||this.getPrivate("selectionMax")!==a||this.getPrivate("step")!==x)&&(this.setPrivateRaw("selectionMin",i),this.setPrivateRaw("selectionMax",a),this.setPrivateRaw("step",x))}positionToValue(i){const a=this.getPrivate("min"),u=this.getPrivate("max");return this.get("logarithmic")?Math.pow(Math.E,(i*(Math.log(u)*Math.LOG10E-Math.log(a)*Math.LOG10E)+Math.log(a)*Math.LOG10E)/Math.LOG10E):i*(u-a)+a}valueToPosition(i){const a=this.getPrivate("min"),u=this.getPrivate("max");if(this.get("logarithmic")){if(i<=0){let g=this.get("treatZeroAs");W.isNumber(g)&&(i=g)}return(Math.log(i)*Math.LOG10E-Math.log(a)*Math.LOG10E)/(Math.log(u)*Math.LOG10E-Math.log(a)*Math.LOG10E)}return(i-a)/(u-a)}valueToFinalPosition(i){const a=this.getPrivate("minFinal"),u=this.getPrivate("maxFinal");if(this.get("logarithmic")){if(i<=0){let g=this.get("treatZeroAs");W.isNumber(g)&&(i=g)}return(Math.log(i)*Math.LOG10E-Math.log(a)*Math.LOG10E)/(Math.log(u)*Math.LOG10E-Math.log(a)*Math.LOG10E)}return(i-a)/(u-a)}getX(i,a,u){const g=this.valueToPosition(i=u+(i-u)*a);return this._settings.renderer.positionToCoordinate(g)}getY(i,a,u){const g=this.valueToPosition(i=u+(i-u)*a);return this._settings.renderer.positionToCoordinate(g)}getDataItemCoordinateX(i,a,u,g){return this._settings.renderer.positionToCoordinate(this.getDataItemPositionX(i,a,u,g))}getDataItemPositionX(i,a,u,g){let y=i.get(a);return y=i.get("stackToItemX")?y*g+i.component.getStackedXValueWorking(i,a):this._baseValue+(y-this._baseValue)*g,this.valueToPosition(y)}getDataItemCoordinateY(i,a,u,g){return this._settings.renderer.positionToCoordinate(this.getDataItemPositionY(i,a,u,g))}getDataItemPositionY(i,a,u,g){let y=i.get(a);return y=i.get("stackToItemY")?y*g+i.component.getStackedYValueWorking(i,a):this._baseValue+(y-this._baseValue)*g,this.valueToPosition(y)}basePosition(){return this.valueToPosition(this.baseValue())}baseValue(){const i=Math.min(this.getPrivate("minFinal",-1/0),this.getPrivate("selectionMin",-1/0)),a=Math.max(this.getPrivate("maxFinal",1/0),this.getPrivate("selectionMax",1/0));let u=this.get("baseValue",0);return u<i&&(u=i),u>a&&(u=a),u}cellEndValue(i){return i}fixSmallStep(i){return 1+i===1?this.fixSmallStep(i*=2):i}_fixMin(i){return i}_fixMax(i){return i}_calculateTotals(){if(this.get("calculateTotals")){let i=this.series[0];if(i){let a=i.startIndex();if(i.dataItems.length>0){a>0&&a--;let g,y,u=i.endIndex();u<i.dataItems.length&&u++,i.get("yAxis")==this?(g="valueY",y="vcy"):i.get("xAxis")==this&&(g="valueX",y="vcx");let x=g+"Working";if(g)for(let b=a;b<u;b++){let _=0,P=0;S.each(this.series,O=>{if(!O.get("excludeFromTotal")){let w=O.dataItems[b];if(w){let j=w.get(x)*O.get(y);W.isNaN(j)||(_+=j,P+=Math.abs(j))}}}),S.each(this.series,O=>{if(!O.get("excludeFromTotal")){let w=O.dataItems[b];if(w){let j=w.get(x)*O.get(y);W.isNaN(j)||(w.set(g+"Total",P),w.set(g+"Sum",_),w.set(g+"TotalPercent",j/P*100))}}})}}}}}_getSelectionMinMax(){const i=this.getPrivate("minFinal"),a=this.getPrivate("maxFinal"),u=this.get("min"),g=this.get("max");let y=this.get("extraMin",0),x=this.get("extraMax",0);this.get("logarithmic")&&(null==this.get("extraMin")&&(y=.1),null==this.get("extraMax")&&(x=.2));const b=this.get("renderer").gridCount(),_=this.get("strictMinMaxSelection");let P=this.get("strictMinMax");if(W.isNumber(i)&&W.isNumber(a)){let O=a,w=i;if(S.each(this.series,re=>{if(!re.get("ignoreMinMax")){let ie,_e;const Se=re.getPrivate("outOfSelection");if(re.get("xAxis")===this){if(!Se){let Ye=re.getPrivate("minX"),xe=re.getPrivate("maxX");(0!=re.startIndex()||re.endIndex()!=re.dataItems.length)&&(Ye=void 0,xe=void 0),ie=re.getPrivate("selectionMinX",Ye),_e=re.getPrivate("selectionMaxX",xe)}}else if(re.get("yAxis")===this&&!Se){let Ye=re.getPrivate("minY"),xe=re.getPrivate("maxY");(0!=re.startIndex()||re.endIndex()!=re.dataItems.length)&&(Ye=void 0,xe=void 0),ie=re.getPrivate("selectionMinY",Ye),_e=re.getPrivate("selectionMaxY",xe)}!re.isHidden()&&!re.isShowing()&&(W.isNumber(ie)&&(O=Math.min(O,ie)),W.isNumber(_e)&&(w=Math.max(w,_e)))}}),this.axisRanges.each(re=>{if(re.get("affectsMinMax")){let ie=re.get("value");null!=ie&&(O=Math.min(O,ie),w=Math.max(w,ie)),ie=re.get("endValue"),null!=ie&&(O=Math.min(O,ie),w=Math.max(w,ie))}}),O>w&&([O,w]=[w,O]),W.isNumber(u)?O=P?u:i:P&&W.isNumber(this._minReal)&&(O=this._minReal),W.isNumber(g)?w=P?g:a:P&&W.isNumber(this._maxReal)&&(w=this._maxReal),O===w){let re=O;if(O-=this._deltaMinMax,w+=this._deltaMinMax,O<i){let _e=re-i;0==_e&&(_e=this._deltaMinMax),O=re-_e,w=re+_e,P=!0}let ie=this._adjustMinMax(O,w,b,P);O=ie.min,w=ie.max}let j=O,K=w;O-=(w-O)*y,w+=(w-O)*x;let q=this._adjustMinMax(O,w,b);O=q.min,w=q.max,O=Te.fitToRange(O,i,a),w=Te.fitToRange(w,i,a),q=this._adjustMinMax(O,w,b,!0),P||(O=q.min,w=q.max);const se=this.get("syncWithAxis");se&&(q=this._syncAxes(O,w,q.step,se.getPrivate("selectionMinFinal",se.getPrivate("minFinal",0)),se.getPrivate("selectionMaxFinal",se.getPrivate("maxFinal",1)),se.getPrivate("selectionStepFinal",se.getPrivate("step",1))),O=q.min,w=q.max),P&&(W.isNumber(u)&&(O=Math.max(O,u)),W.isNumber(g)&&(w=Math.min(w,g))),_&&(O=j-(w-O)*y,w=K+(w-O)*x),this.get("logarithmic")&&(O<=0&&(O=j*(1-Math.min(y,.99))),O<i&&(O=i),w>a&&(w=a));let Q=Math.min(20,Math.ceil(Math.log(this.getPrivate("maxZoomFactor",100)+1)/Math.LN10)+2),ee=Te.round(this.valueToFinalPosition(O),Q),fe=Te.round(this.valueToFinalPosition(w),Q);this.setPrivateRaw("selectionMinFinal",O),this.setPrivateRaw("selectionMaxFinal",w),this.setPrivateRaw("selectionStepFinal",q.step),this.zoom(ee,fe)}}_getMinMax(){let i=this.get("min"),a=this.get("max"),u=1/0,g=-1/0,y=this.get("extraMin",0),x=this.get("extraMax",0);this.get("logarithmic")&&(null==this.get("extraMin")&&(y=.1),null==this.get("extraMax")&&(x=.2));let b=1/0;if(S.each(this.series,re=>{if(!re.get("ignoreMinMax")){let ie,_e;if(re.get("xAxis")===this?(ie=re.getPrivate("minX"),_e=re.getPrivate("maxX")):re.get("yAxis")===this&&(ie=re.getPrivate("minY"),_e=re.getPrivate("maxY")),W.isNumber(ie)&&W.isNumber(_e)){u=Math.min(u,ie),g=Math.max(g,_e);let Se=_e-ie;Se<=0&&(Se=Math.abs(_e/100)),Se<b&&(b=Se)}}}),this.axisRanges.each(re=>{if(re.get("affectsMinMax")){let ie=re.get("value");null!=ie&&(u=Math.min(u,ie),g=Math.max(g,ie)),ie=re.get("endValue"),null!=ie&&(u=Math.min(u,ie),g=Math.max(g,ie))}}),this.get("logarithmic")){let re=this.get("treatZeroAs");W.isNumber(re)&&u<=0&&(u=re),u<=0&&new Error("Logarithmic value axis can not have values <= 0.")}if(0===u&&0===g&&(g=.9,u=-.9),W.isNumber(i)&&(u=i),W.isNumber(a)&&(g=a),u===1/0||g===-1/0)return this.setPrivate("minFinal",void 0),void this.setPrivate("maxFinal",void 0);const _=u,P=g;let O=this.adapters.fold("min",u),w=this.adapters.fold("max",g);W.isNumber(O)&&(u=O),W.isNumber(w)&&(g=w),u=this._fixMin(u),g=this._fixMax(g),g-u<=1/Math.pow(10,15)&&(g-u!=0?this._deltaMinMax=(g-u)/2:this._getDelta(g),u-=this._deltaMinMax,g+=this._deltaMinMax),u-=(g-u)*y,g+=(g-u)*x,this.get("logarithmic")&&(u<0&&_>=0&&(u=0),g>0&&P<=0&&(g=0)),this._minReal=u,this._maxReal=g;let j=this.get("strictMinMax"),K=this.get("strictMinMaxSelection",!1);K&&(j=K);let q=j;W.isNumber(a)&&(q=!0);let se=this.get("renderer").gridCount(),Q=this._adjustMinMax(u,g,se,q);u=Q.min,g=Q.max,Q=this._adjustMinMax(u,g,se,!0),u=Q.min,g=Q.max,j&&(u=W.isNumber(i)?i:this._minReal,g=W.isNumber(a)?a:this._maxReal,g-u<=1e-8&&(u-=this._deltaMinMax,g+=this._deltaMinMax),u-=(g-u)*y,g+=(g-u)*x),O=this.adapters.fold("min",u),w=this.adapters.fold("max",g),W.isNumber(O)&&(u=O),W.isNumber(w)&&(g=w),b==1/0&&(b=g-u);let ee=Math.round(Math.abs(Math.log(Math.abs(g-u))*Math.LOG10E))+5;u=Te.round(u,ee),g=Te.round(g,ee);const fe=this.get("syncWithAxis");if(fe&&(Q=this._syncAxes(u,g,Q.step,fe.getPrivate("minFinal",fe.getPrivate("min",0)),fe.getPrivate("maxFinal",fe.getPrivate("max",1)),fe.getPrivate("step",1)),u=Q.min,g=Q.max),this.setPrivateRaw("maxZoomFactor",Math.max(1,Math.ceil((g-u)/b*this.get("maxZoomFactor",100)))),this._fixZoomFactor(),this.get("logarithmic")&&(this._minLogAdjusted=u,u=this._minReal,g=this._maxReal,u<=0&&(u=_*(1-Math.min(y,.99)))),W.isNumber(u)&&W.isNumber(g)&&(this.getPrivate("minFinal")!==u||this.getPrivate("maxFinal")!==g)){this.setPrivate("minFinal",u),this.setPrivate("maxFinal",g),this._saveMinMax(u,g);const re=this.get("interpolationDuration",0),ie=this.get("interpolationEasing");this.animatePrivate({key:"min",to:u,duration:re,easing:ie}),this.animatePrivate({key:"max",to:g,duration:re,easing:ie})}}_fixZoomFactor(){}_getDelta(i){let a=Math.log(Math.abs(i))*Math.LOG10E,u=Math.pow(10,Math.floor(a));u/=10,this._deltaMinMax=u}_saveMinMax(i,a){}_adjustMinMax(i,a,u,g){u<=1&&(u=1),u=Math.round(u);let y=i,x=a,b=a-i;0===b&&(b=Math.abs(a));let _=Math.log(Math.abs(b))*Math.LOG10E,P=Math.pow(10,Math.floor(_));P/=10;let O=P;g&&(O=0),g?(i=Math.floor(i/P)*P,a=Math.ceil(a/P)*P):(i=Math.ceil(i/P)*P-O,a=Math.floor(a/P)*P+O),i<0&&y>=0&&(i=0),a>0&&x<=0&&(a=0),_=Math.log(Math.abs(b))*Math.LOG10E,P=Math.pow(10,Math.floor(_)),P/=100;let w=Math.ceil(b/u/P)*P,j=Math.pow(10,Math.floor(Math.log(Math.abs(w))*Math.LOG10E)),K=Math.ceil(w/j);K>5?K=10:K<=5&&K>2&&(K=5),w=Math.ceil(w/(j*K))*j*K;let q=this.get("maxPrecision");if(W.isNumber(q)){let fe=Te.ceil(w,q);q<Number.MAX_VALUE&&w!==fe&&(w=fe)}let se=0;j<1&&(se=Math.round(Math.abs(Math.log(Math.abs(j))*Math.LOG10E))+1,w=Te.round(w,se));let ee,Q=Math.floor(i/w);return i=Te.round(w*Q,se),ee=g?Math.floor(a/w):Math.ceil(a/w),ee===Q&&ee++,(a=Te.round(w*ee,se))<x&&(a+=w),i>y&&(i-=w),w=this.fixSmallStep(w),{min:i,max:a,step:w}}getTooltipText(i,a){const u=this.get("tooltipNumberFormat",this.get("numberFormat")),g=this.getNumberFormatter(),y=this.get("extraTooltipPrecision",0),x=this.getPrivate("stepDecimalPlaces",0)+y,b=Te.round(this.positionToValue(i),x);return u?g.format(b,u):g.format(b,void 0,x)}getSeriesItem(i,a){let y,x,u=this.getPrivate("name")+this.get("renderer").getPrivate("letter"),g=this.positionToValue(a);if(S.each(i.dataItems,(b,_)=>{const P=Math.abs(b.get(u)-g);(void 0===y||P<x)&&(y=_,x=P)}),null!=y)return i.dataItems[y]}zoomToValues(i,a,u){const g=this.getPrivate("minFinal",0),y=this.getPrivate("maxFinal",0);null!=this.getPrivate("min")&&null!=this.getPrivate("max")&&this.zoom((i-g)/(y-g),(a-g)/(y-g),u)}_syncAxes(i,a,u,g,y,x){if(this.get("syncWithAxis")){let _=Math.round(y-g)/x,P=Math.round((a-i)/u),O=this.get("renderer").gridCount();if(W.isNumber(_)&&W.isNumber(P)){let w=!1,j=0,K=.01*(a-i),q=i,se=a,Q=u;for(;1!=w;)if(w=this._checkSync(q,se,Q,_),j++,j>500&&(w=!0),w)i=q,a=se,u=Q;else{j/3==Math.round(j/3)?(q=i-K*j,i>=0&&q<0&&(q=0)):(se=a+K*j,se<=0&&se>0&&(se=0));let ee=this._adjustMinMax(q,se,O,!0);q=ee.min,se=ee.max,Q=ee.step}}}return{min:i,max:a,step:u}}_checkSync(i,a,u,g){let y=(a-i)/u;for(let x=1;x<g;x++)if(Te.round(y/x,1)==g||y*x==g)return!0;return!1}getCellWidthPosition(){let i=this.getPrivate("selectionMax",this.getPrivate("max")),a=this.getPrivate("selectionMin",this.getPrivate("min"));return W.isNumber(i)&&W.isNumber(a)?this.getPrivate("step",1)/(i-a):.05}}Object.defineProperty(gt,"className",{enumerable:!0,configurable:!0,writable:!0,value:"ValueAxis"}),Object.defineProperty(gt,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Le.R.classNames.concat([gt.className])});class di extends gt{constructor(){super(...arguments),Object.defineProperty(this,"_dataGrouped",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_seriesDataGrouped",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_groupingCalculated",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_intervalDuration",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_baseDuration",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_intervalMax",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_intervalMin",{enumerable:!0,configurable:!0,writable:!0,value:{}})}_afterNew(){this._settings.themeTags=Me.mergeTags(this._settings.themeTags,["axis"]),super._afterNew(),this._setBaseInterval(this.get("baseInterval")),this.on("baseInterval",()=>{this._setBaseInterval(this.get("baseInterval"))})}_setBaseInterval(i){this.setPrivateRaw("baseInterval",i),this._baseDuration=te.getIntervalDuration(i)}_fixZoomFactor(){const i=this.get("maxZoomFactor");this.setPrivateRaw("maxZoomFactor",null!=i&&i!=1/0?i:Math.round((this.getPrivate("max",0)-this.getPrivate("min",0))/this.baseMainDuration()))}_groupData(){const i=this.getPrivate("min"),a=this.getPrivate("max");if(W.isNumber(i)&&W.isNumber(a)){this._fixZoomFactor();const u=this.getPrivate("groupInterval");if(this._setBaseInterval(u||this.get("baseInterval")),this.isDirty("groupInterval")){let g=this.get("groupInterval");g&&(this.setRaw("groupIntervals",[g]),this._handleRangeChange())}if(this.isDirty("groupData")&&!this._dataGrouped){if(this.get("groupData"))S.each(this.series,g=>{this._groupSeriesData(g)}),this._handleRangeChange();else{let g=this.get("baseInterval"),y=g.timeUnit+g.count;S.each(this.series,x=>{x.setDataSet(y),x.resetGrouping()}),this._setBaseInterval(g),this.setPrivateRaw("groupInterval",void 0),this.markDirtyExtremes()}this._dataGrouped=!0}}}_groupSeriesData(i){if(this.get("groupData")&&!i.get("groupDataDisabled")){this._dataGrouped=!0,this._seriesDataGrouped=!0;let a=[],u=this.baseMainDuration(),g=this.get("groupIntervals");S.each(g,K=>{te.getIntervalDuration(K)>u&&a.push(K)}),i._dataSets={};const y=this.getPrivate("name")+this.get("renderer").getPrivate("letter");let x;const b=i.get("baseAxis");i.get("xAxis")===b?x=i._valueYFields:i.get("yAxis")===b&&(x=i._valueXFields);let _=i._mainDataItems,P=this.get("baseInterval");i._dataSets[P.timeUnit+P.count]=_;const w=i.get("groupDataCallback");let j=i.get("groupDataWithOriginals",!1);w&&(j=!0),S.each(a,K=>{let q=-1/0,se=K.timeUnit+K.count;i._dataSets[se]=[];let Q,ee={},fe={},re={},ie={};S.each(x,Ie=>{ee[Ie]=0,fe[Ie]=0,re[Ie]=i.get(Ie+"Grouped"),ie[Ie]=Ie+"Working"});let Ye,xe,_e=te.getDuration(K.timeUnit);_[0]&&(Ye=_[0].get(y)),S.each(_,Ie=>{let qe,ze=Ie.get(y),et=te.roun(ze,K.timeUnit,K.count,this._root,Ye);q<et-_e/24?(qe=ae.copy(Ie.dataContext),Q=new ke.z(i,qe,i._makeDataItem(qe)),Q.setRaw(y,et),i._dataSets[se].push(Q),S.each(x,Ue=>{let Mt=Ie.get(Ue);W.isNumber(Mt)?(Q.setRaw(Ue,Mt),Q.setRaw(ie[Ue],Mt),fe[Ue]=1,ee[Ue]=Mt):(ee[Ue]=0,fe[Ue]=0)}),j&&Q.set("originals",[Ie]),w&&xe&&w(xe,K),xe=Q):(S.each(x,Ue=>{let Mt=re[Ue],Tt=Ie.get(Ue);if(null!=Tt){let Dt=Q.get(Ue);switch(Mt){case"close":Q.setRaw(Ue,Tt);break;case"sum":Q.setRaw(Ue,Dt+Tt);break;case"open":break;case"low":Tt<Dt&&Q.setRaw(Ue,Tt);break;case"high":Tt>Dt&&Q.setRaw(Ue,Tt);break;case"average":fe[Ue]++,ee[Ue]+=Tt,Q.setRaw(Ue,ee[Ue]/fe[Ue]);break;case"extreme":Math.abs(Tt)>Math.abs(Dt)&&Q.setRaw(Ue,Tt)}Q.setRaw(ie[Ue],Q.get(Ue));let Ht=ae.copy(Ie.dataContext);Ht[y]=et,Q.dataContext=Ht}}),j&&Q.get("originals").push(Ie)),q=et}),w&&xe&&w(xe,K)}),i._dataSetId&&i.setDataSet(i._dataSetId),this.markDirtySize(),this._seriesAdded&&this._root.events.once("frameended",()=>{this.markDirtySize()})}}_clearDirty(){super._clearDirty(),this._groupingCalculated=!1,this._dataGrouped=!1}getGroupInterval(i){let a=this.get("baseInterval"),u=te.chooseInterval(0,i,this.get("groupCount",1/0),this.get("groupIntervals"));return te.getIntervalDuration(u)<te.getIntervalDuration(a)&&(u=Object.assign({},a)),u}getIntervalMax(i){return this._intervalMax[i.timeUnit+i.count]}getIntervalMin(i){return this._intervalMin[i.timeUnit+i.count]}_handleRangeChange(){super._handleRangeChange();let i=Math.round(this.getPrivate("selectionMin")),a=Math.round(this.getPrivate("selectionMax"));if(W.isNumber(i)&&W.isNumber(a)){if(0==this.get("endLocation")&&(a+=1),this.get("groupData")&&!this._groupingCalculated){this._groupingCalculated=!0;let u=this.get("groupInterval"),g=this.getPrivate("groupInterval"),y=a-i+(this.get("startLocation",0)+(1-this.get("endLocation",1))*this.baseDuration());if(g){let x=te.getIntervalDuration(g);y=Math.ceil(y/x)*x}if(u||(u=this.getGroupInterval(y)),u&&(!g||g.timeUnit!==u.timeUnit||g.count!==u.count||this._seriesDataGrouped)){this._seriesDataGrouped=!1,this.setPrivateRaw("groupInterval",u),this._setBaseInterval(u);let x=u.timeUnit+u.count;S.each(this.series,b=>{b.get("baseAxis")===this&&b.setDataSet(x)}),this.markDirtyExtremes(),this._root.events.once("frameended",()=>{this._root.events.once("frameended",()=>{const b="groupintervalchanged";this.events.isEnabled(b)&&this.events.dispatch(b,{type:b,target:this})})})}}S.each(this.series,u=>{if(u.get("baseAxis")===this){let g=this.getPrivate("name")+this.get("renderer").getPrivate("letter"),x=S.getFirstSortedIndex(u.dataItems,se=>he.qu(se.get(g),i)).index;x>0&&(x-=1),a+=this.baseDuration()*(1-this.get("endLocation",1));let _=S.getSortedIndex(u.dataItems,se=>he.qu(se.get(g),a)).index,P=_;P>1&&P--;const O=u.dataItems[x],w=u.dataItems[P];let j,K;O&&(K=O.get(g)),w&&(j=w.get(g));let q=!1;null!=j&&null!=K&&(j<i||K>a)&&(q=!0),u.setPrivate("outOfSelection",q),u.setPrivate("startIndex",x),u.setPrivate("adjustedStartIndex",u._adjustStartIndex(x)),u.setPrivate("endIndex",_)}})}}_adjustMinMax(i,a,u,g){return{min:i,max:a,step:(a-i)/u}}intervalDuration(){return this._intervalDuration}_saveMinMax(i,a){let u=this.getPrivate("groupInterval");u||(u=this.get("baseInterval"));let g=u.timeUnit+u.count;this._intervalMin[g]=i,this._intervalMax[g]=a}_getM(i){return"month"==i||"year"==i||"day"==i?1.05:1.01}_getMinorInterval(i){var a;let u,g=i.count,y=i.timeUnit;return g>1&&(10==g||15==g?g=5:12==g?g=2:6==g?g=1:30==g?g=10:g<10&&(g=1),u={timeUnit:y,count:g}),"week"==y&&"week"!=(null===(a=this.getPrivate("baseInterval"))||void 0===a?void 0:a.timeUnit)&&(u={timeUnit:"day",count:1}),u}_prepareAxisItems(){const i=this.getPrivate("min"),a=this.getPrivate("max");if(W.isNumber(i)&&W.isNumber(a)){const u=this._root,g=Math.round(this.getPrivate("selectionMin")),y=Math.round(this.getPrivate("selectionMax")),x=this.get("renderer"),b=this.getPrivate("baseInterval");let _=g,P=0;const O=this.get("gridIntervals");let w=te.chooseInterval(0,y-g,x.gridCount(),O);te.getIntervalDuration(w)<this.baseDuration()&&(w=Object.assign({},b));const j=te.getIntervalDuration(w);this._intervalDuration=j;const K=te.getNextUnit(w.timeUnit),q=u.utc,se=u.timezone;_=te.roun(g-j,w.timeUnit,w.count,u,i);let ee,Q=_-j;const fe=this.get("dateFormats");this.setPrivateRaw("gridInterval",w);const re=x.get("minorLabelsEnabled"),ie=x.get("minorGridEnabled",re);let _e,Se=0;ie&&(_e=this._getMinorInterval(w),Se=te.getIntervalDuration(_e));let Ye=0;for(;_<y+j;){let xe;this.dataItems.length<P+1?(xe=new ke.z(this,void 0,{}),this._dataItems.push(xe),this.processDataItem(xe)):xe=this.dataItems[P],this._createAssets(xe,[]),this._toggleDataItem(xe,!0),xe.setRaw("value",_),xe.setRaw("labelEndValue",void 0);let Ie=_+te.getDuration(w.timeUnit,w.count*this._getM(w.timeUnit));Ie=te.roun(Ie,w.timeUnit,1,u),xe.setRaw("endValue",Ie);let ze=new Date(_);ee=fe[w.timeUnit],K&&this.get("markUnitChange")&&W.isNumber(Q)&&"year"!=w.timeUnit&&te.checkChange(_,Q,K,q,se)&&(ee=this.get("periodChangeDateFormats")[w.timeUnit]);const et=xe.get("label");et&&et.set("text",u.dateFormatter.format(ze,ee));let qe=w.count;if("week"==w.timeUnit&&xe.setRaw("labelEndValue",_),ie){qe=1;let Ue=w.timeUnit;"week"==Ue&&(Ue="day");let Mt=_+te.getDuration(Ue,this._getM(Ue));Mt=te.roun(Mt,Ue,1,u),xe.setRaw("labelEndValue",Mt)}if(this._prepareDataItem(xe,qe),Q=_,_=Ie,_e){const Ue=_e.timeUnit,Mt=_e.count,Tt=this._getM(Ue);let Ht,Dt=te.roun(Q+Se*Tt,Ue,Mt,u,Q),ct=this.get("minorDateFormats",this.get("dateFormats"));for(;Dt<_-.01*Se;){let Qe;this.minorDataItems.length<Ye+1?(Qe=new ke.z(this,void 0,{}),this.minorDataItems.push(Qe),this.processDataItem(Qe)):Qe=this.minorDataItems[Ye],this._createAssets(Qe,["minor"],!0),this._toggleDataItem(Qe,!0),Qe.setRaw("value",Dt);let ai=Dt+te.getDuration(Ue,Mt*Tt);ai=te.roun(ai,Ue,1,u),Qe.setRaw("endValue",ai);let oi=new Date(Dt);ee=ct[Ue];const Wt=Qe.get("label");if(Wt&&(re?Wt.set("text",u.dateFormatter.format(oi,ee)):Wt.setPrivate("visible",!1)),this._prepareDataItem(Qe,1),Dt==Ht)break;Ht=Dt,Dt=ai,Ye++}}if(_==Q)break;P++}for(let xe=P;xe<this.dataItems.length;xe++)this._toggleDataItem(this.dataItems[xe],!1);for(let xe=Ye;xe<this.minorDataItems.length;xe++)this._toggleDataItem(this.minorDataItems[xe],!1);S.each(this.series,xe=>{xe.inited&&xe._markDirtyAxes()})}this._updateGhost()}_updateFinals(i,a){this.setPrivateRaw("selectionMinFinal",this.positionToValue(i)),this.setPrivateRaw("selectionMaxFinal",this.positionToValue(a))}_getDelta(){this._deltaMinMax=this.baseDuration()/2}_fixMin(i){const a=this.getPrivate("baseInterval"),u=a.timeUnit;let g=te.roun(i,u,a.count,this._root),y=g+te.getDuration(u,a.count*this._getM(u));return y=te.roun(y,u,1,this._root),g+(y-g)*this.get("startLocation",0)}_fixMax(i){const a=this.getPrivate("baseInterval"),u=a.timeUnit;let g=te.roun(i,u,a.count,this._root),y=g+te.getDuration(u,a.count*this._getM(u));return y=te.roun(y,u,1,this._root),g+(y-g)*this.get("endLocation",1)}_updateDates(i,a){}baseDuration(){return this._baseDuration}baseMainDuration(){return te.getIntervalDuration(this.get("baseInterval"))}processSeriesDataItem(i,a){const u=this.getPrivate("baseInterval");i.open||(i.open={}),i.close||(i.close={}),S.each(a,g=>{let y=i.get(g);if(W.isNumber(y)){let x=i.open[g],b=i.close[g];if(!(y>=x&&y<=b)){const _=u.timeUnit,P=u.count;x=te.roun(y,_,P,this._root),b=x+te.getDuration(_,P*this._getM(_)),b=te.roun(b,_,1,this._root),i.open[g]=x,i.close[g]=b}this._updateDates(x,i.component)}})}getDataItemPositionX(i,a,u,g){let y,x;i.open&&i.close?(y=i.open[a],x=i.close[a]):(y=i.get(a),x=y);let b=y+(x-y)*u;return b=this._baseValue+(b-this._baseValue)*g,this.valueToPosition(b)}getDataItemCoordinateX(i,a,u,g){return this._settings.renderer.positionToCoordinate(this.getDataItemPositionX(i,a,u,g))}getDataItemPositionY(i,a,u,g){let y,x;i.open&&i.close?(y=i.open[a],x=i.close[a]):(y=i.get(a),x=y);let b=y+(x-y)*u;return b=this._baseValue+(b-this._baseValue)*g,this.valueToPosition(b)}getDataItemCoordinateY(i,a,u,g){return this._settings.renderer.positionToCoordinate(this.getDataItemPositionY(i,a,u,g))}roundAxisPosition(i,a){let u=this.positionToValue(i);u-=(a-.5)*this.baseDuration();let g=this.getPrivate("baseInterval");if(!W.isNaN(u)){const y=this._root.locale.firstDayOfWeek,x=g.timeUnit,b=this._root.utc,_=this._root.timezone,P=g.count;u=te.roun(u,x,P,this._root,this.getPrivate("min",0));let O=te.getDateIntervalDuration(g,new Date(u),y,b,_);return _&&(u=te.roun(u+.05*this.baseDuration(),x,P,this._root,this.getPrivate("min",0)),O=te.getDateIntervalDuration(g,new Date(u+O*a),y,b,_)),this.valueToPosition(u+O*a)}return NaN}getTooltipText(i,a){if(null!=this.getPrivate("min")){let u=this.get("tooltipDateFormats")[this.getPrivate("baseInterval").timeUnit],g=this.positionToValue(i);if(W.isNumber(g)){let y=new Date(g),x=this.getPrivate("baseInterval"),b=te.getDateIntervalDuration(x,y,this._root.locale.firstDayOfWeek,this._root.utc,this._root.timezone);return!1!==a&&(y=new Date(g+this.get("tooltipIntervalOffset",-this.get("tooltipLocation",.5))*b)),this._root.dateFormatter.format(y,this.get("tooltipDateFormat",u))}}return""}getSeriesItem(i,a,u,g){let y=this.getPrivate("name")+this.get("renderer").getPrivate("letter"),x=this.positionToValue(a);null==u&&(u=.5),x-=(u-.5)*this.baseDuration();const b=S.getSortedIndex(i.dataItems,_=>{let P=0;return _.open&&(P=_.open[y]),he.qu(P,x)});if(g||i.get("snapTooltip")){let _=i.dataItems[b.index-1],P=i.dataItems[b.index];if(_&&P&&_.open&&P.close){let w=P.close[y];if(Math.abs(x-_.open[y])>Math.abs(x-w))return P}if(_)return _;if(P)return P}else{const _=i.dataItems[b.index-1];if(_&&_.open&&_.close&&x>=_.open[y]&&x<=_.close[y])return _}}shouldGap(i,a,u,g){const y=i.get(g);return a.get(g)-y>this.baseDuration()*u}zoomToDates(i,a,u){this.zoomToValues(i.getTime(),a.getTime(),u)}positionToDate(i){return new Date(this.positionToValue(i))}dateToPosition(i){return this.valueToPosition(i.getTime())}getCellWidthPosition(){let i=this.getPrivate("selectionMax",this.getPrivate("max")),a=this.getPrivate("selectionMin",this.getPrivate("min"));return W.isNumber(i)&&W.isNumber(a)?this._intervalDuration/(i-a):.05}}Object.defineProperty(di,"className",{enumerable:!0,configurable:!0,writable:!0,value:"DateAxis"}),Object.defineProperty(di,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:gt.classNames.concat([di.className])});class nr extends di{constructor(){super(...arguments),Object.defineProperty(this,"_frequency",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_m",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_dates",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_customDates",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_afterNew(){this.valueFields.push("date"),super._afterNew()}_getDates(){return this._customDates?this._customDates:this._dates}_updateDates(i,a){if(!a.get("ignoreMinMax")){const u=this._getDates(),g=S.getSortedIndex(u,y=>he.qu(y,i));g.found||S.insertIndex(u,g.index,i)}}_updateAllDates(){if(!this._customDates){const i=this._dates;i.length=0,S.each(this.series,_=>{let P="valueX";_.get("yAxis")==this&&(P="valueY"),S.each(_.dataItems,O=>{let w=O.get(P);W.isNumber(w)&&O.open&&this._updateDates(O.open[P],_)})});const a=this.get("extraMax",0),u=this.get("extraMin",0);let g=i.length;const y=this.getPrivate("baseInterval"),x=y.count,b=y.timeUnit;if(a>0){const _=g*a;let P=i[g-1];if(W.isNumber(P))for(let O=g-1;O<g+_;O++)P+=te.getDuration(b,x*this._getM(b)),P=te.roun(P,b,x,this._root),i.push(P)}if(u>0){const _=g*u;let P=i[0];if(W.isNumber(P))for(let O=0;O<_;O++)P-=te.getDuration(b,x),P=te.roun(P,b,x,this._root),i.unshift(P)}}}valueToPosition(i){const a=this._getDates(),u=this.get("startLocation",0),g=this.get("endLocation",1),y=a.length-u-(1-g),x=S.getSortedIndex(a,_=>he.qu(_,i));let b=x.index;if(x.found)return(b-u)/y;{b>0&&(b-=1);let _=a[b],P=0;return P=_>i&&i>this.getPrivate("min",0)?_-i:i-_,(b-u)/y+P/this.baseDuration()/y}}valueToIndex(i){const a=this._getDates(),u=S.getSortedIndex(a,y=>he.qu(y,i));let g=u.index;return u.found||g>0&&(g-=1),g}positionToValue(i){const a=this.get("startLocation",0),u=this.get("endLocation",1),g=this._getDates();let y=Math.round(g.length-a-(1-u)),x=i*y,b=Math.floor(x);return b<0&&(b=0),b>y-1&&(b=y-1),g[b]+(x-b+a)*this.baseDuration()}_fixZoomFactor(){this.setPrivateRaw("maxZoomFactor",this._getDates().length-this.get("startLocation",0)-(1-this.get("endLocation",1)))}zoomToDates(i,a,u){const g=this._getDates(),y=g.length;let x=S.getSortedIndex(g,P=>he.qu(P,i.getTime())),b=g[Math.min(x.index,y-1)];x=S.getSortedIndex(g,P=>he.qu(P,a.getTime()));let _=g[x.index];x.index>=y&&(_=g[y-1]+this.baseDuration()),this.zoomToValues(b,_,u)}zoomToValues(i,a,u){const g=this.getPrivate("min",0),y=this.getPrivate("max",0);i=Te.fitToRange(i,g,y),a=Te.fitToRange(a,g,y),this.zoom(this.valueToPosition(i),this.valueToPosition(a),u)}_prepareAxisItems(){let i=this.getPrivate("selectionMin",0),a=this.getPrivate("selectionMax",0);if(W.isNumber(i)&&W.isNumber(a)){this._seriesValuesDirty&&(this._seriesValuesDirty=!1,this._updateAllDates());const u=this._root,g=u.utc,y=u.timezone,x=this._getDates(),b=this.get("renderer"),_=x.length,P=this.baseDuration();let O=this.valueToIndex(i);O>0&&O--;let w=this.valueToIndex(a);w<_-1&&w++;let j=b.axisLength()/Math.max(b.get("minGridDistance"),1/Number.MAX_SAFE_INTEGER),K=Math.min(_,Math.ceil((w-O)/j));K=Math.max(1,K),O=Math.floor(O/K)*K,this._frequency=K,S.each(this.dataItems,qe=>{this._toggleDataItem(qe,!1)}),S.each(this.minorDataItems,qe=>{this._toggleDataItem(qe,!1)});let se=te.chooseInterval(0,a-i-((a-i)/P-(w-O))*P,j,this.get("gridIntervals"));const Q=this.getPrivate("baseInterval");let ee=te.getIntervalDuration(se);ee<P&&(se=Object.assign({},Q),ee=te.getIntervalDuration(se)),this._intervalDuration=ee;const fe=se.timeUnit,re=this.get("dateFormats");let ie=Date.now();x[0]&&(ie=x[0]);let _e=te.roun(this.getPrivate("selectionMin",0),fe,se.count,u,ie);const Se=b.get("minorLabelsEnabled"),Ye=b.get("minorGridEnabled",Se);let xe,ze,Ie=0;Ye&&(xe=this._getMinorInterval(se),Ie=te.getIntervalDuration(xe));let et=this._getIndexes(_e,this.getPrivate("selectionMax",_e)+ee,se,this.getPrivate("min",_e));if(et.length>0){let qe=0;this._m=0;let Ue=_e-10*ee;const Mt=te.getNextUnit(fe);if(xe){let Dt=x[et[0]];this._addMinorGrid(Dt-ee,Dt,Ie,xe)}let Tt=b.axisLength()/b.gridCount()*.5;S.each(et,Dt=>{var Ht;let ct;this.dataItems.length<qe+1?(ct=new ke.z(this,void 0,{}),this._dataItems.push(ct),this.processDataItem(ct)):ct=this.dataItems[qe];let Qe=x[Dt],ai=new Date(Qe),oi=Qe;qe<et.length-1?oi=x[et[qe+1]]:oi+=ee,ct.setRaw("value",Qe),ct.setRaw("endValue",oi),ct.setRaw("index",qe),ct.setRaw("labelEndValue",void 0);let Wt=re[fe];Mt&&this.get("markUnitChange")&&W.isNumber(Ue)&&"year"!=fe&&te.checkChange(Qe,Ue,Mt,g,y)&&(Wt=this.get("periodChangeDateFormats")[fe]),this._createAssets(ct,[]);const kt=ct.get("label");kt&&kt.set("text",u.dateFormatter.format(ai,Wt)),this._toggleDataItem(ct,!0);let Zt=se.count;if("week"==fe&&ct.setRaw("labelEndValue",Qe),Ye){let Et=se.timeUnit;if("week"==Et&&(Et="day"),Zt>1||"week"==se.timeUnit){let at=te.roun(Qe,Et,1,u)+te.getDuration(Et,this._getM(Et)),St=this.valueToIndex(at);if(at=x[St],at==Qe){let Gt=x[St+1];Gt?at=Gt:at+=Ie}ct.setRaw("labelEndValue",at)}Zt=1}if(this._prepareDataItem(ct,Zt),kt&&ze&&"X"==b.getPrivate("letter")){let Et=ze.get("label");if(Et&&kt.x()-Et.x()<Tt){let Gt=this._pickWorse(ze,ct,se);Gt&&(null===(Ht=Gt.get("label"))||void 0===Ht||Ht.setPrivate("visible",!1))}}xe&&this._addMinorGrid(Qe,oi,Ie,xe),qe++,kt&&kt.getPrivate("visible")&&(ze=ct),Ue=Qe})}S.each(this.series,qe=>{qe.inited&&qe._markDirtyAxes()})}this._updateGhost()}_pickWorse(i,a,u){const g=u.timeUnit,y=i.get("value",0),x=a.get("value",0);return"hour"==g&&new Date(y).getDate()!=new Date(x).getDate()?i:a}_addMinorGrid(i,a,u,g){const y=this.get("minorDateFormats",this.get("dateFormats")),x=g.timeUnit;let b=i+te.getDuration(x,this._getM(x));b=te.roun(b,x,1,this._root);let P=this._getIndexes(b,a-.5*u,g,b);const O=this._getDates();S.each(P,w=>{let j;this.minorDataItems.length<this._m+1?(j=new ke.z(this,void 0,{}),this.minorDataItems.push(j),this.processDataItem(j)):j=this.minorDataItems[this._m],b=O[w],j.setRaw("value",b),j.setRaw("endValue",b+u),j.setRaw("index",w),this._createAssets(j,["minor"],!0);const K=j.get("label");if(K)if(this.get("renderer").get("minorLabelsEnabled")){let q=new Date(b);K.set("text",this._root.dateFormatter.format(q,y[x]))}else K.setPrivate("visible",!1);this._toggleDataItem(j,!0),this._prepareDataItem(j,1),this._m++})}_getIndexes(i,a,u,g){const y=[],x=u.timeUnit,b=u.count,_=this._getM(x),P=this.getPrivate("baseInterval"),O=this._root,w=this._getDates();let j=b-1,K=-1/0,q=te.getDuration(x,_),se=te.getDuration(x,b*_),Q=i;for("day"==x&&(i=g);i<=a;){i=te.roun(i,x,b,O);let ee=this.valueToIndex(i),fe=w[ee];if("day"==x&&"day"==P.timeUnit)this._hasDate(i)&&j++,j==b&&(i>=Q-2*se&&S.move(y,ee),j=0),i=te.roun(i+=q,x,1,O);else{if(fe<i)for(let re=ee,ie=w.length;re<ie;re++)if(fe=w[re],fe>=i){ee=re;break}S.move(y,ee),i=te.roun(i+=se,x,b,O)}if(i==K&&(i=te.roun(i+=se+q,x,b,O)),i==K)break;K=i}return y}_hasDate(i){return S.getSortedIndex(this._getDates(),u=>he.HO(u,i)).found}}Object.defineProperty(nr,"className",{enumerable:!0,configurable:!0,writable:!0,value:"GaplessDateAxis"}),Object.defineProperty(nr,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:di.classNames.concat([nr.className])});class Rt extends gt{constructor(){super(...arguments),Object.defineProperty(this,"_dataGrouped",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_groupingCalculated",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_intervalDuration",{enumerable:!0,configurable:!0,writable:!0,value:1})}_afterNew(){this._settings.themeTags=Me.mergeTags(this._settings.themeTags,["axis"]),super._afterNew()}_adjustMinMax(i,a,u,g){let y;const x=this.getDurationFormatter(),b=this.get("baseUnit");if(this.setRaw("maxPrecision",0),"millisecond"==b||"second"==b||"minute"==b||"hour"==b){u<=1&&(u=1),u=Math.round(u);let _=a-i;0===_&&(_=Math.abs(a));let P=_/u,O=[60,30,20,15,10,2,1],w=1;"hour"==b&&(O=[24,12,6,4,2,1]);for(let ee of O)if(_/ee>u){w=ee;break}let j=Math.ceil((a-i)/w/u),K=Math.log(Math.abs(j))*Math.LOG10E,q=Math.pow(10,Math.floor(K))/10;j=Te.closest(O,j/q)*q,P=w*j,y={min:i=Math.floor(i/P)*P,max:a=Math.ceil(a/P)*P,step:P}}else y=super._adjustMinMax(i,a,u,g);return this.setPrivateRaw("durationFormat",x.getFormat(y.step,y.max,b)),y}_formatText(i){return this.getDurationFormatter().format(i,this.getPrivate("durationFormat"),this.get("baseUnit"))}getTooltipText(i,a){const u=this.getDurationFormatter(),g=this.get("extraTooltipPrecision",0),y=this.getPrivate("stepDecimalPlaces",0)+g,x=Te.round(this.positionToValue(i),y);return u.format(x,this.getPrivate("durationFormat"),this.get("baseUnit"))}}Object.defineProperty(Rt,"className",{enumerable:!0,configurable:!0,writable:!0,value:"DurationAxis"}),Object.defineProperty(Rt,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:gt.classNames.concat([Rt.className])});var pt=z(4889);class ut extends pt.JH{constructor(){super(...arguments),Object.defineProperty(this,"axis",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_beforeChanged(){super._beforeChanged();const i=this.get("sprite");if(this.isDirty("sprite")&&i&&(i.setAll({position:"absolute",role:"figure"}),this._disposers.push(i)),this.isDirty("location")){const a=i.dataItem;this.axis&&i&&a&&this.axis._prepareDataItem(a)}}dispose(){const i=this.axis;i&&ae.each(i._bullets,(a,u)=>{u.uid==this.uid&&delete i._bullets[a]}),super.dispose()}}Object.defineProperty(ut,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AxisBullet"}),Object.defineProperty(ut,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:pt.JH.classNames.concat([ut.className])});var Ze=z(7730),mt=z(9005);class Fi extends mt.x{constructor(){super(...arguments),Object.defineProperty(this,"_tickPoints",{enumerable:!0,configurable:!0,writable:!0,value:[]})}}Object.defineProperty(Fi,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AxisLabelRadial"}),Object.defineProperty(Fi,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:mt.x.classNames.concat([Fi.className])});var Di=z(7380),ar=z(1005),ni=z(1934),or=z(7500),Xi=z(7741),Gi=z(867);class ti extends Gi.c{_beforeChanged(){super._beforeChanged(),(this.isDirty("lowX0")||this.isDirty("lowY0")||this.isDirty("lowX1")||this.isDirty("lowY1")||this.isDirty("highX0")||this.isDirty("highX1")||this.isDirty("highY0")||this.isDirty("highY1"))&&(this._clear=!0)}_draw(){super._draw();const i=this._display;i.moveTo(this.get("lowX0",0),this.get("lowY0",0)),i.lineTo(this.get("lowX1",0),this.get("lowY1",0)),i.moveTo(this.get("highX0",0),this.get("highY0",0)),i.lineTo(this.get("highX1",0),this.get("highY1",0))}}Object.defineProperty(ti,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Candlestick"}),Object.defineProperty(ti,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Gi.c.classNames.concat([ti.className])});var _i=z(5049),Xt=z(1371);class It extends _i.d{constructor(){super(...arguments),Object.defineProperty(this,"columns",{enumerable:!0,configurable:!0,writable:!0,value:new N.o(Xt.YS.new({themeTags:["autocolor"]}),()=>ti._new(this._root,{themeTags:Me.mergeTags(this.columns.template.get("themeTags",[]),["candlestick","series","column"])},[this.columns.template]))})}makeColumn(i,a){const u=this.mainContainer.children.push(a.make());return u._setDataItem(i),a.push(u),u}_updateGraphics(i,a){super._updateGraphics(i,a);const u=this.getRaw("xAxis"),g=this.getRaw("yAxis"),y=this.getRaw("baseAxis");let _,P,O,w,j,K,q,se,ie,x=this.get("vcy",1),b=this.get("vcx",1),Q=this.get("locationX",i.get("locationX",.5)),ee=this.get("locationY",i.get("locationY",.5)),fe=this.get("openLocationX",i.get("openLocationX",Q)),re=this.get("openLocationY",i.get("openLocationY",ee));if(g===y){let _e=u.getDataItemPositionX(i,this._xOpenField,1,b),Se=u.getDataItemPositionX(i,this._xField,1,b);P=u.getDataItemPositionX(i,this._xLowField,1,b),K=u.getDataItemPositionX(i,this._xHighField,1,b),j=Math.max(_e,Se),_=Math.min(_e,Se);let Ye=this._aLocationY0+re-.5;O=g.getDataItemPositionY(i,this._yField,Ye+(this._aLocationY1+ee-.5-Ye)/2,x),w=O,q=O,se=O,ie="horizontal"}else{let _e=g.getDataItemPositionY(i,this._yOpenField,1,x),Se=g.getDataItemPositionY(i,this._yField,1,x);w=g.getDataItemPositionY(i,this._yLowField,1,x),se=g.getDataItemPositionY(i,this._yHighField,1,x),q=Math.max(_e,Se),O=Math.min(_e,Se);let Ye=this._aLocationX0+fe-.5;_=u.getDataItemPositionX(i,this._xField,Ye+(this._aLocationX1+Q-.5-Ye)/2,b),P=_,j=_,K=_,ie="vertical"}this._updateCandleGraphics(i,_,P,O,w,j,K,q,se,ie)}_updateCandleGraphics(i,a,u,g,y,x,b,_,P,O){let w=i.get("graphics");if(w){let j=this.getPoint(a,g),K=this.getPoint(u,y),q=this.getPoint(x,_),se=this.getPoint(b,P),Q=w.x(),ee=w.y();w.set("lowX0",j.x-Q),w.set("lowY0",j.y-ee),w.set("lowX1",K.x-Q),w.set("lowY1",K.y-ee),w.set("highX0",q.x-Q),w.set("highY0",q.y-ee),w.set("highX1",se.x-Q),w.set("highY1",se.y-ee),w.set("orientation",O);let fe=i.get("rangeGraphics");fe&&S.each(fe,re=>{re.set("lowX0",j.x-Q),re.set("lowY0",j.y-ee),re.set("lowX1",K.x-Q),re.set("lowY1",K.y-ee),re.set("highX0",q.x-Q),re.set("highY0",q.y-ee),re.set("highX1",se.x-Q),re.set("highY1",se.y-ee),re.set("orientation",O)})}}_processAxisRange(i){super._processAxisRange(i),i.columns=new N.o(Xt.YS.new({}),()=>ti._new(this._root,{themeTags:Me.mergeTags(i.columns.template.get("themeTags",[]),["candlestick","series","column"])},[this.columns.template,i.columns.template]))}}Object.defineProperty(It,"className",{enumerable:!0,configurable:!0,writable:!0,value:"CandlestickSeries"}),Object.defineProperty(It,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:_i.d.classNames.concat([It.className])});class Ai extends ti{_draw(){const i=this._display;i.moveTo(this.get("lowX1",0),this.get("lowY1",0)),i.lineTo(this.get("highX1",0),this.get("highY1",0));let a=this.width(),u=this.height();if("vertical"==this.get("orientation")){let g=u,y=0;i.moveTo(0,g),i.lineTo(a/2,g),i.moveTo(a/2,y),i.lineTo(a,y)}else{let g=0,y=a;i.moveTo(g,0),i.lineTo(g,u/2),i.moveTo(y,u/2),i.lineTo(y,u)}}}Object.defineProperty(Ai,"className",{enumerable:!0,configurable:!0,writable:!0,value:"OHLC"}),Object.defineProperty(Ai,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ti.classNames.concat([Ai.className])});class Ui extends It{constructor(){super(...arguments),Object.defineProperty(this,"columns",{enumerable:!0,configurable:!0,writable:!0,value:new N.o(Xt.YS.new({themeTags:["autocolor"]}),()=>Ai._new(this._root,{themeTags:Me.mergeTags(this.columns.template.get("themeTags",[]),["ohlc","series","column"])},[this.columns.template]))})}makeColumn(i,a){const u=this.mainContainer.children.push(a.make());return u._setDataItem(i),a.push(u),u}_processAxisRange(i){super._processAxisRange(i),i.columns=new N.o(Xt.YS.new({}),()=>Ai._new(this._root,{themeTags:Me.mergeTags(i.columns.template.get("themeTags",[]),["ohlc","series","column"])},[this.columns.template,i.columns.template]))}}function Mi(Z){return"object"==typeof Z&&"length"in Z?Z:Array.from(Z)}Object.defineProperty(Ui,"className",{enumerable:!0,configurable:!0,writable:!0,value:"OHLCSeries"}),Object.defineProperty(Ui,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:It.classNames.concat([Ui.className])});var jt=z(6979);function gr(Z){this._context=Z}function ki(Z){return new gr(Z)}gr.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(Z,i){switch(Z=+Z,i=+i,this._point){case 0:this._point=1,this._line?this._context.lineTo(Z,i):this._context.moveTo(Z,i);break;case 1:this._point=2;default:this._context.lineTo(Z,i)}}};var Ti=z(5831);function pr(Z){return Z[0]}function Ei(Z){return Z[1]}function Si(Z,i){var a=(0,jt.Z)(!0),u=null,g=ki,y=null,x=(0,Ti.d)(b);function b(_){var P,w,K,O=(_=Mi(_)).length,j=!1;for(null==u&&(y=g(K=x())),P=0;P<=O;++P)!(P<O&&a(w=_[P],P,_))===j&&((j=!j)?y.lineStart():y.lineEnd()),j&&y.point(+Z(w,P,_),+i(w,P,_));if(K)return y=null,K+""||null}return Z="function"==typeof Z?Z:void 0===Z?pr:(0,jt.Z)(Z),i="function"==typeof i?i:void 0===i?Ei:(0,jt.Z)(i),b.x=function(_){return arguments.length?(Z="function"==typeof _?_:(0,jt.Z)(+_),b):Z},b.y=function(_){return arguments.length?(i="function"==typeof _?_:(0,jt.Z)(+_),b):i},b.defined=function(_){return arguments.length?(a="function"==typeof _?_:(0,jt.Z)(!!_),b):a},b.curve=function(_){return arguments.length?(g=_,null!=u&&(y=g(u)),b):g},b.context=function(_){return arguments.length?(null==_?u=y=null:y=g(u=_),b):u},b}function bt(Z,i,a){var u=null,g=(0,jt.Z)(!0),y=null,x=ki,b=null,_=(0,Ti.d)(P);function P(w){var j,K,q,Q,fe,se=(w=Mi(w)).length,ee=!1,re=new Array(se),ie=new Array(se);for(null==y&&(b=x(fe=_())),j=0;j<=se;++j){if(!(j<se&&g(Q=w[j],j,w))===ee)if(ee=!ee)K=j,b.areaStart(),b.lineStart();else{for(b.lineEnd(),b.lineStart(),q=j-1;q>=K;--q)b.point(re[q],ie[q]);b.lineEnd(),b.areaEnd()}ee&&(re[j]=+Z(Q,j,w),ie[j]=+i(Q,j,w),b.point(u?+u(Q,j,w):re[j],a?+a(Q,j,w):ie[j]))}if(fe)return b=null,fe+""||null}function O(){return Si().defined(g).curve(x).context(y)}return Z="function"==typeof Z?Z:void 0===Z?pr:(0,jt.Z)(+Z),i="function"==typeof i?i:(0,jt.Z)(void 0===i?0:+i),a="function"==typeof a?a:void 0===a?Ei:(0,jt.Z)(+a),P.x=function(w){return arguments.length?(Z="function"==typeof w?w:(0,jt.Z)(+w),u=null,P):Z},P.x0=function(w){return arguments.length?(Z="function"==typeof w?w:(0,jt.Z)(+w),P):Z},P.x1=function(w){return arguments.length?(u=null==w?null:"function"==typeof w?w:(0,jt.Z)(+w),P):u},P.y=function(w){return arguments.length?(i="function"==typeof w?w:(0,jt.Z)(+w),a=null,P):i},P.y0=function(w){return arguments.length?(i="function"==typeof w?w:(0,jt.Z)(+w),P):i},P.y1=function(w){return arguments.length?(a=null==w?null:"function"==typeof w?w:(0,jt.Z)(+w),P):a},P.lineX0=P.lineY0=function(){return O().x(Z).y(i)},P.lineY1=function(){return O().x(Z).y(a)},P.lineX1=function(){return O().x(u).y(i)},P.defined=function(w){return arguments.length?(g="function"==typeof w?w:(0,jt.Z)(!!w),P):g},P.curve=function(w){return arguments.length?(x=w,null!=y&&(b=x(y)),P):x},P.context=function(w){return arguments.length?(null==w?y=b=null:b=x(y=w),P):y},P}class nt extends Xi.o{constructor(){super(...arguments),Object.defineProperty(this,"_endIndex",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_strokeGenerator",{enumerable:!0,configurable:!0,writable:!0,value:Si()}),Object.defineProperty(this,"_fillGenerator",{enumerable:!0,configurable:!0,writable:!0,value:bt()}),Object.defineProperty(this,"_legendStroke",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_legendFill",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"strokes",{enumerable:!0,configurable:!0,writable:!0,value:new N.o(Xt.YS.new({}),()=>Oe.T._new(this._root,{themeTags:Me.mergeTags(this.strokes.template.get("themeTags",[]),["line","series","stroke"])},[this.strokes.template]))}),Object.defineProperty(this,"fills",{enumerable:!0,configurable:!0,writable:!0,value:new N.o(Xt.YS.new({}),()=>Oe.T._new(this._root,{themeTags:Me.mergeTags(this.strokes.template.get("themeTags",[]),["line","series","fill"])},[this.fills.template]))}),Object.defineProperty(this,"_fillTemplate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_strokeTemplate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_previousPoint",{enumerable:!0,configurable:!0,writable:!0,value:[0,0,0,0]}),Object.defineProperty(this,"_dindex",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_sindex",{enumerable:!0,configurable:!0,writable:!0,value:0})}_afterNew(){this._fillGenerator.y0(function(i){return i[3]}),this._fillGenerator.x0(function(i){return i[2]}),this._fillGenerator.y1(function(i){return i[1]}),this._fillGenerator.x1(function(i){return i[0]}),super._afterNew()}makeStroke(i){const a=this.mainContainer.children.push(i.make());return i.push(a),a}makeFill(i){const a=this.mainContainer.children.push(i.make());return i.push(a),a}_updateChildren(){this._strokeTemplate=void 0,this._fillTemplate=void 0;let i=this.get("xAxis"),a=this.get("yAxis");if(this.isDirty("stroke")){const u=this.get("stroke");this.strokes.template.set("stroke",u);const g=this._legendStroke;g&&g.states.lookup("default").set("stroke",u)}if(this.isDirty("fill")){const u=this.get("fill");this.fills.template.set("fill",u);const g=this._legendFill;g&&g.states.lookup("default").set("fill",u)}if(this.isDirty("curveFactory")){const u=this.get("curveFactory");u&&(this._strokeGenerator.curve(u),this._fillGenerator.curve(u))}if(i.inited&&a.inited){if(this._axesDirty||this._valuesDirty||this._stackDirty||this.isDirty("vcx")||this.isDirty("vcy")||this._sizeDirty||this.isDirty("connect")||this.isDirty("curveFactory")){this.fills.each(O=>{O.setPrivate("visible",!1)}),this.strokes.each(O=>{O.setPrivate("visible",!1)}),this.axisRanges.each(O=>{let w=O.fills;w&&w.each(K=>{K.setPrivate("visible",!1)});let j=O.strokes;j&&j.each(K=>{K.setPrivate("visible",!1)})});let u=this.startIndex(),g=this.strokes.template.get("templateField"),y=this.fills.template.get("templateField"),x=!0,b=!0;g&&(x=!1),y&&(b=!1);for(let O=u-1;O>=0;O--){let w=this.dataItems[O],j=!0,K=w.dataContext;if(g&&K[g]&&(x=!0),y&&K[y]&&(b=!0),S.each(this._valueFields,q=>{W.isNumber(w.get(q))||(j=!1)}),j&&x&&b){u=O;break}}let _=this.dataItems.length,P=this.endIndex();if(P<_){P++;for(let O=P;O<_;O++){let w=this.dataItems[O],j=!0;if(S.each(this._valueFields,K=>{W.isNumber(w.get(K))||(j=!1)}),j){P=O+1;break}}}if(u>0&&u--,this._endIndex=P,this._clearGraphics(),this._sindex=0,this._dindex=u,1==this.dataItems.length)this._startSegment(0);else for(;this._dindex<P-1;)this._startSegment(this._dindex),this._sindex++}}else this._skipped=!0;super._updateChildren()}_clearGraphics(){this.strokes.clear(),this.fills.clear()}_startSegment(i){let a=this._endIndex,u=a;const g=this.get("autoGapCount"),y=this.get("connect"),x=this.makeFill(this.fills),b=this._fillTemplate;b&&b!=this.fills.template&&(x.template=b),x.setPrivate("visible",!0);const P=this.makeStroke(this.strokes),O=this._strokeTemplate;O&&O!=this.strokes.template&&(P.template=O),P.setPrivate("visible",!0);let w=this.get("xAxis"),j=this.get("yAxis"),K=this.get("baseAxis"),q=this.get("vcx",1),se=this.get("vcy",1),Q=this._xField,ee=this._yField,fe=this._xOpenField,re=this._yOpenField;const ie=this.get("openValueXField"),_e=this.get("openValueYField");ie||(fe=this._xField),_e||(re=this._yField);const Se=this.get("stacked"),Ye=w.basePosition(),xe=j.basePosition();let Ie;Ie=K===j?this._yField:this._xField;const ze=[];let et=[];ze.push(et);const qe=this.strokes.template.get("templateField"),Ue=this.fills.template.get("templateField");let Mt=this.get("locationX",.5),Tt=this.get("locationY",.5),Dt=this.get("openLocationX",Mt),Ht=this.get("openLocationY",Tt);const ct=this.get("minDistance",0);let Qe,ai=this.fills.template.get("visible");this.axisRanges.length>0&&(ai=!0);let oi=!1;(Se||ie||_e)&&(oi=!0);const Wt={points:et,segments:ze,stacked:Se,getOpen:oi,basePosX:Ye,basePosY:xe,fillVisible:ai,xField:Q,yField:ee,xOpenField:fe,yOpenField:re,vcx:q,vcy:se,baseAxis:K,xAxis:w,yAxis:j,locationX:Mt,locationY:Tt,openLocationX:Dt,openLocationY:Ht,minDistance:ct};for(Qe=i;Qe<u;Qe++){this._dindex=Qe;const kt=this._dataItems[Qe];let Zt=kt.get(Q),Et=kt.get(ee);if(null==Zt||null==Et?y||(et=[],ze.push(et),Wt.points=et):this._getPoints(kt,Wt),qe){let at=kt.dataContext[qe];if(at){if(at instanceof Xt.YS||(at=Xt.YS.new(at)),this._strokeTemplate=at,Qe>i){u=Qe;break}P.template=at}}if(Ue){let at=kt.dataContext[Ue];if(at){if(at instanceof Xt.YS||(at=Xt.YS.new(at)),this._fillTemplate=at,Qe>i){u=Qe;break}x.template=at}}if(!y){let at=this.dataItems[Qe+1];at&&K.shouldGap(kt,at,g,Ie)&&(et=[],ze.push(et),Wt.points=et)}}x.setRaw("userData",[i,Qe]),P.setRaw("userData",[i,Qe]),Qe===a&&this._endLine(et,ze[0][0]),P&&this._drawStroke(P,ze),x&&this._drawFill(x,ze),this.axisRanges.each(kt=>{const Zt=kt.container,at=this.makeFill(kt.fills);Zt&&Zt.children.push(at),at.setPrivate("visible",!0),this._drawFill(at,ze);const Gt=this.makeStroke(kt.strokes);Zt&&Zt.children.push(Gt),Gt.setPrivate("visible",!0),this._drawStroke(Gt,ze),at.setRaw("userData",[i,Qe]),Gt.setRaw("userData",[i,Qe])})}_getPoints(i,a){let u=a.points,g=i.get("locationX",a.locationX),y=i.get("locationY",a.locationY),x=a.xAxis.getDataItemPositionX(i,a.xField,g,a.vcx),b=a.yAxis.getDataItemPositionY(i,a.yField,y,a.vcy);if(this._shouldInclude(x)){const _=this.getPoint(x,b),P=[_.x,_.y];if(_.x+=this._x,_.y+=this._y,i.set("point",_),a.fillVisible){let O=x,w=b;if(a.baseAxis===a.xAxis?w=a.basePosY:a.baseAxis===a.yAxis&&(O=a.basePosX),a.getOpen){let K=i.get(a.xOpenField),q=i.get(a.yOpenField);if(null!=K&&null!=q){let se=i.get("openLocationX",a.openLocationX),Q=i.get("openLocationY",a.openLocationY);if(a.stacked){let ee=i.get("stackToItemX"),fe=i.get("stackToItemY");ee?(O=a.xAxis.getDataItemPositionX(ee,a.xField,se,ee.component.get("vcx")),W.isNaN(O)&&(O=a.basePosX)):O=a.yAxis===a.baseAxis?a.basePosX:a.xAxis.getDataItemPositionX(i,a.xOpenField,se,a.vcx),fe?(w=a.yAxis.getDataItemPositionY(fe,a.yField,Q,fe.component.get("vcy")),W.isNaN(w)&&(w=a.basePosY)):w=a.xAxis===a.baseAxis?a.basePosY:a.yAxis.getDataItemPositionY(i,a.yOpenField,Q,a.vcy)}else O=a.xAxis.getDataItemPositionX(i,a.xOpenField,se,a.vcx),w=a.yAxis.getDataItemPositionY(i,a.yOpenField,Q,a.vcy)}}let j=this.getPoint(O,w);P[2]=j.x,P[3]=j.y}if(a.minDistance>0){const j=P[2],K=P[3],q=this._previousPoint,ee=q[2],fe=q[3];(Math.hypot(P[0]-q[0],P[1]-q[1])>a.minDistance||j&&K&&Math.hypot(j-ee,K-fe)>a.minDistance)&&(u.push(P),this._previousPoint=P)}else u.push(P)}}_endLine(i,a){}_drawStroke(i,a){i.get("visible")&&!i.get("forceHidden")&&i.set("draw",u=>{S.each(a,g=>{this._strokeGenerator.context(u),this._strokeGenerator(g)})})}_drawFill(i,a){i.get("visible")&&!i.get("forceHidden")&&i.set("draw",u=>{S.each(a,g=>{this._fillGenerator.context(u),this._fillGenerator(g)})})}_processAxisRange(i){super._processAxisRange(i),i.fills=new N.o(Xt.YS.new({}),()=>Oe.T._new(this._root,{themeTags:Me.mergeTags(i.fills.template.get("themeTags",[]),["line","series","fill"])},[this.fills.template,i.fills.template])),i.strokes=new N.o(Xt.YS.new({}),()=>Oe.T._new(this._root,{themeTags:Me.mergeTags(i.strokes.template.get("themeTags",[]),["line","series","stroke"])},[this.strokes.template,i.strokes.template]))}createLegendMarker(i){const a=this.get("legendDataItem");if(a){const u=a.get("marker"),g=a.get("markerRectangle");g&&g.setPrivate("visible",!1),u.set("background",ce.A.new(u._root,{fillOpacity:0,fill:(0,ve.$_)(0)}));const y=u.children.push(Oe.T._new(u._root,{themeTags:["line","series","legend","marker","stroke"],interactive:!1},[this.strokes.template]));this._legendStroke=y;const x=u.children.push(Oe.T._new(u._root,{themeTags:["line","series","legend","marker","fill"]},[this.fills.template]));this._legendFill=x;const b=this._root.interfaceColors.get("disabled");if(y.states.create("disabled",{fill:b,stroke:b}),x.states.create("disabled",{fill:b,stroke:b}),this.bullets.length>0){const _=this.bullets.getIndex(0);if(_){const P=_(u._root,this,new ke.z(this,{legend:!0},{}));if(P){const O=P.get("sprite");O instanceof Oe.T&&O.states.create("disabled",{fill:b,stroke:b}),O&&(O.set("tooltipText",void 0),O.set("tooltipHTML",void 0),u.children.push(O),O.setAll({x:u.width()/2,y:u.height()/2}),u.events.on("boundschanged",()=>{O.setAll({x:u.width()/2,y:u.height()/2})}))}}}}}}Object.defineProperty(nt,"className",{enumerable:!0,configurable:!0,writable:!0,value:"LineSeries"}),Object.defineProperty(nt,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Xi.o.classNames.concat([nt.className])});class Mr{constructor(i,a){Object.defineProperty(this,"_line",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_point",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_context",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_x0",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_x1",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_y0",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_y1",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_t0",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_tension",{enumerable:!0,configurable:!0,writable:!0,value:0}),this._context=i,this._tension=a}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0}lineEnd(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Vi(this,this._t0,lr(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(i,a){[i,a]=[a,i];let u=NaN;if(a=+a,(i=+i)!==this._x1||a!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(a,i):this._context.moveTo(a,i);break;case 1:this._point=2;break;case 2:this._point=3,Vi(this,lr(this,u=Hi(this,i,a)),u);break;default:Vi(this,this._t0,u=Hi(this,i,a))}this._x0=this._x1,this._x1=i,this._y0=this._y1,this._y1=a,this._t0=u}}}function Li(Z){function i(a){return new Mr(a,Z)}return i.tension=function(a){return Li(+a)},i}function Rr(Z){return Z<0?-1:1}function Hi(Z,i,a){let u=Z._x1-Z._x0,g=i-Z._x1,y=(Z._y1-Z._y0)/(u||g<0&&-0),x=(a-Z._y1)/(g||u<0&&-0),b=(y*g+x*u)/(u+g);return(Rr(y)+Rr(x))*Math.min(Math.abs(y),Math.abs(x),.5*Math.abs(b))||0}function lr(Z,i){let a=Z._x1-Z._x0;return a?(3*(Z._y1-Z._y0)/a-i)/2:i}function Vi(Z,i,a){let u=Z._x0,y=Z._x1,x=Z._y1,b=(y-u)/1.5*(1-Z._tension);Z._context.bezierCurveTo(Z._y0+b*i,u+b,x-b*a,y-b,x,y)}class Ri extends nt{_afterNew(){this._setDefault("curveFactory",Li(this.get("tension",.5))),super._afterNew()}_updateChildren(){this.isDirty("tension")&&(this.set("curveFactory",Li(this.get("tension",.5))),this._valuesDirty=!0),super._updateChildren()}}Object.defineProperty(Ri,"className",{enumerable:!0,configurable:!0,writable:!0,value:"SmoothedYLineSeries"}),Object.defineProperty(Ri,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:nt.classNames.concat([Ri.className])});class mr{constructor(i,a){Object.defineProperty(this,"_line",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_point",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_context",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_x0",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_x1",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_y0",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_y1",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_t0",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_tension",{enumerable:!0,configurable:!0,writable:!0,value:0}),this._context=i,this._tension=a}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0}lineEnd(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:vr(this,this._t0,_r(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(i,a){let u=NaN;if(a=+a,(i=+i)!==this._x1||a!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(i,a):this._context.moveTo(i,a);break;case 1:this._point=2;break;case 2:this._point=3,vr(this,_r(this,u=yr(this,i,a)),u);break;default:vr(this,this._t0,u=yr(this,i,a))}this._x0=this._x1,this._x1=i,this._y0=this._y1,this._y1=a,this._t0=u}}}function ur(Z){return function i(a){return new mr(a,Z)}}function br(Z){return Z<0?-1:1}function yr(Z,i,a){let u=Z._x1-Z._x0,g=i-Z._x1,y=(Z._y1-Z._y0)/(u||g<0&&-0),x=(a-Z._y1)/(g||u<0&&-0),b=(y*g+x*u)/(u+g);return(br(y)+br(x))*Math.min(Math.abs(y),Math.abs(x),.5*Math.abs(b))||0}function _r(Z,i){let a=Z._x1-Z._x0;return a?(3*(Z._y1-Z._y0)/a-i)/2:i}function vr(Z,i,a){let u=Z._x0,y=Z._x1,x=Z._y1,b=(y-u)/1.5*(1-Z._tension);Z._context.bezierCurveTo(u+b,Z._y0+b*i,y-b,x-b*a,y,x)}class Wi extends nt{_afterNew(){this._setDefault("curveFactory",ur(this.get("tension",.5))),super._afterNew()}_updateChildren(){this.isDirty("tension")&&(this.set("curveFactory",ur(this.get("tension",.5))),this._valuesDirty=!0),super._updateChildren()}}function Zi(Z,i,a){Z._context.bezierCurveTo(Z._x1+Z._k*(Z._x2-Z._x0),Z._y1+Z._k*(Z._y2-Z._y0),Z._x2+Z._k*(Z._x1-i),Z._y2+Z._k*(Z._y1-a),Z._x2,Z._y2)}function Qi(Z,i){this._context=Z,this._k=(1-i)/6}Object.defineProperty(Wi,"className",{enumerable:!0,configurable:!0,writable:!0,value:"SmoothedXLineSeries"}),Object.defineProperty(Wi,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:nt.classNames.concat([Wi.className])}),Qi.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Zi(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(Z,i){switch(Z=+Z,i=+i,this._point){case 0:this._point=1,this._line?this._context.lineTo(Z,i):this._context.moveTo(Z,i);break;case 1:this._point=2,this._x1=Z,this._y1=i;break;case 2:this._point=3;default:Zi(this,Z,i)}this._x0=this._x1,this._x1=this._x2,this._x2=Z,this._y0=this._y1,this._y1=this._y2,this._y2=i}};const xr=function Z(i){function a(u){return new Qi(u,i)}return a.tension=function(u){return Z(+u)},a}(0);class $i extends nt{_afterNew(){this._setDefault("curveFactory",xr.tension(this.get("tension",.5))),super._afterNew()}_updateChildren(){this.isDirty("tension")&&(this.set("curveFactory",xr.tension(this.get("tension",.5))),this._valuesDirty=!0),super._updateChildren()}}function Ci(Z,i){this._context=Z,this._t=i}function ji(Z){return new Ci(Z,1)}Object.defineProperty($i,"className",{enumerable:!0,configurable:!0,writable:!0,value:"SmoothedXYLineSeries"}),Object.defineProperty($i,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:nt.classNames.concat([$i.className])}),Ci.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(Z,i){switch(Z=+Z,i=+i,this._point){case 0:this._point=1,this._line?this._context.lineTo(Z,i):this._context.moveTo(Z,i);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,i),this._context.lineTo(Z,i);else{var a=this._x*(1-this._t)+Z*this._t;this._context.lineTo(a,this._y),this._context.lineTo(a,i)}}this._x=Z,this._y=i}};class Ni extends nt{_afterNew(){this._setDefault("curveFactory",ji),super._afterNew()}_getPoints(i,a){let u=a.points,g=this.get("stepWidth",U.AQ).value/2,y=i.get("locationX",a.locationX),x=i.get("locationY",a.locationY),b=y,_=x;a.baseAxis===a.xAxis?(y-=g,b+=g):a.baseAxis===a.yAxis&&(x-=g,_+=g);let P=a.xAxis.getDataItemPositionX(i,a.xField,y,a.vcx),O=a.yAxis.getDataItemPositionY(i,a.yField,x,a.vcy),w=a.xAxis.getDataItemPositionX(i,a.xField,b,a.vcx),j=a.yAxis.getDataItemPositionY(i,a.yField,_,a.vcy);if(this._shouldInclude(P)){const K=this.getPoint(P,O),q=[K.x,K.y],se=this.getPoint(w,j),Q=[se.x,se.y];if(a.fillVisible){let ee=P,fe=O,re=w,ie=j;if(a.baseAxis===a.xAxis?(fe=a.basePosY,ie=a.basePosY):a.baseAxis===a.yAxis&&(ee=a.basePosX,re=a.basePosX),a.getOpen){let Ye=i.get(a.xOpenField),xe=i.get(a.yOpenField);if(null!=Ye&&null!=xe)if(y=i.get("openLocationX",a.openLocationX),x=i.get("openLocationY",a.openLocationY),b=y,_=x,a.baseAxis===a.xAxis?(y-=g,b+=g):a.baseAxis===a.yAxis&&(x-=g,_+=g),a.stacked){let Ie=i.get("stackToItemX"),ze=i.get("stackToItemY");Ie?(ee=a.xAxis.getDataItemPositionX(Ie,a.xField,y,Ie.component.get("vcx")),re=a.xAxis.getDataItemPositionX(Ie,a.xField,b,Ie.component.get("vcx"))):a.yAxis===a.baseAxis?(ee=a.basePosX,re=a.basePosX):a.baseAxis===a.yAxis&&(ee=a.xAxis.getDataItemPositionX(i,a.xOpenField,y,a.vcx),re=a.xAxis.getDataItemPositionX(i,a.xOpenField,b,a.vcx)),ze?(fe=a.yAxis.getDataItemPositionY(ze,a.yField,x,ze.component.get("vcy")),ie=a.yAxis.getDataItemPositionY(ze,a.yField,_,ze.component.get("vcy"))):a.xAxis===a.baseAxis?(fe=a.basePosY,ie=a.basePosY):a.baseAxis===a.yAxis&&(fe=a.yAxis.getDataItemPositionY(i,a.yOpenField,x,a.vcy),ie=a.yAxis.getDataItemPositionY(i,a.yOpenField,_,a.vcy))}else ee=a.xAxis.getDataItemPositionX(i,a.xOpenField,y,a.vcx),fe=a.yAxis.getDataItemPositionY(i,a.yOpenField,x,a.vcy),re=a.xAxis.getDataItemPositionX(i,a.xOpenField,b,a.vcx),ie=a.yAxis.getDataItemPositionY(i,a.yOpenField,_,a.vcy)}let _e=this.getPoint(ee,fe),Se=this.getPoint(re,ie);q[2]=_e.x,q[3]=_e.y,Q[2]=Se.x,Q[3]=Se.y}u.push(q),u.push(Q),i.set("point",{x:q[0]+(Q[0]-q[0])/2,y:q[1]+(Q[1]-q[1])/2})}this.get("noRisers")&&(a.points=[],a.segments.push(u))}}Object.defineProperty(Ni,"className",{enumerable:!0,configurable:!0,writable:!0,value:"StepLineSeries"}),Object.defineProperty(Ni,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:nt.classNames.concat([Ni.className])})},1783:(Yt,We,z)=>{var Ne=z(7935);function U(ae,S,I){S=S||1;for(var $,ce,k,N,ve=0;ve<ae[0].length;ve++){var De=ae[0][ve];(!ve||De[0]<$)&&($=De[0]),(!ve||De[1]<ce)&&(ce=De[1]),(!ve||De[0]>k)&&(k=De[0]),(!ve||De[1]>N)&&(N=De[1])}var Oe=k-$,he=N-ce,Me=Math.min(Oe,he),Ge=Me/2;if(0===Me){var Ke=[$,ce];return Ke.distance=0,Ke}for(var Ce=new Ne(void 0,ue),ft=$;ft<k;ft+=Me)for(var zt=ce;zt<N;zt+=Me)Ce.push(new ye(ft+Ge,zt+Ge,Ge,ae));var Ut=function W(ae){for(var S=0,I=0,$=0,ce=ae[0],k=0,N=ce.length,ve=N-1;k<N;ve=k++){var De=ce[k],Oe=ce[ve],he=De[0]*Oe[1]-Oe[0]*De[1];I+=(De[0]+Oe[0])*he,$+=(De[1]+Oe[1])*he,S+=3*he}return 0===S?new ye(ce[0][0],ce[0][1],0,ae):new ye(I/S,$/S,0,ae)}(ae),Le=new ye($+Oe/2,ce+he/2,0,ae);Le.d>Ut.d&&(Ut=Le);for(var si=Ce.length;Ce.length;){var Je=Ce.pop();Je.d>Ut.d&&(Ut=Je,I&&console.log("found best %d after %d probes",Math.round(1e4*Je.d)/1e4,si)),!(Je.max-Ut.d<=S)&&(Ce.push(new ye(Je.x-(Ge=Je.h/2),Je.y-Ge,Ge,ae)),Ce.push(new ye(Je.x+Ge,Je.y-Ge,Ge,ae)),Ce.push(new ye(Je.x-Ge,Je.y+Ge,Ge,ae)),Ce.push(new ye(Je.x+Ge,Je.y+Ge,Ge,ae)),si+=4)}I&&(console.log("num probes: "+si),console.log("best distance: "+Ut.d));var ke=[Ut.x,Ut.y];return ke.distance=Ut.d,ke}function ue(ae,S){return S.max-ae.max}function ye(ae,S,I,$){this.x=ae,this.y=S,this.h=I,this.d=function te(ae,S,I){for(var $=!1,ce=1/0,k=0;k<I.length;k++)for(var N=I[k],ve=0,De=N.length,Oe=De-1;ve<De;Oe=ve++){var he=N[ve],Me=N[Oe];he[1]>S!=Me[1]>S&&ae<(Me[0]-he[0])*(S-he[1])/(Me[1]-he[1])+he[0]&&($=!$),ce=Math.min(ce,Te(ae,S,he,Me))}return 0===ce?0:($?1:-1)*Math.sqrt(ce)}(ae,S,$),this.max=this.d+this.h*Math.SQRT2}function Te(ae,S,I,$){var ce=I[0],k=I[1],N=$[0]-ce,ve=$[1]-k;if(0!==N||0!==ve){var De=((ae-ce)*N+(S-k)*ve)/(N*N+ve*ve);De>1?(ce=$[0],k=$[1]):De>0&&(ce+=N*De,k+=ve*De)}return(N=ae-ce)*N+(ve=S-k)*ve}Ne.default&&(Ne=Ne.default),Yt.exports=U,Yt.exports.default=U},7935:(Yt,We,z)=>{z.r(We),z.d(We,{default:()=>Ne});class Ne{constructor(ye=[],te=U){if(this.data=ye,this.length=this.data.length,this.compare=te,this.length>0)for(let W=(this.length>>1)-1;W>=0;W--)this._down(W)}push(ye){this.data.push(ye),this.length++,this._up(this.length-1)}pop(){if(0===this.length)return;const ye=this.data[0],te=this.data.pop();return this.length--,this.length>0&&(this.data[0]=te,this._down(0)),ye}peek(){return this.data[0]}_up(ye){const{data:te,compare:W}=this,Te=te[ye];for(;ye>0;){const ae=ye-1>>1,S=te[ae];if(W(Te,S)>=0)break;te[ye]=S,ye=ae}te[ye]=Te}_down(ye){const{data:te,compare:W}=this,Te=this.length>>1,ae=te[ye];for(;ye<Te;){let S=1+(ye<<1),I=te[S];const $=S+1;if($<this.length&&W(te[$],I)<0&&(S=$,I=te[$]),W(I,ae)>=0)break;te[ye]=I,ye=S}te[ye]=ae}}function U(ue,ye){return ue<ye?-1:ue>ye?1:0}},6979:(Yt,We,z)=>{function Ne(U){return function(){return U}}z.d(We,{Z:()=>Ne})},5831:(Yt,We,z)=>{z.d(We,{d:()=>I});const Ne=Math.PI,U=2*Ne,ue=1e-6,ye=U-ue;function te($){this._+=$[0];for(let ce=1,k=$.length;ce<k;++ce)this._+=arguments[ce]+$[ce]}class Te{constructor(ce){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==ce?te:function W($){let ce=Math.floor($);if(!(ce>=0))throw new Error(`invalid digits: ${$}`);if(ce>15)return te;const k=10**ce;return function(N){this._+=N[0];for(let ve=1,De=N.length;ve<De;++ve)this._+=Math.round(arguments[ve]*k)/k+N[ve]}}(ce)}moveTo(ce,k){this._append`M${this._x0=this._x1=+ce},${this._y0=this._y1=+k}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(ce,k){this._append`L${this._x1=+ce},${this._y1=+k}`}quadraticCurveTo(ce,k,N,ve){this._append`Q${+ce},${+k},${this._x1=+N},${this._y1=+ve}`}bezierCurveTo(ce,k,N,ve,De,Oe){this._append`C${+ce},${+k},${+N},${+ve},${this._x1=+De},${this._y1=+Oe}`}arcTo(ce,k,N,ve,De){if(ce=+ce,k=+k,N=+N,ve=+ve,(De=+De)<0)throw new Error(`negative radius: ${De}`);let Oe=this._x1,he=this._y1,Me=N-ce,Ge=ve-k,Ke=Oe-ce,Ce=he-k,ft=Ke*Ke+Ce*Ce;if(null===this._x1)this._append`M${this._x1=ce},${this._y1=k}`;else if(ft>ue)if(Math.abs(Ce*Me-Ge*Ke)>ue&&De){let zt=N-Oe,Ut=ve-he,Le=Me*Me+Ge*Ge,si=zt*zt+Ut*Ut,Je=Math.sqrt(Le),ke=Math.sqrt(ft),yi=De*Math.tan((Ne-Math.acos((Le+ft-si)/(2*Je*ke)))/2),gt=yi/ke,di=yi/Je;Math.abs(gt-1)>ue&&this._append`L${ce+gt*Ke},${k+gt*Ce}`,this._append`A${De},${De},0,0,${+(Ce*zt>Ke*Ut)},${this._x1=ce+di*Me},${this._y1=k+di*Ge}`}else this._append`L${this._x1=ce},${this._y1=k}`}arc(ce,k,N,ve,De,Oe){if(ce=+ce,k=+k,Oe=!!Oe,(N=+N)<0)throw new Error(`negative radius: ${N}`);let he=N*Math.cos(ve),Me=N*Math.sin(ve),Ge=ce+he,Ke=k+Me,Ce=1^Oe,ft=Oe?ve-De:De-ve;null===this._x1?this._append`M${Ge},${Ke}`:(Math.abs(this._x1-Ge)>ue||Math.abs(this._y1-Ke)>ue)&&this._append`L${Ge},${Ke}`,N&&(ft<0&&(ft=ft%U+U),ft>ye?this._append`A${N},${N},0,1,${Ce},${ce-he},${k-Me}A${N},${N},0,1,${Ce},${this._x1=Ge},${this._y1=Ke}`:ft>ue&&this._append`A${N},${N},0,${+(ft>=Ne)},${Ce},${this._x1=ce+N*Math.cos(De)},${this._y1=k+N*Math.sin(De)}`)}rect(ce,k,N,ve){this._append`M${this._x0=this._x1=+ce},${this._y0=this._y1=+k}h${N=+N}v${+ve}h${-N}Z`}toString(){return this._}}function I($){let ce=3;return $.digits=function(k){if(!arguments.length)return ce;if(null==k)ce=null;else{const N=Math.floor(k);if(!(N>=0))throw new RangeError(`invalid digits: ${k}`);ce=N}return $},()=>new Te(ce)}}}]);