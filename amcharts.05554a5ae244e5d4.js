"use strict";(self.webpackChunkamcharts=self.webpackChunkamcharts||[]).push([[803],{5013:(Mt,ze,I)=>{I.d(ze,{Q:()=>be});var Re=I(1371),z=I(4178),we=I(3559);class be{constructor(R,ce){if(Object.defineProperty(this,"_root",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_rules",{enumerable:!0,configurable:!0,writable:!0,value:{}}),this._root=R,!ce)throw new Error("You cannot use `new Class()`, instead use `Class.new()`")}static new(R){const ce=new this(R,!0);return ce.setupDefaultRules(),ce}setupDefaultRules(){}_lookupRules(R){return this._rules[R]}ruleRaw(R,ce=[]){let X=this._rules[R];X||(X=this._rules[R]=[]),ce.sort(z.qu);const{index:v,found:F}=we.getSortedIndex(X,N=>{const se=z.qu(N.tags.length,ce.length);return 0===se?z.wq(N.tags,ce,z.qu):se});if(F)return X[v].template;{const N=Re.YS.new({});return X.splice(v,0,{tags:ce,template:N}),N}}rule(R,ce=[]){return this.ruleRaw(R,ce)}}},4618:(Mt,ze,I)=>{I.d(ze,{z:()=>be});var Re=I(867),z=I(9239),we=I(8261);class be extends z.W{_afterNew(){this._settings.themeTags=we.mergeTags(this._settings.themeTags,["button"]),super._afterNew(),this._settings.background||this.set("background",Re.c.new(this._root,{themeTags:we.mergeTags(this._settings.themeTags,["background"])}))}_prepareChildren(){if(super._prepareChildren(),this.isDirty("icon")){const R=this._prevSettings.icon,ce=this.get("icon");ce!==R&&(this._disposeProperty("icon"),R&&R.dispose(),ce&&this.children.push(ce),this._prevSettings.icon=ce)}if(this.isDirty("label")){const R=this._prevSettings.label,ce=this.get("label");ce!==R&&(this._disposeProperty("label"),R&&R.dispose(),ce&&this.children.push(ce),this._prevSettings.label=ce)}}}Object.defineProperty(be,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Button"}),Object.defineProperty(be,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:z.W.classNames.concat([be.className])})},6288:(Mt,ze,I)=>{I.d(ze,{k:()=>we});var Re=I(9239),z=I(7039);class we extends Re.W{constructor(){super(...arguments),Object.defineProperty(this,"chartContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(Re.W.new(this._root,{width:z.AQ,height:z.AQ,interactiveChildren:!1}))}),Object.defineProperty(this,"bulletsContainer",{enumerable:!0,configurable:!0,writable:!0,value:Re.W.new(this._root,{interactiveChildren:!1,isMeasured:!1,position:"absolute",width:z.AQ,height:z.AQ})})}}Object.defineProperty(we,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Chart"}),Object.defineProperty(we,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Re.W.classNames.concat([we.className])})},7313:(Mt,ze,I)=>{I.d(ze,{w:()=>X,z:()=>ce});var Re=I(7582),z=I(4889),we=I(9239),be=I(1171),ue=I(3559),R=I(8148);class ce extends z.Zr{constructor(F,N,se){super(se),Object.defineProperty(this,"component",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"dataContext",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"bullets",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"open",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"close",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.dataContext=N,this.component=F,this._settings.visible=!0,this._checkDirty()}markDirty(){this.component.markDirtyValues(this)}_startAnimation(){this.component._root._addAnimation(this)}_animationTime(){return this.component._root.animationTime}_dispose(){this.component&&this.component.disposeDataItem(this),super._dispose()}show(F){this.setRaw("visible",!0),this.component&&this.component.showDataItem(this,F)}hide(F){this.setRaw("visible",!1),this.component&&this.component.hideDataItem(this,F)}isHidden(){return!this.get("visible")}}class X extends we.W{constructor(){super(...arguments),Object.defineProperty(this,"_data",{enumerable:!0,configurable:!0,writable:!0,value:new be.k}),Object.defineProperty(this,"_dataItems",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_mainDataItems",{enumerable:!0,configurable:!0,writable:!0,value:this._dataItems}),Object.defineProperty(this,"valueFields",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"fields",{enumerable:!0,configurable:!0,writable:!0,value:["id"]}),Object.defineProperty(this,"_valueFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_valueFieldsF",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_fields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_fieldsF",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_valuesDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dataChanged",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dataGrouped",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"inited",{enumerable:!0,configurable:!0,writable:!0,value:!1})}set data(F){F.incrementRef(),this._data.decrementRef(),this._data=F}get data(){return this._data}_dispose(){super._dispose(),this._data.decrementRef()}_onDataClear(){}_afterNew(){super._afterNew(),this._data.incrementRef(),this._updateFields(),this._disposers.push(this.data.events.onAll(F=>{const N=this._mainDataItems;if(this.markDirtyValues(),this._markDirtyGroup(),this._dataChanged=!0,"clear"===F.type)ue.each(N,se=>{se.dispose()}),N.length=0,this._onDataClear();else if("push"===F.type){const se=new ce(this,F.newValue,this._makeDataItem(F.newValue));N.push(se),this.processDataItem(se)}else if("setIndex"===F.type){const se=N[F.index],k=this._makeDataItem(F.newValue);se.bullets&&0==se.bullets.length&&(se.bullets=void 0),R.keys(k).forEach(P=>{se.animate({key:P,to:k[P],duration:this.get("interpolationDuration",0),easing:this.get("interpolationEasing")})}),se.dataContext=F.newValue}else if("insertIndex"===F.type){const se=new ce(this,F.newValue,this._makeDataItem(F.newValue));N.splice(F.index,0,se),this.processDataItem(se)}else if("removeIndex"===F.type)N[F.index].dispose(),N.splice(F.index,1);else{if("moveIndex"!==F.type)throw new Error("Unknown IStreamEvent type");{const se=N[F.oldIndex];N.splice(F.oldIndex,1),N.splice(F.newIndex,0,se)}}this._afterDataChange()}))}_updateFields(){this.valueFields&&(this._valueFields=[],this._valueFieldsF={},ue.each(this.valueFields,F=>{this.get(F+"Field")&&(this._valueFields.push(F),this._valueFieldsF[F]={fieldKey:F+"Field",workingKey:F+"Working"})})),this.fields&&(this._fields=[],this._fieldsF={},ue.each(this.fields,F=>{this.get(F+"Field")&&(this._fields.push(F),this._fieldsF[F]=F+"Field")}))}get dataItems(){return this._dataItems}processDataItem(F){}_makeDataItem(F){const N={};return this._valueFields&&ue.each(this._valueFields,se=>{const k=this.get(this._valueFieldsF[se].fieldKey);N[se]=F[k],N[this._valueFieldsF[se].workingKey]=N[se]}),this._fields&&ue.each(this._fields,se=>{const k=this.get(this._fieldsF[se]);N[se]=F[k]}),N}makeDataItem(F){let N=new ce(this,void 0,F);return this.processDataItem(N),N}pushDataItem(F){const N=this.makeDataItem(F);return this._mainDataItems.push(N),N}disposeDataItem(F){}showDataItem(F,N){return(0,Re.mG)(this,void 0,void 0,function*(){F.set("visible",!0)})}hideDataItem(F,N){return(0,Re.mG)(this,void 0,void 0,function*(){F.set("visible",!1)})}_clearDirty(){super._clearDirty(),this._valuesDirty=!1}_afterDataChange(){}_afterChanged(){if(super._afterChanged(),this._dataChanged){const F="datavalidated";this.events.isEnabled(F)&&this.events.dispatch(F,{type:F,target:this}),this._dataChanged=!1}this.inited=!0}markDirtyValues(F){this.markDirty(),this._valuesDirty=!0}_markDirtyGroup(){this._dataGrouped=!1}markDirtySize(){this._sizeDirty=!0,this.markDirty()}}Object.defineProperty(X,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Component"}),Object.defineProperty(X,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:we.W.classNames.concat([X.className])})},6606:(Mt,ze,I)=>{I.d(ze,{x:()=>X});var Re=I(3232);function z(v,F){for(let N=0,se=F.length;N<se;N++){const k=F[N];if(k.length>0){let P=k[0];if(P.length>0){let W=P[0];v.moveTo(W.x,W.y);for(let le=0,M=k.length;le<M;le++)we(v,k[le])}}}}function we(v,F){for(let N=0,se=F.length;N<se;N++){const k=F[N];v.lineTo(k.x,k.y)}}class X extends Re.T{_beforeChanged(){super._beforeChanged(),(this.isDirty("points")||this.isDirty("segments")||this._sizeDirty||this.isPrivateDirty("width")||this.isPrivateDirty("height"))&&(this._clear=!0)}_changed(){if(super._changed(),this._clear){const F=this.get("points"),N=this.get("segments");if(F&&F.length>0){let se=F[0];this._display.moveTo(se.x,se.y),z(this._display,[[F]])}else if(N)z(this._display,N);else if(!this.get("draw")){let se=this.width(),k=this.height();this._display.moveTo(0,0),this._display.lineTo(se,k)}}}}Object.defineProperty(X,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Line"}),Object.defineProperty(X,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Re.T.classNames.concat([X.className])})},9005:(Mt,ze,I)=>{I.d(ze,{x:()=>R});var Re=I(7039),z=I(1262),we=I(8490),be=I(9472),ue=I(8261);class R extends z._{constructor(){super(...arguments),Object.defineProperty(this,"_flipped",{enumerable:!0,configurable:!0,writable:!0,value:!1})}_afterNew(){this._textKeys.push("textType","kerning"),super._afterNew()}_makeText(){this._text=this.children.push(we.f.new(this._root,{}))}baseRadius(){const X=this.getPrivate("radius",0),v=this.getPrivate("innerRadius",0),F=this.get("baseRadius",0);return v+ue.relativeToValue(F,X-v)}radius(){const X=this.get("inside",!1);return this.baseRadius()+this.get("radius",0)*(X?-1:1)}_updateChildren(){if(super._updateChildren(),this.isDirty("baseRadius")||this.isPrivateDirty("radius")||this.isPrivateDirty("innerRadius")||this.isDirty("labelAngle")||this.isDirty("radius")||this.isDirty("inside")||this.isDirty("orientation")||this.isDirty("textType")){const X=this.get("textType","adjusted"),v=this.get("inside",!1),F=this.get("orientation");let N=be.normalizeAngle(this.get("labelAngle",0));this._text.set("startAngle",this.get("labelAngle",0)),this._text.set("inside",v);const se=be.sin(N),k=be.cos(N);let P=this.baseRadius(),W=this.radius();if(this._display.angle=0,"circular"==X)this.setAll({paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}),this._text.set("orientation",F),this._text.set("radius",W);else{0==P&&(N=0,W=0);let le=W*k,M=W*se;"radial"==X?(this.setRaw("x",le),this.setRaw("y",M),N<90||N>270||"auto"!=F?(this._display.angle=N,this._flipped=!1):(this._display.angle=N+180,this._flipped=!0),this._dirty.rotation=!1):"adjusted"==X?(this.setRaw("centerX",Re.CI),this.setRaw("centerY",Re.CI),this.setRaw("x",le),this.setRaw("y",M)):"regular"==X&&(this.setRaw("x",le),this.setRaw("y",M))}this.markDirtyPosition(),this.markDirtyBounds()}}_updatePosition(){const X=this.get("textType","regular"),v=this.get("inside",!1);let F=0,N=0,se=this.get("labelAngle",0),k=this.localBounds(),P=k.right-k.left,W=k.bottom-k.top;if("radial"==X){if(this._flipped){let le=this.get("centerX");le instanceof Re.gG&&(P*=1-2*le.value),F=P*be.cos(se),N=P*be.sin(se)}}else!v&&"adjusted"==X&&(F=P/2*be.cos(se),N=W/2*be.sin(se));this.setRaw("dx",F),this.setRaw("dy",N),super._updatePosition()}get text(){return this._text}}Object.defineProperty(R,"className",{enumerable:!0,configurable:!0,writable:!0,value:"RadialLabel"}),Object.defineProperty(R,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:z._.classNames.concat([R.className])})},8490:(Mt,ze,I)=>{I.d(ze,{f:()=>we});var Re=I(683),z=I(9472);class we extends Re.x{constructor(){super(...arguments),Object.defineProperty(this,"_display",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeRadialText("",this.textStyle)})}_afterNew(){super._afterNew()}_beforeChanged(){super._beforeChanged(),this._display.clear(),this.isDirty("textType")&&(this._display.textType=this.get("textType"),this.markDirtyBounds()),this.isDirty("radius")&&(this._display.radius=this.get("radius"),this.markDirtyBounds()),this.isDirty("startAngle")&&(this._display.startAngle=(this.get("startAngle",0)+90)*z.RADIANS,this.markDirtyBounds()),this.isDirty("inside")&&(this._display.inside=this.get("inside"),this.markDirtyBounds()),this.isDirty("orientation")&&(this._display.orientation=this.get("orientation"),this.markDirtyBounds()),this.isDirty("kerning")&&(this._display.kerning=this.get("kerning"),this.markDirtyBounds())}}Object.defineProperty(we,"className",{enumerable:!0,configurable:!0,writable:!0,value:"RadialText"}),Object.defineProperty(we,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Re.x.classNames.concat([we.className])})},867:(Mt,ze,I)=>{I.d(ze,{c:()=>ue});var Re=I(2743),z=I(9472),we=I(8261),be=I(3605);class ue extends be.A{_beforeChanged(){super._beforeChanged(),(this.isDirty("cornerRadiusTL")||this.isDirty("cornerRadiusTR")||this.isDirty("cornerRadiusBR")||this.isDirty("cornerRadiusBL"))&&(this._clear=!0)}_draw(){let ce=this.width(),X=this.height(),v=ce,F=X,N=v/Math.abs(ce),se=F/Math.abs(X);if(Re.isNumber(v)&&Re.isNumber(F)){let k=Math.min(v,F)/2,P=we.relativeToValue(this.get("cornerRadiusTL",8),k),W=we.relativeToValue(this.get("cornerRadiusTR",8),k),le=we.relativeToValue(this.get("cornerRadiusBR",8),k),M=we.relativeToValue(this.get("cornerRadiusBL",8),k),U=Math.min(Math.abs(v/2),Math.abs(F/2));P=z.fitToRange(P,0,U),W=z.fitToRange(W,0,U),le=z.fitToRange(le,0,U),M=z.fitToRange(M,0,U);const j=this._display;j.moveTo(P*N,0),j.lineTo(v-W*N,0),W>0&&j.arcTo(v,0,v,W*se,W),j.lineTo(v,F-le*se),le>0&&j.arcTo(v,F,v-le*N,F,le),j.lineTo(M*N,F),M>0&&j.arcTo(0,F,0,F-M*se,M),j.lineTo(0,P*se),P>0&&j.arcTo(0,0,P*N,0,P),j.closePath()}}}Object.defineProperty(ue,"className",{enumerable:!0,configurable:!0,writable:!0,value:"RoundedRectangle"}),Object.defineProperty(ue,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:be.A.classNames.concat([ue.className])})},4248:(Mt,ze,I)=>{I.d(ze,{L:()=>ce});var Re=I(867),z=I(9239),we=I(3232),be=I(4618),ue=I(2743),R=I(8261);class ce extends z.W{constructor(){super(...arguments),Object.defineProperty(this,"thumb",{enumerable:!0,configurable:!0,writable:!0,value:this._makeThumb()}),Object.defineProperty(this,"startGrip",{enumerable:!0,configurable:!0,writable:!0,value:this._makeButton()}),Object.defineProperty(this,"endGrip",{enumerable:!0,configurable:!0,writable:!0,value:this._makeButton()}),Object.defineProperty(this,"_thumbBusy",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_startDown",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_endDown",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_thumbDown",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_gripDown",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_addOrientationClass(){this._settings.themeTags=R.mergeTags(this._settings.themeTags,["scrollbar",this._settings.orientation]),this._settings.background||(this._settings.background=Re.c.new(this._root,{themeTags:R.mergeTags(this._settings.themeTags,["main","background"])}))}_makeButton(){return this.children.push(be.z.new(this._root,{themeTags:["resize","button",this.get("orientation")],icon:we.T.new(this._root,{themeTags:["icon"]})}))}_makeThumb(){return this.children.push(Re.c.new(this._root,{themeTags:["thumb",this.get("orientation")]}))}_handleAnimation(v){v&&this._disposers.push(v.events.on("stopped",()=>{this.setPrivateRaw("isBusy",!1),this._thumbBusy=!1}))}_afterNew(){this._addOrientationClass(),super._afterNew();const v=this.startGrip,F=this.endGrip,N=this.thumb,se=this.get("background");se&&this._disposers.push(se.events.on("click",k=>{this.setPrivateRaw("isBusy",!0);const P=this._display.toLocal(k.point),W=this.width(),le=this.height(),M=this.get("orientation");let U,j,_e;U="vertical"==M?(P.y-N.height()/2)/le:(P.x-N.width()/2)/W,"vertical"==M?(j=U*le,_e="y"):(j=U*W,_e="x");const Le=this.get("animationDuration",0);Le>0?(this._thumbBusy=!0,this._handleAnimation(this.thumb.animate({key:_e,to:j,duration:Le,easing:this.get("animationEasing")}))):(this.thumb.set(_e,j),this._root.events.once("frameended",()=>{this.setPrivateRaw("isBusy",!1)}))})),this._disposers.push(N.events.on("dblclick",k=>{if(!R.isLocalEvent(k.originalEvent,this))return;const P=this.get("animationDuration",0),W=this.get("animationEasing");this.animate({key:"start",to:0,duration:P,easing:W}),this.animate({key:"end",to:1,duration:P,easing:W})})),this._disposers.push(v.events.on("pointerdown",()=>{this.setPrivateRaw("isBusy",!0),this._startDown=!0,this._gripDown="start"})),this._disposers.push(F.events.on("pointerdown",()=>{this.setPrivateRaw("isBusy",!0),this._endDown=!0,this._gripDown="end"})),this._disposers.push(N.events.on("pointerdown",()=>{this.setPrivateRaw("isBusy",!0),this._thumbDown=!0,this._gripDown=void 0})),this._disposers.push(v.events.on("globalpointerup",()=>{this._startDown&&this.setPrivateRaw("isBusy",!1),this._startDown=!1})),this._disposers.push(F.events.on("globalpointerup",()=>{this._endDown&&this.setPrivateRaw("isBusy",!1),this._endDown=!1})),this._disposers.push(N.events.on("globalpointerup",()=>{this._thumbDown&&this.setPrivateRaw("isBusy",!1),this._thumbDown=!1})),this._disposers.push(v.on("x",()=>{this._updateThumb()})),this._disposers.push(F.on("x",()=>{this._updateThumb()})),this._disposers.push(v.on("y",()=>{this._updateThumb()})),this._disposers.push(F.on("y",()=>{this._updateThumb()})),this._disposers.push(N.events.on("positionchanged",()=>{this._updateGripsByThumb()})),"vertical"==this.get("orientation")?(v.set("x",0),F.set("x",0),this._disposers.push(N.adapters.add("y",k=>Math.max(Math.min(Number(k),this.height()-N.height()),0))),this._disposers.push(N.adapters.add("x",k=>this.width()/2)),this._disposers.push(v.adapters.add("x",k=>this.width()/2)),this._disposers.push(F.adapters.add("x",k=>this.width()/2)),this._disposers.push(v.adapters.add("y",k=>Math.max(Math.min(Number(k),this.height()),0))),this._disposers.push(F.adapters.add("y",k=>Math.max(Math.min(Number(k),this.height()),0)))):(v.set("y",0),F.set("y",0),this._disposers.push(N.adapters.add("x",k=>Math.max(Math.min(Number(k),this.width()-N.width()),0))),this._disposers.push(N.adapters.add("y",k=>this.height()/2)),this._disposers.push(v.adapters.add("y",k=>this.height()/2)),this._disposers.push(F.adapters.add("y",k=>this.height()/2)),this._disposers.push(v.adapters.add("x",k=>Math.max(Math.min(Number(k),this.width()),0))),this._disposers.push(F.adapters.add("x",k=>Math.max(Math.min(Number(k),this.width()),0))))}_updateChildren(){super._updateChildren(),(this.isDirty("end")||this.isDirty("start")||this._sizeDirty)&&this.updateGrips()}_changed(){if(super._changed(),this.isDirty("start")||this.isDirty("end")){const v="rangechanged";this.events.isEnabled(v)&&this.events.dispatch(v,{type:v,target:this,start:this.get("start",0),end:this.get("end",1),grip:this._gripDown})}}updateGrips(){const v=this.startGrip,F=this.endGrip,N=this.get("orientation"),se=this.height(),k=this.width();"vertical"==N?(v.set("y",se*this.get("start",0)),F.set("y",se*this.get("end",1))):(v.set("x",k*this.get("start",0)),F.set("x",k*this.get("end",1)));const P=this.getPrivate("positionTextFunction"),W=Math.round(100*this.get("start",0)),le=Math.round(100*this.get("end",0));let M,U;P?(M=P.call(this,this.get("start",0)),U=P.call(this,this.get("end",0))):(M=W+"%",U=le+"%"),v.set("ariaLabel",this._t("From %1",void 0,M)),v.set("ariaValueNow",""+W),v.set("ariaValueText",W+"%"),v.set("ariaValueMin","0"),v.set("ariaValueMax","100"),F.set("ariaLabel",this._t("To %1",void 0,U)),F.set("ariaValueNow",""+le),F.set("ariaValueText",le+"%"),F.set("ariaValueMin","0"),F.set("ariaValueMax","100")}_updateThumb(){const v=this.thumb,F=this.startGrip,N=this.endGrip,se=this.height(),k=this.width();let P=F.x(),W=N.x(),le=F.y(),M=N.y(),U=0,j=1;"vertical"==this.get("orientation")?ue.isNumber(le)&&ue.isNumber(M)&&(!this._thumbBusy&&!v.isDragging()&&(v.set("height",M-le),v.set("y",le)),U=le/se,j=M/se):ue.isNumber(P)&&ue.isNumber(W)&&(!this._thumbBusy&&!v.isDragging()&&(v.set("width",W-P),v.set("x",P)),U=P/k,j=W/k),this.getPrivate("isBusy")&&(this.get("start")!=U||this.get("end")!=j)&&(this.set("start",U),this.set("end",j));const _e=this.getPrivate("positionTextFunction"),Le=Math.round(100*this.get("start",0)),he=Math.round(100*this.get("end",0));let Ie,Ve;_e?(Ie=_e.call(this,this.get("start",0)),Ve=_e.call(this,this.get("end",0))):(Ie=Le+"%",Ve=he+"%"),v.set("ariaLabel",this._t("From %1 to %2",void 0,Ie,Ve)),v.set("ariaValueNow",""+Le),v.set("ariaValueText",Le+"%")}_updateGripsByThumb(){const v=this.thumb,F=this.startGrip,N=this.endGrip;if("vertical"==this.get("orientation")){const se=v.height();F.set("y",v.y()),N.set("y",v.y()+se)}else{const se=v.width();F.set("x",v.x()),N.set("x",v.x()+se)}}}Object.defineProperty(ce,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Scrollbar"}),Object.defineProperty(ce,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:z.W.classNames.concat([ce.className])})},3704:(Mt,ze,I)=>{I.d(ze,{j:()=>R});var Re=I(6288),z=I(9239),we=I(434),be=I(7039),ue=I(3559);class R extends Re.k{constructor(){super(...arguments),Object.defineProperty(this,"seriesContainer",{enumerable:!0,configurable:!0,writable:!0,value:z.W.new(this._root,{width:be.AQ,height:be.AQ,isMeasured:!1})}),Object.defineProperty(this,"series",{enumerable:!0,configurable:!0,writable:!0,value:new we.dn})}_afterNew(){super._afterNew(),this._disposers.push(this.series);const X=this.seriesContainer.children;this._disposers.push(this.series.events.onAll(v=>{if("clear"===v.type){ue.each(v.oldValues,N=>{this._removeSeries(N)});const F=this.get("colors");F&&F.reset()}else if("push"===v.type)X.moveValue(v.newValue),this._processSeries(v.newValue);else if("setIndex"===v.type)X.setIndex(v.index,v.newValue),this._processSeries(v.newValue);else if("insertIndex"===v.type)X.insertIndex(v.index,v.newValue),this._processSeries(v.newValue);else if("removeIndex"===v.type)this._removeSeries(v.oldValue);else{if("moveIndex"!==v.type)throw new Error("Unknown IListEvent type");X.moveValue(v.value,v.newIndex),this._processSeries(v.value)}}))}_processSeries(X){X.chart=this,X._placeBulletsContainer(this)}_removeSeries(X){X.isDisposed()||(this.seriesContainer.children.removeValue(X),X._removeBulletsContainer())}}Object.defineProperty(R,"className",{enumerable:!0,configurable:!0,writable:!0,value:"SerialChart"}),Object.defineProperty(R,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Re.k.classNames.concat([R.className])})},3164:(Mt,ze,I)=>{I.d(ze,{F:()=>se});var Re=I(7582),z=I(7313),we=I(434),be=I(796),ue=I(6393),R=I(7039),ce=I(3559),X=I(2743),v=I(1445),F=I(9239),N=I(1262);class se extends z.w{constructor(){super(...arguments),Object.defineProperty(this,"_aggregatesCalculated",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_selectionAggregatesCalculated",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dataProcessed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_psi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_pei",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"chart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"bullets",{enumerable:!0,configurable:!0,writable:!0,value:new we.aV}),Object.defineProperty(this,"bulletsContainer",{enumerable:!0,configurable:!0,writable:!0,value:F.W.new(this._root,{width:R.AQ,height:R.AQ,position:"absolute"})})}_afterNew(){this.valueFields.push("value"),super._afterNew(),this.setPrivate("customData",{}),this._disposers.push(this.bullets.events.onAll(P=>{if("clear"===P.type)this._handleBullets(this.dataItems);else if("push"===P.type)this._handleBullets(this.dataItems);else if("setIndex"===P.type)this._handleBullets(this.dataItems);else if("insertIndex"===P.type)this._handleBullets(this.dataItems);else if("removeIndex"===P.type)this._handleBullets(this.dataItems);else{if("moveIndex"!==P.type)throw new Error("Unknown IListEvent type");this._handleBullets(this.dataItems)}}))}_dispose(){this.bulletsContainer.dispose(),super._dispose()}startIndex(){let P=this.dataItems.length;return Math.min(this.getPrivate("startIndex",0),P)}endIndex(){let P=this.dataItems.length;return Math.min(this.getPrivate("endIndex",P),P)}_handleBullets(P){ce.each(P,W=>{const le=W.bullets;le&&(ce.each(le,M=>{M.dispose()}),W.bullets=void 0)}),this.markDirtyValues()}getDataItemById(P){return ce.find(this.dataItems,W=>W.get("id")==P)}_makeBullets(P){this._shouldMakeBullet(P)&&(P.bullets=[],this.bullets.each(W=>{this._makeBullet(P,W)}))}_shouldMakeBullet(P){return!0}_makeBullet(P,W,le){const M=W(this._root,this,P);if(M){let U=M.get("sprite");U&&(U._setDataItem(P),U.setRaw("position","absolute"),this.bulletsContainer.children.push(U)),M._index=le,M.series=this,P.bullets.push(M)}return M}_clearDirty(){super._clearDirty(),this._aggregatesCalculated=!1,this._selectionAggregatesCalculated=!1}_prepareChildren(){super._prepareChildren();let P=this.startIndex(),W=this.endIndex();if(this.isDirty("heatRules")&&(this._valuesDirty=!0),this.isPrivateDirty("baseValueSeries")){const M=this.getPrivate("baseValueSeries");M&&this._disposers.push(M.onPrivate("startIndex",()=>{this.markDirtyValues()}))}if(this.get("calculateAggregates")&&(this._valuesDirty&&!this._dataProcessed&&(this._aggregatesCalculated||(this._calculateAggregates(0,this.dataItems.length),this._aggregatesCalculated=!0)),(this._psi!=P||this._pei!=W)&&!this._selectionAggregatesCalculated&&(0===P&&W===this.dataItems.length&&this._aggregatesCalculated||this._calculateAggregates(P,W),this._selectionAggregatesCalculated=!0)),this.isDirty("tooltip")){let M=this.get("tooltip");M&&(M.hide(0),M.set("tooltipTarget",this))}if(this.isDirty("fill")||this.isDirty("stroke")){let M;const U=this.get("legendDataItem");if(U&&(M=U.get("markerRectangle"),M&&this.isVisible())){if(this.isDirty("stroke")){let j=this.get("stroke");M.set("stroke",j)}if(this.isDirty("fill")){let j=this.get("fill");M.set("fill",j)}}this.updateLegendMarker(void 0)}if(this.bullets.length>0){let M=this.startIndex(),U=this.endIndex();U<this.dataItems.length&&U++;for(let j=M;j<U;j++){let _e=this.dataItems[j];_e.bullets||this._makeBullets(_e)}}}_calculateAggregates(P,W){let le=this._valueFields;if(!le)throw new Error("No value fields are set for the series.");const M={},U={},j={},_e={},Le={},he={},Ie={},Ve={},ye={};ce.each(le,pe=>{M[pe]=0,U[pe]=0,j[pe]=0}),ce.each(le,pe=>{let it=pe+"Change",ut=pe+"ChangePercent",Ee=pe+"ChangePrevious",ft=pe+"ChangePreviousPercent",Qe=pe+"ChangeSelection",pt=pe+"ChangeSelectionPercent",mt="valueY";("valueX"==pe||"openValueX"==pe||"lowValueX"==pe||"highValueX"==pe)&&(mt="valueX");const He=this.getPrivate("baseValueSeries");for(let zt=P;zt<W;zt++){const je=this.dataItems[zt];let Ue=je.get(pe);null!=Ue&&(j[pe]++,M[pe]+=Ue,U[pe]+=Math.abs(Ue),Ve[pe]=M[pe]/j[pe],(_e[pe]>Ue||null==_e[pe])&&(_e[pe]=Ue),(Le[pe]<Ue||null==Le[pe])&&(Le[pe]=Ue),Ie[pe]=Ue,null==he[pe]&&(he[pe]=Ue,ye[pe]=Ue,He&&(he[mt]=He._getBase(mt))),0===P&&(je.setRaw(it,Ue-he[mt]),je.setRaw(ut,(Ue-he[mt])/he[mt]*100)),je.setRaw(Ee,Ue-ye[mt]),je.setRaw(ft,(Ue-ye[mt])/ye[mt]*100),je.setRaw(Qe,Ue-he[mt]),je.setRaw(pt,(Ue-he[mt])/he[mt]*100),ye[pe]=Ue)}}),ce.each(le,pe=>{this.setPrivate(pe+"AverageSelection",Ve[pe]),this.setPrivate(pe+"CountSelection",j[pe]),this.setPrivate(pe+"SumSelection",M[pe]),this.setPrivate(pe+"AbsoluteSumSelection",U[pe]),this.setPrivate(pe+"LowSelection",_e[pe]),this.setPrivate(pe+"HighSelection",Le[pe]),this.setPrivate(pe+"OpenSelection",he[pe]),this.setPrivate(pe+"CloseSelection",Ie[pe])}),0===P&&W===this.dataItems.length&&ce.each(le,pe=>{this.setPrivate(pe+"Average",Ve[pe]),this.setPrivate(pe+"Count",j[pe]),this.setPrivate(pe+"Sum",M[pe]),this.setPrivate(pe+"AbsoluteSum",U[pe]),this.setPrivate(pe+"Low",_e[pe]),this.setPrivate(pe+"High",Le[pe]),this.setPrivate(pe+"Open",he[pe]),this.setPrivate(pe+"Close",Ie[pe])})}_updateChildren(){super._updateChildren(),this._psi=this.startIndex(),this._pei=this.endIndex(),this.isDirty("visible")&&this.bulletsContainer.set("visible",this.get("visible"));const P=this.get("heatRules");if(this._valuesDirty&&P&&P.length>0&&ce.each(P,W=>{const le=W.minValue||this.getPrivate(W.dataField+"Low")||0,M=W.maxValue||this.getPrivate(W.dataField+"High")||0;ce.each(W.target._entities,U=>{const j=U.dataItem.get(W.dataField);if(X.isNumber(j))if(W.customFunction)W.customFunction.call(this,U,le,M,j);else{let _e,Le;_e=W.logarithmic?(Math.log(j)*Math.LOG10E-Math.log(le)*Math.LOG10E)/(Math.log(M)*Math.LOG10E-Math.log(le)*Math.LOG10E):(j-le)/(M-le),X.isNumber(j)&&(!X.isNumber(_e)||Math.abs(_e)==1/0)&&(_e=.5),X.isNumber(W.min)?Le=W.min+(W.max-W.min)*_e:W.min instanceof be.Il?Le=be.Il.interpolate(_e,W.min,W.max):W.min instanceof R.gG&&(Le=(0,ue.Wn)(_e,W.min,W.max)),U.set(W.key,Le)}else W.neutral&&U.set(W.key,W.neutral)})}),this.get("visible")&&this.bullets.length>0){let W=this.dataItems.length,le=this.startIndex(),M=this.endIndex();M<W&&M++,le>0&&le--;for(let U=0;U<le;U++)this._hideBullets(this.dataItems[U]);for(let U=le;U<M;U++)this._positionBullets(this.dataItems[U]);for(let U=M;U<W;U++)this._hideBullets(this.dataItems[U])}}_positionBullets(P){P.bullets&&ce.each(P.bullets,W=>{this._positionBullet(W);const le=W.get("sprite");W.get("dynamic")&&(le&&(le._markDirtyKey("fill"),le.markDirtySize()),le instanceof F.W&&le.walkChildren(M=>{M._markDirtyKey("fill"),M.markDirtySize(),M instanceof N._&&M.text.markDirtyText()})),le instanceof N._&&le.get("populateText")&&le.text.markDirtyText()})}_hideBullets(P){P.bullets&&ce.each(P.bullets,W=>{let le=W.get("sprite");le&&le.setPrivate("visible",!1)})}_positionBullet(P){}_placeBulletsContainer(P){P.bulletsContainer.children.moveValue(this.bulletsContainer)}_removeBulletsContainer(){const P=this.bulletsContainer;P.parent&&P.parent.children.removeValue(P)}disposeDataItem(P){const W=P.bullets;W&&ce.each(W,le=>{le.dispose()})}_getItemReaderLabel(){return""}showDataItem(P,W){const le=Object.create(null,{showDataItem:{get:()=>super.showDataItem}});return(0,Re.mG)(this,void 0,void 0,function*(){const M=[le.showDataItem.call(this,P,W)],U=P.bullets;U&&ce.each(U,j=>{M.push(j.get("sprite").show(W))}),yield Promise.all(M)})}hideDataItem(P,W){const le=Object.create(null,{hideDataItem:{get:()=>super.hideDataItem}});return(0,Re.mG)(this,void 0,void 0,function*(){const M=[le.hideDataItem.call(this,P,W)],U=P.bullets;U&&ce.each(U,j=>{M.push(j.get("sprite").hide(W))}),yield Promise.all(M)})}_sequencedShowHide(P,W){return(0,Re.mG)(this,void 0,void 0,function*(){if(this.get("sequencedInterpolation"))if(X.isNumber(W)||(W=this.get("interpolationDuration",0)),W>0){const le=this.startIndex(),M=this.endIndex();yield Promise.all(ce.map(this.dataItems,(U,j)=>(0,Re.mG)(this,void 0,void 0,function*(){let _e=W||0;(j<le-10||j>M+10)&&(_e=0);let Le=this.get("sequencedDelay",0)+_e/(M-le);yield v.sleep(Le*(j-le)),P?yield this.showDataItem(U,_e):yield this.hideDataItem(U,_e)})))}else yield Promise.all(ce.map(this.dataItems,le=>P?this.showDataItem(le,0):this.hideDataItem(le,0)))})}updateLegendValue(P){if(P){const W=P.get("legendDataItem");if(W){const le=W.get("valueLabel");if(le){const U=le.text;let j="";le._setDataItem(P),j=this.get("legendValueText",U.get("text","")),le.set("text",j),U.markDirtyText()}const M=W.get("label");if(M){const U=M.text;let j="";M._setDataItem(P),j=this.get("legendLabelText",U.get("text","")),M.set("text",j),U.markDirtyText()}}}}updateLegendMarker(P){}_onHide(){super._onHide();const P=this.getTooltip();P&&P.hide()}hoverDataItem(P){}unhoverDataItem(P){}_getBase(P){const W=this.dataItems[this.startIndex()];return W?W.get(P):0}}Object.defineProperty(se,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Series"}),Object.defineProperty(se,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:z.w.classNames.concat([se.className])})},9879:(Mt,ze,I)=>{I.d(ze,{d:()=>z});var Re=I(6606);class z extends Re.x{}Object.defineProperty(z,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Tick"}),Object.defineProperty(z,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Re.x.classNames.concat([z.className])})},2661:(Mt,ze,I)=>{I.d(ze,{U:()=>we});var Re=I(4889),z=I(796);class we extends Re.JH{_afterNew(){super._afterNewApplyThemes(),this._dirty.colors=!1}_beforeChanged(){this.isDirty("colors")&&this.reset()}generateColors(){this.setPrivate("currentPass",this.getPrivate("currentPass",0)+1);const ue=this.getPrivate("currentPass"),R=this.get("colors",[this.get("baseColor",z.Il.fromHex(16711680))]);this.getPrivate("numColors")||this.setPrivate("numColors",R.length);const ce=this.getPrivate("numColors"),v=this.get("passOptions"),F=this.get("reuse");for(let N=0;N<ce;N++)if(F)R.push(R[N]);else{const se=R[N].toHSL();let k=se.h+(v.hue||0)*ue;for(;k>1;)k-=1;let P=se.s+(v.saturation||0)*ue;P>1&&(P=1),P<0&&(P=0);let W=se.l+(v.lightness||0)*ue;for(;W>1;)W-=1;R.push(z.Il.fromHSL(k,P,W))}}getIndex(ue){const R=this.get("colors",[]),ce=this.get("saturation");return ue>=R.length?(this.generateColors(),this.getIndex(ue)):null!=ce?z.Il.saturate(R[ue],ce):R[ue]}next(){let ue=this.getPrivate("currentStep",this.get("startIndex",0));return this.setPrivate("currentStep",ue+this.get("step",1)),this.getIndex(ue)}reset(){this.setPrivate("currentStep",this.get("startIndex",0)),this.setPrivate("currentPass",0)}}Object.defineProperty(we,"className",{enumerable:!0,configurable:!0,writable:!0,value:"ColorSet"}),Object.defineProperty(we,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Re.JH.classNames.concat([we.className])})},1171:(Mt,ze,I)=>{I.d(ze,{Q:()=>we,k:()=>z});var Re=I(434);class z extends Re.aV{constructor(){super(...arguments),Object.defineProperty(this,"processor",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}incrementRef(){}decrementRef(){}_onPush(ue){this.processor&&this.processor.processRow(ue),super._onPush(ue)}_onInsertIndex(ue,R){this.processor&&this.processor.processRow(R),super._onInsertIndex(ue,R)}_onSetIndex(ue,R,ce){this.processor&&this.processor.processRow(ce),super._onSetIndex(ue,R,ce)}}class we{constructor(ue){Object.defineProperty(this,"processor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_value",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._value=ue}incrementRef(){}decrementRef(){}}},1445:(Mt,ze,I)=>{I.r(ze),I.d(ze,{add:()=>k,checkChange:()=>se,chooseInterval:()=>W,copy:()=>N,getDateIntervalDuration:()=>X,getDuration:()=>R,getIntervalDuration:()=>ce,getNextUnit:()=>ue,getTime:()=>F,getUnitValue:()=>le,now:()=>v,round:()=>P,sleep:()=>we,timeUnitDurations:()=>be});var Re=I(2743),z=I(8261);function we(M){return new Promise((U,j)=>{setTimeout(U,M)})}let be={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:2629742400,year:31536e6};function ue(M){switch(M){case"year":return;case"month":return"year";case"week":case"day":return"month";case"hour":return"day";case"minute":return"hour";case"second":return"minute";case"millisecond":return"second"}}function R(M,U){return null==U&&(U=1),be[M]*U}function ce(M){return M?be[M.timeUnit]*M.count:0}function X(M,U,j,_e,Le){const he=M.timeUnit,Ie=M.count;if("hour"==he||"minute"==he||"second"==he||"millisecond"==he)return be[M.timeUnit]*M.count;{const Ve=P(new Date(U.getTime()),he,Ie,j,_e,void 0,Le).getTime();let ye=Ve+Ie*R(he)*1.05;return ye=P(new Date(ye),he,1,j,_e,void 0,Le).getTime(),ye-Ve}}function v(){return new Date}function F(){return v().getTime()}function N(M){return new Date(M.getTime())}function se(M,U,j,_e,Le){if(U-M>R(j,1.2))return!0;let he=new Date(M),Ie=new Date(U);Le&&(he=Le.convertLocal(he),Ie=Le.convertLocal(Ie));let Ve=0,ye=0;!_e&&"millisecond"!=j&&(Ve=he.getTimezoneOffset(),he.setUTCMinutes(he.getUTCMinutes()-Ve),ye=Ie.getTimezoneOffset(),Ie.setUTCMinutes(Ie.getUTCMinutes()-ye));let pe=!1;switch(j){case"year":he.getUTCFullYear()!=Ie.getUTCFullYear()&&(pe=!0);break;case"month":(he.getUTCFullYear()!=Ie.getUTCFullYear()||he.getUTCMonth()!=Ie.getUTCMonth())&&(pe=!0);break;case"day":(he.getUTCMonth()!=Ie.getUTCMonth()||he.getUTCDate()!=Ie.getUTCDate())&&(pe=!0);break;case"hour":he.getUTCHours()!=Ie.getUTCHours()&&(pe=!0);break;case"minute":he.getUTCMinutes()!=Ie.getUTCMinutes()&&(pe=!0);break;case"second":he.getUTCSeconds()!=Ie.getUTCSeconds()&&(pe=!0);break;case"millisecond":he.getTime()!=Ie.getTime()&&(pe=!0)}if(pe)return pe;let it=ue(j);return!!it&&se(M,U,it,_e,Le)}function k(M,U,j,_e,Le){let he=0;switch(!_e&&"millisecond"!=U&&(he=M.getTimezoneOffset(),Le&&(he-=Le.offsetUTC(M)),M.setUTCMinutes(M.getUTCMinutes()-he)),U){case"day":let Ie=M.getUTCDate();M.setUTCDate(Ie+j);break;case"second":let Ve=M.getUTCSeconds();M.setUTCSeconds(Ve+j);break;case"millisecond":let ye=M.getUTCMilliseconds();M.setUTCMilliseconds(ye+j);break;case"hour":let pe=M.getUTCHours();M.setUTCHours(pe+j);break;case"minute":let it=M.getUTCMinutes();M.setUTCMinutes(it+j);break;case"year":let ut=M.getUTCFullYear();M.setUTCFullYear(ut+j);break;case"month":let Ee=M.getUTCMonth();M.setUTCMonth(Ee+j);break;case"week":let ft=M.getUTCDate();M.setUTCDate(ft+7*j)}if(!_e&&"millisecond"!=U&&(M.setUTCMinutes(M.getUTCMinutes()+he),"day"==U||"week"==U||"month"==U||"year"==U)){let Ie=M.getTimezoneOffset();if(Le&&(Ie+=Le.offsetUTC(M)),Ie!=he){let Ve=Ie-he;M.setUTCMinutes(M.getUTCMinutes()+Ve),M.getTimezoneOffset()!=Ie&&M.setUTCMinutes(M.getUTCMinutes()-Ve)}}return M}function P(M,U,j,_e,Le,he,Ie){if(!Ie||Le){let Ve=0;switch(!Le&&"millisecond"!=U&&(Ve=M.getTimezoneOffset(),M.setUTCMinutes(M.getUTCMinutes()-Ve)),U){case"day":let ye=M.getUTCDate();if(j>1){if(he){he=P(he,"day",1);let He=M.getTime()-he.getTime(),zt=Math.floor(He/R("day")/j),je=R("day",zt*j);M.setTime(he.getTime()+je-Ve*R("minute"))}}else M.setUTCDate(ye);M.setUTCHours(0,0,0,0);break;case"second":let pe=M.getUTCSeconds();j>1&&(pe=Math.floor(pe/j)*j),M.setUTCSeconds(pe,0);break;case"millisecond":if(1==j)return M;let it=M.getUTCMilliseconds();it=Math.floor(it/j)*j,M.setUTCMilliseconds(it);break;case"hour":let ut=M.getUTCHours();j>1&&(ut=Math.floor(ut/j)*j),M.setUTCHours(ut,0,0,0);break;case"minute":let Ee=M.getUTCMinutes();j>1&&(Ee=Math.floor(Ee/j)*j),M.setUTCMinutes(Ee,0,0);break;case"month":let ft=M.getUTCMonth();j>1&&(ft=Math.floor(ft/j)*j),M.setUTCMonth(ft,1),M.setUTCHours(0,0,0,0);break;case"year":let Qe=M.getUTCFullYear();j>1&&(Qe=Math.floor(Qe/j)*j),M.setUTCFullYear(Qe,0,1),M.setUTCHours(0,0,0,0);break;case"week":let pt=M.getUTCDate(),mt=M.getUTCDay();Re.isNumber(_e)||(_e=1),pt=mt>=_e?pt-mt+_e:pt-(7+mt)+_e,M.setUTCDate(pt),M.setUTCHours(0,0,0,0)}if(!Le&&"millisecond"!=U&&(M.setUTCMinutes(M.getUTCMinutes()+Ve),"day"==U||"week"==U||"month"==U||"year"==U)){let ye=M.getTimezoneOffset();if(ye!=Ve){let pe=ye-Ve;M.setUTCMinutes(M.getUTCMinutes()+pe)}}return M}{if(isNaN(M.getTime()))return M;let Ve=Ie.offsetUTC(M),ye=M.getTimezoneOffset(),pe=Ie.parseDate(M),it=pe.year,ut=pe.month,Ee=pe.day,ft=pe.hour,Qe=pe.minute,pt=pe.second,mt=pe.millisecond,He=pe.weekday;switch(U){case"day":if(j>1&&he){he=P(he,"day",1,_e,Le,void 0,Ie);let je=M.getTime()-he.getTime(),Ue=Math.floor(je/R("day")/j),hi=R("day",Ue*j);M.setTime(he.getTime()+hi),pe=Ie.parseDate(M),it=pe.year,ut=pe.month,Ee=pe.day}ft=0,Qe=Ve-ye,pt=0,mt=0;break;case"second":Qe+=Ve-ye,j>1&&(pt=Math.floor(pt/j)*j),mt=0;break;case"millisecond":Qe+=Ve-ye,j>1&&(mt=Math.floor(mt/j)*j);break;case"hour":j>1&&(ft=Math.floor(ft/j)*j),Qe=Ve-ye,pt=0,mt=0;break;case"minute":j>1&&(Qe=Math.floor(Qe/j)*j),Qe+=Ve-ye,pt=0,mt=0;break;case"month":j>1&&(ut=Math.floor(ut/j)*j),Ee=1,ft=0,Qe=Ve-ye,pt=0,mt=0;break;case"year":j>1&&(it=Math.floor(it/j)*j),ut=0,Ee=1,ft=0,Qe=Ve-ye,pt=0,mt=0;break;case"week":Re.isNumber(_e)||(_e=1),Ee=He>=_e?Ee-He+_e:Ee-(7+He)+_e,ft=0,Qe=Ve-ye,pt=0,mt=0}let zt=(M=new Date(it,ut,Ee,ft,Qe,pt,mt)).getTimezoneOffset();return zt!=ye&&M.setTime(M.getTime()+6e4*(ye-zt)),M}}function W(M,U,j,_e){let he=ce(_e[M]),Ie=_e.length-1;if(M>=Ie)return Object.assign({},_e[Ie]);let Ve=Math.ceil(U/he);return U<he&&M>0?Object.assign({},_e[M-1]):Ve<=j?Object.assign({},_e[M]):M+1<_e.length?W(M+1,U,j,_e):Object.assign({},_e[M])}function le(M,U){switch(U){case"day":return M.getDate();case"second":return M.getSeconds();case"millisecond":return M.getMilliseconds();case"hour":return M.getHours();case"minute":return M.getMinutes();case"month":return M.getMonth();case"year":return M.getFullYear();case"week":return z.getWeek(M)}}},2231:(Mt,ze,I)=>{I.d(ze,{X:()=>ce,v:()=>R});var Re=I(5013),z=I(7039),we=I(796),be=I(680),ue=I(5770);function R(X,v,F,N){X.set(v,F.get(N)),F.on(N,se=>{X.set(v,se)})}class ce extends Re.Q{setupDefaultRules(){super.setupDefaultRules();const v=this._root.language,F=this._root.interfaceColors,N=this._root.horizontalLayout,se=this._root.verticalLayout,k=this.rule.bind(this);k("InterfaceColors").setAll({stroke:we.Il.fromHex(15066597),fill:we.Il.fromHex(15987699),primaryButton:we.Il.fromHex(6788316),primaryButtonHover:we.Il.fromHex(6779356),primaryButtonDown:we.Il.fromHex(6872182),primaryButtonActive:we.Il.fromHex(6872182),primaryButtonText:we.Il.fromHex(16777215),primaryButtonStroke:we.Il.fromHex(16777215),secondaryButton:we.Il.fromHex(14277081),secondaryButtonHover:we.Il.fromHex(10724259),secondaryButtonDown:we.Il.fromHex(9276813),secondaryButtonActive:we.Il.fromHex(15132390),secondaryButtonText:we.Il.fromHex(0),secondaryButtonStroke:we.Il.fromHex(16777215),grid:we.Il.fromHex(0),background:we.Il.fromHex(16777215),alternativeBackground:we.Il.fromHex(0),text:we.Il.fromHex(0),alternativeText:we.Il.fromHex(16777215),disabled:we.Il.fromHex(11382189),positive:we.Il.fromHex(5288704),negative:we.Il.fromHex(11730944)});{const P=k("ColorSet");P.setAll({passOptions:{hue:.05,saturation:0,lightness:0},colors:[we.Il.fromHex(6797276)],step:1,reuse:!1,startIndex:0}),P.setPrivate("currentStep",0),P.setPrivate("currentPass",0)}k("Entity").setAll({stateAnimationDuration:0,stateAnimationEasing:ue.out(ue.cubic)}),k("Component").setAll({interpolationDuration:0,interpolationEasing:ue.out(ue.cubic)}),k("Sprite").setAll({visible:!0,scale:1,opacity:1,rotation:0,position:"relative",tooltipX:z.CI,tooltipY:z.CI,tooltipPosition:"fixed",isMeasured:!0}),k("Sprite").states.create("default",{visible:!0,opacity:1}),k("Container").setAll({interactiveChildren:!0,setStateOnChildren:!1}),k("Graphics").setAll({strokeWidth:1}),k("Chart").setAll({width:z.AQ,height:z.AQ,interactiveChildren:!1}),k("Sprite",["horizontal","center"]).setAll({centerX:z.CI,x:z.CI}),k("Sprite",["vertical","center"]).setAll({centerY:z.CI,y:z.CI}),k("Container",["horizontal","layout"]).setAll({layout:N}),k("Container",["vertical","layout"]).setAll({layout:se}),k("Pattern").setAll({repetition:"repeat",width:50,height:50,rotation:0,fillOpacity:1}),k("LinePattern").setAll({gap:6,colorOpacity:1,width:49,height:49}),k("RectanglePattern").setAll({gap:6,checkered:!1,centered:!0,maxWidth:5,maxHeight:5,width:48,height:48,strokeWidth:0}),k("CirclePattern").setAll({gap:5,checkered:!1,centered:!1,radius:3,strokeWidth:0,width:45,height:45}),k("LinearGradient").setAll({rotation:90}),k("Legend").setAll({fillField:"fill",strokeField:"stroke",nameField:"name",layout:be.M.new(this._root,{}),layer:30,clickTarget:"itemContainer"}),k("Container",["legend","item","itemcontainer"]).setAll({paddingLeft:5,paddingRight:5,paddingBottom:5,paddingTop:5,layout:N,setStateOnChildren:!0,interactiveChildren:!1,ariaChecked:!0,focusable:!0,ariaLabel:v.translate("Press ENTER to toggle"),role:"checkbox"});{const P=k("Rectangle",["legend","item","background"]);P.setAll({fillOpacity:0}),R(P,"fill",F,"background")}k("Container",["legend","marker"]).setAll({setStateOnChildren:!0,centerY:z.CI,paddingLeft:0,paddingRight:0,paddingBottom:0,paddingTop:0,width:18,height:18}),k("RoundedRectangle",["legend","marker","rectangle"]).setAll({width:z.AQ,height:z.AQ,cornerRadiusBL:3,cornerRadiusTL:3,cornerRadiusBR:3,cornerRadiusTR:3});{const P=k("RoundedRectangle",["legend","marker","rectangle"]).states.create("disabled",{});R(P,"fill",F,"disabled"),R(P,"stroke",F,"disabled")}k("Label",["legend","label"]).setAll({centerY:z.CI,marginLeft:5,paddingRight:0,paddingLeft:0,paddingTop:0,paddingBottom:0,populateText:!0}),R(k("Label",["legend","label"]).states.create("disabled",{}),"fill",F,"disabled"),k("Label",["legend","value","label"]).setAll({centerY:z.CI,marginLeft:5,paddingRight:0,paddingLeft:0,paddingTop:0,paddingBottom:0,width:50,centerX:z.AQ,populateText:!0}),R(k("Label",["legend","value","label"]).states.create("disabled",{}),"fill",F,"disabled"),k("HeatLegend").setAll({stepCount:1}),k("RoundedRectangle",["heatlegend","marker"]).setAll({cornerRadiusTR:0,cornerRadiusBR:0,cornerRadiusTL:0,cornerRadiusBL:0}),k("RoundedRectangle",["vertical","heatlegend","marker"]).setAll({height:z.AQ,width:15}),k("RoundedRectangle",["horizontal","heatlegend","marker"]).setAll({width:z.AQ,height:15}),k("HeatLegend",["vertical"]).setAll({height:z.AQ}),k("HeatLegend",["horizontal"]).setAll({width:z.AQ}),k("Label",["heatlegend","start"]).setAll({paddingLeft:5,paddingRight:5,paddingTop:5,paddingBottom:5}),k("Label",["heatlegend","end"]).setAll({paddingLeft:5,paddingRight:5,paddingTop:5,paddingBottom:5});{const P=k("Label");P.setAll({paddingTop:8,paddingBottom:8,paddingLeft:10,paddingRight:10,fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',fontSize:"1em",populateText:!1}),R(P,"fill",F,"text")}k("RadialLabel").setAll({textType:"regular",centerY:z.CI,centerX:z.CI,inside:!1,radius:0,baseRadius:z.AQ,orientation:"auto",textAlign:"center"}),k("RoundedRectangle").setAll({cornerRadiusTL:8,cornerRadiusBL:8,cornerRadiusTR:8,cornerRadiusBR:8}),k("PointedRectangle").setAll({pointerBaseWidth:15,pointerLength:10,cornerRadius:8}),k("Slice").setAll({shiftRadius:0,dRadius:0,dInnerRadius:0});{const P=k("Tick");P.setAll({strokeOpacity:.15,isMeasured:!1,length:4.5,position:"absolute",crisp:!0}),R(P,"stroke",F,"grid")}k("Bullet").setAll({locationX:.5,locationY:.5}),k("Tooltip").setAll({position:"absolute",getFillFromSprite:!0,getStrokeFromSprite:!1,autoTextColor:!0,paddingTop:9,paddingBottom:8,paddingLeft:10,paddingRight:10,marginBottom:5,pointerOrientation:"vertical",centerX:z.CI,centerY:z.CI,animationEasing:ue.out(ue.cubic),exportable:!1}),k("Polygon").setAll({animationEasing:ue.out(ue.cubic)}),k("PointedRectangle",["tooltip","background"]).setAll({strokeOpacity:.9,cornerRadius:4,pointerLength:4,pointerBaseWidth:8,fillOpacity:.9,stroke:we.Il.fromHex(16777215)});{const P=k("Label",["tooltip"]);P.setAll({role:"tooltip",populateText:!0,paddingRight:0,paddingTop:0,paddingLeft:0,paddingBottom:0}),R(P,"fill",F,"alternativeText")}k("Button").setAll({paddingTop:8,paddingBottom:8,paddingLeft:10,paddingRight:10,interactive:!0,layout:N,interactiveChildren:!1,setStateOnChildren:!0,focusable:!0}),k("Button").states.create("hover",{}),k("Button").states.create("down",{stateAnimationDuration:0}),k("Button").states.create("active",{});{const P=k("RoundedRectangle",["button","background"]);R(P,"fill",F,"primaryButton"),R(P,"stroke",F,"primaryButtonStroke")}R(k("RoundedRectangle",["button","background"]).states.create("hover",{}),"fill",F,"primaryButtonHover"),R(k("RoundedRectangle",["button","background"]).states.create("down",{stateAnimationDuration:0}),"fill",F,"primaryButtonDown"),R(k("RoundedRectangle",["button","background"]).states.create("active",{}),"fill",F,"primaryButtonActive"),R(k("Graphics",["button","icon"]),"stroke",F,"primaryButtonText"),R(k("Label",["button"]),"fill",F,"primaryButtonText"),k("Button",["zoom"]).setAll({paddingTop:18,paddingBottom:18,paddingLeft:12,paddingRight:12,centerX:46,centerY:-10,y:0,x:z.AQ,role:"button",ariaLabel:v.translate("Zoom Out"),layer:30});{const P=k("RoundedRectangle",["background","button","zoom"]);P.setAll({cornerRadiusBL:40,cornerRadiusBR:40,cornerRadiusTL:40,cornerRadiusTR:40}),R(P,"fill",F,"primaryButton")}R(k("RoundedRectangle",["background","button","zoom"]).states.create("hover",{}),"fill",F,"primaryButtonHover"),R(k("RoundedRectangle",["background","button","zoom"]).states.create("down",{stateAnimationDuration:0}),"fill",F,"primaryButtonDown");{const P=k("Graphics",["icon","button","zoom"]);P.setAll({crisp:!0,strokeOpacity:.7,draw:W=>{W.moveTo(0,0),W.lineTo(12,0)}}),R(P,"stroke",F,"primaryButtonText")}k("Button",["resize"]).setAll({paddingTop:9,paddingBottom:9,paddingLeft:13,paddingRight:13,draggable:!0,centerX:z.CI,centerY:z.CI,position:"absolute",role:"slider",ariaValueMin:"0",ariaValueMax:"100",ariaLabel:v.translate("Use up and down arrows to move selection")});{const P=k("RoundedRectangle",["background","resize","button"]);P.setAll({cornerRadiusBL:40,cornerRadiusBR:40,cornerRadiusTL:40,cornerRadiusTR:40}),R(P,"fill",F,"secondaryButton"),R(P,"stroke",F,"secondaryButtonStroke")}R(k("RoundedRectangle",["background","resize","button"]).states.create("hover",{}),"fill",F,"secondaryButtonHover"),R(k("RoundedRectangle",["background","resize","button"]).states.create("down",{stateAnimationDuration:0}),"fill",F,"secondaryButtonDown");{const P=k("Graphics",["resize","button","icon"]);P.setAll({interactive:!1,crisp:!0,strokeOpacity:.5,draw:W=>{W.moveTo(0,.5),W.lineTo(0,12.5),W.moveTo(4,.5),W.lineTo(4,12.5)}}),R(P,"stroke",F,"secondaryButtonText")}k("Button",["resize","vertical"]).setAll({rotation:90,cursorOverStyle:"ns-resize"}),k("Button",["resize","horizontal"]).setAll({cursorOverStyle:"ew-resize"}),k("Button",["play"]).setAll({paddingTop:13,paddingBottom:13,paddingLeft:14,paddingRight:14,ariaLabel:v.translate("Play"),toggleKey:"active"});{const P=k("RoundedRectangle",["play","background"]);P.setAll({strokeOpacity:.5,cornerRadiusBL:100,cornerRadiusBR:100,cornerRadiusTL:100,cornerRadiusTR:100}),R(P,"fill",F,"primaryButton")}{const P=k("Graphics",["play","icon"]);P.setAll({stateAnimationDuration:0,dx:1,draw:W=>{W.moveTo(0,-5),W.lineTo(8,0),W.lineTo(0,5),W.lineTo(0,-5)}}),R(P,"fill",F,"primaryButtonText")}k("Graphics",["play","icon"]).states.create("default",{stateAnimationDuration:0}),k("Graphics",["play","icon"]).states.create("active",{stateAnimationDuration:0,draw:P=>{P.moveTo(-4,-5),P.lineTo(-1,-5),P.lineTo(-1,5),P.lineTo(-4,5),P.lineTo(-4,-5),P.moveTo(4,-5),P.lineTo(1,-5),P.lineTo(1,5),P.lineTo(4,5),P.lineTo(4,-5)}}),k("Button",["switch"]).setAll({paddingTop:4,paddingBottom:4,paddingLeft:4,paddingRight:4,ariaLabel:v.translate("Press ENTER to toggle"),toggleKey:"active",width:40,height:24,layout:null});{const P=k("RoundedRectangle",["switch","background"]);P.setAll({strokeOpacity:.5,cornerRadiusBL:100,cornerRadiusBR:100,cornerRadiusTL:100,cornerRadiusTR:100}),R(P,"fill",F,"primaryButton")}{const P=k("Circle",["switch","icon"]);P.setAll({radius:8,centerY:0,centerX:0,dx:0}),R(P,"fill",F,"primaryButtonText")}k("Graphics",["switch","icon"]).states.create("active",{dx:16}),k("Scrollbar").setAll({start:0,end:1,layer:30,animationEasing:ue.out(ue.cubic)}),k("Scrollbar",["vertical"]).setAll({marginRight:13,marginLeft:13,minWidth:12,height:z.AQ}),k("Scrollbar",["horizontal"]).setAll({marginTop:13,marginBottom:13,minHeight:12,width:z.AQ}),this.rule("Button",["scrollbar"]).setAll({exportable:!1});{const P=k("RoundedRectangle",["scrollbar","main","background"]);P.setAll({cornerRadiusTL:8,cornerRadiusBL:8,cornerRadiusTR:8,cornerRadiusBR:8,fillOpacity:.8}),R(P,"fill",F,"fill")}{const P=k("RoundedRectangle",["scrollbar","thumb"]);P.setAll({role:"slider",ariaLive:"polite",position:"absolute",draggable:!0}),R(P,"fill",F,"secondaryButton")}R(k("RoundedRectangle",["scrollbar","thumb"]).states.create("hover",{}),"fill",F,"secondaryButtonHover"),R(k("RoundedRectangle",["scrollbar","thumb"]).states.create("down",{stateAnimationDuration:0}),"fill",F,"secondaryButtonDown"),k("RoundedRectangle",["scrollbar","thumb","vertical"]).setAll({x:z.CI,width:z.AQ,centerX:z.CI,ariaLabel:v.translate("Use up and down arrows to move selection")}),k("RoundedRectangle",["scrollbar","thumb","horizontal"]).setAll({y:z.CI,centerY:z.CI,height:z.AQ,ariaLabel:v.translate("Use left and right arrows to move selection")});{const P=k("PointedRectangle",["axis","tooltip","background"]);P.setAll({cornerRadius:0}),R(P,"fill",F,"alternativeBackground")}k("Label",["axis","tooltip"]).setAll({role:void 0}),k("Label",["axis","tooltip","y"]).setAll({textAlign:"right"}),k("Label",["axis","tooltip","y","opposite"]).setAll({textAlign:"left"}),k("Label",["axis","tooltip","x"]).setAll({textAlign:"center"}),k("Tooltip",["categoryaxis"]).setAll({labelText:"{category}"}),k("Star").setAll({spikes:5,innerRadius:5,radius:10}),k("Tooltip",["stock"]).setAll({paddingTop:6,paddingBottom:5,paddingLeft:7,paddingRight:7}),k("PointedRectangle",["tooltip","stock","axis"]).setAll({pointerLength:0,pointerBaseWidth:0,cornerRadius:3}),k("Label",["tooltip","stock"]).setAll({fontSize:"0.8em"}),k("SpriteResizer").setAll({rotationStep:10}),k("Container",["resizer","grip"]).states.create("hover",{});{const P=k("RoundedRectangle",["resizer","grip"]);P.setAll({strokeOpacity:.7,strokeWidth:1,fillOpacity:1,width:12,height:12}),R(P,"fill",F,"background"),R(P,"stroke",F,"alternativeBackground")}{const P=k("RoundedRectangle",["resizer","grip","outline"]);P.setAll({strokeOpacity:0,fillOpacity:0,width:20,height:20}),P.states.create("hover",{fillOpacity:.3}),R(P,"fill",F,"alternativeBackground")}k("RoundedRectangle",["resizer","grip","left"]).setAll({cornerRadiusBL:0,cornerRadiusBR:0,cornerRadiusTL:0,cornerRadiusTR:0}),k("RoundedRectangle",["resizer","grip","right"]).setAll({cornerRadiusBL:0,cornerRadiusBR:0,cornerRadiusTL:0,cornerRadiusTR:0});{const P=k("Rectangle",["resizer","rectangle"]);P.setAll({strokeDasharray:[2,2],strokeOpacity:.5,strokeWidth:1}),R(P,"stroke",F,"alternativeBackground")}}}},638:(Mt,ze,I)=>{I.r(ze),I.d(ze,{ArrayDisposer:()=>ce.rk,Bullet:()=>c.g,Button:()=>p.z,CSVParser:()=>Us,Chart:()=>Fi.k,Circle:()=>g.C,CirclePattern:()=>Ms,Color:()=>He.Il,ColorSet:()=>Is.U,Component:()=>x.w,Container:()=>z.W,CounterDisposer:()=>ce.DM,DataItem:()=>x.z,DataProcessor:()=>Cs,DateFormatter:()=>pe,Disposer:()=>ce.ku,DurationFormatter:()=>ut,Ellipse:()=>w,Entity:()=>W.JH,Gradient:()=>K,Graphics:()=>M.T,GridLayout:()=>R.M,HeatLegend:()=>ge,HorizontalLayout:()=>be.G,InterfaceColors:()=>le,JSONParser:()=>Vs,JsonData:()=>qi.Q,Label:()=>C._,Layout:()=>ae.A,Legend:()=>ve,Line:()=>Pe.x,LinePattern:()=>hs,LinearGradient:()=>ne,ListData:()=>qi.k,Modal:()=>o,MultiDisposer:()=>ce.FV,MutableValueDisposer:()=>ce.cx,NumberFormatter:()=>_e.e,PathPattern:()=>Ji,Pattern:()=>Li.c,Percent:()=>je.gG,Picture:()=>Ye,PicturePattern:()=>Gs.v,PointedRectangle:()=>rt.i,Polygon:()=>b,RadialGradient:()=>Ds,RadialLabel:()=>Fe.x,RadialText:()=>qe.f,Rectangle:()=>U.A,RectanglePattern:()=>Yi,Root:()=>ee,RoundedRectangle:()=>Q.c,Scrollbar:()=>Bt.L,SerialChart:()=>mr.j,Series:()=>fe.F,Slice:()=>us,Slider:()=>It,Sprite:()=>Ze.j,SpriteResizer:()=>Ss,Star:()=>T,Template:()=>J.YS,Text:()=>we.x,TextFormatter:()=>Le.V,Theme:()=>e.Q,Tick:()=>br.d,Timezone:()=>Ve,Tooltip:()=>j.u,Triangle:()=>nt,VerticalLayout:()=>ue.Z,addLicense:()=>Ai.cP,array:()=>X,color:()=>He.$_,disposeAllRootElements:()=>Ai.UZ,ease:()=>rr,math:()=>Ue,net:()=>Re,object:()=>it,p0:()=>je.p0,p100:()=>je.AQ,p50:()=>je.CI,percent:()=>je.aQ,ready:()=>v.ready,registry:()=>Ai.i_,time:()=>mi,type:()=>ye,utils:()=>v});var Re={};I.r(Re),I.d(Re,{load:()=>wi,readBlob:()=>pi});var z=I(9239),we=I(683),be=I(6623),ue=I(6053),R=I(680),ce=I(8362),X=I(3559),v=I(8261);class F{constructor(){Object.defineProperty(this,"_observer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_targets",{enumerable:!0,configurable:!0,writable:!0,value:[]}),this._observer=new ResizeObserver(i=>{X.each(i,r=>{X.each(this._targets,a=>{a.target===r.target&&a.callback()})})})}addTarget(i,r){this._observer.observe(i,{box:"border-box"}),this._targets.push({target:i,callback:r})}removeTarget(i){this._observer.unobserve(i),X.keepIf(this._targets,r=>r.target!==i)}}class N{constructor(){Object.defineProperty(this,"_timer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"_targets",{enumerable:!0,configurable:!0,writable:!0,value:[]})}addTarget(i,r){if(null===this._timer){let l=null;const m=()=>{const f=Date.now();(null===l||f>l+N.delay)&&(l=f,X.each(this._targets,_=>{let Y=_.target.getBoundingClientRect();(Y.width!==_.size.width||Y.height!==_.size.height)&&(_.size=Y,_.callback())})),this._timer=0===this._targets.length?null:requestAnimationFrame(m)};this._timer=requestAnimationFrame(m)}this._targets.push({target:i,callback:r,size:{width:0,height:0,left:0,right:0,top:0,bottom:0,x:0,y:0}})}removeTarget(i){X.keepIf(this._targets,r=>r.target!==i),0===this._targets.length&&null!==this._timer&&(cancelAnimationFrame(this._timer),this._timer=null)}}Object.defineProperty(N,"delay",{enumerable:!0,configurable:!0,writable:!0,value:200});let se=null;class P{constructor(i,r){Object.defineProperty(this,"_sensor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_element",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_listener",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),this._sensor=function k(){return null===se&&(se=typeof ResizeObserver<"u"?new F:new N),se}(),this._element=i,this._listener=v.onZoom(r),this._sensor.addTarget(i,r)}isDisposed(){return this._disposed}dispose(){this._disposed||(this._disposed=!0,this._sensor.removeTarget(this._element),this._listener.dispose())}get sensor(){return this._sensor}}var W=I(4889);class le extends W.JH{}Object.defineProperty(le,"className",{enumerable:!0,configurable:!0,writable:!0,value:"InterfaceColors"}),Object.defineProperty(le,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:W.JH.classNames.concat([le.className])});var M=I(3232),U=I(3605),j=I(9084),_e=I(6722),Le=I(398);function he($,i){let r=0,a=0,l=1,m=0,f=0,_=0,Y=0,L=0;return $.formatToParts(i).forEach(re=>{switch(re.type){case"year":r=+re.value;break;case"month":a=+re.value-1;break;case"day":l=+re.value;break;case"hour":m=+re.value;break;case"minute":f=+re.value;break;case"second":_=+re.value;break;case"fractionalSecond":Y=+re.value;break;case"weekday":switch(re.value){case"Sun":L=0;break;case"Mon":L=1;break;case"Tue":L=2;break;case"Wed":L=3;break;case"Thu":L=4;break;case"Fri":L=5;break;case"Sat":L=6}}}),24===m&&(m=0),{year:r,month:a,day:l,hour:m,minute:f,second:_,millisecond:Y,weekday:L}}function Ie($,i){const{year:r,month:a,day:l,hour:m,minute:f,second:_,millisecond:Y}=he($,i);return Date.UTC(r,a,l,m,f,_,Y)}class Ve{constructor(i,r){if(Object.defineProperty(this,"_utc",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_dtf",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),!r)throw new Error("You cannot use `new Class()`, instead use `Class.new()`");this.name=i,this._utc=new Intl.DateTimeFormat("UTC",{hour12:!1,timeZone:"UTC",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",weekday:"short",fractionalSecondDigits:3}),this._dtf=new Intl.DateTimeFormat("UTC",{hour12:!1,timeZone:i,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",weekday:"short",fractionalSecondDigits:3})}static new(i){return new this(i,!0)}convertLocal(i){const r=this.offsetUTC(i),a=i.getTimezoneOffset(),l=new Date(i);l.setUTCMinutes(l.getUTCMinutes()-(r-a));const m=l.getTimezoneOffset();return a!=m&&l.setUTCMinutes(l.getUTCMinutes()+m-a),l}offsetUTC(i){return(Ie(this._utc,i)-Ie(this._dtf,i))/6e4}parseDate(i){return he(this._dtf,i)}}var ye=I(2743);class pe extends W.JH{_setDefaults(){this._setDefault("capitalize",!0),this._setDefault("dateFormat","yyyy-MM-dd"),super._setDefaults()}_beforeChanged(){super._beforeChanged()}format(i,r){(typeof r>"u"||""===r)&&(r=this.get("dateFormat","yyyy-MM-dd"));let a,l=i;if(ye.isObject(r))try{const _=this.get("intlLocales");return _?new Intl.DateTimeFormat(_,r).format(l):new Intl.DateTimeFormat(void 0,r).format(l)}catch{return"Invalid"}let m=this.parseFormat(r);const f=this._root.timezone;return f&&!this._root.utc&&(l=f.convertLocal(l)),ye.isNumber(l.getTime())?(a=this.applyFormat(l,m),this.get("capitalize")&&(a=a.replace(/^.{1}/,a.substr(0,1).toUpperCase())),a):"Invalid date"}applyFormat(i,r){let l,m,f,_,Y,L,re,G,a=r.template,ie=i.getTime();this._root.utc?(l=i.getUTCFullYear(),m=i.getUTCMonth(),f=i.getUTCDay(),_=i.getUTCDate(),Y=i.getUTCHours(),L=i.getUTCMinutes(),re=i.getUTCSeconds(),G=i.getUTCMilliseconds()):(l=i.getFullYear(),m=i.getMonth(),f=i.getDay(),_=i.getDate(),Y=i.getHours(),L=i.getMinutes(),re=i.getSeconds(),G=i.getMilliseconds());for(let A=0,Ce=r.parts.length;A<Ce;A++){let O="";switch(r.parts[A]){case"G":O=this._t(l<0?"_era_bc":"_era_ad");break;case"yyyy":O=Math.abs(l).toString(),l<0&&(O+=this._t("_era_bc"));break;case"yyy":case"yy":case"y":O=Math.abs(l).toString().substr(-r.parts[A].length),l<0&&(O+=this._t("_era_bc"));break;case"YYYY":case"YYY":case"YY":case"Y":let Te=v.getWeekYear(i,this._root.utc);O="YYYY"==r.parts[A]?Math.abs(Te).toString():Math.abs(Te).toString().substr(-r.parts[A].length),Te<0&&(O+=this._t("_era_bc"));break;case"u":case"F":case"g":break;case"q":O=""+Math.ceil((i.getMonth()+1)/3);break;case"MMMMM":O=this._t(this._getMonth(m)).substr(0,1);break;case"MMMM":O=this._t(this._getMonth(m));break;case"MMM":O=this._t(this._getShortMonth(m));break;case"MM":O=v.padString(m+1,2,"0");break;case"M":O=(m+1).toString();break;case"ww":O=v.padString(v.getWeek(i,this._root.utc),2,"0");break;case"w":O=v.getWeek(i,this._root.utc).toString();break;case"W":O=v.getMonthWeek(i,this._root.utc).toString();break;case"dd":O=v.padString(_,2,"0");break;case"d":O=_.toString();break;case"DD":case"DDD":O=v.padString(v.getYearDay(i,this._root.utc).toString(),r.parts[A].length,"0");break;case"D":O=v.getYearDay(i,this._root.utc).toString();break;case"t":O=this._root.language.translateFunc("_dateOrd").call(this,_);break;case"E":O=(f||7).toString();break;case"EE":O=v.padString((f||7).toString(),2,"0");break;case"EEE":case"eee":O=this._t(this._getShortWeekday(f));break;case"EEEE":case"eeee":O=this._t(this._getWeekday(f));break;case"EEEEE":case"eeeee":O=this._t(this._getShortWeekday(f)).substr(0,1);break;case"e":case"ee":O=(f-(this._root.locale.firstDayOfWeek||1)+1).toString(),"ee"==r.parts[A]&&(O=v.padString(O,2,"0"));break;case"a":O=this._t(Y>=12?"PM":"AM");break;case"aa":O=this._t(Y>=12?"P.M.":"A.M.");break;case"aaa":O=this._t(Y>=12?"P":"A");break;case"h":O=v.get12Hours(Y).toString();break;case"hh":O=v.padString(v.get12Hours(Y),2,"0");break;case"H":O=Y.toString();break;case"HH":O=v.padString(Y,2,"0");break;case"K":O=v.get12Hours(Y,0).toString();break;case"KK":O=v.padString(v.get12Hours(Y,0),2,"0");break;case"k":O=(Y+1).toString();break;case"kk":O=v.padString(Y+1,2,"0");break;case"m":O=L.toString();break;case"mm":O=v.padString(L,2,"0");break;case"s":O=re.toString();break;case"ss":O=v.padString(re,2,"0");break;case"S":case"SS":case"SSS":O=Math.round(G/1e3*Math.pow(10,r.parts[A].length)).toString();break;case"x":O=ie.toString();break;case"n":case"nn":case"nnn":O=v.padString(G,r.parts[A].length,"0");break;case"z":O=v.getTimeZone(i,!1,!1,this._root.utc);break;case"zz":O=v.getTimeZone(i,!0,!1,this._root.utc);break;case"zzz":O=v.getTimeZone(i,!1,!0,this._root.utc);break;case"zzzz":O=v.getTimeZone(i,!0,!0,this._root.utc);break;case"Z":case"ZZ":let me=this._root.utc?"UTC":this._root.timezone;me instanceof Ve&&(me=me.name);const Be=me?v.getTimezoneOffset(me):i.getTimezoneOffset();let Ae=Math.abs(Be)/60,De=Math.floor(Ae),We=60*Ae-60*De;this._root.utc&&(De=0,We=0),"Z"==r.parts[A]?(O="GMT",O+=Be>0?"-":"+",O+=v.padString(De,2)+":"+v.padString(We,2)):(O=Be>0?"-":"+",O+=v.padString(De,2)+v.padString(We,2));break;case"i":O=i.toISOString();break;case"I":O=i.toUTCString()}a=a.replace(ye.PLACEHOLDER,O)}return a}parseFormat(i){let r={template:"",parts:[]},a=Le.V.chunk(i,!0);for(let l=0;l<a.length;l++){let m=a[l];if("value"===m.type){if(m.text.match(/^date$/i)){let _=this.get("dateFormat","yyyy-MM-dd");ye.isString(_)||(_="yyyy-MM-dd"),m.text=_}let f=m.text.match(/G|yyyy|yyy|yy|y|YYYY|YYY|YY|Y|u|q|MMMMM|MMMM|MMM|MM|M|ww|w|W|dd|d|DDD|DD|D|F|g|EEEEE|EEEE|EEE|EE|E|eeeee|eeee|eee|ee|e|aaa|aa|a|hh|h|HH|H|KK|K|kk|k|mm|m|ss|s|SSS|SS|S|A|zzzz|zzz|zz|z|ZZ|Z|t|x|nnn|nn|n|i|I/g);if(f)for(let _=0;_<f.length;_++)r.parts.push(f[_]),m.text=m.text.replace(f[_],ye.PLACEHOLDER)}r.template+=m.text}return r}_months(){return["January","February","March","April","May","June","July","August","September","October","November","December"]}_getMonth(i){return this._months()[i]}_shortMonths(){return["Jan","Feb","Mar","Apr","May(short)","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}_getShortMonth(i){return this._shortMonths()[i]}_weekdays(){return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}_getWeekday(i){return this._weekdays()[i]}_shortWeekdays(){return["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]}_getShortWeekday(i){return this._shortWeekdays()[i]}parse(i,r){if(i instanceof Date)return i;if(ye.isNumber(i))return new Date(i);ye.isString(i)||(i=i.toString());let a,l="";r=(r=v.cleanFormat(r)).substr(0,i.length);let m=this.parseFormat(r),f={year:-1,year3:-1,year2:-1,year1:-1,month:-1,monthShort:-1,monthLong:-1,weekdayShort:-1,weekdayLong:-1,day:-1,yearDay:-1,week:-1,hourBase0:-1,hour12Base0:-1,hourBase1:-1,hour12Base1:-1,minute:-1,second:-1,millisecond:-1,millisecondDigits:-1,am:-1,zone:-1,timestamp:-1,iso:-1},_={year:1970,month:0,day:1,hour:0,minute:0,second:0,millisecond:0,timestamp:null,offset:0,utc:this._root.utc},Y=0,L=0;for(let ie=0;ie<m.parts.length;ie++){switch(L=ie+Y+1,m.parts[ie]){case"yyyy":case"YYYY":l+="([0-9]{4})",f.year=L;break;case"yyy":case"YYY":l+="([0-9]{3})",f.year3=L;break;case"yy":case"YY":l+="([0-9]{2})",f.year2=L;break;case"y":case"Y":l+="([0-9]{1})",f.year1=L;break;case"MMMM":l+="("+this.getStringList(this._months()).join("|")+")",f.monthLong=L;break;case"MMM":l+="("+this.getStringList(this._shortMonths()).join("|")+")",f.monthShort=L;break;case"MM":case"M":l+="([0-9]{2}|[0-9]{1})",f.month=L;break;case"ww":case"w":l+="([0-9]{2}|[0-9]{1})",f.week=L;break;case"dd":case"d":l+="([0-9]{2}|[0-9]{1})",f.day=L;break;case"DDD":case"DD":case"D":l+="([0-9]{3}|[0-9]{2}|[0-9]{1})",f.yearDay=L;break;case"dddd":l+="("+this.getStringList(this._weekdays()).join("|")+")",f.weekdayLong=L;break;case"ddd":l+="("+this.getStringList(this._shortWeekdays()).join("|")+")",f.weekdayShort=L;break;case"aaa":case"aa":case"a":l+="("+this.getStringList(["AM","PM","A.M.","P.M.","A","P"]).join("|")+")",f.am=L;break;case"hh":case"h":l+="([0-9]{2}|[0-9]{1})",f.hour12Base1=L;break;case"HH":case"H":l+="([0-9]{2}|[0-9]{1})",f.hourBase0=L;break;case"KK":case"K":l+="([0-9]{2}|[0-9]{1})",f.hour12Base0=L;break;case"kk":case"k":l+="([0-9]{2}|[0-9]{1})",f.hourBase1=L;break;case"mm":case"m":l+="([0-9]{2}|[0-9]{1})",f.minute=L;break;case"ss":case"s":l+="([0-9]{2}|[0-9]{1})",f.second=L;break;case"SSS":case"SS":case"S":l+="([0-9]{3}|[0-9]{2}|[0-9]{1})",f.millisecond=L,f.millisecondDigits=m.parts[ie].length;break;case"nnn":case"nn":case"n":l+="([0-9]{3}|[0-9]{2}|[0-9]{1})",f.millisecond=L;break;case"x":l+="([0-9]{1,})",f.timestamp=L;break;case"Z":l+="GMT([-+]+[0-9]{2}:[0-9]{2})",f.zone=L;break;case"ZZ":l+="([\\-+]+[0-9]{2}[0-9]{2})",f.zone=L;break;case"i":l+="([0-9]{4})-?([0-9]{2})-?([0-9]{2})T?([0-9]{2}):?([0-9]{2}):?([0-9]{2})\\.?([0-9]{0,3})([zZ]|[+\\-][0-9]{2}:?[0-9]{2}|$)",f.iso=L,Y+=7;break;case"G":case"YYYY":case"YYY":case"YY":case"Y":case"MMMMM":case"W":case"EEEEE":case"EEEE":case"EEE":case"EE":case"E":case"eeeee":case"eeee":case"eee":case"ee":case"e":case"zzzz":case"zzz":case"zz":case"z":case"t":Y--}l+="[^0-9]*"}let re=new RegExp(l),G=i.match(re);if(G){if(f.year>-1&&(_.year=parseInt(G[f.year])),f.year3>-1){let ie=parseInt(G[f.year3]);ie+=1e3,_.year=ie}if(f.year2>-1){let ie=parseInt(G[f.year2]);ie+=ie>50?1e3:2e3,_.year=ie}if(f.year1>-1){let ie=parseInt(G[f.year1]);ie=10*Math.floor((new Date).getFullYear()/10)+ie,_.year=ie}if(f.monthLong>-1&&(_.month=this.resolveMonth(G[f.monthLong])),f.monthShort>-1&&(_.month=this.resolveShortMonth(G[f.monthShort])),f.month>-1&&(_.month=parseInt(G[f.month])-1),f.week>-1&&-1===f.day&&(_.month=0,_.day=v.getDayFromWeek(parseInt(G[f.week]),_.year,1,this._root.utc)),f.day>-1&&(_.day=parseInt(G[f.day])),f.yearDay>-1&&(_.month=0,_.day=parseInt(G[f.yearDay])),f.hourBase0>-1&&(_.hour=parseInt(G[f.hourBase0])),f.hourBase1>-1&&(_.hour=parseInt(G[f.hourBase1])-1),f.hour12Base0>-1){let ie=parseInt(G[f.hour12Base0]);11==ie&&(ie=0),f.am>-1&&!this.isAm(G[f.am])&&(ie+=12),_.hour=ie}if(f.hour12Base1>-1){let ie=parseInt(G[f.hour12Base1]);12==ie&&(ie=0),f.am>-1&&!this.isAm(G[f.am])&&(ie+=12),_.hour=ie}if(f.minute>-1&&(_.minute=parseInt(G[f.minute])),f.second>-1&&(_.second=parseInt(G[f.second])),f.millisecond>-1){let ie=parseInt(G[f.millisecond]);2==f.millisecondDigits?ie*=10:1==f.millisecondDigits&&(ie*=100),_.millisecond=ie}if(f.timestamp>-1){_.timestamp=parseInt(G[f.timestamp]);const ie=new Date(_.timestamp);_.year=ie.getUTCFullYear(),_.month=ie.getUTCMonth(),_.day=ie.getUTCDate(),_.hour=ie.getUTCHours(),_.minute=ie.getUTCMinutes(),_.second=ie.getUTCSeconds(),_.millisecond=ie.getUTCMilliseconds()}f.zone>-1&&(_.offset=this.resolveTimezoneOffset(new Date(_.year,_.month,_.day),G[f.zone])),f.iso>-1&&(_.year=ye.toNumber(G[f.iso+0]),_.month=ye.toNumber(G[f.iso+1])-1,_.day=ye.toNumber(G[f.iso+2]),_.hour=ye.toNumber(G[f.iso+3]),_.minute=ye.toNumber(G[f.iso+4]),_.second=ye.toNumber(G[f.iso+5]),_.millisecond=ye.toNumber(G[f.iso+6]),"Z"==G[f.iso+7]||"z"==G[f.iso+7]?_.utc=!0:""!=G[f.iso+7]&&(_.offset=this.resolveTimezoneOffset(new Date(_.year,_.month,_.day),G[f.iso+7]))),a=_.utc?new Date(Date.UTC(_.year,_.month,_.day,_.hour,_.minute,_.second,_.millisecond)):new Date(_.year,_.month,_.day,_.hour,_.minute+_.offset,_.second,_.millisecond)}else a=new Date(i);return a}resolveTimezoneOffset(i,r){if(r.match(/([+\-]?)([0-9]{2}):?([0-9]{2})/)){let l=r.match(/([+\-]?)([0-9]{2}):?([0-9]{2})/),m=l[1],_=l[3],Y=60*parseInt(l[2])+parseInt(_);return"+"==m&&(Y*=-1),Y-(i||new Date).getTimezoneOffset()}return 0}resolveMonth(i){let r=this._months().indexOf(i);return r>-1||!this._root.language.isDefault()&&(r=this._root.language.translateAll(this._months()).indexOf(i),r>-1)?r:0}resolveShortMonth(i){let r=this._shortMonths().indexOf(i);return r>-1||(r=this._months().indexOf(i),r>-1)||this._root.language&&!this._root.language.isDefault()&&(r=this._root.language.translateAll(this._shortMonths()).indexOf(i),r>-1)?r:0}isAm(i){return this.getStringList(["AM","A.M.","A"]).indexOf(i.toUpperCase())>-1}getStringList(i){let r=[];for(let a=0;a<i.length;a++)r.push(v.escapeForRgex(this._root.language?this._t(i[a]):i[a]));return r}}var it=I(8148);class ut extends W.JH{constructor(){super(...arguments),Object.defineProperty(this,"_unitAliases",{enumerable:!0,configurable:!0,writable:!0,value:{Y:"y",D:"d",H:"h",K:"h",k:"h",n:"S"}})}_setDefaults(){const i="_duration_millisecond",r="_duration_second",a="_duration_minute",l="_duration_hour",m="_duration_day",f="_duration_week",_="_duration_month",re="_minute",G="_hour",ie="_day",A="_week",Ce="_week",O="_year";this._setDefault("negativeBase",0),this._setDefault("baseUnit","second"),this._setDefault("durationFormats",{millisecond:{millisecond:this._t(i),second:this._t(i+"_second"),minute:this._t(i+re),hour:this._t(i+G),day:this._t(i+ie),week:this._t(i+A),month:this._t(i+Ce),year:this._t(i+O)},second:{second:this._t(r),minute:this._t(r+re),hour:this._t(r+G),day:this._t(r+ie),week:this._t(r+A),month:this._t(r+Ce),year:this._t(r+O)},minute:{minute:this._t(a),hour:this._t(a+G),day:this._t(a+ie),week:this._t(a+A),month:this._t(a+Ce),year:this._t(a+O)},hour:{hour:this._t(l),day:this._t(l+ie),week:this._t(l+A),month:this._t(l+Ce),year:this._t(l+O)},day:{day:this._t(m),week:this._t(m+A),month:this._t(m+Ce),year:this._t(m+O)},week:{week:this._t(f),month:this._t(f+Ce),year:this._t(f+O)},month:{month:this._t(_),year:this._t(_+O)},year:{year:this._t("_duration_year")}}),super._setDefaults()}_beforeChanged(){super._beforeChanged()}format(i,r,a){let l=a||this.get("baseUnit");(typeof r>"u"||""===r)&&(r=null!=this.get("durationFormat")?this.get("durationFormat"):this.getFormat(ye.toNumber(i),void 0,l)),r=v.cleanFormat(r);let _,m=this.parseFormat(r,l),f=Number(i);_=f>this.get("negativeBase")?m.positive:f<this.get("negativeBase")?m.negative:m.zero;let Y=this.applyFormat(f,_);return""!==_.color&&(Y="["+_.color+"]"+Y+"[/]"),Y}parseFormat(i,r){let a=r||this.get("baseUnit"),l={positive:{color:"",template:"",parts:[],source:"",baseUnit:a,parsed:!1,absolute:!1},negative:{color:"",template:"",parts:[],source:"",baseUnit:a,parsed:!1,absolute:!1},zero:{color:"",template:"",parts:[],source:"",baseUnit:a,parsed:!1,absolute:!1}},m=(i=i.replace("||",ye.PLACEHOLDER2)).split("|");return l.positive.source=m[0],typeof m[2]>"u"?l.zero=l.positive:l.zero.source=m[2],typeof m[1]>"u"?l.negative=l.positive:l.negative.source=m[1],it.each(l,(f,_)=>{if(_.parsed)return;let Y=_.source,L=[];L=_.source.match(/^\[([^\]]*)\]/),L&&L.length&&""!==L[0]&&(Y=_.source.substr(L[0].length),_.color=L[1]);let re=Le.V.chunk(Y,!0);for(let G=0;G<re.length;G++){let ie=re[G];if(ie.text=ie.text.replace(ye.PLACEHOLDER2,"|"),"value"===ie.type){ie.text.match(/[yYMdDwhHKkmsSn]+a/)&&(_.absolute=!0,ie.text=ie.text.replace(/([yYMdDwhHKkmsSn]+)a/,"$1"));let A=ie.text.match(/y+|Y+|M+|d+|D+|w+|h+|H+|K+|k+|m+|s+|S+|n+/g);if(A)for(let Ce=0;Ce<A.length;Ce++)null==A[Ce]&&(A[Ce]=this._unitAliases[A[Ce]]),_.parts.push(A[Ce]),ie.text=ie.text.replace(A[Ce],ye.PLACEHOLDER)}_.template+=ie.text}_.parsed=!0}),l}applyFormat(i,r){let a=!r.absolute&&i<this.get("negativeBase");i=Math.abs(i);let l=this.toTimeStamp(i,r.baseUnit),m=r.template;for(let f=0,_=r.parts.length;f<_;f++){let Y=r.parts[f],L=this._toTimeUnit(Y.substr(0,1)),re=Y.length,G=Math.floor(l/this._getUnitValue(L));m=m.replace(ye.PLACEHOLDER,v.padString(G,re,"0")),l-=G*this._getUnitValue(L)}return a&&(m="-"+m),m}toTimeStamp(i,r){return i*this._getUnitValue(r)}_toTimeUnit(i){switch(i){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year"}}getFormat(i,r,a){if(null!=this.get("durationFormat"))return this.get("durationFormat");if(a||(a=this.get("baseUnit")),null!=r&&i!=r){i=Math.abs(i),r=Math.abs(r);let l=this.getValueUnit(Math.max(i,r),a);return this.get("durationFormats")[a][l]}{let l=this.getValueUnit(i,a);return this.get("durationFormats")[a][l]}}getValueUnit(i,r){r||(r=this.get("baseUnit"));let a,l=this.getMilliseconds(i,r);return it.eachContinue(this._getUnitValues(),(m,f)=>{if(m==r||a){if(l/f<=1)return a||(a=m),!1;a=m}return!0}),a}getMilliseconds(i,r){return r||(r=this.get("baseUnit")),i*this._getUnitValue(r)}_getUnitValue(i){return this._getUnitValues()[i]}_getUnitValues(){return{millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:2592e6,year:31536e6}}}var Ee=I(7551);class ft extends W.JH{_setDefaults(){this.setPrivate("defaultLocale",Ee.default),super._setDefaults()}translate(i,r,...a){r||(r=this._root.locale||this.getPrivate("defaultLocale"));let l=i,m=r[i];if(null===m)l="";else if(null!=m)m&&(l=m);else if(r!==this.getPrivate("defaultLocale"))return this.translate(i,this.getPrivate("defaultLocale"),...a);if(a.length)for(let f=a.length,_=0;_<f;++_)l=l.split("%"+(_+1)).join(a[_]);return l}translateAny(i,r,...a){return this.translate(i,r,...a)}setTranslationAny(i,r,a){(a||this._root.locale)[i]=r}setTranslationsAny(i,r){it.each(i,(a,l)=>{this.setTranslationAny(a,l,r)})}translateEmpty(i,r,...a){let l=this.translate(i,r,...a);return l==i?"":l}translateFunc(i,r){return this._root.locale[i]?this._root.locale[i]:r!==this.getPrivate("defaultLocale")?this.translateFunc(i,this.getPrivate("defaultLocale")):()=>""}translateAll(i,r){return this.isDefault()?i:X.map(i,a=>this.translate(a,r))}isDefault(){return this.getPrivate("defaultLocale")===this._root.locale}}var Qe=I(3895),pt=I(2231),mt=I(4686),He=I(796);class zt{constructor(i=1,r=0,a=0,l=1,m=0,f=0){Object.defineProperty(this,"a",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"b",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"c",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"d",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tx",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"ty",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.a=i,this.b=r,this.c=a,this.d=l,this.tx=m,this.ty=f}setTransform(i,r,a,l,m,f=1){this.a=Math.cos(m)*f,this.b=Math.sin(m)*f,this.c=-Math.sin(m)*f,this.d=Math.cos(m)*f,this.tx=i-(a*this.a+l*this.c),this.ty=r-(a*this.b+l*this.d)}apply(i){return{x:this.a*i.x+this.c*i.y+this.tx,y:this.b*i.x+this.d*i.y+this.ty}}applyInverse(i){const r=1/(this.a*this.d+this.c*-this.b);return{x:this.d*r*i.x+-this.c*r*i.y+(this.ty*this.c-this.tx*this.d)*r,y:this.a*r*i.y+-this.b*r*i.x+(-this.ty*this.a+this.tx*this.b)*r}}append(i){const r=this.a,a=this.b,l=this.c,m=this.d;this.a=i.a*r+i.b*l,this.b=i.a*a+i.b*m,this.c=i.c*r+i.d*l,this.d=i.c*a+i.d*m,this.tx=i.tx*r+i.ty*l+this.tx,this.ty=i.tx*a+i.ty*m+this.ty}prepend(i){const r=this.tx;if(1!==i.a||0!==i.b||0!==i.c||1!==i.d){const a=this.a,l=this.c;this.a=a*i.a+this.b*i.c,this.b=a*i.b+this.b*i.d,this.c=l*i.a+this.d*i.c,this.d=l*i.b+this.d*i.d}this.tx=r*i.a+this.ty*i.c+i.tx,this.ty=r*i.b+this.ty*i.d+i.ty}copyFrom(i){this.a=i.a,this.b=i.b,this.c=i.c,this.d=i.d,this.tx=i.tx,this.ty=i.ty}}var je=I(7039),Ue=I(9472),ci=2*Math.PI,yi=function(i,r,a,l,m,f,_){var Y=i.x,L=i.y;return{x:l*(Y*=r)-m*(L*=a)+f,y:m*Y+l*L+_}},ds=function(i,r){var a=1.5707963267948966===r?.551915024494:-1.5707963267948966===r?-.551915024494:1.3333333333333333*Math.tan(r/4),l=Math.cos(i),m=Math.sin(i),f=Math.cos(i+r),_=Math.sin(i+r);return[{x:l-m*a,y:m+l*a},{x:f+_*a,y:_-f*a},{x:f,y:_}]},Wt=function(i,r,a,l){var f=i*a+r*l;return f>1&&(f=1),f<-1&&(f=-1),(i*l-r*a<0?-1:1)*Math.acos(f)};const Gi=function(i){var r=i.px,a=i.py,l=i.cx,m=i.cy,f=i.rx,_=i.ry,Y=i.xAxisRotation,L=void 0===Y?0:Y,re=i.largeArcFlag,G=void 0===re?0:re,ie=i.sweepFlag,A=void 0===ie?0:ie,Ce=[];if(0===f||0===_)return[];var O=Math.sin(L*ci/360),Te=Math.cos(L*ci/360),me=Te*(r-l)/2+O*(a-m)/2,Be=-O*(r-l)/2+Te*(a-m)/2;if(0===me&&0===Be)return[];f=Math.abs(f),_=Math.abs(_);var Ae=Math.pow(me,2)/Math.pow(f,2)+Math.pow(Be,2)/Math.pow(_,2);Ae>1&&(f*=Math.sqrt(Ae),_*=Math.sqrt(Ae));var De=function(i,r,a,l,m,f,_,Y,L,re,G,ie){var A=Math.pow(m,2),Ce=Math.pow(f,2),O=Math.pow(G,2),Te=Math.pow(ie,2),me=A*Ce-A*Te-Ce*O;me<0&&(me=0),me/=A*Te+Ce*O;var Be=(me=Math.sqrt(me)*(_===Y?-1:1))*m/f*ie,Ae=me*-f/m*G,De=re*Be-L*Ae+(i+a)/2,We=L*Be+re*Ae+(r+l)/2,st=(G-Be)/m,gt=(ie-Ae)/f,xt=(-G-Be)/m,Tt=(-ie-Ae)/f,lt=Wt(1,0,st,gt),_t=Wt(st,gt,xt,Tt);return 0===Y&&_t>0&&(_t-=ci),1===Y&&_t<0&&(_t+=ci),[De,We,lt,_t]}(r,a,l,m,f,_,G,A,O,Te,me,Be),We=function(i,r){if(Array.isArray(i))return i;if(Symbol.iterator in Object(i))return function $(i,r){var a=[],l=!0,m=!1,f=void 0;try{for(var Y,_=i[Symbol.iterator]();!(l=(Y=_.next()).done)&&(a.push(Y.value),!r||a.length!==r);l=!0);}catch(L){m=!0,f=L}finally{try{!l&&_.return&&_.return()}finally{if(m)throw f}}return a}(i,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}(De,4),st=We[0],gt=We[1],xt=We[2],Tt=We[3],lt=Math.abs(Tt)/(ci/4);Math.abs(1-lt)<1e-7&&(lt=1);var _t=Math.max(Math.ceil(lt),1);Tt/=_t;for(var Dt=0;Dt<_t;Dt++)Ce.push(ds(xt,Tt)),xt+=Tt;return Ce.map(function(Ge){var ot=yi(Ge[0],f,_,Te,O,st,gt),ct=ot.x,ai=ot.y,ht=yi(Ge[1],f,_,Te,O,st,gt),Et=ht.x,Gt=ht.y,Ut=yi(Ge[2],f,_,Te,O,st,gt);return{x1:ct,y1:ai,x2:Et,y2:Gt,x:Ut.x,y:Ut.y}})};function Di($,i,r){if(i!==r)throw new Error("Required "+r+" arguments for "+$+" but got "+i)}function ii($,i,r){if(i<r)throw new Error("Required at least "+r+" arguments for "+$+" but got "+i)}function Yt($,i,r){if(ii($,i,r),i%r!=0)throw new Error("Arguments for "+$+" must be in pairs of "+r)}function Nt($){for(let i=0;i<$.length;i+=7){let r=i+3,a=$[r];if(a.length>1){const l=/^([01])([01])(.*)$/.exec(a);null!==l&&($.splice(r,0,l[1]),++r,$.splice(r,0,l[2]),++r,l[3].length>0?$[r]=l[3]:$.splice(r,1))}if(++r,a=$[r],a.length>1){const l=/^([01])(.+)$/.exec(a);null!==l&&($.splice(r,0,l[1]),++r,$[r]=l[2])}}}function di($){if(0===$||1===$)return $;throw new Error("Flag must be 0 or 1")}function vi($,i){for(;(!$.interactive||i($))&&$._parent;)$=$._parent}function Ri($,i,r){return v.addEventListener($,v.getRendererEvent(i),a=>{const l=v.getEventTarget(a);let m=a.touches;m?(0==m.length&&(m=a.changedTouches),r(X.copy(m),l)):r([a],l)})}function fi($){const i=document.createElement("canvas");i.width=1,i.height=1;const r=i.getContext("2d",{willReadFrequently:!0});r.drawImage($,0,0,1,1);try{return r.getImageData(0,0,1,1),!1}catch{return console.warn('Image "'+$.src+'" is loaded from different host and is not covered by CORS policy. For more information about the implications read here: https://www.amcharts.com/docs/v5/concepts/cors'),!0}}function ni($){$.width=0,$.height=0,$.style.width="0px",$.style.height="0px"}class Ii{constructor(){Object.defineProperty(this,"_x",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_y",{enumerable:!0,configurable:!0,writable:!0,value:0})}get x(){return this._x}get y(){return this._y}set x(i){this._x=i}set y(i){this._y=i}}class qt extends ce.KK{constructor(i){super(),Object.defineProperty(this,"_layer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"mask",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"visible",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"exportable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"interactive",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"inactive",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"wheelable",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"cancelTouch",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"isMeasured",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"buttonMode",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"alpha",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"compoundAlpha",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"angle",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"scale",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"crisp",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"pivot",{enumerable:!0,configurable:!0,writable:!0,value:new Ii}),Object.defineProperty(this,"filter",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cursorOverStyle",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_replacedCursorStyle",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_localMatrix",{enumerable:!0,configurable:!0,writable:!0,value:new zt}),Object.defineProperty(this,"_matrix",{enumerable:!0,configurable:!0,writable:!0,value:new zt}),Object.defineProperty(this,"_uMatrix",{enumerable:!0,configurable:!0,writable:!0,value:new zt}),Object.defineProperty(this,"_renderer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_parent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_localBounds",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_bounds",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_colorId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._renderer=i}_dispose(){this._renderer._removeObject(this),this.getLayer().dirty=!0}getCanvas(){return this.getLayer().view}getLayer(){let i=this;for(;;){if(i._layer)return i._layer;if(!i._parent)return this._renderer.defaultLayer;i=i._parent}}setLayer(i,r){null==i?this._layer=void 0:(this._layer=this._renderer.getLayer(i,!0),this._layer.visible=!0,this._layer.margin=r,r&&v.setInteractive(this._layer.view,!1),this._renderer._ghostLayer.setMargin(this._renderer.layers),this._parent&&this._parent.registerChildLayer(this._layer),this._layer.dirty=!0,this._renderer.resizeLayer(this._layer),this._renderer.resizeGhost())}markDirtyLayer(){this.getLayer().dirty=!0}clear(){this.invalidateBounds()}invalidateBounds(){this._localBounds=void 0}_addBounds(i){}_getColorId(){return void 0===this._colorId&&(this._colorId=this._renderer.paintId(this)),this._colorId}_isInteractive(){return 0==this.inactive&&(this.interactive||this._renderer._forceInteractive>0)}_isInteractiveMask(){return this._isInteractive()}contains(i){for(;;){if(i===this)return!0;if(!i._parent)return!1;i=i._parent}}toGlobal(i){return this._matrix.apply(i)}toLocal(i){return this._matrix.applyInverse(i)}getLocalMatrix(){return this._uMatrix.setTransform(0,0,this.pivot.x,this.pivot.y,this.angle*Math.PI/180,this.scale),this._uMatrix}getLocalBounds(){return this._localBounds||(this._localBounds={left:1e7,top:1e7,right:-1e7,bottom:-1e7},this._addBounds(this._localBounds)),this._localBounds}getAdjustedBounds(i){this._setMatrix();const r=this.getLocalMatrix(),a=r.apply({x:i.left,y:i.top}),l=r.apply({x:i.right,y:i.top}),m=r.apply({x:i.right,y:i.bottom}),f=r.apply({x:i.left,y:i.bottom});return{left:Math.min(a.x,l.x,m.x,f.x),top:Math.min(a.y,l.y,m.y,f.y),right:Math.max(a.x,l.x,m.x,f.x),bottom:Math.max(a.y,l.y,m.y,f.y)}}on(i,r,a){return this.interactive?this._renderer._addEvent(this,i,r,a):new ce.ku(()=>{})}_setMatrix(){this._localMatrix.setTransform(this.x,this.y,this.pivot.x,this.pivot.y,this.angle*Math.PI/180,this.scale),this._matrix.copyFrom(this._localMatrix),this._parent&&this._matrix.prepend(this._parent._matrix)}_transform(i,r){const a=this._matrix;let l=a.tx*r,m=a.ty*r;this.crisp&&(l=Math.floor(l)+.5,m=Math.floor(m)+.5),i.setTransform(a.a*r,a.b*r,a.c*r,a.d*r,l,m)}_transformMargin(i,r,a){const l=this._matrix;i.setTransform(l.a*r,l.b*r,l.c*r,l.d*r,(l.tx+a.left)*r,(l.ty+a.top)*r)}_transformLayer(i,r,a){a.margin?this._transformMargin(i,a.scale||r,a.margin):this._transform(i,a.scale||r)}render(i){if(this.visible&&(!1!==this.exportable||!this._renderer._omitTainted)){this._setMatrix();const r=this._renderer.resolution,a=this._renderer.layers,l=this._renderer._ghostLayer,m=l.context,f=this.mask;f&&f._setMatrix(),X.each(a,_=>{if(_){const Y=_.context;Y.save(),f&&(f._transformLayer(Y,r,_),f._runPath(Y),Y.clip()),Y.globalAlpha=this.compoundAlpha*this.alpha,this._transformLayer(Y,r,_),this.filter&&(Y.filter=this.filter)}}),m.save(),f&&this._isInteractiveMask()&&(f._transformMargin(m,r,l.margin),f._runPath(m),m.clip()),this._transformMargin(m,r,l.margin),this._render(i),m.restore(),X.each(a,_=>{_&&_.context.restore()})}}_render(i){!1===this.exportable&&((this._layer||i).tainted=!0)}hovering(){return this._renderer._hovering.has(this)}dragging(){return this._renderer._dragging.some(i=>i.value===this)}shouldCancelTouch(){const i=this._renderer;return!(i.tapToActivate&&!i._touchActive)&&(!!this.cancelTouch||!!this._parent&&this._parent.shouldCancelTouch())}}class Vi extends qt{constructor(){super(...arguments),Object.defineProperty(this,"interactiveChildren",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"_childLayers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_children",{enumerable:!0,configurable:!0,writable:!0,value:[]})}_isInteractiveMask(){return this.interactiveChildren||super._isInteractiveMask()}addChild(i){i._parent=this,this._children.push(i),i._layer&&this.registerChildLayer(i._layer)}addChildAt(i,r){i._parent=this,this._children.splice(r,0,i),i._layer&&this.registerChildLayer(i._layer)}removeChild(i){i._parent=void 0,X.removeFirst(this._children,i)}_render(i){super._render(i);const r=this._renderer;this.interactive&&this.interactiveChildren&&++r._forceInteractive;const a=this._layer||i;X.each(this._children,l=>{l.compoundAlpha=this.compoundAlpha*this.alpha,l.render(a)}),this.interactive&&this.interactiveChildren&&--r._forceInteractive}registerChildLayer(i){this._childLayers||(this._childLayers=[]),X.pushOne(this._childLayers,i),this._parent&&this._parent.registerChildLayer(i)}markDirtyLayer(i=!1){super.markDirtyLayer(),i&&this._childLayers&&X.each(this._childLayers,r=>r.dirty=!0)}_dispose(){super._dispose(),this._childLayers&&X.each(this._childLayers,i=>{i.dirty=!0})}}function kt($,i){$.left=Math.min($.left,i.x),$.top=Math.min($.top,i.y),$.right=Math.max($.right,i.x),$.bottom=Math.max($.bottom,i.y)}class wt{colorize(i,r){}path(i){}addBounds(i){}}class Ct extends wt{colorize(i,r){i.beginPath()}}class Ui extends wt{constructor(i){super(),Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,writable:!0,value:i})}colorize(i,r){i.fillStyle=void 0!==r?r:this.color}}class fs extends wt{constructor(i){super(),Object.defineProperty(this,"clearShadow",{enumerable:!0,configurable:!0,writable:!0,value:i})}colorize(i,r){i.fill(),this.clearShadow&&(i.shadowColor="",i.shadowBlur=0,i.shadowOffsetX=0,i.shadowOffsetY=0)}}class gs extends wt{colorize(i,r){i.stroke()}}class ps extends wt{constructor(i,r,a){super(),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"lineJoin",{enumerable:!0,configurable:!0,writable:!0,value:a})}colorize(i,r){i.strokeStyle=void 0!==r?r:this.color,i.lineWidth=this.width,this.lineJoin&&(i.lineJoin=this.lineJoin)}}class Hi extends wt{constructor(i){super(),Object.defineProperty(this,"dash",{enumerable:!0,configurable:!0,writable:!0,value:i})}colorize(i,r){i.setLineDash(this.dash)}}class ks extends wt{constructor(i){super(),Object.defineProperty(this,"dashOffset",{enumerable:!0,configurable:!0,writable:!0,value:i})}colorize(i,r){i.lineDashOffset=this.dashOffset}}class ms extends wt{constructor(i,r,a,l){super(),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,writable:!0,value:a}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,writable:!0,value:l})}path(i){i.rect(this.x,this.y,this.width,this.height)}addBounds(i){const r=this.x,a=this.y,l=r+this.width,m=a+this.height;kt(i,{x:r,y:a}),kt(i,{x:l,y:a}),kt(i,{x:r,y:m}),kt(i,{x:l,y:m})}}class Zt extends wt{constructor(i,r,a){super(),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"radius",{enumerable:!0,configurable:!0,writable:!0,value:a})}path(i){i.moveTo(this.x+this.radius,this.y),i.arc(this.x,this.y,this.radius,0,2*Math.PI)}addBounds(i){kt(i,{x:this.x-this.radius,y:this.y-this.radius}),kt(i,{x:this.x+this.radius,y:this.y+this.radius})}}class bs extends wt{constructor(i,r,a,l){super(),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"radiusX",{enumerable:!0,configurable:!0,writable:!0,value:a}),Object.defineProperty(this,"radiusY",{enumerable:!0,configurable:!0,writable:!0,value:l})}path(i){i.ellipse(0,0,this.radiusX,this.radiusY,0,0,2*Math.PI)}addBounds(i){kt(i,{x:this.x-this.radiusX,y:this.y-this.radiusY}),kt(i,{x:this.x+this.radiusX,y:this.y+this.radiusY})}}class Wi extends wt{constructor(i,r,a,l,m,f){super(),Object.defineProperty(this,"cx",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"cy",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"radius",{enumerable:!0,configurable:!0,writable:!0,value:a}),Object.defineProperty(this,"startAngle",{enumerable:!0,configurable:!0,writable:!0,value:l}),Object.defineProperty(this,"endAngle",{enumerable:!0,configurable:!0,writable:!0,value:m}),Object.defineProperty(this,"anticlockwise",{enumerable:!0,configurable:!0,writable:!0,value:f})}path(i){this.radius>0&&i.arc(this.cx,this.cy,this.radius,this.startAngle,this.endAngle,this.anticlockwise)}addBounds(i){let r=Ue.getArcBounds(this.cx,this.cy,this.startAngle*Ue.DEGREES,this.endAngle*Ue.DEGREES,this.radius);kt(i,{x:r.left,y:r.top}),kt(i,{x:r.right,y:r.bottom})}}class _s extends wt{constructor(i,r,a,l,m){super(),Object.defineProperty(this,"x1",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"y1",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"x2",{enumerable:!0,configurable:!0,writable:!0,value:a}),Object.defineProperty(this,"y2",{enumerable:!0,configurable:!0,writable:!0,value:l}),Object.defineProperty(this,"radius",{enumerable:!0,configurable:!0,writable:!0,value:m})}path(i){this.radius>0&&i.arcTo(this.x1,this.y1,this.x2,this.y2,this.radius)}addBounds(i){}}class ys extends wt{constructor(i,r){super(),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:r})}path(i){i.lineTo(this.x,this.y)}addBounds(i){kt(i,{x:this.x,y:this.y})}}class vs extends wt{constructor(i,r){super(),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:r})}path(i){i.moveTo(this.x,this.y)}addBounds(i){kt(i,{x:this.x,y:this.y})}}class xs extends wt{path(i){i.closePath()}}class Zi extends wt{constructor(i,r,a,l,m,f){super(),Object.defineProperty(this,"cpX",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"cpY",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"cpX2",{enumerable:!0,configurable:!0,writable:!0,value:a}),Object.defineProperty(this,"cpY2",{enumerable:!0,configurable:!0,writable:!0,value:l}),Object.defineProperty(this,"toX",{enumerable:!0,configurable:!0,writable:!0,value:m}),Object.defineProperty(this,"toY",{enumerable:!0,configurable:!0,writable:!0,value:f})}path(i){i.bezierCurveTo(this.cpX,this.cpY,this.cpX2,this.cpY2,this.toX,this.toY)}addBounds(i){kt(i,{x:this.cpX,y:this.cpY}),kt(i,{x:this.cpX2,y:this.cpY2}),kt(i,{x:this.toX,y:this.toY})}}class os extends wt{constructor(i,r,a,l){super(),Object.defineProperty(this,"cpX",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"cpY",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"toX",{enumerable:!0,configurable:!0,writable:!0,value:a}),Object.defineProperty(this,"toY",{enumerable:!0,configurable:!0,writable:!0,value:l})}path(i){i.quadraticCurveTo(this.cpX,this.cpY,this.toX,this.toY)}addBounds(i){kt(i,{x:this.cpX,y:this.cpY}),kt(i,{x:this.toX,y:this.toY})}}class Qi extends wt{constructor(i,r,a,l,m){super(),Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"blur",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"offsetX",{enumerable:!0,configurable:!0,writable:!0,value:a}),Object.defineProperty(this,"offsetY",{enumerable:!0,configurable:!0,writable:!0,value:l}),Object.defineProperty(this,"opacity",{enumerable:!0,configurable:!0,writable:!0,value:m})}colorize(i,r){this.opacity&&(i.fillStyle=this.color),i.shadowColor=this.color,i.shadowBlur=this.blur,i.shadowOffsetX=this.offsetX,i.shadowOffsetY=this.offsetY}}class ws extends wt{constructor(i,r,a,l,m){super(),Object.defineProperty(this,"image",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,writable:!0,value:a}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:l}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:m})}path(i){i.drawImage(this.image,this.x,this.y,this.width,this.height)}addBounds(i){kt(i,{x:this.x,y:this.y}),kt(i,{x:this.width,y:this.height})}}class Ps extends qt{constructor(){super(...arguments),Object.defineProperty(this,"_operations",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"blendMode",{enumerable:!0,configurable:!0,writable:!0,value:mt.b.NORMAL}),Object.defineProperty(this,"_hasShadows",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_fillAlpha",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_strokeAlpha",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}clear(){super.clear(),this._operations.length=0}_pushOp(i){this._operations.push(i)}beginFill(i,r=1){this._fillAlpha=r,i?i instanceof He.Il?this._pushOp(new Ui(i.toCSS(r))):(this.isMeasured=!0,this._pushOp(new Ui(i))):this._pushOp(new Ui("rgba(0, 0, 0, "+r+")"))}endFill(){this._pushOp(new fs(this._hasShadows))}endStroke(){this._pushOp(new gs)}beginPath(){this._pushOp(new Ct)}lineStyle(i=0,r,a=1,l){this._strokeAlpha=a,this._pushOp(new ps(i,r?r instanceof He.Il?r.toCSS(a):r:"rgba(0, 0, 0, "+a+")",l))}setLineDash(i){this._pushOp(new Hi(i||[]))}setLineDashOffset(i=0){this._pushOp(new ks(i))}drawRect(i,r,a,l){this._pushOp(new ms(i,r,a,l))}drawCircle(i,r,a){this._pushOp(new Zt(i,r,a))}drawEllipse(i,r,a,l){this._pushOp(new bs(i,r,a,l))}arc(i,r,a,l,m,f=!1){this._pushOp(new Wi(i,r,a,l,m,f))}arcTo(i,r,a,l,m){this._pushOp(new _s(i,r,a,l,m))}lineTo(i,r){this._pushOp(new ys(i,r))}moveTo(i,r){this._pushOp(new vs(i,r))}bezierCurveTo(i,r,a,l,m,f){this._pushOp(new Zi(i,r,a,l,m,f))}quadraticCurveTo(i,r,a,l){this._pushOp(new os(i,r,a,l))}closePath(){this._pushOp(new xs)}shadow(i,r=0,a=0,l=0,m){this._hasShadows=!0,this._pushOp(new Qi(i.toCSS(m||this._fillAlpha||this._strokeAlpha),r,a,l))}image(i,r,a,l,m){this._pushOp(new ws(i,r,a,l,m))}svgPath(i){let r=0,a=0,l=null,m=null,f=null,_=null;const Y=/([MmZzLlHhVvCcSsQqTtAa])([^MmZzLlHhVvCcSsQqTtAa]*)/g,L=/[\u0009\u0020\u000A\u000C\u000D]*([\+\-]?[0-9]*\.?[0-9]+(?:[eE][\+\-]?[0-9]+)?)[\u0009\u0020\u000A\u000C\u000D]*,?/g;let re;for(;null!==(re=Y.exec(i));){const G=re[1],ie=re[2],A=[];for(;null!==(re=L.exec(ie));)A.push(re[1]);switch("S"!==G&&"s"!==G&&"C"!==G&&"c"!==G&&(l=null,m=null),"Q"!==G&&"q"!==G&&"T"!==G&&"t"!==G&&(f=null,_=null),G){case"M":Yt(G,A.length,2),r=+A[0],a=+A[1],this.moveTo(r,a);for(let O=2;O<A.length;O+=2)r=+A[O],a=+A[O+1],this.lineTo(r,a);break;case"m":Yt(G,A.length,2),r+=+A[0],a+=+A[1],this.moveTo(r,a);for(let O=2;O<A.length;O+=2)r+=+A[O],a+=+A[O+1],this.lineTo(r,a);break;case"L":Yt(G,A.length,2);for(let O=0;O<A.length;O+=2)r=+A[O],a=+A[O+1],this.lineTo(r,a);break;case"l":Yt(G,A.length,2);for(let O=0;O<A.length;O+=2)r+=+A[O],a+=+A[O+1],this.lineTo(r,a);break;case"H":ii(G,A.length,1);for(let O=0;O<A.length;++O)r=+A[O],this.lineTo(r,a);break;case"h":ii(G,A.length,1);for(let O=0;O<A.length;++O)r+=+A[O],this.lineTo(r,a);break;case"V":ii(G,A.length,1);for(let O=0;O<A.length;++O)a=+A[O],this.lineTo(r,a);break;case"v":ii(G,A.length,1);for(let O=0;O<A.length;++O)a+=+A[O],this.lineTo(r,a);break;case"C":Yt(G,A.length,6);for(let O=0;O<A.length;O+=6)l=+A[O+2],m=+A[O+3],r=+A[O+4],a=+A[O+5],this.bezierCurveTo(+A[O],+A[O+1],l,m,r,a);break;case"c":Yt(G,A.length,6);for(let O=0;O<A.length;O+=6){const Te=+A[O]+r,me=+A[O+1]+a;l=+A[O+2]+r,m=+A[O+3]+a,r+=+A[O+4],a+=+A[O+5],this.bezierCurveTo(Te,me,l,m,r,a)}break;case"S":Yt(G,A.length,4),(null===l||null===m)&&(l=r,m=a);for(let O=0;O<A.length;O+=4){const Te=2*r-l,me=2*a-m;l=+A[O],m=+A[O+1],r=+A[O+2],a=+A[O+3],this.bezierCurveTo(Te,me,l,m,r,a)}break;case"s":Yt(G,A.length,4),(null===l||null===m)&&(l=r,m=a);for(let O=0;O<A.length;O+=4){const Te=2*r-l,me=2*a-m;l=+A[O]+r,m=+A[O+1]+a,r+=+A[O+2],a+=+A[O+3],this.bezierCurveTo(Te,me,l,m,r,a)}break;case"Q":Yt(G,A.length,4);for(let O=0;O<A.length;O+=4)f=+A[O],_=+A[O+1],r=+A[O+2],a=+A[O+3],this.quadraticCurveTo(f,_,r,a);break;case"q":Yt(G,A.length,4);for(let O=0;O<A.length;O+=4)f=+A[O]+r,_=+A[O+1]+a,r+=+A[O+2],a+=+A[O+3],this.quadraticCurveTo(f,_,r,a);break;case"T":Yt(G,A.length,2),(null===f||null===_)&&(f=r,_=a);for(let O=0;O<A.length;O+=2)f=2*r-f,_=2*a-_,r=+A[O],a=+A[O+1],this.quadraticCurveTo(f,_,r,a);break;case"t":Yt(G,A.length,2),(null===f||null===_)&&(f=r,_=a);for(let O=0;O<A.length;O+=2)f=2*r-f,_=2*a-_,r+=+A[O],a+=+A[O+1],this.quadraticCurveTo(f,_,r,a);break;case"A":case"a":const Ce="a"===G;Nt(A),Yt(G,A.length,7);for(let O=0;O<A.length;O+=7){let Te=+A[O+5],me=+A[O+6];Ce&&(Te+=r,me+=a);const Be=Gi({px:r,py:a,rx:+A[O],ry:+A[O+1],xAxisRotation:+A[O+2],largeArcFlag:di(+A[O+3]),sweepFlag:di(+A[O+4]),cx:Te,cy:me});X.each(Be,Ae=>{this.bezierCurveTo(Ae.x1,Ae.y1,Ae.x2,Ae.y2,Ae.x,Ae.y),r=Ae.x,a=Ae.y})}break;case"Z":case"z":Di(G,A.length,0),this.closePath()}}}_runPath(i){i.beginPath(),X.each(this._operations,r=>{r.path(i)})}_render(i){super._render(i);const r=this._layer||i,a=r.dirty,l=this._isInteractive();if(a||l){const m=r.context,f=this._renderer._ghostLayer.context;let _;a&&(m.globalCompositeOperation=this.blendMode,m.beginPath()),l&&(f.beginPath(),_=this._getColorId()),X.each(this._operations,Y=>{a&&(Y.path(m),Y.colorize(m,void 0)),l&&(Y.path(f),Y.colorize(f,_))})}}renderDetached(i){if(this.visible){this._setMatrix(),i.save();const r=this.mask;r&&(r._setMatrix(),r._transform(i,1),r._runPath(i),i.clip()),i.globalAlpha=this.compoundAlpha*this.alpha,this._transform(i,1),this.filter&&(i.filter=this.filter),i.globalCompositeOperation=this.blendMode,i.beginPath(),X.each(this._operations,a=>{a.path(i),a.colorize(i,void 0)}),i.restore()}}_addBounds(i){this.visible&&this.isMeasured&&X.each(this._operations,r=>{r.addBounds(i)})}}class ji extends qt{constructor(i,r,a){super(i),Object.defineProperty(this,"text",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"style",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"resolution",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"textVisible",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"_textInfo",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_originalScale",{enumerable:!0,configurable:!0,writable:!0,value:1}),this.text=r,this.style=a}invalidateBounds(){super.invalidateBounds(),this._textInfo=void 0}_shared(i){this.style.textAlign&&(i.textAlign=this.style.textAlign),this.style.direction&&(i.direction=this.style.direction),this.style.textBaseline&&(i.textBaseline=this.style.textBaseline)}_prerender(i,r=!1,a=!1){super._render(i);const l=i.context,m=this._renderer._ghostLayer.context,f=this.style;let _=this._getFontStyle(void 0,a);l.font=_,this._isInteractive()&&!r&&(m.font=_),f.fill&&(l.fillStyle=f.fill instanceof He.Il?f.fill.toCSS(null!=f.fillOpacity?f.fillOpacity:1):f.fill),f.shadowColor&&(i.context.shadowColor=f.shadowColor.toCSS(f.shadowOpacity||1)),f.shadowBlur&&(i.context.shadowBlur=f.shadowBlur),f.shadowOffsetX&&(i.context.shadowOffsetX=f.shadowOffsetX),f.shadowOffsetY&&(i.context.shadowOffsetY=f.shadowOffsetY),this._shared(l),this._isInteractive()&&!r&&(m.fillStyle=this._getColorId(),this._shared(m))}_getFontStyle(i,r=!1){const a=this.style;let l=[];return i&&i.fontVariant?l.push(i.fontVariant):a.fontVariant&&l.push(a.fontVariant),r||(i&&i.fontWeight?l.push(i.fontWeight):a.fontWeight&&l.push(a.fontWeight)),i&&i.fontStyle?l.push(i.fontStyle):a.fontStyle&&l.push(a.fontStyle),i&&i.fontSize?(ye.isNumber(i.fontSize)&&(i.fontSize=i.fontSize+"px"),l.push(i.fontSize)):a.fontSize&&(ye.isNumber(a.fontSize)&&(a.fontSize=a.fontSize+"px"),l.push(a.fontSize)),i&&i.fontFamily?l.push(i.fontFamily):a.fontFamily?l.push(a.fontFamily):l.length&&l.push("Arial"),l.join(" ")}_render(i){const r=this._layer||i;if(this._textInfo||this._measure(r),this.textVisible){const a=this._isInteractive(),l=r.context,m=r.dirty,f=this._renderer._ghostLayer.context;l.save(),f.save(),this._prerender(r),X.each(this._textInfo,(_,Y)=>{X.each(_.textChunks,(L,re)=>{if(L.style&&(l.save(),f.save(),l.font=L.style,this._isInteractive()&&(f.font=L.style)),L.fill&&(l.save(),l.fillStyle=L.fill.toCSS()),m&&l.fillText(L.text,L.offsetX,_.offsetY+L.offsetY),"underline"==L.textDecoration||"line-through"==L.textDecoration){let O,G=1,ie=1,A=L.height,Ce=L.offsetX;switch(this.style.textAlign){case"right":case"end":Ce-=L.width;break;case"center":Ce-=L.width/2}if(L.style)switch(Le.V.getTextStyle(L.style).fontWeight){case"bolder":case"bold":case"700":case"800":case"900":G=2}A&&(ie=A/20),O="line-through"==L.textDecoration?G+_.offsetY+L.offsetY-L.height/2:G+1.5*ie+_.offsetY+L.offsetY,l.save(),l.beginPath(),L.fill?l.strokeStyle=L.fill.toCSS():this.style.fill&&this.style.fill instanceof He.Il&&(l.strokeStyle=this.style.fill.toCSS()),l.lineWidth=G*ie,l.moveTo(Ce,O),l.lineTo(Ce+L.width,O),l.stroke(),l.restore()}a&&this.interactive&&f.fillText(L.text,L.offsetX,_.offsetY+L.offsetY),L.fill&&l.restore(),L.style&&(l.restore(),f.restore())})}),l.restore(),f.restore()}}_addBounds(i){if(this.visible&&this.isMeasured){const r=this._measure(this.getLayer());kt(i,{x:r.left,y:r.top}),kt(i,{x:r.right,y:r.bottom})}}_ignoreFontWeight(){return/apple/i.test(navigator.vendor)}_measure(i){const r=i.context,a=this._renderer._ghostLayer.context,l="rtl"==this.style.direction;this._textInfo=[];const m=this.style.oversizedBehavior,f=this.style.maxWidth,_=ye.isNumber(f)&&"truncate"==m,Y=ye.isNumber(f)&&("wrap"==m||"wrap-no-break"==m);r.save(),a.save(),this._prerender(i,!0,this._ignoreFontWeight());const L="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",re=this.text.toString().replace(/\r/g,"").split(/\n/);let O,G=!0,ie=0,A=0,Ce=0;X.each(re,(me,Be)=>{let Ae;for(Ae=""==me?[{type:"value",text:""}]:Le.V.chunk(me,!1,this.style.ignoreFormatting);Ae.length>0;){let De={offsetY:Ce,ascent:0,width:0,height:0,left:0,right:0,textChunks:[]};const We=this._measureText(L,r);De.height=We.actualBoundingBoxAscent+We.actualBoundingBoxDescent,De.ascent=We.actualBoundingBoxAscent;let gt,Tt,lt,ot,xt=this.style.textDecoration,_t=!1,Dt=!0,Ge=[];X.eachContinue(Ae,(ct,ai)=>{if("format"==ct.type)if("[/]"==ct.text)G||(r.restore(),a.restore(),G=!0),Tt=void 0,O=void 0,lt=void 0,xt=this.style.textDecoration,ot=void 0,gt=ct.text;else{G||(r.restore(),a.restore());let ht=Le.V.getTextStyle(ct.text);const Et=this._getFontStyle(ht);r.save(),a.save(),r.font=Et,O=Et,gt=ct.text,ht.textDecoration&&(xt=ht.textDecoration),ht.fill&&(Tt=ht.fill),ht.width&&(lt=ye.toNumber(ht.width)),ht.verticalAlign&&(ot=ht.verticalAlign),G=!1;const Gt=this._measureText(L,r),Ut=Gt.actualBoundingBoxAscent+Gt.actualBoundingBoxDescent;Ut>De.height&&(De.height=Ut),Gt.actualBoundingBoxAscent>De.ascent&&(De.ascent=Gt.actualBoundingBoxAscent)}else if("value"==ct.type&&!_t){const ht=this._measureText(ct.text,r);let Et=ht.actualBoundingBoxLeft+ht.actualBoundingBoxRight;if(_){let Vt=Dt||this.style.breakWords||!1;const ti=this.style.ellipsis||"",Xi=this._measureText(ti,r);De.width+Et>f&&(ct.text=this._truncateText(r,ct.text,f-De.width-(Xi.actualBoundingBoxLeft+Xi.actualBoundingBoxRight),Vt),ct.text+=ti,_t=!0)}else if(Y&&De.width+Et>f){const ti=this._truncateText(r,ct.text,f-De.width,!1,Dt&&"wrap-no-break"!=this.style.oversizedBehavior);if(""==ti)return this.textVisible=!0,!1;Ge=Ae.slice(ai+1),v.trim(ti)!=v.trim(ct.text)&&(Ge.unshift({type:"value",text:ct.text.substr(ti.length)}),gt&&Ge.unshift({type:"format",text:gt})),ct.text=v.trim(ti),Ae=[],_t=!0}let Gt=1,Ut=1;if(O&&lt&&lt>Et){const Vt=Et/lt;switch(this.style.textAlign){case"right":case"end":Gt=Vt;break;case"center":Gt=Vt,Ut=Vt;break;default:Ut=Vt}Et=lt}const si=ht.actualBoundingBoxAscent+ht.actualBoundingBoxDescent;si>De.height&&(De.height=si),ht.actualBoundingBoxAscent>De.ascent&&(De.ascent=ht.actualBoundingBoxAscent),De.width+=Et,De.left+=ht.actualBoundingBoxLeft/Gt,De.right+=ht.actualBoundingBoxRight/Ut,De.textChunks.push({style:O,fill:Tt,text:ct.text,width:Et,height:si,left:ht.actualBoundingBoxLeft,right:ht.actualBoundingBoxRight,ascent:ht.actualBoundingBoxAscent,offsetX:0,offsetY:0,textDecoration:xt,verticalAlign:ot}),Dt=!1}return!0}),this.style.lineHeight instanceof je.gG?(De.height*=this.style.lineHeight.value,De.ascent*=this.style.lineHeight.value):(De.height*=this.style.lineHeight||1.2,De.ascent*=this.style.lineHeight||1.2),ie<De.left&&(ie=De.left),A<De.right&&(A=De.right),this._textInfo.push(De),Ce+=De.height,Ae=Ge||[]}}),G||(r.restore(),a.restore()),X.each(this._textInfo,(me,Be)=>{let Ae=0;X.each(me.textChunks,De=>{if(De.offsetX=Ae+De.left-me.left,De.offsetY+=me.height-me.height*(this.style.baselineRatio||.19),Ae+=De.width,De.verticalAlign)switch(De.verticalAlign){case"super":De.offsetY-=me.height/2-De.height/2;break;case"sub":De.offsetY+=De.height/2}})});const Te={left:l?-A:-ie,top:0,right:l?ie:A,bottom:Ce};if("none"!==m){const me=this._fitRatio(Te);if(me<1)if("fit"==m)ye.isNumber(this.style.minScale)&&me<this.style.minScale?(this.textVisible=!1,Te.left=0,Te.top=0,Te.right=0,Te.bottom=0):((!this._originalScale||1==this._originalScale)&&(this._originalScale=this.scale),this.scale=me,this.textVisible=!0);else if("hide"==m)this.textVisible=!1,Te.left=0,Te.top=0,Te.right=0,Te.bottom=0;else{switch(this.style.textAlign){case"right":case"end":Te.left=-f,Te.right=0;break;case"center":Te.left=-f/2,Te.right=f/2;break;default:Te.left=0,Te.right=f}this.scale=this._originalScale||1,this._originalScale=void 0,this.textVisible=!0}else this.scale=this._originalScale||1,this._originalScale=void 0,this.textVisible=!0}return r.restore(),a.restore(),Te}_fitRatio(i){const r=this.style.maxWidth,a=this.style.maxHeight;return ye.isNumber(r)||ye.isNumber(a)?Math.min(r/(i.right-i.left)||1,a/(i.bottom-i.top)||1):1}_truncateText(i,r,a,l=!1,m=!0){let f;do{if(l)r=r.slice(0,-1);else{let Y=r.replace(/[^,;:!?\\\/\s\u200b]+[,;:!?\\\/\s\u200b]*$/g,"");if(""==Y&&m)l=!0;else{if(""==Y)return r;r=Y}}const _=this._measureText(r,i);f=_.actualBoundingBoxLeft+_.actualBoundingBoxRight}while(f>a&&""!=r);return r}_measureText(i,r){let a=r.measureText(i),l={};if(null==a.actualBoundingBoxAscent){const f=document.createElement("div");f.innerText=i,f.style.visibility="hidden",f.style.position="absolute",f.style.top="-1000000px;",f.style.fontFamily=this.style.fontFamily||"",f.style.fontSize=this.style.fontSize+"",document.body.appendChild(f);const _=f.getBoundingClientRect();document.body.removeChild(f);const Y=_.height,L=a.width;l={actualBoundingBoxAscent:Y,actualBoundingBoxDescent:0,actualBoundingBoxLeft:0,actualBoundingBoxRight:L,fontBoundingBoxAscent:Y,fontBoundingBoxDescent:0,width:L}}else l={actualBoundingBoxAscent:a.actualBoundingBoxAscent,actualBoundingBoxDescent:a.actualBoundingBoxDescent,actualBoundingBoxLeft:a.actualBoundingBoxLeft,actualBoundingBoxRight:a.actualBoundingBoxRight,fontBoundingBoxAscent:a.actualBoundingBoxAscent,fontBoundingBoxDescent:a.actualBoundingBoxDescent,width:a.width};const m=a.width;switch(this.style.textAlign){case"right":case"end":l.actualBoundingBoxLeft=m,l.actualBoundingBoxRight=0;break;case"center":l.actualBoundingBoxLeft=m/2,l.actualBoundingBoxRight=m/2;break;default:l.actualBoundingBoxLeft=0,l.actualBoundingBoxRight=m}return l}}class gi{constructor(){Object.defineProperty(this,"fill",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fillOpacity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"textAlign",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fontFamily",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fontWeight",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fontVariant",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"textDecoration",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowColor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowBlur",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowOffsetX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowOffsetY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowOpacity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"lineHeight",{enumerable:!0,configurable:!0,writable:!0,value:(0,je.aQ)(120)}),Object.defineProperty(this,"baselineRatio",{enumerable:!0,configurable:!0,writable:!0,value:.19}),Object.defineProperty(this,"direction",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"textBaseline",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"oversizedBehavior",{enumerable:!0,configurable:!0,writable:!0,value:"none"}),Object.defineProperty(this,"breakWords",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"ellipsis",{enumerable:!0,configurable:!0,writable:!0,value:"\u2026"}),Object.defineProperty(this,"maxWidth",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxHeight",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"minScale",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"ignoreFormatting",{enumerable:!0,configurable:!0,writable:!0,value:!1})}}class Mi extends ji{constructor(){super(...arguments),Object.defineProperty(this,"textType",{enumerable:!0,configurable:!0,writable:!0,value:"circular"}),Object.defineProperty(this,"radius",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"startAngle",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"inside",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"orientation",{enumerable:!0,configurable:!0,writable:!0,value:"auto"}),Object.defineProperty(this,"kerning",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_textReversed",{enumerable:!0,configurable:!0,writable:!0,value:!1})}_render(i){"circular"===this.textType?this._renderCircular(i):super._render(i)}_renderCircular(i){if(this.textVisible){const r=this._layer||i;this._prerender(r);const a=this._isInteractive(),l=r.context,m=r.dirty,f=this._renderer._ghostLayer.context;l.save(),a&&f.save(),this._textInfo||this._measure(r);let _=this.radius||0,Y=this.startAngle||0,L=0,re=this.orientation,G="auto"==re?"auto":"inward"==re;const ie=this.inside,A=this.style.textAlign||"left",Ce=this.kerning||0;let O="left"==A?1:-1;const Te=!this._textReversed;if("auto"==G){let me=0,Be=0;X.each(this._textInfo,(Ae,De)=>{const We=Y+Ae.width/(_-Ae.height)/2*-O;We>me&&(me=We)}),Be="left"==A?(me+L/2)*Ue.DEGREES:"right"==A?(me-L/2)*Ue.DEGREES:Y*Ue.DEGREES,Be=Ue.normalizeAngle(Be),G=Be>=270||Be<=90}1==G&&Te&&(this._textInfo.reverse(),this._textReversed=!0),X.each(this._textInfo,(me,Be)=>{const Ae=me.height;ie||(_+=Ae),(-1==O&&G||1==O&&!G)&&Te&&me.textChunks.reverse();let De=Y;L=0,"center"==A&&(De+=me.width/(_-Ae)/2*-O,L=De-Y),De+=Math.PI*(G?0:1),l.save(),a&&f.save(),l.rotate(De),a&&f.rotate(De);let We=0;X.each(me.textChunks,(st,gt)=>{const xt=st.text,Tt=st.width;We=Tt/2/(_-Ae)*O,l.rotate(We),a&&f.rotate(We),st.style&&(l.save(),f.save(),l.font=st.style,a&&(f.font=st.style)),st.fill&&(l.save(),l.fillStyle=st.fill.toCSS()),l.textBaseline="middle",l.textAlign="center",a&&(f.textBaseline="middle",f.textAlign="center"),m&&l.fillText(xt,0,(G?1:-1)*(0-_+Ae/2)),a&&f.fillText(xt,0,(G?1:-1)*(0-_+Ae/2)),st.fill&&l.restore(),st.style&&(l.restore(),f.restore()),We=(Tt/2+Ce)/(_-Ae)*O,l.rotate(We),a&&f.rotate(We)}),l.restore(),a&&f.restore(),ie&&(_-=Ae)}),l.restore(),a&&f.restore()}}_measure(i){return"circular"===this.textType?this._measureCircular(i):super._measure(i)}_measureCircular(i){const r=i.context,a=this._renderer._ghostLayer.context,l="rtl"==this.style.direction,m=this.style.oversizedBehavior,f=this.style.maxWidth,_=ye.isNumber(f)&&"truncate"==m,Y=this.style.ellipsis||"";let L;this.textVisible=!0,this._textInfo=[],this._textReversed=!1,r.save(),a.save(),this._prerender(i,!0);const re=this.text.toString().replace(/\r/g,"").split(/\n/);let G=!0,ie=0,A=0;return X.each(re,(Ce,O)=>{let Be,Ae,De,Te=Le.V.chunk(Ce,!1,this.style.ignoreFormatting),me={offsetY:A,ascent:0,width:0,height:0,left:0,right:0,textChunks:[]};X.each(Te,(We,st)=>{if("format"==We.type){if("[/]"==We.text)G||(r.restore(),a.restore(),G=!0),Ae=void 0,Be=void 0,De=void 0;else{let gt=Le.V.getTextStyle(We.text);const xt=this._getFontStyle(gt);r.save(),a.save(),r.font=xt,Be=xt,gt.fill&&(Ae=gt.fill),gt.width&&(De=ye.toNumber(gt.width)),G=!1}_&&(L=this._measureText(Y,r))}else if("value"==We.type){const gt=We.text.match(/./gu)||[];l&&gt.reverse();for(let xt=0;xt<gt.length;xt++){const Tt=gt[xt],lt=this._measureText(Tt,r);let _t=lt.width;Be&&De&&De>_t&&(_t=De);const Dt=lt.actualBoundingBoxAscent+lt.actualBoundingBoxDescent;if(Dt>me.height&&(me.height=Dt),lt.actualBoundingBoxAscent>me.ascent&&(me.ascent=lt.actualBoundingBoxAscent),me.width+=_t,me.left+=lt.actualBoundingBoxLeft,me.right+=lt.actualBoundingBoxRight,me.textChunks.push({style:Be,fill:Ae,text:Tt,width:_t,height:Dt+lt.actualBoundingBoxDescent,left:lt.actualBoundingBoxLeft,right:lt.actualBoundingBoxRight,ascent:lt.actualBoundingBoxAscent,offsetX:0,offsetY:Dt,textDecoration:void 0}),ie+=_t,_){L||(L=this._measureText(Y,r));const Ge=L.actualBoundingBoxLeft+L.actualBoundingBoxRight;if(ie+=Ge,ie+Ge>f){1==me.textChunks.length?this.textVisible=!1:(me.width+=Ge,me.left+=L.actualBoundingBoxLeft,me.right+=L.actualBoundingBoxRight,me.textChunks.push({style:Be,fill:Ae,text:Y,width:Ge,height:Dt+L.actualBoundingBoxDescent,left:L.actualBoundingBoxLeft,right:L.actualBoundingBoxRight,ascent:L.actualBoundingBoxAscent,offsetX:0,offsetY:Dt,textDecoration:void 0}));break}}if(l)break}}}),me.height*=this.style.lineHeight instanceof je.gG?this.style.lineHeight.value:this.style.lineHeight||1.2,this._textInfo.push(me),A+=me.height}),G||(r.restore(),a.restore()),"hide"==m&&ie>f&&(this.textVisible=!1),X.each(this._textInfo,Ce=>{X.each(Ce.textChunks,O=>{O.offsetY+=Math.round((Ce.height-O.height+(Ce.ascent-O.ascent))/2)})}),r.restore(),a.restore(),{left:0,top:0,right:0,bottom:0}}}class Ci extends qt{constructor(i,r){super(i),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"image",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tainted",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowColor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowBlur",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowOffsetX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowOffsetY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowOpacity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_imageMask",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.image=r}_dispose(){super._dispose(),this._imageMask&&ni(this._imageMask)}getLocalBounds(){if(!this._localBounds){let i=0,r=0;this.width&&(i=this.width),this.height&&(r=this.height),this._localBounds={left:0,top:0,right:i,bottom:r},this._addBounds(this._localBounds)}return this._localBounds}_render(i){if(super._render(i),this.image){const r=this._layer||i;if(void 0===this.tainted&&(this.tainted=fi(this.image),r.tainted=!0),this.tainted&&this._renderer._omitTainted)return;if(r.dirty&&(this.shadowColor&&(r.context.shadowColor=this.shadowColor.toCSS(this.shadowOpacity||1)),this.shadowBlur&&(r.context.shadowBlur=this.shadowBlur),this.shadowOffsetX&&(r.context.shadowOffsetX=this.shadowOffsetX),this.shadowOffsetY&&(r.context.shadowOffsetY=this.shadowOffsetY),r.context.drawImage(this.image,0,0,this.width||this.image.naturalWidth,this.height||this.image.naturalHeight)),this.interactive&&this._isInteractive()){const a=this._getMask(this.image);this._renderer._ghostLayer.context.drawImage(a,0,0)}}}clear(){super.clear(),this.image=void 0,this._imageMask=void 0}_getMask(i){if(void 0===this._imageMask){const r=this.width||i.naturalWidth,a=this.height||i.naturalHeight,l=document.createElement("canvas");l.width=r,l.height=a;const m=l.getContext("2d");m.imageSmoothingEnabled=!1,m.fillStyle=this._getColorId(),m.fillRect(0,0,r,a),fi(i)||(m.globalCompositeOperation="destination-in",m.drawImage(i,0,0,r,a)),this._imageMask=l}return this._imageMask}}class ls{constructor(i,r,a,l){Object.defineProperty(this,"event",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"originalPoint",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"point",{enumerable:!0,configurable:!0,writable:!0,value:a}),Object.defineProperty(this,"bbox",{enumerable:!0,configurable:!0,writable:!0,value:l}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"simulated",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"native",{enumerable:!0,configurable:!0,writable:!0,value:!0}),this.id=v.supports("touchevents")&&i instanceof Touch?i.identifier:null}}class Ki extends ce.rk{constructor(i){if(super(),Object.defineProperty(this,"view",{enumerable:!0,configurable:!0,writable:!0,value:document.createElement("div")}),Object.defineProperty(this,"_layerDom",{enumerable:!0,configurable:!0,writable:!0,value:document.createElement("div")}),Object.defineProperty(this,"layers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_dirtyLayers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"defaultLayer",{enumerable:!0,configurable:!0,writable:!0,value:this.getLayer(0)}),Object.defineProperty(this,"_ghostLayer",{enumerable:!0,configurable:!0,writable:!0,value:new Si}),Object.defineProperty(this,"_patternCanvas",{enumerable:!0,configurable:!0,writable:!0,value:document.createElement("canvas")}),Object.defineProperty(this,"_patternContext",{enumerable:!0,configurable:!0,writable:!0,value:this._patternCanvas.getContext("2d")}),Object.defineProperty(this,"_domWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_domHeight",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_canvasWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_canvasHeight",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"resolution",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"interactionsEnabled",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"_listeners",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_events",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_colorId",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_colorMap",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_forceInteractive",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_omitTainted",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_hovering",{enumerable:!0,configurable:!0,writable:!0,value:new Set}),Object.defineProperty(this,"_dragging",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_mousedown",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_lastPointerMoveEvent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tapToActivate",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"tapToActivateTimeout",{enumerable:!0,configurable:!0,writable:!0,value:3e3}),Object.defineProperty(this,"_touchActive",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_touchActiveTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.resolution=null==i?window.devicePixelRatio:i,this.view.style.position="absolute",this.view.setAttribute("aria-hidden","true"),this.view.appendChild(this._layerDom),this._disposers.push(new ce.ku(()=>{it.each(this._events,(r,a)=>{a.disposer.dispose()}),X.each(this.layers,r=>{ni(r.view),r.exportableView&&ni(r.exportableView)}),ni(this._ghostLayer.view),ni(this._patternCanvas)})),this._disposers.push(v.onZoom(()=>{null==i&&(this.resolution=window.devicePixelRatio)})),v.supports("touchevents")){const r=a=>{0!==this._dragging.length&&X.eachContinue(this._dragging,l=>!l.value.shouldCancelTouch()||(a.preventDefault(),!1)),this._touchActiveTimeout&&this._delayTouchDeactivate()};this._disposers.push(v.addEventListener(window,"touchstart",r,{passive:!1})),this._disposers.push(v.addEventListener(this.view,"touchstart",r,{passive:!1})),this._disposers.push(v.addEventListener(this.view,"touchmove",()=>{this._touchActiveTimeout&&this._delayTouchDeactivate()},{passive:!0})),this._disposers.push(v.addEventListener(window,"click",a=>{this._touchActive=!1},{passive:!0})),this._disposers.push(v.addEventListener(this.view,"click",a=>{window.setTimeout(()=>{this._touchActive=!0,this._delayTouchDeactivate()},100)},{passive:!0}))}v.supports("wheelevents")&&this._disposers.push(v.addEventListener(this.view,"wheel",r=>{let a=!1;this._hovering.forEach(l=>{if(l.wheelable)return a=!0,!1}),a&&r.preventDefault()},{passive:!1}))}_delayTouchDeactivate(){this._touchActiveTimeout&&clearTimeout(this._touchActiveTimeout),this.tapToActivateTimeout>0&&(this._touchActiveTimeout=window.setTimeout(()=>{this._touchActive=!1},this.tapToActivateTimeout))}get debugGhostView(){return!!this._ghostLayer.view.parentNode}set debugGhostView(i){i?this._ghostLayer.view.parentNode||this.view.appendChild(this._ghostLayer.view):this._ghostLayer.view.parentNode&&this._ghostLayer.view.parentNode.removeChild(this._ghostLayer.view)}createLinearGradient(i,r,a,l){return this.defaultLayer.context.createLinearGradient(i,r,a,l)}createRadialGradient(i,r,a,l,m,f){return this.defaultLayer.context.createRadialGradient(i,r,a,l,m,f)}createPattern(i,r,a,l,m){return this._patternCanvas.width=l,this._patternCanvas.height=m,this._patternContext.clearRect(0,0,l,m),r.renderDetached(this._patternContext),i.renderDetached(this._patternContext),this._patternContext.createPattern(this._patternCanvas,a)}makeContainer(){return new Vi(this)}makeGraphics(){return new Ps(this)}makeText(i,r){return new ji(this,i,r)}makeTextStyle(){return new gi}makeRadialText(i,r){return new Mi(this,i,r)}makePicture(i){return new Ci(this,i)}resizeLayer(i){i.resize(this._canvasWidth,this._canvasHeight,this._domWidth,this._domHeight,this.resolution)}resizeGhost(){this._ghostLayer.resize(this._canvasWidth,this._canvasHeight,this._domWidth,this._domHeight,this.resolution)}resize(i,r,a,l){this._canvasWidth=i,this._canvasHeight=r,this._domWidth=a,this._domHeight=l,X.each(this.layers,m=>{m&&(m.dirty=!0,this.resizeLayer(m))}),this.resizeGhost(),this.view.style.width=a+"px",this.view.style.height=l+"px"}createDetachedLayer(i=!1){const r=document.createElement("canvas"),a=r.getContext("2d",{willReadFrequently:i}),l=new Ni(r,a);return r.style.position="absolute",r.style.top="0px",r.style.left="0px",l}getLayerByOrder(i){const r=this.layers,a=r.length;for(let l=0;l<a;l++){const m=r[l];if(m.order==i)return m}}getLayer(i,r=!0){let a=this.getLayerByOrder(i);if(a)return a;const l=this.createDetachedLayer(99==i);l.order=i,l.visible=r,l.visible&&this.resizeLayer(l);const m=this.layers;m.push(l),m.sort((L,re)=>L.order>re.order?1:L.order<re.order?-1:0);const f=m.length;let Y;for(let L=X.indexOf(m,l)+1;L<f;L++)if(m[L].visible){Y=m[L];break}return l.visible&&(void 0===Y?this._layerDom.appendChild(l.view):this._layerDom.insertBefore(l.view,Y.view)),l}render(i){if(this._dirtyLayers.length=0,X.each(this.layers,r=>{r&&r.dirty&&r.visible&&(this._dirtyLayers.push(r),r.clear())}),this._ghostLayer.clear(),i.render(this.defaultLayer),this._ghostLayer.context.restore(),X.each(this.layers,r=>{if(r){const a=r.context;a.beginPath(),a.moveTo(0,0),a.stroke()}}),X.each(this._dirtyLayers,r=>{r.context.restore(),r.dirty=!1}),this._hovering.size&&this._lastPointerMoveEvent){const{events:r,target:a,native:l}=this._lastPointerMoveEvent;X.each(r,m=>{this._dispatchGlobalMousemove(m,a,l)})}}paintId(i){const r=function as($){const i=[0,0,0];for(let r=0;r<24;r++)i[r%3]<<=1,i[r%3]|=1&$,$>>=1;return(0|i[2])+(i[1]<<8)+(i[0]<<16)}(++this._colorId),a=He.Il.fromHex(r).toCSS();return this._colorMap[a]=i,a}_removeObject(i){void 0!==i._colorId&&delete this._colorMap[i._colorId]}_adjustBoundingBox(i){const r=this._ghostLayer.margin;return new DOMRect(i.left-r.left,i.top-r.top,i.width+r.left+r.right,i.height+r.top+r.bottom)}getEvent(i,r=!0){const a=this.view.getBoundingClientRect(),l={x:i.clientX||0,y:i.clientY||0};return new ls(i,l,{x:l.x-(r?a.left:0),y:l.y-(r?a.top:0)},this._adjustBoundingBox(a))}_getHitTarget(i,r,a){if(0===r.width||0===r.height||i.x<r.left||i.x>r.right||i.y<r.top||i.y>r.bottom||!a||!this._layerDom.contains(a))return;const l=this._ghostLayer.getImageData(i,r);if(0===l.data[0]&&0===l.data[1]&&0===l.data[2])return!1;const m=He.Il.fromRGB(l.data[0],l.data[1],l.data[2]).toCSS();return this._colorMap[m]}_withEvents(i,r){const a=this._events[i];if(void 0!==a){a.dispatching=!0;try{r(a)}finally{a.dispatching=!1,a.cleanup&&(a.cleanup=!1,X.keepIf(a.callbacks,l=>!l.disposed),0===a.callbacks.length&&(a.disposer.dispose(),delete this._events[i]))}}}_dispatchEventAll(i,r){this.interactionsEnabled&&this._withEvents(i,a=>{X.each(a.callbacks,l=>{l.disposed||l.callback.call(l.context,r)})})}_dispatchEvent(i,r,a){if(!this.interactionsEnabled)return!1;let l=!1;return this._withEvents(i,m=>{X.each(m.callbacks,f=>{!f.disposed&&f.object===r&&(f.callback.call(f.context,a),l=!0)})}),l}_dispatchMousedown(i,r){const a=i.button;if(0!=a&&2!=a&&1!=a&&void 0!==a)return;const l=this.getEvent(i),m=this._getHitTarget(l.originalPoint,l.bbox,r);if(m){const f=l.id;let _=!1;vi(m,Y=>{const L={id:f,value:Y};return this._mousedown.push(L),!_&&this._dispatchEvent("pointerdown",Y,l)&&(_=!0,this._dragging.some(G=>G.value===Y&&G.id===f)||this._dragging.push(L)),!0})}}_dispatchGlobalMousemove(i,r,a){const l=this.getEvent(i),m=this._getHitTarget(l.originalPoint,l.bbox,r);l.native=a,m?(this._hovering.forEach(f=>{f.contains(m)||(this._hovering.delete(f),f.cursorOverStyle&&v.setStyle(document.body,"cursor",f._replacedCursorStyle),this._dispatchEvent("pointerout",f,l))}),l.native&&vi(m,f=>(this._hovering.has(f)||(this._hovering.add(f),f.cursorOverStyle&&(f._replacedCursorStyle=v.getStyle(document.body,"cursor"),v.setStyle(document.body,"cursor",f.cursorOverStyle)),this._dispatchEvent("pointerover",f,l)),!0))):(this._hovering.forEach(f=>{f.cursorOverStyle&&v.setStyle(document.body,"cursor",f._replacedCursorStyle),this._dispatchEvent("pointerout",f,l)}),this._hovering.clear()),this._dispatchEventAll("globalpointermove",l)}_dispatchGlobalMouseup(i,r){const a=this.getEvent(i);a.native=r,this._dispatchEventAll("globalpointerup",a)}_dispatchDragMove(i){if(0!==this._dragging.length){const r=this.getEvent(i),a=r.id;this._dragging.forEach(l=>{l.id===a&&this._dispatchEvent("pointermove",l.value,r)})}}_dispatchDragEnd(i,r){const a=i.button;let l;if(0==a||void 0===a)l="click";else if(2==a)l="rightclick";else{if(1!=a)return;l="middleclick"}const m=this.getEvent(i),f=m.id;if(0!==this._mousedown.length){const _=this._getHitTarget(m.originalPoint,m.bbox,r);_&&this._mousedown.forEach(Y=>{Y.id===f&&Y.value.contains(_)&&this._dispatchEvent(l,Y.value,m)}),this._mousedown.length=0}0!==this._dragging.length&&(this._dragging.forEach(_=>{_.id===f&&this._dispatchEvent("pointerup",_.value,m)}),this._dragging.length=0)}_dispatchDoubleClick(i,r){const a=this.getEvent(i),l=this._getHitTarget(a.originalPoint,a.bbox,r);l&&vi(l,m=>!this._dispatchEvent("dblclick",m,a))}_dispatchWheel(i,r){const a=this.getEvent(i),l=this._getHitTarget(a.originalPoint,a.bbox,r);l&&vi(l,m=>!this._dispatchEvent("wheel",m,a))}_makeSharedEvent(i,r){if(void 0===this._listeners[i]){const a=r();this._listeners[i]=new ce.DM(()=>{delete this._listeners[i],a.dispose()})}return this._listeners[i].increment()}_onPointerEvent(i,r){let a=!1,l=null;function m(){l=null,a=!1}return new ce.FV([new ce.ku(()=>{null!==l&&clearTimeout(l),m()}),v.addEventListener(this.view,v.getRendererEvent(i),f=>{a=!0,null!==l&&clearTimeout(l),l=window.setTimeout(m,0)}),Ri(window,i,(f,_)=>{null!==l&&(clearTimeout(l),l=null),r(f,_,a),a=!1})])}_initEvent(i){switch(i){case"globalpointermove":case"pointerover":case"pointerout":return this._makeSharedEvent("pointermove",()=>{const r=(a,l,m)=>{this._lastPointerMoveEvent={events:a,target:l,native:m},X.each(a,f=>{this._dispatchGlobalMousemove(f,l,m)})};return new ce.FV([this._onPointerEvent("pointerdown",r),this._onPointerEvent("pointermove",r)])});case"globalpointerup":return this._makeSharedEvent("pointerup",()=>{const r=this._onPointerEvent("pointerup",(l,m,f)=>{X.each(l,_=>{this._dispatchGlobalMouseup(_,f)}),this._lastPointerMoveEvent={events:l,target:m,native:f}}),a=this._onPointerEvent("pointercancel",(l,m,f)=>{X.each(l,_=>{this._dispatchGlobalMouseup(_,f)}),this._lastPointerMoveEvent={events:l,target:m,native:f}});return new ce.ku(()=>{r.dispose(),a.dispose()})});case"click":case"rightclick":case"middleclick":case"pointerdown":case"pointermove":case"pointerup":return this._makeSharedEvent("pointerdown",()=>{const r=this._onPointerEvent("pointerdown",(f,_)=>{X.each(f,Y=>{this._dispatchMousedown(Y,_)})}),a=this._onPointerEvent("pointermove",f=>{X.each(f,_=>{this._dispatchDragMove(_)})}),l=this._onPointerEvent("pointerup",(f,_)=>{X.each(f,Y=>{this._dispatchDragEnd(Y,_)})}),m=this._onPointerEvent("pointercancel",(f,_)=>{X.each(f,Y=>{this._dispatchDragEnd(Y,_)})});return new ce.ku(()=>{r.dispose(),a.dispose(),l.dispose(),m.dispose()})});case"dblclick":return this._makeSharedEvent("dblclick",()=>this._onPointerEvent("dblclick",(r,a)=>{X.each(r,l=>{this._dispatchDoubleClick(l,a)})}));case"wheel":return this._makeSharedEvent("wheel",()=>v.addEventListener(window,v.getRendererEvent("wheel"),r=>{this._dispatchWheel(r,v.getEventTarget(r))},{passive:!1}))}}_addEvent(i,r,a,l){let m=this._events[r];void 0===m&&(m=this._events[r]={disposer:this._initEvent(r),callbacks:[],dispatching:!1,cleanup:!1});const f={object:i,context:l,callback:a,disposed:!1};return m.callbacks.push(f),new ce.ku(()=>{f.disposed=!0,m.dispatching?m.cleanup=!0:(X.removeFirst(m.callbacks,f),0===m.callbacks.length&&(m.disposer.dispose(),delete this._events[r]))})}getCanvas(i,r){this.render(i),r||(r={});let a=this.resolution,l=Math.floor(this._canvasWidth*this.resolution),m=Math.floor(this._canvasHeight*this.resolution);if(r.minWidth&&r.minWidth>l){let A=r.minWidth/l;A>a&&(a=A*this.resolution)}if(r.minHeight&&r.minHeight>m){let A=r.minHeight/m;A>a&&(a=A*this.resolution)}if(r.maxWidth&&r.maxWidth<l){let A=r.maxWidth/l;A<a&&(a=A*this.resolution)}if(r.maxHeight&&r.maxHeight>m){let A=r.maxHeight/m;A<a&&(a=A*this.resolution)}r.maintainPixelRatio&&(a/=this.resolution);const f=[];let _=!1;const Y=document.createElement("canvas");a!=this.resolution&&(_=!0,l=l*a/this.resolution,m=m*a/this.resolution),Y.width=l,Y.height=m,Y.style.position="fixed",Y.style.top="-10000px",this.view.appendChild(Y),f.push(Y);const L=Y.getContext("2d");let re=0,G=0,ie=!1;return X.each(this.layers,A=>{if(A&&A.visible&&(A.tainted||_)){ie=!0,A.exportableView=A.view,A.exportableContext=A.context,A.view=document.createElement("canvas"),A.view.style.position="fixed",A.view.style.top="-10000px",this.view.appendChild(A.view),f.push(A.view);let Ce=0,O=0;A.margin&&(Ce+=A.margin.left||0+A.margin.right||0,O+=A.margin.top||0+A.margin.bottom||0),A.view.width=l+Ce,A.view.height=m+O,A.context=A.view.getContext("2d"),A.dirty=!0,A.scale=a}}),ie&&(this._omitTainted=!0,this.render(i),this._omitTainted=!1),X.each(this.layers,A=>{if(A&&A.visible){let Ce=0,O=0;A.margin&&(Ce=-(A.margin.left||0)*this.resolution,O=-(A.margin.top||0)*this.resolution),L.drawImage(A.view,Ce,O),A.exportableView&&(A.view=A.exportableView,A.exportableView=void 0),A.exportableContext&&(A.context=A.exportableContext,A.exportableContext=void 0),re<A.view.clientWidth&&(re=A.view.clientWidth),G<A.view.clientHeight&&(G=A.view.clientHeight),A.scale=void 0}}),Y.style.width=re+"px",Y.style.height=G+"px",X.each(f,A=>{A.style.position="",A.style.top="",this.view.removeChild(A)}),Y}}class Si{constructor(){Object.defineProperty(this,"view",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"context",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"margin",{enumerable:!0,configurable:!0,writable:!0,value:{left:0,right:0,top:0,bottom:0}}),Object.defineProperty(this,"_width",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_height",{enumerable:!0,configurable:!0,writable:!0,value:0}),this.view=document.createElement("canvas"),this.context=this.view.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.context.imageSmoothingEnabled=!1,this.view.style.position="absolute",this.view.style.top="0px",this.view.style.left="0px"}resize(i,r,a,l,m){i+=this.margin.left+this.margin.right,r+=this.margin.top+this.margin.bottom,a+=this.margin.left+this.margin.right,l+=this.margin.top+this.margin.bottom,this.view.style.left=-this.margin.left+"px",this.view.style.top=-this.margin.top+"px",this._width=Math.floor(i*m),this._height=Math.floor(r*m),this.view.width=this._width,this.view.style.width=a+"px",this.view.height=this._height,this.view.style.height=l+"px"}getImageData(i,r){return this.context.getImageData(Math.round((i.x-r.left)/r.width*this._width),Math.round((i.y-r.top)/r.height*this._height),1,1)}setMargin(i){this.margin.left=0,this.margin.right=0,this.margin.top=0,this.margin.bottom=0,X.each(i,r=>{r.margin&&(this.margin.left=Math.max(this.margin.left,r.margin.left),this.margin.right=Math.max(this.margin.right,r.margin.right),this.margin.top=Math.max(this.margin.top,r.margin.top),this.margin.bottom=Math.max(this.margin.bottom,r.margin.bottom))})}clear(){this.context.save(),this.context.fillStyle="#000",this.context.fillRect(0,0,this._width,this._height)}}class Ni{constructor(i,r){Object.defineProperty(this,"view",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"context",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tainted",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"margin",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"order",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"visible",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"scale",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"dirty",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"exportableView",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"exportableContext",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_width",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_height",{enumerable:!0,configurable:!0,writable:!0,value:0}),this.view=i,this.context=r}resize(i,r,a,l,m){null!=this.width&&(i=this.width,a=this.width),null!=this.height&&(r=this.height,l=this.height),this.margin?(i+=this.margin.left+this.margin.right,r+=this.margin.top+this.margin.bottom,a+=this.margin.left+this.margin.right,l+=this.margin.top+this.margin.bottom,this.view.style.left=-this.margin.left+"px",this.view.style.top=-this.margin.top+"px"):(this.view.style.left="0px",this.view.style.top="0px"),this._width=Math.floor(i*m),this._height=Math.floor(r*m),this.view.width=this._width,this.view.style.width=a+"px",this.view.height=this._height,this.view.style.height=l+"px"}clear(){this.context.save(),this.context.clearRect(0,0,this._width,this._height)}}var er=I(8018),Ai=I(5411),Ls=I(4178);function Bi($,i){null==$?requestAnimationFrame(i):setTimeout(()=>{requestAnimationFrame(i)},1e3/$)}class ee{constructor(i,r={},a){if(Object.defineProperty(this,"dom",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_inner",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_isDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_isDirtyParents",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dirty",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_dirtyParents",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_dirtyBounds",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_dirtyPositions",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_ticker",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"_tickers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_updateTick",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:new Qe.p}),Object.defineProperty(this,"animationTime",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"_animations",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_renderer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_rootContainer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"container",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tooltipContainer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipContainerSettings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltip",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"language",{enumerable:!0,configurable:!0,writable:!0,value:ft.new(this,{})}),Object.defineProperty(this,"locale",{enumerable:!0,configurable:!0,writable:!0,value:Ee.default}),Object.defineProperty(this,"utc",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"timezone",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fps",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"numberFormatter",{enumerable:!0,configurable:!0,writable:!0,value:_e.e.new(this,{})}),Object.defineProperty(this,"dateFormatter",{enumerable:!0,configurable:!0,writable:!0,value:pe.new(this,{})}),Object.defineProperty(this,"durationFormatter",{enumerable:!0,configurable:!0,writable:!0,value:ut.new(this,{})}),Object.defineProperty(this,"tabindex",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_tabindexes",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_a11yD",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_focusElementDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_focusElementContainer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_focusedSprite",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_isShift",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_keyboardDragPoint",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipElementContainer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_readerAlertElement",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_logo",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipDiv",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"nonce",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"interfaceColors",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"verticalLayout",{enumerable:!0,configurable:!0,writable:!0,value:ue.Z.new(this,{})}),Object.defineProperty(this,"horizontalLayout",{enumerable:!0,configurable:!0,writable:!0,value:be.G.new(this,{})}),Object.defineProperty(this,"gridLayout",{enumerable:!0,configurable:!0,writable:!0,value:R.M.new(this,{})}),Object.defineProperty(this,"_paused",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"autoResize",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"_fontHash",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"_isDisposed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_disposers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_resizeSensorDisposer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltips",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_htmlElementContainer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_htmlEnabledContainers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),!a)throw new Error("You cannot use `new Class()`, instead use `Class.new()`");let l,m;if(this._settings=r,0==r.accessible&&(this._a11yD=!0),null==r.useSafeResolution&&(r.useSafeResolution=!0),r.useSafeResolution&&(l=v.getSafeResolution()),this._renderer=new Ki(l),m=i instanceof HTMLElement?i:document.getElementById(i),X.each(Ai.i_.rootElements,Y=>{if(Y.dom===m)throw new Error("You cannot have multiple Roots on the same DOM node")}),this.interfaceColors=le.new(this,{}),null===m)throw new Error("Could not find HTML element with id `"+i+"`");this.dom=m;let f=document.createElement("div");f.style.position="relative",f.style.height="100%",m.appendChild(f);const _=r.tooltipContainerBounds;_&&(this._tooltipContainerSettings=_),this._inner=f,this._updateComputedStyles(),Ai.i_.rootElements.push(this)}static new(i,r){const a=new ee(i,r,!0);return a._init(),a}moveDOM(i){let r;if(r=i instanceof HTMLElement?i:document.getElementById(i),r){for(;this.dom.childNodes.length>0;)r.appendChild(this.dom.childNodes[0]);this.dom=r,this._initResizeSensor(),this.resize()}}_handleLogo(){this._logo&&(this.dom.offsetWidth<=150||this.dom.offsetHeight<=60?this._logo.hide():this._logo.show())}_showBranding(){if(!this._logo){const i=this.tooltipContainer.children.push(z.W.new(this,{interactive:!0,interactiveChildren:!1,position:"absolute",setStateOnChildren:!0,paddingTop:9,paddingRight:9,paddingBottom:9,paddingLeft:9,scale:.6,y:(0,je.aQ)(100),centerY:je.AQ,tooltipText:"Created using amCharts 5",tooltipX:je.AQ,cursorOverStyle:"pointer",background:U.A.new(this,{fill:(0,He.$_)(4671320),fillOpacity:0,tooltipY:5})})),r=j.u.new(this,{pointerOrientation:"horizontal",paddingTop:4,paddingRight:7,paddingBottom:4,paddingLeft:7});r.label.setAll({fontSize:12}),r.get("background").setAll({fill:this.interfaceColors.get("background"),stroke:this.interfaceColors.get("grid"),strokeOpacity:.3}),i.set("tooltip",r),i.events.on("click",()=>{window.open("https://www.amcharts.com/","_blank")}),i.states.create("hover",{}),i.children.push(M.T.new(this,{stroke:(0,He.$_)(13421772),strokeWidth:3,svgPath:"M5 25 L13 25h13.6c3.4 0 6 0 10.3-4.3s5.2-12 8.6-12c3.4 0 4.3 8.6 7.7 8.6M83.4 25H79.8c-3.4 0-6 0-10.3-4.3s-5.2-12-8.6-12-4.3 8.6-7.7 8.6"})).states.create("hover",{stroke:(0,He.$_)(3976191)}),i.children.push(M.T.new(this,{stroke:(0,He.$_)(8947848),strokeWidth:3,svgPath:"M83.4 25h-31C37 25 39.5 4.4 28.4 4.4S18.9 24.2 4.3 25H0"})).states.create("hover",{stroke:(0,He.$_)(4671320)}),this._logo=i,this._handleLogo()}}_getRealSize(){return this.dom.getBoundingClientRect()}_getCalculatedSize(i){return this._settings.calculateSize?this._settings.calculateSize(i):{width:i.width,height:i.height}}_init(){const i=this._settings;!1!==i.accessible&&(i.focusable&&(this._inner.setAttribute("focusable","true"),this._inner.setAttribute("tabindex",this.tabindex+"")),i.ariaLabel&&this._inner.setAttribute("aria-label",i.ariaLabel));const r=this._renderer,a=this._getRealSize(),l=this._getCalculatedSize(a),m=Math.floor(l.width),f=Math.floor(l.height),_=Math.floor(a.width),Y=Math.floor(a.height),L=z.W.new(this,{visible:!0,width:_,height:Y});this._rootContainer=L,this._rootContainer._defaultThemes.push(pt.X.new(this));const re=L.children.push(z.W.new(this,{visible:!0,width:je.AQ,height:je.AQ}));this.container=re,r.resize(_,Y,m,f),this._inner.appendChild(r.view),this._initResizeSensor();const G=document.createElement("div");if(this._htmlElementContainer=G,G.className="am5-html-container",G.style.position="absolute",G.style.pointerEvents="none",this._tooltipContainerSettings||(G.style.overflow="hidden"),this._inner.appendChild(G),!0!==this._a11yD){const ie=document.createElement("div");ie.className="am5-reader-container",ie.setAttribute("role","alert"),ie.style.position="absolute",ie.style.width="1px",ie.style.height="1px",ie.style.overflow="hidden",ie.style.clip="rect(1px, 1px, 1px, 1px)",this._readerAlertElement=ie,this._inner.appendChild(this._readerAlertElement);const A=document.createElement("div");A.className="am5-focus-container",A.style.position="absolute",A.style.pointerEvents="none",A.style.top="0px",A.style.left="0px",A.style.overflow="hidden",A.style.width=m+"px",A.style.height=f+"px",A.setAttribute("role","graphics-document"),v.setInteractive(A,!1),this._focusElementContainer=A,this._inner.appendChild(this._focusElementContainer);const Ce=document.createElement("div");this._tooltipElementContainer=Ce,Ce.className="am5-tooltip-container",this._inner.appendChild(Ce),v.supports("keyboardevents")&&(this._disposers.push(v.addEventListener(window,"keydown",O=>{16==O.keyCode?this._isShift=!0:9==O.keyCode&&(this._isShift=O.shiftKey)})),this._disposers.push(v.addEventListener(window,"keyup",O=>{16==O.keyCode&&(this._isShift=!1)})),this._disposers.push(v.addEventListener(A,"keydown",O=>{const Te=this._focusedSprite;if(Te){27==O.keyCode&&(v.blur(),this._focusedSprite=void 0);let me=0,Be=0;switch(O.keyCode){case 13:O.preventDefault();const Ae=r.getEvent(new MouseEvent("click"));return void Te.events.dispatch("click",{type:"click",originalEvent:Ae.event,point:Ae.point,simulated:!0,target:Te});case 37:me=-6;break;case 39:me=6;break;case 38:Be=-6;break;case 40:Be=6;break;default:return}if(0!=me||0!=Be){if(O.preventDefault(),!Te.isDragging()){this._keyboardDragPoint={x:0,y:0};const We=r.getEvent(new MouseEvent("mousedown",{clientX:0,clientY:0}));Te.events.isEnabled("pointerdown")&&Te.events.dispatch("pointerdown",{type:"pointerdown",originalEvent:We.event,point:We.point,simulated:!0,target:Te})}const Ae=this._keyboardDragPoint;Ae.x+=me,Ae.y+=Be;const De=r.getEvent(new MouseEvent("mousemove",{clientX:Ae.x,clientY:Ae.y}),!1);Te.events.isEnabled("globalpointermove")&&Te.events.dispatch("globalpointermove",{type:"globalpointermove",originalEvent:De.event,point:De.point,simulated:!0,target:Te})}}})),this._disposers.push(v.addEventListener(A,"keyup",O=>{if(this._focusedSprite){const Te=this._focusedSprite,me=O.keyCode;switch(me){case 37:case 39:case 38:case 40:if(Te.isDragging()){const Be=this._keyboardDragPoint,Ae=r.getEvent(new MouseEvent("mouseup",{clientX:Be.x,clientY:Be.y}));return Te.events.isEnabled("globalpointerup")&&Te.events.dispatch("globalpointerup",{type:"globalpointerup",originalEvent:Ae.event,point:Ae.point,simulated:!0,target:Te}),void(this._keyboardDragPoint=void 0)}if(Te.get("focusableGroup")){const Be=Te.get("focusableGroup"),Ae=this._tabindexes.filter(st=>st.get("focusableGroup")==Be&&!1!==st.getPrivate("focusable"));let De=Ae.indexOf(Te);const We=Ae.length-1;De+=39==me||40==me?1:-1,De<0?De=We:De>We&&(De=0),v.focus(Ae[De].getPrivate("focusElement").dom)}}}})))}this._startTicker(),this.setThemes([]),this._addTooltip(),this._hasLicense()||this._showBranding()}_initResizeSensor(){this._resizeSensorDisposer&&this._resizeSensorDisposer.dispose(),this._resizeSensorDisposer=new P(this.dom,()=>{this.autoResize&&this.resize()}),this._disposers.push(this._resizeSensorDisposer)}resize(){const i=this._getRealSize(),r=this._getCalculatedSize(i),a=Math.floor(r.width),l=Math.floor(r.height);if(a>0&&l>0){const m=Math.floor(i.width),f=Math.floor(i.height),_=this._htmlElementContainer;if(_.style.width=a+"px",_.style.height=l+"px",!0!==this._a11yD){const L=this._focusElementContainer;L.style.width=a+"px",L.style.height=l+"px"}this._renderer.resize(m,f,a,l);const Y=this._rootContainer;Y.setPrivate("width",m),Y.setPrivate("height",f),this._render(),this._handleLogo()}}_render(){this._renderer.render(this._rootContainer._display),this._focusElementDirty&&(this._updateCurrentFocus(),this._focusElementDirty=!1)}_runTickers(i){X.each(this._tickers,r=>{r(i)})}_runAnimations(i){X.keepIf(this._animations,r=>r._runAnimation(i))}_runDirties(){let i={};for(;this._isDirtyParents;)this._isDirtyParents=!1,it.keys(this._dirtyParents).forEach(f=>{const _=this._dirtyParents[f];delete this._dirtyParents[f],_.isDisposed()||(i[_.uid]=_,_._prepareChildren())});it.keys(i).forEach(f=>{i[f]._updateChildren()});const r=[];it.keys(this._dirty).forEach(f=>{const _=this._dirty[f];_.isDisposed()?delete this._dirty[_.uid]:(r.push(_),_._beforeChanged())}),r.forEach(f=>{f._changed(),delete this._dirty[f.uid],f._clearDirty()}),this._isDirty=!1;const a={},l=[];it.keys(this._dirtyBounds).forEach(f=>{const _=this._dirtyBounds[f];delete this._dirtyBounds[f],_.isDisposed()||(a[_.uid]=_.depth(),l.push(_))}),this._positionHTMLElements(),l.sort((f,_)=>Ls.qu(a[_.uid],a[f.uid])),l.forEach(f=>{f._updateBounds()});const m=this._dirtyPositions;it.keys(m).forEach(f=>{const _=m[f];delete m[f],_.isDisposed()||_._updatePosition()}),r.forEach(f=>{f._afterChanged()})}_renderFrame(i){return!this._updateTick||(this.events.isEnabled("framestarted")&&this.events.dispatch("framestarted",{type:"framestarted",target:this,timestamp:i}),this._checkComputedStyles(),this._runTickers(i),this._runAnimations(i),this._runDirties(),this._render(),this._positionHTMLElements(),this.events.isEnabled("frameended")&&this.events.dispatch("frameended",{type:"frameended",target:this,timestamp:i}),0===this._tickers.length&&0===this._animations.length&&!this._isDirty)}_runTicker(i,r){this.isDisposed()||(this.animationTime=i,this._renderFrame(i)?(this._ticker=null,this.animationTime=null):this._paused||r||Bi(this.fps,this._ticker))}_runTickerNow(i=1e4){if(!this.isDisposed()){const r=performance.now()+i;for(;;){const a=performance.now();if(a>=r){this.animationTime=null;break}if(this.animationTime=a,this._renderFrame(a)){this.animationTime=null;break}}}}_startTicker(){null===this._ticker&&(this.animationTime=null,this._ticker=i=>{this._runTicker(i)},Bi(this.fps,this._ticker))}get updateTick(){return this._updateTick}set updateTick(i){this._updateTick=i,i&&this._startTicker()}_addDirtyEntity(i){void 0===this._dirty[i.uid]&&(this._isDirty=!0,this._dirty[i.uid]=i,this._startTicker())}_addDirtyParent(i){void 0===this._dirtyParents[i.uid]&&(this._isDirty=!0,this._isDirtyParents=!0,this._dirtyParents[i.uid]=i,this._startTicker())}_addDirtyBounds(i){void 0===this._dirtyBounds[i.uid]&&(this._isDirty=!0,this._dirtyBounds[i.uid]=i,this._startTicker())}_addDirtyPosition(i){void 0===this._dirtyPositions[i.uid]&&(this._isDirty=!0,this._dirtyPositions[i.uid]=i,this._startTicker())}_addAnimation(i){-1===this._animations.indexOf(i)&&(this._animations.push(i),this._startTicker())}_markDirty(){this._isDirty=!0}_markDirtyRedraw(){this.events.once("frameended",()=>{this._isDirty=!0,this._startTicker()})}eachFrame(i){return this._tickers.push(i),this._startTicker(),new ce.ku(()=>{X.removeFirst(this._tickers,i)})}markDirtyGlobal(i){i||(i=this.container),i.walkChildren(r=>{r instanceof z.W&&this.markDirtyGlobal(r),r.markDirty(),r.markDirtyBounds()})}width(){return Math.floor(this._getCalculatedSize(this._getRealSize()).width)}height(){return Math.floor(this._getCalculatedSize(this._getRealSize()).height)}dispose(){this._isDisposed||(this._isDisposed=!0,this._rootContainer.dispose(),this._renderer.dispose(),this.horizontalLayout.dispose(),this.verticalLayout.dispose(),this.interfaceColors.dispose(),X.each(this._disposers,i=>{i.dispose()}),this._inner&&v.removeElement(this._inner),X.remove(Ai.i_.rootElements,this))}isDisposed(){return this._isDisposed}readerAlert(i){!0!==this._a11yD&&(this._readerAlertElement.innerHTML=v.stripTags(i))}setThemes(i){this._rootContainer.set("themes",i);const r=this.tooltipContainer;r&&r._applyThemes();const a=this.interfaceColors;a&&a._applyThemes()}_addTooltip(){if(!this.tooltipContainer){const i=this._tooltipContainerSettings,r=this._rootContainer.children.push(z.W.new(this,{position:"absolute",isMeasured:!1,width:je.AQ,height:je.AQ,layer:i?35:30,layerMargin:i||void 0}));this.tooltipContainer=r;const a=j.u.new(this,{});this.container.set("tooltip",a),a.hide(0),this._tooltip=a}}_registerTabindexOrder(i){1!=this._a11yD&&(i.get("focusable")?X.pushOne(this._tabindexes,i):X.remove(this._tabindexes,i),this._invalidateTabindexes())}_unregisterTabindexOrder(i){1!=this._a11yD&&(X.remove(this._tabindexes,i),this._invalidateTabindexes())}_invalidateTabindexes(){if(1==this._a11yD)return;this._tabindexes.sort((r,a)=>{const l=r.get("tabindexOrder",0),m=a.get("tabindexOrder",0);return l==m?0:l>m?1:-1});const i=[];X.each(this._tabindexes,(r,a)=>{r.getPrivate("focusElement")?this._moveFocusElement(a,r):this._makeFocusElement(a,r);const l=r.get("focusableGroup");l&&!1!==r.getPrivate("focusable")&&(-1!==i.indexOf(l)?r.getPrivate("focusElement").dom.setAttribute("tabindex","-1"):i.push(l))})}_updateCurrentFocus(){1!=this._a11yD&&this._focusedSprite&&(this._decorateFocusElement(this._focusedSprite),this._positionFocusElement(this._focusedSprite))}_decorateFocusElement(i,r){if(1==this._a11yD||(r||(r=i.getPrivate("focusElement").dom),!r))return;i.get("visible")&&"tooltip"!=i.get("role")&&!i.isHidden()&&!1!==i.getPrivate("focusable")?"-1"!=r.getAttribute("tabindex")&&r.setAttribute("tabindex",""+this.tabindex):r.removeAttribute("tabindex");const a=i.get("role");a?r.setAttribute("role",a):r.removeAttribute("role");const l=i.get("ariaLabel");if(l){const A=(0,er.q)(i,l);r.setAttribute("aria-label",A)}else r.removeAttribute("aria-label");const m=i.get("ariaLive");m?r.setAttribute("aria-live",m):r.removeAttribute("aria-live");const f=i.get("ariaChecked");null!=f?r.setAttribute("aria-checked",f?"true":"false"):r.removeAttribute("aria-checked"),i.get("ariaHidden")?r.setAttribute("aria-hidden","hidden"):r.removeAttribute("aria-hidden");const _=i.get("ariaOrientation");_?r.setAttribute("aria-orientation",_):r.removeAttribute("aria-orientation");const Y=i.get("ariaValueNow");Y?r.setAttribute("aria-valuenow",Y):r.removeAttribute("aria-valuenow");const L=i.get("ariaValueMin");L?r.setAttribute("aria-valuemin",L):r.removeAttribute("aria-valuemin");const re=i.get("ariaValueMax");re?r.setAttribute("aria-valuemax",re):r.removeAttribute("aria-valuemax");const G=i.get("ariaValueText");G?r.setAttribute("aria-valuetext",G):r.removeAttribute("aria-valuetext");const ie=i.get("ariaControls");ie?r.setAttribute("aria-controls",ie):r.removeAttribute("aria-controls")}_makeFocusElement(i,r){if(r.getPrivate("focusElement")||1==this._a11yD)return;const a=document.createElement("div");"tooltip"!=r.get("role")&&(a.tabIndex=this.tabindex),a.style.position="absolute",v.setInteractive(a,!1);const l=[];r.setPrivate("focusElement",{dom:a,disposers:l}),this._decorateFocusElement(r),l.push(v.addEventListener(a,"focus",m=>{this._handleFocus(m,i)})),l.push(v.addEventListener(a,"blur",m=>{this._handleBlur(m,i)})),this._moveFocusElement(i,r)}_removeFocusElement(i){if(1==this._a11yD)return;X.remove(this._tabindexes,i);const r=i.getPrivate("focusElement");r&&(this._focusElementContainer.removeChild(r.dom),X.each(r.disposers,l=>{l.dispose()}))}_hideFocusElement(i){1!=this._a11yD&&(i.getPrivate("focusElement").dom.style.display="none")}_moveFocusElement(i,r){if(1==this._a11yD)return;const a=this._focusElementContainer,l=r.getPrivate("focusElement").dom;if(l===this._focusElementContainer.children[i])return;const m=this._focusElementContainer.children[i+1];m?a.insertBefore(l,m):a.append(l)}_positionFocusElement(i){if(1==this._a11yD)return;const r=i.globalBounds();let a=r.right==r.left?i.width():r.right-r.left,l=r.top==r.bottom?i.height():r.bottom-r.top,m=r.left-2,f=r.top-2;a<0&&(m+=a,a=Math.abs(a)),l<0&&(f+=l,l=Math.abs(l));const _=i.getPrivate("focusElement").dom;_.style.top=f+"px",_.style.left=m+"px",_.style.width=a+4+"px",_.style.height=l+4+"px"}_handleFocus(i,r){if(1==this._a11yD)return;const a=this._tabindexes[r];a.isVisibleDeep()?(this._positionFocusElement(a),this._focusedSprite=a,a.events.isEnabled("focus")&&a.events.dispatch("focus",{type:"focus",originalEvent:i,target:a})):this._focusNext(i.target,this._isShift?-1:1)}_focusNext(i,r){if(1==this._a11yD)return;const a=Array.from(document.querySelectorAll(["a[href]","area[href]","button:not([disabled])","details","input:not([disabled])","iframe:not([disabled])","select:not([disabled])","textarea:not([disabled])",'[contentEditable=""]','[contentEditable="true"]','[contentEditable="TRUE"]','[tabindex]:not([tabindex^="-"])'].join(",")));let l=a.indexOf(i)+r;l<0?l=a.length-1:l>=a.length&&(l=0),a[l].focus()}_handleBlur(i,r){if(1==this._a11yD)return;const a=this._focusedSprite;a&&a.events.isEnabled("blur")&&a.events.dispatch("blur",{type:"blur",originalEvent:i,target:a}),this._focusedSprite=void 0}updateTooltip(i){if(1==this._a11yD)return;const r=v.stripTags(i._getText());let a=i.getPrivate("tooltipElement");"tooltip"==i.get("role")&&""!=r?(a||(a=this._makeTooltipElement(i)),a.innerHTML!=r&&(a.innerHTML=r)):a&&(a.remove(),i.removePrivate("tooltipElement"))}_makeTooltipElement(i){const r=this._tooltipElementContainer,a=document.createElement("div");return a.style.position="absolute",a.style.width="1px",a.style.height="1px",a.style.overflow="hidden",a.style.clip="rect(1px, 1px, 1px, 1px)",v.setInteractive(a,!1),this._decorateFocusElement(i,a),r.append(a),i.setPrivate("tooltipElement",a),a}_removeTooltipElement(i){if(1==this._a11yD)return;const r=i.getPrivate("tooltipElement");if(r){const a=r.parentElement;a&&a.removeChild(r)}}_invalidateAccessibility(i){if(1==this._a11yD)return;this._focusElementDirty=!0;const r=i.getPrivate("focusElement");i.get("focusable")?r&&(this._decorateFocusElement(i),this._positionFocusElement(i)):r&&this._removeFocusElement(i)}focused(i){return this._focusedSprite===i}documentPointToRoot(i){const r=this.dom.getBoundingClientRect();return{x:i.x-r.left,y:i.y-r.top}}rootPointToDocument(i){const r=this.dom.getBoundingClientRect();return{x:i.x+r.left,y:i.y+r.top}}addDisposer(i){return this._disposers.push(i),i}_updateComputedStyles(){const i=window.getComputedStyle(this.dom);let r="";it.each(i,(l,m)=>{ye.isString(l)&&l.match(/^font/)&&(r+=m)});const a=r!=this._fontHash;return a&&(this._fontHash=r),a}_checkComputedStyles(){this._updateComputedStyles()&&this._invalidateLabelBounds(this.container)}_invalidateLabelBounds(i){i instanceof z.W?i.children.each(r=>{this._invalidateLabelBounds(r)}):i instanceof we.x&&i.markDirtyBounds()}_hasLicense(){for(let i=0;i<Ai.i_.licenses.length;i++)if(Ai.i_.licenses[i].match(/^AM5C.{5,}/i))return!0;return!1}_licenseApplied(){this._logo&&this._logo.set("forceHidden",!0)}get debugGhostView(){return this._renderer.debugGhostView}set debugGhostView(i){this._renderer.debugGhostView=i}set tapToActivate(i){this._renderer.tapToActivate=i}get tapToActivate(){return this._renderer.tapToActivate}set tapToActivateTimeout(i){this._renderer.tapToActivateTimeout=i}get tapToActivateTimeout(){return this._renderer.tapToActivateTimeout}_makeHTMLElement(i){const r=this._htmlElementContainer,a=document.createElement("div");return i.setPrivate("htmlElement",a),a.style.position="absolute",a.style.overflow="auto",a.style.boxSizing="border-box",v.setInteractive(a,i.get("interactive",!1)),i.events.isEnabled("click")&&(v.setInteractive(a,!0),this._disposers.push(v.addEventListener(a,"click",l=>{const m=this._renderer.getEvent(l);i.events.dispatch("click",{type:"click",originalEvent:m.event,point:m.point,simulated:!1,target:i})}))),this._positionHTMLElement(i),r.append(a),X.pushOne(this._htmlEnabledContainers,i),a}_positionHTMLElements(){X.each(this._htmlEnabledContainers,i=>{this._positionHTMLElement(i)})}_positionHTMLElement(i){const r=i.getPrivate("htmlElement");if(r){X.each(["paddingTop","paddingRight","paddingBottom","paddingLeft","minWidth","minHeight","maxWidth","maxHeight"],G=>{const ie=i.get(G);r.style[G]=ie?ie+"px":""});const l=i.compositeOpacity();setTimeout(()=>{r.style.opacity=l+""},10);const m=i.isVisibleDeep();m&&(r.style.display="block");const f=i.globalBounds();r.style.top=f.top+"px",r.style.left=f.left+"px";const _=i.get("width"),Y=i.get("height");let L=0,re=0;if(_&&(L=i.width()),Y&&(re=i.height()),_&&Y)i.removePrivate("minWidth"),i.removePrivate("minHeight");else{r.style.position="fixed",r.style.width="",r.style.height="";const G=r.getBoundingClientRect();r.style.position="absolute",L=G.width,re=G.height,i._adjustedLocalBounds={left:0,right:0,top:0,bottom:0},i.setPrivate("minWidth",L),i.setPrivate("minHeight",re)}L>0&&(r.style.minWidth=L+"px"),re>0&&(r.style.minHeight=re+"px"),(!m||0==l)&&(r.style.display="none")}}_setHTMLContent(i,r){let a=i.getPrivate("htmlElement");a||(a=this._makeHTMLElement(i)),a.innerHTML!=r&&(a.innerHTML=r)}_removeHTMLContent(i){let r=i.getPrivate("htmlElement");r&&this._htmlElementContainer.removeChild(r),X.remove(this._htmlEnabledContainers,i)}}var e=I(5013);let t;class o extends W.JH{_afterNew(){super._afterNewApplyThemes(),this._setRawDefault("deactivateRoot",!0),function s($,i,r){const a=i.interfaceColors,l=a.get("secondaryButton").toCSS(),m=a.get("text").toCSS(),f=a.get("alternativeBackground").toCSS(.45);if(!t){const _=new ce.FV([new v.StyleRule($,".am5-modal",{width:"100%",height:"100%",position:"absolute","z-index":"100000",top:"0",left:"0"}),new v.StyleRule($,".am5-modal-curtain",{top:"0",left:"0",width:"100%",height:"100%",position:"absolute",background:a.get("background").toCSS(.5),"z-index":"100"}),new v.StyleRule($,".am5-modal-wrapper",{top:"0",left:"0",width:"100%",height:"100%",position:"absolute","text-align":"center","white-space":"nowrap",background:a.get("background").toCSS(.5),"z-index":"101"}),new v.StyleRule($,".am5-modal-wrapper:before",{content:"''",display:"inline-block",height:"100%","vertical-align":"middle","margin-right":"-0.25em"}),new v.StyleRule($,".am5-modal-content",{display:"inline-block",padding:"1.2em","vertical-align":"middle","text-align":"left","white-space":"normal",background:a.get("background").toCSS(),"border-radius":"4px","-webkit-box-shadow":"0px 0px 36px 0px "+f,"box-shadow":"0px 0px 36px 0px "+f,color:m}),new v.StyleRule($,".am5-modal-content h1",{"font-size":"1em",margin:"0 0 0.5em 0"}),new v.StyleRule($,".am5-modal-table",{display:"table",margin:"1em 0"}),new v.StyleRule($,".am5-modal-table-row",{display:"table-row"}),new v.StyleRule($,".am5-modal-table-heading",{display:"table-heading",padding:"3px 10px 3px 0"}),new v.StyleRule($,".am5-modal-table-cell",{display:"table-cell",padding:"3px 0 3px 0"}),new v.StyleRule($,".am5-modal-table-cell > *",{"vertical-align":"middle"}),new v.StyleRule($,".am5-modal-content input[type=text], .am5-modal-content input[type=number], .am5-modal-content select",{border:"1px solid "+l,"border-radius":"4px",padding:"3px 5px",margin:"2px"}),new v.StyleRule($,".am5-modal-input-narrow",{width:"50px"}),new v.StyleRule($,".am5-modal-button",{"font-weight":"400",color:a.get("secondaryButtonText").toCSS(),"line-height":"1.5","text-align":"center","text-decoration":"none","vertical-align":"middle",cursor:"pointer",padding:"0.2em 0.8em","font-size":"1em","border-radius":"0.25em",margin:"0 0.25em 0 0",border:"1px solid "+a.get("secondaryButtonStroke").toCSS(),background:a.get("secondaryButton").toCSS()}),new v.StyleRule($,".am5-modal-button:hover",{background:a.get("secondaryButtonHover").toCSS()}),new v.StyleRule($,".am5-modal-button.am5-modal-primary",{color:a.get("primaryButtonText").toCSS(),border:"1px solid "+a.get("primaryButtonStroke").toCSS(),background:a.get("primaryButton").toCSS()}),new v.StyleRule($,".am5-modal-button.am5-modal-primary:hover",{background:a.get("primaryButtonHover").toCSS()})]);t=new ce.DM(()=>{t=void 0,_.dispose()})}t.increment()}(v.getShadowRoot(this._root.dom),this._root);const i=document.createElement("div");i.className="am5-modal",i.style.display="none",this.root._inner.appendChild(i),this.setPrivate("container",i);const r=document.createElement("div");r.className="am5-modal-curtain",i.appendChild(r),this.setPrivate("curtain",r),this._disposers.push(v.addEventListener(r,"click",()=>{this.cancel()}));const a=document.createElement("div");a.className="am5-modal-wrapper",i.appendChild(a),this.setPrivate("wrapper",a);const l=document.createElement("div");l.className="am5-modal-content",a.appendChild(l),this.setPrivate("content",l);const m=this.get("content");m&&(l.innerHTML=m),v.supports("keyboardevents")&&this._disposers.push(v.addEventListener(document,"keydown",f=>{this.isOpen()&&27==f.keyCode&&this.cancel()}))}_beforeChanged(){super._beforeChanged(),this.isDirty("content")&&(this.getPrivate("content").innerHTML=this.get("content",""))}isOpen(){return"none"!=this.getPrivate("container").style.display}open(){this.getPrivate("container").style.display="block",this.get("deactivateRoot")&&this.setTimeout(()=>{this._root._renderer.interactionsEnabled=!1},10),this.events.dispatch("opened",{type:"opened",target:this})}close(){this.getPrivate("container").style.display="none",this.get("deactivateRoot")&&(this._root._renderer.interactionsEnabled=!0),this.events.dispatch("closed",{type:"closed",target:this})}cancel(){this.getPrivate("container").style.display="none",this.get("deactivateRoot")&&(this._root._renderer.interactionsEnabled=!0),this.events.dispatch("cancelled",{type:"cancelled",target:this})}dispose(){super.dispose(),this.root.dom.removeChild(this.getPrivate("container"))}}Object.defineProperty(o,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Modal"}),Object.defineProperty(o,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:W.JH.classNames.concat([o.className])});var c=I(6095),p=I(4618),g=I(1578);class b extends M.T{constructor(){super(...arguments),Object.defineProperty(this,"morphAnimation",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_beforeChanged(){if(super._beforeChanged(),this.isDirty("coordinates")){const i=[],r=this.get("coordinates");r&&X.each(r,a=>{i.push({x:a[0],y:a[1]})}),this.set("points",i)}if(this.isPrivateDirty("points")&&(this._clear=!0),this.isDirty("points")){this._clear=!0;const i=this.get("points"),r=this._prevSettings.points;if(r){if(i){let _=X.copy(i),Y=X.copy(r),L=_.length,re=Y.length;if(L>re){let G=X.copy(_);for(let ie=0;ie<L;ie++){let A=Math.floor(ie/L*re);G[ie]={x:Y[A].x,y:Y[A].y}}Y=G}else if(re>L){let G=X.copy(Y);for(let ie=0;ie<re;ie++){let A=Math.floor(ie/re*L);G[ie]={x:_[A].x,y:_[A].y}}_=G}this.setPrivateRaw("previousPoints",Y),this.setPrivateRaw("points",_),this.morphAnimation=this.animatePrivate({key:"morphProgress",from:0,to:1,duration:this.get("animationDuration",0),easing:this.get("animationEasing")})}}else this.setPrivateRaw("previousPoints",i),this.setPrivateRaw("points",i);let a=1/0,l=-1/0,m=1/0,f=-1/0;if(i)for(let _=1,Y=i.length;_<Y;_++){const L=i[_];a=Math.min(a,L.x),l=Math.max(l,L.x),m=Math.min(m,L.y),f=Math.max(f,L.y)}this.setPrivate("minX",a),this.setPrivate("maxX",l),this.setPrivate("minY",m),this.setPrivate("maxY",m)}this.isPrivateDirty("morphProgress")&&(this._clear=!0)}_changed(){super._changed(),this._clear&&this._draw()}_draw(){const i=this.getPrivate("previousPoints"),r=this.getPrivate("points"),a=this.getPrivate("morphProgress",1);if(r&&i){const l=r[0],m=i[0];l&&this._display.moveTo(m.x+(l.x-m.x)*a,m.y+(l.y-m.y)*a);for(let f=1,_=r.length;f<_;f++){const Y=r[f],L=i[f];this._display.lineTo(L.x+(Y.x-L.x)*a,L.y+(Y.y-L.y)*a)}this._display.closePath()}}_updateSize(){this.markDirty(),this._clear=!0}}Object.defineProperty(b,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Polygon"}),Object.defineProperty(b,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:M.T.classNames.concat([b.className])});class w extends M.T{_beforeChanged(){super._beforeChanged(),(this.isDirty("radiusX")||this.isDirty("radiusY")||this.isDirty("rotation"))&&(this._clear=!0)}_changed(){super._changed(),this._clear&&this._display.drawEllipse(0,0,Math.abs(this.get("radiusX")),Math.abs(this.get("radiusY")))}}Object.defineProperty(w,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Ellipse"}),Object.defineProperty(w,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:M.T.classNames.concat([w.className])});class T extends M.T{_beforeChanged(){super._beforeChanged(),(this.isDirty("radius")||this.isDirty("innerRadius")||this.isDirty("spikes"))&&(this._clear=!0)}_changed(){if(super._changed(),this._clear){const i=this._display,r=this.get("radius",0),a=v.relativeToValue(this.get("innerRadius",0),r),l=this.get("spikes",0),m=Math.PI/l;let f=Math.PI/2*3;i.moveTo(0,-r);for(let _=0;_<l;_++)i.lineTo(Math.cos(f)*r,Math.sin(f)*r),f+=m,i.lineTo(Math.cos(f)*a,Math.sin(f)*a),f+=m;i.lineTo(0,-r),i.closePath()}}}Object.defineProperty(T,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Star"}),Object.defineProperty(T,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:M.T.classNames.concat([T.className])});var x=I(7313),C=I(1262),Q=I(867),J=I(1371),q=I(434);class K extends W.JH{_afterNew(){super._afterNewApplyThemes()}getFill(i){return{addColorStop:(r,a)=>{}}}_changed(){super._changed()}getBounds(i){const r=this.get("target");if(r){let a=r.globalBounds();const l=i.toLocal({x:a.left,y:a.top}),m=i.toLocal({x:a.right,y:a.top}),f=i.toLocal({x:a.right,y:a.bottom}),_=i.toLocal({x:a.left,y:a.bottom});return{left:Math.min(l.x,m.x,f.x,_.x),top:Math.min(l.y,m.y,f.y,_.y),right:Math.max(l.x,m.x,f.x,_.x),bottom:Math.max(l.y,m.y,f.y,_.y)}}return i._display.getLocalBounds()}}Object.defineProperty(K,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Gradient"}),Object.defineProperty(K,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:W.JH.classNames.concat([K.className])});class ne extends K{getFill(i){const r=this.get("rotation",0);let a=this.getBounds(i),l=a.left||0,m=a.right||0,f=a.top||0,_=a.bottom||0,Y=Ue.cos(r),L=Ue.sin(r),ie=Math.max(Y*(m-l),L*(_-f));const A=this._root._renderer.createLinearGradient(l,f,l+ie*Y,f+ie*L),Ce=this.get("stops");if(Ce){let O=0;X.each(Ce,Te=>{let me=Te.offset;ye.isNumber(me)||(me=O/(Ce.length-1));let Be=Te.opacity;ye.isNumber(Be)||(Be=1);let Ae=Te.color;if(Ae){const De=Te.lighten;De&&(Ae=He.Il.lighten(Ae,De));const We=Te.brighten;We&&(Ae=He.Il.brighten(Ae,We)),A.addColorStop(me,"rgba("+Ae.r+","+Ae.g+","+Ae.b+","+Be+")")}O++})}return A}}Object.defineProperty(ne,"className",{enumerable:!0,configurable:!0,writable:!0,value:"LinearGradient"}),Object.defineProperty(ne,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:K.classNames.concat([ne.className])});class ge extends z.W{constructor(){super(...arguments),Object.defineProperty(this,"labelContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(z.W.new(this._root,{}))}),Object.defineProperty(this,"markerContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(z.W.new(this._root,{}))}),Object.defineProperty(this,"startLabel",{enumerable:!0,configurable:!0,writable:!0,value:this.labelContainer.children.push(C._.new(this._root,{themeTags:["start"]}))}),Object.defineProperty(this,"endLabel",{enumerable:!0,configurable:!0,writable:!0,value:this.labelContainer.children.push(C._.new(this._root,{themeTags:["end"]}))}),Object.defineProperty(this,"markers",{enumerable:!0,configurable:!0,writable:!0,value:new q.o(J.YS.new({}),()=>Q.c._new(this._root,{themeTags:v.mergeTags(this.markers.template.get("themeTags",[]),[this.get("orientation"),"heatlegend","marker"])},[this.markers.template]))})}_afterNew(){this._settings.themeTags=v.mergeTags(this._settings.themeTags,["heatlegend",this._settings.orientation]),super._afterNew(),this.set("tooltip",j.u.new(this._root,{themeTags:["heatlegend"]}))}makeMarker(){const i=this.markers.make();return i.states.create("disabled",{}),i}showValue(i,r,a){const l=this.getTooltip();if(l&&ye.isNumber(i)){const m=this.get("startValue",0),_=(i-m)/(this.get("endValue",1)-m),Y=this.get("startColor"),L=this.get("endColor");let re;r||(r=this.getNumberFormatter().format(i)),a||(a=He.Il.interpolate(_,Y,L)),l.label.set("text",r),re="vertical"==this.get("orientation")?this.markerContainer.toGlobal({x:0,y:this.innerHeight()*(1-_)}):this.markerContainer.toGlobal({x:this.innerWidth()*_,y:0});let G=l.get("background");G&&G.set("fill",He.Il.interpolate(_,Y,L)),l.set("pointTo",re),l.show()}}_prepareChildren(){super._prepareChildren();const i=this.labelContainer,r=this.get("orientation"),a=this.startLabel,l=this.endLabel,m=this.getTooltip();if(this.isDirty("orientation")&&("vertical"==r?(this.markerContainer.setAll({layout:this._root.verticalLayout,height:je.AQ}),this.set("layout",this._root.horizontalLayout),a.setAll({y:je.AQ,x:void 0,centerY:je.AQ,centerX:je.AQ}),l.setAll({y:0,x:void 0,centerY:0,centerX:je.AQ}),i.setAll({height:je.AQ,width:void 0}),m&&m.set("pointerOrientation","horizontal")):(this.markerContainer.setAll({layout:this._root.horizontalLayout,width:je.AQ}),this.set("layout",this._root.verticalLayout),a.setAll({x:0,y:void 0,centerX:0,centerY:0}),l.setAll({x:je.AQ,y:void 0,centerX:je.AQ,centerY:0}),i.setAll({width:je.AQ,height:void 0}),m&&m.set("pointerOrientation","vertical"))),this.isDirty("stepCount")){const f=this.get("stepCount",1),_=this.get("startColor"),Y=this.get("endColor");if(this.markerContainer.children.clear(),f>1)for(let L=0;L<f;L++){const re=this.makeMarker();"vertical"==r?this.markerContainer.children.moveValue(re,0):this.markerContainer.children.push(re),_&&Y&&re.set("fill",He.Il.interpolate(L/f,_,Y))}else if(1==f){const L=this.makeMarker();this.markerContainer.children.push(L);const re=ne.new(this._root,{stops:[{color:_},{color:Y}]});if("vertical"==r){re.set("rotation",90);let G=re.get("stops");G&&G.reverse()}else re.set("rotation",0);_&&Y&&L.set("fillGradient",re)}}(this.isDirty("startText")||this.isDirty("startValue"))&&a.set("text",this.get("startText",this.getNumberFormatter().format(this.get("startValue",0)))),(this.isDirty("endText")||this.isDirty("endValue"))&&l.set("text",this.get("endText",this.getNumberFormatter().format(this.get("endValue",1))))}}Object.defineProperty(ge,"className",{enumerable:!0,configurable:!0,writable:!0,value:"HeatLegend"}),Object.defineProperty(ge,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:z.W.classNames.concat([ge.className])});var ae=I(7591),fe=I(3164);class ve extends fe.F{constructor(){super(...arguments),Object.defineProperty(this,"itemContainers",{enumerable:!0,configurable:!0,writable:!0,value:new q.o(J.YS.new({}),()=>z.W._new(this._root,{themeTags:v.mergeTags(this.itemContainers.template.get("themeTags",[]),["legend","item"]),themeTagsSelf:v.mergeTags(this.itemContainers.template.get("themeTagsSelf",[]),["itemcontainer"]),background:Q.c.new(this._root,{themeTags:v.mergeTags(this.itemContainers.template.get("themeTags",[]),["legend","item","background"]),themeTagsSelf:v.mergeTags(this.itemContainers.template.get("themeTagsSelf",[]),["itemcontainer"])})},[this.itemContainers.template]))}),Object.defineProperty(this,"markers",{enumerable:!0,configurable:!0,writable:!0,value:new q.o(J.YS.new({}),()=>z.W._new(this._root,{themeTags:v.mergeTags(this.markers.template.get("themeTags",[]),["legend","marker"])},[this.markers.template]))}),Object.defineProperty(this,"labels",{enumerable:!0,configurable:!0,writable:!0,value:new q.o(J.YS.new({}),()=>C._._new(this._root,{themeTags:v.mergeTags(this.labels.template.get("themeTags",[]),["legend","label"])},[this.labels.template]))}),Object.defineProperty(this,"valueLabels",{enumerable:!0,configurable:!0,writable:!0,value:new q.o(J.YS.new({}),()=>C._._new(this._root,{themeTags:v.mergeTags(this.valueLabels.template.get("themeTags",[]),["legend","label","value"])},[this.valueLabels.template]))}),Object.defineProperty(this,"markerRectangles",{enumerable:!0,configurable:!0,writable:!0,value:new q.o(J.YS.new({}),()=>Q.c._new(this._root,{themeTags:v.mergeTags(this.markerRectangles.template.get("themeTags",[]),["legend","marker","rectangle"])},[this.markerRectangles.template]))})}_afterNew(){this._settings.themeTags=v.mergeTags(this._settings.themeTags,["legend"]),this.fields.push("name","stroke","fill"),super._afterNew()}makeItemContainer(i){const r=this.children.push(this.itemContainers.make());return r._setDataItem(i),this.itemContainers.push(r),r.states.create("disabled",{}),r}makeMarker(){const i=this.markers.make();return this.markers.push(i),i.states.create("disabled",{}),i}makeLabel(){const i=this.labels.make();return i.states.create("disabled",{}),i}makeValueLabel(){const i=this.valueLabels.make();return i.states.create("disabled",{}),i}makeMarkerRectangle(){const i=this.markerRectangles.make();return i.states.create("disabled",{}),i}processDataItem(i){super.processDataItem(i);const r=this.makeItemContainer(i),a=this.get("nameField"),l=this.get("fillField"),m=this.get("strokeField");if(r){const f=this.get("clickTarget","itemContainer"),_=i.dataContext;_&&_.set&&_.set("legendDataItem",i),r._setDataItem(i),i.set("itemContainer",r);const Y=this.makeMarker();if(Y){r.children.push(Y),Y._setDataItem(i),i.set("marker",Y);const G=this.get("useDefaultMarker"),ie=Y.children.push(this.makeMarkerRectangle());let A=i.get("fill"),Ce=i.get("stroke");i.set("markerRectangle",ie),_&&_.get&&(A=_.get(l,A),Ce=_.get(m,Ce)),Ce||(Ce=A),G?_.on&&(_.on(l,()=>{ie.set("fill",_.get(l))}),_.on(m,()=>{ie.set("stroke",_.get(m))})):_&&_.createLegendMarker&&_.createLegendMarker(),ie.setAll({fill:A,stroke:Ce});const O=_.component;O&&O.updateLegendMarker&&O.updateLegendMarker(_)}const L=this.makeLabel();if(L){r.children.push(L),L._setDataItem(i),i.set("label",L),L.text.on("text",()=>{r.setRaw("ariaLabel",L.text._getText()+("none"!==this.get("clickTarget")?"; "+this._t("Press ENTER to toggle"):"")),r.markDirtyAccessibility()}),_&&_.get&&i.set("name",_.get(a));let G=i.get("name");G&&L.set("text",G)}const re=this.makeValueLabel();if(re&&(r.children.push(re),re._setDataItem(i),i.set("valueLabel",re)),_&&_.show&&(_.on("visible",G=>{r.set("disabled",!G)}),_.get("visible")||r.set("disabled",!0),"none"!=f)){let G=r;"marker"==f&&(G=Y),this._addClickEvents(G,_,i)}this.children.values.sort((G,ie)=>{const A=G.dataItem.dataContext,Ce=ie.dataItem.dataContext;if(A&&Ce){const O=this.data.indexOf(A),Te=this.data.indexOf(Ce);if(O>Te)return 1;if(O<Te)return-1}return 0}),_&&_.updateLegendValue&&_.updateLegendValue()}}_addClickEvents(i,r,a){i.set("cursorOverStyle","pointer"),i.events.on("pointerover",()=>{const l=r.component;l&&l.hoverDataItem&&l.hoverDataItem(r)}),i.events.on("pointerout",()=>{const l=r.component;l&&l.hoverDataItem&&l.unhoverDataItem(r)}),i.events.on("click",()=>{const l=a.get("label").text._getText();r.show&&r.isHidden&&(r.isHidden()||!1===r.get("visible"))?(r.show(),i.set("disabled",!1),this._root.readerAlert(this._t("%1 shown",this._root.locale,l))):r.hide&&(r.hide(),i.set("disabled",!0),this._root.readerAlert(this._t("%1 hidden",this._root.locale,l)))})}disposeDataItem(i){super.disposeDataItem(i);const r=i.dataContext;r&&r.get&&r.get("legendDataItem")==i&&r.set("legendDataItem",void 0);let a=i.get("itemContainer");a&&(this.itemContainers.removeValue(a),a.dispose());let l=i.get("marker");l&&(this.markers.removeValue(l),l.dispose());let m=i.get("markerRectangle");m&&(this.markerRectangles.removeValue(m),m.dispose());let f=i.get("label");f&&(this.labels.removeValue(f),f.dispose());let _=i.get("valueLabel");_&&(this.valueLabels.removeValue(_),_.dispose())}}Object.defineProperty(ve,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Legend"}),Object.defineProperty(ve,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:fe.F.classNames.concat([ve.className])});var Pe=I(6606),Ze=I(6290);class Ye extends Ze.j{constructor(){super(...arguments),Object.defineProperty(this,"_display",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makePicture(void 0)})}_changed(){if(super._changed(),this.isDirty("width")){const i=this.get("width");this._display.width=ye.isNumber(i)?i:void 0}if(this.isDirty("height")){const i=this.get("height");this._display.height=ye.isNumber(i)?i:void 0}if(this.isDirty("shadowColor")){this._display.clear();const i=this.get("shadowColor");this._display.shadowColor=i??void 0}this.isDirty("shadowBlur")&&(this._display.clear(),this._display.shadowBlur=this.get("shadowBlur")),this.isDirty("shadowOffsetX")&&(this._display.clear(),this._display.shadowOffsetX=this.get("shadowOffsetX")),this.isDirty("shadowOffsetY")&&(this._display.clear(),this._display.shadowOffsetY=this.get("shadowOffsetY")),this.isDirty("shadowOpacity")&&(this._display.clear(),this._display.shadowOpacity=this.get("shadowOpacity")),(this.isDirty("src")||this.isDirty("cors"))&&(this._display.clear(),this._load())}_load(){const i=this.get("src");if(i){let r="loaded";const a=new Image;a.crossOrigin=this.get("cors","anonymous"),a.src=i,a.decode().then(()=>{this._display.image=a,this._updateSize()}).catch(l=>{r="loaderror"}),this.events.isEnabled(r)&&this.events.dispatch(r,{type:r,target:this})}}_updateSize(){super._updateSize();const i=this._display.image;if(i){let r=this.getPrivate("width",this.get("width")),a=this.getPrivate("height",this.get("height"));const l=i.width&&i.height?i.width/i.height:0;ye.isNumber(r)&&ye.isNumber(a)?(this._display.width=r,this._display.height=a):ye.isNumber(r)&&l?a=r/l:ye.isNumber(a)&&l?r=a*l:(r=i.width,a=i.height),ye.isNumber(r)&&(this._display.width=r),ye.isNumber(a)&&(this._display.height=a),this.markDirtyBounds(),this.markDirty()}}}Object.defineProperty(Ye,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Picture"}),Object.defineProperty(Ye,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Ze.j.classNames.concat([Ye.className])});var rt=I(7707),Fe=I(9005),qe=I(8490);class nt extends M.T{_beforeChanged(){super._beforeChanged(),(this.isDirty("width")||this.isDirty("height")||this.isPrivateDirty("width")||this.isPrivateDirty("height"))&&(this._clear=!0)}_changed(){super._changed(),this._clear&&!this.get("draw")&&this._draw()}_draw(){const i=this.width(),r=this.height(),a=this._display;a.moveTo(-i/2,r/2),a.lineTo(0,-r/2),a.lineTo(i/2,r/2),a.lineTo(-i/2,r/2),a.closePath()}_updateSize(){this.markDirty(),this._clear=!0}}Object.defineProperty(nt,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Triangle"}),Object.defineProperty(nt,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:M.T.classNames.concat([nt.className])});var Bt=I(4248);class It extends Bt.L{_afterNew(){this._addOrientationClass(),super._afterNew(),this.endGrip.setPrivate("visible",!1),this.thumb.setPrivate("visible",!1)}updateGrips(){super.updateGrips();const i=this.startGrip;this.endGrip.setAll({x:i.x(),y:i.y()}),this.setRaw("end",this.get("start"))}}Object.defineProperty(It,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Slider"}),Object.defineProperty(It,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Bt.L.classNames.concat([It.className])});var Lt=I(6979);const bt=Math.abs,Je=Math.atan2,at=Math.cos,et=Math.max,Oi=Math.min,ei=Math.sin,xi=Math.sqrt,Pt=1e-12,Qt=Math.PI,ki=Qt/2,St=2*Qt;function $i($){return $>=1?ki:$<=-1?-ki:Math.asin($)}var Rs=I(5831);function tr($){return $.innerRadius}function ir($){return $.outerRadius}function pr($){return $.startAngle}function Ys($){return $.endAngle}function Xs($){return $&&$.padAngle}function Ts($,i,r,a,l,m,f){var _=$-r,Y=i-a,L=(f?m:-m)/xi(_*_+Y*Y),re=L*Y,G=-L*_,ie=$+re,A=i+G,Ce=r+re,O=a+G,Te=(ie+Ce)/2,me=(A+O)/2,Be=Ce-ie,Ae=O-A,De=Be*Be+Ae*Ae,We=l-m,st=ie*O-Ce*A,gt=(Ae<0?-1:1)*xi(et(0,We*We*De-st*st)),xt=(st*Ae-Be*gt)/De,Tt=(-st*Be-Ae*gt)/De,lt=(st*Ae+Be*gt)/De,_t=(-st*Be+Ae*gt)/De,Dt=xt-Te,Ge=Tt-me,ot=lt-Te,ct=_t-me;return Dt*Dt+Ge*Ge>ot*ot+ct*ct&&(xt=lt,Tt=_t),{cx:xt,cy:Tt,x01:-re,y01:-G,x11:xt*(l/We-1),y11:Tt*(l/We-1)}}function zs(){var $=tr,i=ir,r=(0,Lt.Z)(0),a=null,l=pr,m=Ys,f=Xs,_=null,Y=(0,Rs.d)(L);function L(){var re,G,ie=+$.apply(this,arguments),A=+i.apply(this,arguments),Ce=l.apply(this,arguments)-ki,O=m.apply(this,arguments)-ki,Te=bt(O-Ce),me=O>Ce;if(_||(_=re=Y()),A<ie&&(G=A,A=ie,ie=G),A>Pt)if(Te>St-Pt)_.moveTo(A*at(Ce),A*ei(Ce)),_.arc(0,0,A,Ce,O,!me),ie>Pt&&(_.moveTo(ie*at(O),ie*ei(O)),_.arc(0,0,ie,O,Ce,me));else{var Ge,ot,Be=Ce,Ae=O,De=Ce,We=O,st=Te,gt=Te,xt=f.apply(this,arguments)/2,Tt=xt>Pt&&(a?+a.apply(this,arguments):xi(ie*ie+A*A)),lt=Oi(bt(A-ie)/2,+r.apply(this,arguments)),_t=lt,Dt=lt;if(Tt>Pt){var ct=$i(Tt/ie*ei(xt)),ai=$i(Tt/A*ei(xt));(st-=2*ct)>Pt?(De+=ct*=me?1:-1,We-=ct):(st=0,De=We=(Ce+O)/2),(gt-=2*ai)>Pt?(Be+=ai*=me?1:-1,Ae-=ai):(gt=0,Be=Ae=(Ce+O)/2)}var ht=A*at(Be),Et=A*ei(Be),Gt=ie*at(We),Ut=ie*ei(We);if(lt>Pt){var ri,si=A*at(Ae),Vt=A*ei(Ae),ti=ie*at(De),Xi=ie*ei(De);if(Te<Qt)if(ri=function sr($,i,r,a,l,m,f,_){var Y=r-$,L=a-i,re=f-l,G=_-m,ie=G*Y-re*L;if(!(ie*ie<Pt))return[$+(ie=(re*(i-m)-G*($-l))/ie)*Y,i+ie*L]}(ht,Et,ti,Xi,si,Vt,Gt,Ut)){var es=ht-ri[0],js=Et-ri[1],Ns=si-ri[0],Ht=Vt-ri[1],Kt=1/ei(function Es($){return $>1?0:$<-1?Qt:Math.acos($)}((es*Ns+js*Ht)/(xi(es*es+js*js)*xi(Ns*Ns+Ht*Ht)))/2),$t=xi(ri[0]*ri[0]+ri[1]*ri[1]);_t=Oi(lt,(ie-$t)/(Kt-1)),Dt=Oi(lt,(A-$t)/(Kt+1))}else _t=Dt=0}gt>Pt?Dt>Pt?(Ge=Ts(ti,Xi,ht,Et,A,Dt,me),ot=Ts(si,Vt,Gt,Ut,A,Dt,me),_.moveTo(Ge.cx+Ge.x01,Ge.cy+Ge.y01),Dt<lt?_.arc(Ge.cx,Ge.cy,Dt,Je(Ge.y01,Ge.x01),Je(ot.y01,ot.x01),!me):(_.arc(Ge.cx,Ge.cy,Dt,Je(Ge.y01,Ge.x01),Je(Ge.y11,Ge.x11),!me),_.arc(0,0,A,Je(Ge.cy+Ge.y11,Ge.cx+Ge.x11),Je(ot.cy+ot.y11,ot.cx+ot.x11),!me),_.arc(ot.cx,ot.cy,Dt,Je(ot.y11,ot.x11),Je(ot.y01,ot.x01),!me))):(_.moveTo(ht,Et),_.arc(0,0,A,Be,Ae,!me)):_.moveTo(ht,Et),ie>Pt&&st>Pt?_t>Pt?(Ge=Ts(Gt,Ut,si,Vt,ie,-_t,me),ot=Ts(ht,Et,ti,Xi,ie,-_t,me),_.lineTo(Ge.cx+Ge.x01,Ge.cy+Ge.y01),_t<lt?_.arc(Ge.cx,Ge.cy,_t,Je(Ge.y01,Ge.x01),Je(ot.y01,ot.x01),!me):(_.arc(Ge.cx,Ge.cy,_t,Je(Ge.y01,Ge.x01),Je(Ge.y11,Ge.x11),!me),_.arc(0,0,ie,Je(Ge.cy+Ge.y11,Ge.cx+Ge.x11),Je(ot.cy+ot.y11,ot.cx+ot.x11),me),_.arc(ot.cx,ot.cy,_t,Je(ot.y11,ot.x11),Je(ot.y01,ot.x01),!me))):_.arc(0,0,ie,We,De,me):_.lineTo(Gt,Ut)}else _.moveTo(0,0);if(_.closePath(),re)return _=null,re+""||null}return L.centroid=function(){var re=(+$.apply(this,arguments)+ +i.apply(this,arguments))/2,G=(+l.apply(this,arguments)+ +m.apply(this,arguments))/2-Qt/2;return[at(G)*re,ei(G)*re]},L.innerRadius=function(re){return arguments.length?($="function"==typeof re?re:(0,Lt.Z)(+re),L):$},L.outerRadius=function(re){return arguments.length?(i="function"==typeof re?re:(0,Lt.Z)(+re),L):i},L.cornerRadius=function(re){return arguments.length?(r="function"==typeof re?re:(0,Lt.Z)(+re),L):r},L.padRadius=function(re){return arguments.length?(a=null==re?null:"function"==typeof re?re:(0,Lt.Z)(+re),L):a},L.startAngle=function(re){return arguments.length?(l="function"==typeof re?re:(0,Lt.Z)(+re),L):l},L.endAngle=function(re){return arguments.length?(m="function"==typeof re?re:(0,Lt.Z)(+re),L):m},L.padAngle=function(re){return arguments.length?(f="function"==typeof re?re:(0,Lt.Z)(+re),L):f},L.context=function(re){return arguments.length?(_=re??null,L):_},L}class us extends M.T{constructor(){super(...arguments),Object.defineProperty(this,"ix",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"iy",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_generator",{enumerable:!0,configurable:!0,writable:!0,value:zs()})}_getTooltipPoint(){let i=this.get("tooltipX"),r=this.get("tooltipY"),a=0,l=0;ye.isNumber(i)&&(a=i),ye.isNumber(r)&&(l=r);let m=this.get("radius",0),f=this.get("innerRadius",0);return m+=this.get("dRadius",0),f+=this.get("dInnerRadius",0),f<0&&(f=m+f),i instanceof je.gG&&(a=this.ix*(f+(m-f)*i.value)),r instanceof je.gG&&(l=this.iy*(f+(m-f)*r.value)),this.get("arc")>=360&&0==f&&(a=0,l=0),{x:a,y:l}}_beforeChanged(){super._beforeChanged(),(this.isDirty("radius")||this.isDirty("arc")||this.isDirty("innerRadius")||this.isDirty("startAngle")||this.isDirty("dRadius")||this.isDirty("dInnerRadius")||this.isDirty("cornerRadius"))&&(this._clear=!0)}_changed(){if(super._changed(),this._clear){let i=this.get("startAngle",0),r=this.get("arc",0);const a=this._generator;r<0&&(i+=r,r*=-1),r>.1&&a.cornerRadius(this.get("cornerRadius",0)),a.context(this._display);let l=this.get("radius",0),m=this.get("innerRadius",0);l+=this.get("dRadius",0),m+=this.get("dInnerRadius",0),m<0&&(m=l+m),a({innerRadius:m,outerRadius:l,startAngle:(i+90)*Ue.RADIANS,endAngle:(i+r+90)*Ue.RADIANS});let Y=i+r/2;this.ix=Ue.cos(Y),this.iy=Ue.sin(Y)}if(this.isDirty("shiftRadius")){const i=this.get("shiftRadius",0);this.setRaw("dx",this.ix*i),this.setRaw("dy",this.iy*i),this.markDirtyPosition()}}}Object.defineProperty(us,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Slice"}),Object.defineProperty(us,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:M.T.classNames.concat([us.className])});var Fi=I(6288),mr=I(3704),br=I(9879);class Ds extends K{getFill(i){const r=this.getBounds(i);let a=0,l=0;const L=(r.right||0)-(r.left||0),re=(r.bottom||0)-(r.top||0);let G=i.get("radius");ye.isNumber(G)?(a=0,l=0):(G=Math.min(L,re)/2,a=L/2,l=re/2);let ie=this.get("x"),A=this.get("y");null!=ie&&(a=v.relativeToValue(ie,L)),null!=A&&(l=v.relativeToValue(A,re));const Ce=this._root._renderer.createRadialGradient(a,l,0,a,l,G),O=this.get("stops");if(O){let Te=0;X.each(O,me=>{let Be=me.offset;ye.isNumber(Be)||(Be=Te/(O.length-1));let Ae=me.opacity;ye.isNumber(Ae)||(Ae=1);let De=me.color;if(De){const We=me.lighten;We&&(De=He.Il.lighten(De,We));const st=me.brighten;st&&(De=He.Il.brighten(De,st)),Ce.addColorStop(Be,"rgba("+De.r+","+De.g+","+De.b+","+Ae+")")}Te++})}return Ce}}Object.defineProperty(Ds,"className",{enumerable:!0,configurable:!0,writable:!0,value:"RadialGradient"}),Object.defineProperty(Ds,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:K.classNames.concat([Ds.className])});var Li=I(4555);class Ms extends Li.c{_beforeChanged(){super._beforeChanged(),this.isDirty("gap")&&(this._clear=!0)}_draw(){super._draw();const i=this.get("checkered",!1),r=this.get("centered",!0),a=this.get("gap",0),l=this.get("rotation",0);let m=this.get("width",100),f=this.get("height",100),_=this.get("radius",3),Y=2*_+a,L=2*_+a,re=Math.round(m/Y),G=Math.round(f/L);Y=m/re,L=f/G,0!=l&&(this._display.x=Y*Ue.cos(l),this._display.y=L*Ue.sin(l));const ie=this.get("color"),A=this.get("colorOpacity");(ie||A)&&this._display.beginFill(ie,A);for(let Ce=0==l?0:2*-G;Ce<2*G;Ce++)for(let O=0==l?0:2*-re;O<2*re;O++)if(!i||1!=(1&Ce)&&1!=(1&O)||1==(1&Ce)&&1==(1&O)){let Te=O*Y,me=Ce*L;r&&(Te+=Y+a/2,me+=L+a/2),this._display.drawCircle(Te-_,me-_,_)}i?(m=m/2-2*a,f=f/2-2*a):(m-=a,f-=a),(ie||A)&&this._display.endFill()}}Object.defineProperty(Ms,"className",{enumerable:!0,configurable:!0,writable:!0,value:"CirclePattern"}),Object.defineProperty(Ms,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Li.c.classNames.concat([Ms.className])});class hs extends Li.c{_beforeChanged(){super._beforeChanged(),this.isDirty("gap")&&(this._clear=!0)}_draw(){super._draw();const i=this.get("width",100),r=this.get("height",100),a=this.get("gap",0),l=this.get("strokeWidth",1);if(a){let _=a+l,Y=r/_;for(let L=-Y;L<2*Y;L++){const re=Math.round(L*_-_/2)+.5;this._display.moveTo(-i,re),this._display.lineTo(2*i,re)}}else this._display.moveTo(0,0),this._display.lineTo(i,0);this._display.lineStyle(l,this.get("color"),this.get("colorOpacity"));let m=this.get("strokeDasharray");ye.isNumber(m)&&(m=m<.5?[0]:[m]),this._display.setLineDash(m);const f=this.get("strokeDashoffset");f&&this._display.setLineDashOffset(f),this._display.endStroke()}}Object.defineProperty(hs,"className",{enumerable:!0,configurable:!0,writable:!0,value:"LinePattern"}),Object.defineProperty(hs,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Li.c.classNames.concat([hs.className])});var Gs=I(1701);class Yi extends Li.c{_beforeChanged(){super._beforeChanged(),this.isDirty("gap")&&(this._clear=!0)}_draw(){super._draw();const i=this.get("checkered",!1),r=this.get("centered",!0),a=this.get("gap",0),l=this.get("rotation",0);let m=this.get("width",100),f=this.get("height",100),_=this.get("maxWidth",5),Y=this.get("maxHeight",5),L=_+a,re=Y+a,G=Math.round(m/L),ie=Math.round(f/re);L=m/G,re=f/ie,0!=l&&(this._display.x=L/2*Ue.cos(l),this._display.y=-re/2*Ue.sin(l));for(let O=0==l?0:2*-ie;O<2*ie;O++)for(let Te=0==l?0:2*-G;Te<2*G;Te++)if(!i||1!=(1&O)&&1!=(1&Te)||1==(1&O)&&1==(1&Te)){let me=Te*L,Be=O*re;r&&(me+=(L-_)/2,Be+=(re-Y)/2),this._display.drawRect(me,Be,_,Y)}i?(m=m/2-2*a,f=f/2-2*a):(m-=a,f-=a);const A=this.get("color"),Ce=this.get("colorOpacity");(A||Ce)&&(this._display.beginFill(A,Ce),this._display.endFill())}}Object.defineProperty(Yi,"className",{enumerable:!0,configurable:!0,writable:!0,value:"RectanglePattern"}),Object.defineProperty(Yi,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Li.c.classNames.concat([Yi.className])});class Ji extends Li.c{_beforeChanged(){super._beforeChanged(),this.isDirty("svgPath")&&(this._clear=!0)}_draw(){super._draw();const i=this.get("svgPath");null!=i&&this._display.svgPath(i);const r=this.get("color"),a=this.get("colorOpacity");(r||a)&&(this._display.beginFill(r,a),this._display.endFill())}}Object.defineProperty(Ji,"className",{enumerable:!0,configurable:!0,writable:!0,value:"PathPattern"}),Object.defineProperty(Ji,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Li.c.classNames.concat([Ji.className])});var Is=I(2661),qi=I(1171);class Vs{static parse(i,r){r=this._applyDefaults(r);try{if(ye.isString(i)){let a=JSON.parse(i);return r.reverse&&ye.isArray(a)&&a.reverse(),a}if(ye.isArray(i)||ye.isObject(i))return i;throw"Unable to parse JSON data"}catch{return}}static _applyDefaults(i){const r={};return i||(i={}),it.each({reverse:!1},(l,m)=>{r[l]=i[l]||m}),r}}class Us{static parse(i,r){r=this._applyDefaults(r);let f,_,Y,a=this.CSVToArray(i,r.delimiter),l=[],m=[];for(_=0;_<r.skipRows;_++)a.shift();if(r.useColumnNames){m=a.shift();for(let L=0;L<m.length;L++)f=null!=m[L]?m[L].replace(/^\s+|\s+$/gm,""):"",""===f&&(f="col"+L),m[L]=f}for(;Y=r.reverse?a.pop():a.shift(),Y;){if(r.skipEmpty&&1===Y.length&&""===Y[0])continue;let L={};for(_=0;_<Y.length;_++)f=void 0===m[_]?"col"+_:m[_],L[f]=Y[_];l.push(L)}return l}static CSVToArray(i,r){r=r||",";let a=new RegExp("(\\"+r+'|\\r?\\n|\\r|^)(?:"([^"]*(?:""[^"]*)*)"|([^"\\'+r+"\\r\\n]*))","gi"),l=[[]],m=null;for(;m=a.exec(i),m;){let _,f=m[1];f.length&&f!==r&&l.push([]),_=m[2]?m[2].replace(new RegExp('""',"g"),'"'):m[3],l[l.length-1].push(_)}return l}static _applyDefaults(i){const r={};return i||(i={}),it.each({delimiter:",",reverse:!1,skipRows:0,skipEmpty:!0,useColumnNames:!1},(l,m)=>{r[l]=i[l]||m}),r}}class Cs extends W.JH{constructor(){super(...arguments),Object.defineProperty(this,"_checkDates",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_checkNumbers",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_checkColors",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_checkEmpty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_checkDeep",{enumerable:!0,configurable:!0,writable:!0,value:!1})}_afterNew(){super._afterNew(),this._checkFeatures(),this.on("dateFields",()=>this._checkFeatures()),this.on("dateFormat",()=>this._checkFeatures()),this.on("numericFields",()=>this._checkFeatures()),this.on("colorFields",()=>this._checkFeatures()),this.on("emptyAs",()=>this._checkFeatures())}_checkFeatures(){(this.isDirty("dateFields")||this.isDirty("dateFormat"))&&(this._checkDates=this.get("dateFields")&&this.get("dateFields").length>0),this.isDirty("numericFields")&&(this._checkNumbers=this.get("numericFields")&&this.get("numericFields").length>0),this.isDirty("colorFields")&&(this._checkColors=this.get("colorFields")&&this.get("colorFields").length>0),this.isDirty("emptyAs")&&(this._checkEmpty=null!=this.get("emptyAs")),this._checkDeepFeatures()}_checkDeepFeatures(){const i=[];X.each(["dateFields","numericFields","colorFields"],r=>{X.each(this.get(r,[]),a=>{const l=a.split(".");for(l.pop();l.length>0;)i.push(l.join(".")),l.pop()})}),this._checkDeep=i.length>0,this.setPrivate("deepFields",i)}processMany(i){ye.isArray(i)&&(this._checkDates||this._checkNumbers||this._checkColors||this._checkEmpty)&&X.each(i,r=>{this.processRow(r)})}processRow(i,r=""){it.each(i,(a,l)=>{const m=r+a;this._checkEmpty&&(i[a]=this._maybeToEmpty(i[a])),this._checkNumbers&&(i[a]=this._maybeToNumber(m,i[a])),this._checkDates&&(i[a]=this._maybeToDate(m,i[a])),this._checkColors&&(i[a]=this._maybeToColor(m,i[a])),this._checkDeep&&-1!==this.getPrivate("deepFields",[]).indexOf(m)&&ye.isObject(i[a])&&this.processRow(i[a],m+".")})}_maybeToNumber(i,r){return-1!==this.get("numericFields").indexOf(i)?ye.toNumber(r):r}_maybeToDate(i,r){return-1!==this.get("dateFields").indexOf(i)?this._root.dateFormatter.parse(r,this.get("dateFormat","")).getTime():r}_maybeToEmpty(i){return null!=i&&""!=i||null==this.get("emptyAs")?i:this.get("emptyAs")}_maybeToColor(i,r){return-1!==this.get("colorFields").indexOf(i)?He.Il.fromAny(r):r}}class Ss extends z.W{constructor(){super(...arguments),Object.defineProperty(this,"rectangle",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(U.A.new(this._root,{themeTags:["rectangle"],fillOpacity:0,fill:(0,He.$_)(16777215)}))}),Object.defineProperty(this,"gripL",{enumerable:!0,configurable:!0,writable:!0,value:this._createGrip("left")}),Object.defineProperty(this,"gripR",{enumerable:!0,configurable:!0,writable:!0,value:this._createGrip("right")}),Object.defineProperty(this,"gripT",{enumerable:!0,configurable:!0,writable:!0,value:this._createGrip("top")}),Object.defineProperty(this,"gripB",{enumerable:!0,configurable:!0,writable:!0,value:this._createGrip("bottom")}),Object.defineProperty(this,"_is",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_ix",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_iw",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_positionDP",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_isHover",{enumerable:!0,configurable:!0,writable:!0,value:!1})}_afterNew(){super._afterNew(),this.addTag("resizer"),this.set("visible",!1),this.gripL.events.on("dragged",i=>{this._resize(i.target,-1)}),this.gripR.events.on("dragged",i=>{this._resize(i.target,1)}),this.gripL.events.on("dragstart",i=>{this._resizeStart(i.target)}),this.gripR.events.on("dragstart",i=>{this._resizeStart(i.target)}),this.gripT.events.on("dragged",i=>{this._rotate(i,90)}),this.gripB.events.on("dragged",i=>{this._rotate(i,-90)}),this.gripT.events.on("dragstart",i=>{this._resizeStart(i.target)}),this.gripB.events.on("dragstart",i=>{this._resizeStart(i.target)})}_resizeStart(i){const r=this.get("sprite");r&&(this._is=r.get("scale",1),this._ix=i.x(),this._iw=this.width()/2)}_resize(i,r){const a=this.get("sprite"),l=this.get("spriteTemplate");if(a){const m=Math.max(.01,this._is*(1+r*(i.x()-this._ix)/this._iw));l?l.set("scale",m):a.set("scale",m),a.states.lookup("default").set("scale",m),this._updatePositions()}}_rotate(i,r){const a=this.get("sprite"),l=this.get("spriteTemplate");if(a){const m=this.parent;if(m){const f=this.get("rotationStep",10);let _=Math.round((Ue.getAngle({x:this.x(),y:this.y()},m.toLocal(i.point))+r)/f)*f;l?l.set("rotation",_):a.set("rotation",_),a.states.lookup("default").set("rotation",_),this._updatePositions()}}}_createGrip(i){const r=this.children.push(z.W.new(this._root,{themeTags:["grip",i],setStateOnChildren:!0,draggable:!0}));return r.children.push(Q.c.new(this._root,{themeTags:["outline"],centerX:je.CI,centerY:je.CI})),r.children.push(Q.c.new(this._root,{centerX:je.CI,centerY:je.CI})),r}_updateChildren(){if(super._updateChildren(),this.isDirty("sprite")){const i=this.get("sprite");if(i){this.show(0),this.setPrivate("visible",!0),this._updatePositions();const r=i.parent;r&&r.children.moveValue(this,0),this._positionDP=i.events.on("positionchanged",()=>{this._updatePositions()})}else this.hide(0),this.setPrivate("visible",!1),this._positionDP&&this._positionDP.dispose()}(this.isDirty("width")||this.isDirty("height")||this.isDirty("rotation"))&&this._updatePositions()}_updatePositions(){const i=this.get("sprite");if(i){let r=i.localBounds(),a=i.get("scale",1),l=20,m=(r.right-r.left)*a+l,f=(r.bottom-r.top)*a+l,_=i.get("rotation",0);const Y=this.rectangle;let L=i.get("centerX",je.CI),re=i.get("centerY",je.CI),G=0;L instanceof je.gG&&(G=L.value);let ie=0;re instanceof je.gG&&(ie=re.value),Y.setAll({centerX:L,centerY:re,width:m,height:f}),this.setAll({x:i.x()+l*(G-.5)*Ue.cos(_)-l*(ie-.5)*Ue.sin(_),y:i.y()+l*(ie-.5)*Ue.cos(_)+l*(G-.5)*Ue.sin(_),width:m,height:f,rotation:_}),this.gripT.setAll({x:(.5-G)*m,y:-ie*f}),this.gripB.setAll({x:(.5-G)*m,y:(1-ie)*f}),this.gripL.setAll({x:-G*m,y:(.5-ie)*f}),this.gripR.setAll({x:(1-G)*m,y:(.5-ie)*f}),this.rectangle.setAll({width:m,height:f})}}}Object.defineProperty(Ss,"className",{enumerable:!0,configurable:!0,writable:!0,value:"SpriteResizer"}),Object.defineProperty(Ss,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:z.W.classNames.concat([Ss.className])});var rr=I(5770);function wi($,i,r){return new Promise((a,l)=>{let m=null!=r&&"blob"==r.responseType,f=new XMLHttpRequest;if(f.onload=()=>{if(200===f.status){let _,Y;if(m)return Y=f.response,void pi(Y).then(re=>{let G={xhr:f,error:!1,response:re,blob:Y,type:f.getResponseHeader("Content-Type"),target:i};a(G)});_=f.responseText||f.response;let L={xhr:f,error:!1,response:_,blob:Y,type:f.getResponseHeader("Content-Type"),target:i};a(L)}else l({xhr:f,error:!0,type:f.getResponseHeader("Content-Type"),target:i})},f.onerror=()=>{l({xhr:f,error:!0,type:f.getResponseHeader("Content-Type"),target:i})},f.open("GET",$,!0),r&&r.withCredentials&&(f.withCredentials=!0),null!=r){if(null!=r.requestHeaders)for(let _=0;_<r.requestHeaders.length;_++){let Y=r.requestHeaders[_];f.setRequestHeader(Y.key,Y.value)}null!=r.responseType&&(f.responseType=r.responseType)}f.send()})}function pi($){return new Promise((i,r)=>{const a=new FileReader;a.onload=l=>{i(a.result)},a.onerror=l=>{r(l)},a.readAsText($)})}var mi=I(1445)},6109:(Mt,ze,I)=>{I.r(ze),I.d(ze,{default:()=>Re});const Re={_decimalSeparator:",",_thousandSeparator:".",_percentPrefix:null,_percentSuffix:"%",_big_number_suffix_3:"K",_big_number_suffix_6:"Mio",_big_number_suffix_9:"Mrd",_big_number_suffix_12:"Bio",_big_number_suffix_15:"Brd",_big_number_suffix_18:"Trill",_big_number_suffix_21:"Trd",_big_number_suffix_24:"Y",_small_number_suffix_3:"m",_small_number_suffix_6:"\u03bc",_small_number_suffix_9:"n",_small_number_suffix_12:"p",_small_number_suffix_15:"f",_small_number_suffix_18:"a",_small_number_suffix_21:"z",_small_number_suffix_24:"y",_byte_suffix_B:"B",_byte_suffix_KB:"KB",_byte_suffix_MB:"MB",_byte_suffix_GB:"GB",_byte_suffix_TB:"TB",_byte_suffix_PB:"PB",_date_millisecond:"mm:ss SSS",_date_millisecond_full:"HH:mm:ss SSS",_date_second:"HH:mm:ss",_date_second_full:"HH:mm:ss",_date_minute:"HH:mm",_date_minute_full:"HH:mm - dd. MMM, yyyy",_date_hour:"HH:mm",_date_hour_full:"HH:mm - dd. MMM, yyyy",_date_day:"dd. MMM",_date_day_full:"dd. MMM, yyyy",_date_week:"ww",_date_week_full:"dd. MMM, yyyy",_date_month:"MMM",_date_month_full:"MMM, yyyy",_date_year:"yyyy",_duration_millisecond:"SSS",_duration_second:"ss",_duration_minute:"mm",_duration_hour:"hh",_duration_day:"dd",_duration_week:"ww",_duration_month:"MM",_duration_year:"yyyy",_era_ad:"v. Chr.",_era_bc:"n. Chr.",A:"",P:"",AM:"",PM:"","A.M.":"","P.M.":"",January:"Januar",February:"Februar",March:"M\xe4rz",April:"April",May:"Mai",June:"Juni",July:"Juli",August:"August",September:"September",October:"Oktober",November:"November",December:"Dezember",Jan:"Jan.",Feb:"Febr.",Mar:"M\xe4rz",Apr:"Apr.","May(short)":"Mai",Jun:"Juni",Jul:"Juli",Aug:"Aug.",Sep:"Sept.",Oct:"Okt.",Nov:"Nov.",Dec:"Dez.",Sunday:"Sonntag",Monday:"Montag",Tuesday:"Dienstag",Wednesday:"Mittwoch",Thursday:"Donnerstag",Friday:"Freitag",Saturday:"Samstag",Sun:"So.",Mon:"Mo.",Tue:"Di.",Wed:"Mi.",Thu:"Do.",Fri:"Fr.",Sat:"Sa.",_dateOrd:function(z){return z+"."},"Zoom Out":"Herauszoomen",Play:"Abspielen",Stop:"Stop",Legend:"Legende","Press ENTER to toggle":"Klicken, tippen oder ENTER dr\xfccken zum Umschalten",Loading:"Wird geladen",Home:"Home",Chart:"Diagramm","Serial chart":"Seriendiagramm","X/Y chart":"X-Y-Diagramm","Pie chart":"Kreisdiagramm","Gauge chart":"Messdiagramm","Radar chart":"Netzdiagramm","Sankey diagram":"Sankey-Diagramm","Chord diagram":"","Flow diagram":"Flussdiagramm","TreeMap chart":"Baumdiagramm",Series:"Serie","Candlestick Series":"Kerzendiagramm","Column Series":"Balkendiagramm","Line Series":"Liniendiagramm","Pie Slice Series":"Kreisdiagramm","X/Y Series":"Punktdiagramm",Map:"Karte","Press ENTER to zoom in":"Dr\xfccke ENTER zum Hereinzoomen","Press ENTER to zoom out":"Dr\xfccke ENTER zum Herauszoomen","Use arrow keys to zoom in and out":"Benutze die Pfeiltasten zum Zoomen","Use plus and minus keys on your keyboard to zoom in and out":"Benutze Plus- und Minustasten zum Zoomen",Export:"Export",Image:"Bild",Data:"Daten",Print:"Drucken","Press ENTER to open":"Zum \xd6ffnen klicken, tippen oder ENTER dr\xfccken","Press ENTER to print.":"Zum Drucken klicken, tippen oder ENTER dr\xfccken.","Press ENTER to export as %1.":"Klicken, tippen oder ENTER dr\xfccken um als %1 zu exportieren","(Press ESC to close this message)":"ESC dr\xfccken um diese Nachricht zu schlie\xdfen","Image Export Complete":"Bildexport komplett","Export operation took longer than expected. Something might have gone wrong.":"Der Export dauert l\xe4nger als geplant. Vielleicht ist etwas schiefgelaufen.","Saved from":"Gespeichert von",PNG:"",JPG:"",GIF:"",SVG:"",PDF:"",JSON:"",CSV:"",XLSX:"",HTML:"","Use TAB to select grip buttons or left and right arrows to change selection":"TAB nutzen, um Ankerpunkte auszuw\xe4hlen oder linke und rechte Pfeiltaste um die Auswahl zu \xe4ndern","Use left and right arrows to move selection":"Linke und rechte Pfeiltaste nutzen um die Auswahl zu verschieben","Use left and right arrows to move left selection":"Linke und rechte Pfeiltaste nutzen um die linke Auswahl zu verschieben","Use left and right arrows to move right selection":"Linke und rechte Pfeiltaste nutzen um die rechte Auswahl zu verschieben","Use TAB select grip buttons or up and down arrows to change selection":"TAB nutzen, um Ankerpunkte auszuw\xe4hlen oder Pfeiltaste nach oben und unten dr\xfccken, um die Auswahl zu \xe4ndern","Use up and down arrows to move selection":"Pfeiltaste nach oben und unten dr\xfccken, um die Auswahl zu verschieben","Use up and down arrows to move lower selection":"Pfeiltaste nach oben und unten dr\xfccken, um die untere Auswahl zu verschieben","Use up and down arrows to move upper selection":"Pfeiltaste nach oben und unten dr\xfccken, um die obere Auswahl zu verschieben","From %1 to %2":"Von %1 bis %2","From %1":"Von %1","To %1":"Bis %1","No parser available for file: %1":"Kein Parser f\xfcr Datei %1 verf\xfcgbar","Error parsing file: %1":"Fehler beim Parsen von Datei %1","Unable to load file: %1":"Datei %1 konnte nicht geladen werden","Invalid date":"Kein Datum"}},7551:(Mt,ze,I)=>{I.r(ze),I.d(ze,{default:()=>Re});const Re={firstDayOfWeek:1,_decimalSeparator:".",_thousandSeparator:",",_percentPrefix:null,_percentSuffix:"%",_big_number_suffix_3:"k",_big_number_suffix_6:"M",_big_number_suffix_9:"G",_big_number_suffix_12:"T",_big_number_suffix_15:"P",_big_number_suffix_18:"E",_big_number_suffix_21:"Z",_big_number_suffix_24:"Y",_small_number_suffix_3:"m",_small_number_suffix_6:"\u03bc",_small_number_suffix_9:"n",_small_number_suffix_12:"p",_small_number_suffix_15:"f",_small_number_suffix_18:"a",_small_number_suffix_21:"z",_small_number_suffix_24:"y",_byte_suffix_B:"B",_byte_suffix_KB:"KB",_byte_suffix_MB:"MB",_byte_suffix_GB:"GB",_byte_suffix_TB:"TB",_byte_suffix_PB:"PB",_date:"yyyy-MM-dd",_date_millisecond:"mm:ss SSS",_date_millisecond_full:"HH:mm:ss SSS",_date_second:"HH:mm:ss",_date_second_full:"HH:mm:ss",_date_minute:"HH:mm",_date_minute_full:"HH:mm - MMM dd, yyyy",_date_hour:"HH:mm",_date_hour_full:"HH:mm - MMM dd, yyyy",_date_day:"MMM dd",_date_day_full:"MMM dd, yyyy",_date_week:"ww",_date_week_full:"MMM dd, yyyy",_date_month:"MMM",_date_month_full:"MMM, yyyy",_date_year:"yyyy",_duration_millisecond:"SSS",_duration_millisecond_second:"ss.SSS",_duration_millisecond_minute:"mm:ss SSS",_duration_millisecond_hour:"hh:mm:ss SSS",_duration_millisecond_day:"d'd' mm:ss SSS",_duration_millisecond_week:"d'd' mm:ss SSS",_duration_millisecond_month:"M'm' dd'd' mm:ss SSS",_duration_millisecond_year:"y'y' MM'm' dd'd' mm:ss SSS",_duration_second:"ss",_duration_second_minute:"mm:ss",_duration_second_hour:"hh:mm:ss",_duration_second_day:"d'd' hh:mm:ss",_duration_second_week:"d'd' hh:mm:ss",_duration_second_month:"M'm' dd'd' hh:mm:ss",_duration_second_year:"y'y' MM'm' dd'd' hh:mm:ss",_duration_minute:"mm",_duration_minute_hour:"hh:mm",_duration_minute_day:"d'd' hh:mm",_duration_minute_week:"d'd' hh:mm",_duration_minute_month:"M'm' dd'd' hh:mm",_duration_minute_year:"y'y' MM'm' dd'd' hh:mm",_duration_hour:"hh'h'",_duration_hour_day:"d'd' hh'h'",_duration_hour_week:"d'd' hh'h'",_duration_hour_month:"M'm' dd'd' hh'h'",_duration_hour_year:"y'y' MM'm' dd'd' hh'h'",_duration_day:"d'd'",_duration_day_week:"d'd'",_duration_day_month:"M'm' dd'd'",_duration_day_year:"y'y' MM'm' dd'd'",_duration_week:"w'w'",_duration_week_month:"w'w'",_duration_week_year:"w'w'",_duration_month:"M'm'",_duration_month_year:"y'y' MM'm'",_duration_year:"y'y'",_era_ad:"AD",_era_bc:"BC",A:"",P:"",AM:"",PM:"","A.M.":"","P.M.":"",January:"",February:"",March:"",April:"",May:"",June:"",July:"",August:"",September:"",October:"",November:"",December:"",Jan:"",Feb:"",Mar:"",Apr:"","May(short)":"May",Jun:"",Jul:"",Aug:"",Sep:"",Oct:"",Nov:"",Dec:"",Sunday:"",Monday:"",Tuesday:"",Wednesday:"",Thursday:"",Friday:"",Saturday:"",Sun:"",Mon:"",Tue:"",Wed:"",Thu:"",Fri:"",Sat:"",_dateOrd:function(z){let we="th";if(z<11||z>13)switch(z%10){case 1:we="st";break;case 2:we="nd";break;case 3:we="rd"}return we},"Zoom Out":"",Play:"",Stop:"",Legend:"","Press ENTER to toggle":"",Loading:"",Home:"",Chart:"","Serial chart":"","X/Y chart":"","Pie chart":"","Gauge chart":"","Radar chart":"","Sankey diagram":"","Flow diagram":"","Chord diagram":"","TreeMap chart":"","Force directed tree":"","Sliced chart":"",Series:"","Candlestick Series":"","OHLC Series":"","Column Series":"","Line Series":"","Pie Slice Series":"","Funnel Series":"","Pyramid Series":"","X/Y Series":"",Map:"","Press ENTER to zoom in":"","Press ENTER to zoom out":"","Use arrow keys to zoom in and out":"","Use plus and minus keys on your keyboard to zoom in and out":"",Export:"",Image:"",Data:"",Print:"","Press ENTER or use arrow keys to navigate":"","Press ENTER to open":"","Press ENTER to print.":"","Press ENTER to export as %1.":"","(Press ESC to close this message)":"","Image Export Complete":"","Export operation took longer than expected. Something might have gone wrong.":"","Saved from":"",PNG:"",JPG:"",GIF:"",SVG:"",PDF:"",JSON:"",CSV:"",XLSX:"",HTML:"","Use TAB to select grip buttons or left and right arrows to change selection":"","Use left and right arrows to move selection":"","Use left and right arrows to move left selection":"","Use left and right arrows to move right selection":"","Use TAB select grip buttons or up and down arrows to change selection":"","Use up and down arrows to move selection":"","Use up and down arrows to move lower selection":"","Use up and down arrows to move upper selection":"","From %1 to %2":"","From %1":"","To %1":"","No parser available for file: %1":"","Error parsing file: %1":"","Unable to load file: %1":"","Invalid date":"",Close:"",Minimize:""}},5637:(Mt,ze,I)=>{I.r(ze),I.d(ze,{default:()=>Re});const Re={_decimalSeparator:".",_thousandSeparator:",",_percentPrefix:null,_percentSuffix:"%",_date_millisecond:"mm:ss SSS",_date_millisecond_full:"HH:mm:ss SSS",_date_second:"hh:mm:ss a",_date_second_full:"hh:mm:ss a",_date_minute:"hh:mm a",_date_minute_full:"hh:mm a - MMM dd, yyyy",_date_hour:"hh:mm a",_date_hour_full:"hh:mm a - MMM dd, yyyy",_date_day:"MMM dd",_date_day_full:"MMM dd, yyyy",_date_week:"ww",_date_week_full:"MMM dd, yyyy",_date_month:"MMM",_date_month_full:"MMM, yyyy",_date_year:"yyyy",_duration_millisecond:"SSS",_duration_second:"ss",_duration_minute:"mm",_duration_hour:"hh",_duration_day:"dd",_duration_week:"ww",_duration_month:"MM",_duration_year:"yyyy",_era_ad:"AD",_era_bc:"BC",A:"",P:"",AM:"",PM:"","A.M.":"","P.M.":"",January:"",February:"",March:"",April:"",May:"",June:"",July:"",August:"",September:"",October:"",November:"",December:"",Jan:"",Feb:"",Mar:"",Apr:"","May(short)":"May",Jun:"",Jul:"",Aug:"",Sep:"",Oct:"",Nov:"",Dec:"",Sunday:"",Monday:"",Tuesday:"",Wednesday:"",Thursday:"",Friday:"",Saturday:"",Sun:"",Mon:"",Tue:"",Wed:"",Thu:"",Fri:"",Sat:"",_dateOrd:function(z){let we="th";if(z<11||z>13)switch(z%10){case 1:we="st";break;case 2:we="nd";break;case 3:we="rd"}return we},Play:"",Stop:"","Zoom Out":"",Legend:"","Press ENTER to toggle":"",Loading:"",Home:"",Chart:"","Serial chart":"","X/Y chart":"","Pie chart":"","Gauge chart":"","Radar chart":"","Sankey diagram":"","Chord diagram":"","Flow diagram":"","TreeMap chart":"",Series:"","Candlestick Series":"","Column Series":"","Line Series":"","Pie Slice Series":"","X/Y Series":"",Map:"","Press ENTER to zoom in":"","Press ENTER to zoom out":"","Use arrow keys to zoom in and out":"","Use plus and minus keys on your keyboard to zoom in and out":"",Export:"",Image:"",Data:"",Print:"","Press ENTER to open":"","Press ENTER to print.":"","Press ENTER to export as %1.":"","(Press ESC to close this message)":"","Image Export Complete":"","Export operation took longer than expected. Something might have gone wrong.":"","Saved from":"",PNG:"",JPG:"",GIF:"",SVG:"",PDF:"",JSON:"",CSV:"",XLSX:"",HTML:"","Use TAB to select grip buttons or left and right arrows to change selection":"","Use left and right arrows to move selection":"","Use left and right arrows to move left selection":"","Use left and right arrows to move right selection":"","Use TAB select grip buttons or up and down arrows to change selection":"","Use up and down arrows to move selection":"","Use up and down arrows to move lower selection":"","Use up and down arrows to move upper selection":"","From %1 to %2":"","From %1":"","To %1":"","No parser available for file: %1":"","Error parsing file: %1":"","Unable to load file: %1":"","Invalid date":""}},2593:(Mt,ze,I)=>{I.r(ze),I.d(ze,{DefaultTheme:()=>tr,GraticuleSeries:()=>Hi,MapChart:()=>ur,MapLine:()=>qt,MapLineSeries:()=>wt,MapPointSeries:()=>hr,MapPolygon:()=>Zs,MapPolygonSeries:()=>cr,MapSeries:()=>be,ZoomControl:()=>dr,geoAlbersUsa:()=>xn,geoEqualEarth:()=>Pn,geoEquirectangular:()=>pn,geoMercator:()=>Es,geoNaturalEarth1:()=>Tn,geoOrthographic:()=>gn,getGeoArea:()=>on,getGeoBounds:()=>lr,getGeoCentroid:()=>or,getGeoCircle:()=>an,getGeoRectangle:()=>ln,normalizeGeoPoint:()=>un});var Re=I(3164),z=I(3559),we=I(8148);class be extends Re.F{constructor(){super(...arguments),Object.defineProperty(this,"_types",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_geometries",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_geoJSONparsed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_excluded",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_notIncluded",{enumerable:!0,configurable:!0,writable:!0,value:[]})}_afterNew(){this.fields.push("geometry","geometryType"),this._setRawDefault("geometryField","geometry"),this._setRawDefault("geometryTypeField","geometryType"),this._setRawDefault("idField","id"),this.on("geoJSON",n=>{let u=this._prevSettings.geoJSON;u&&u!=n&&this.data.clear()}),super._afterNew()}_handleDirties(){const n=this.get("geoJSON");let u=this._prevSettings.geoJSON;u&&u!=n&&(this._prevSettings.geoJSON=void 0,this._geoJSONparsed=!1),this._geoJSONparsed||(this._parseGeoJSON(),this._geoJSONparsed=!0)}_prepareChildren(){if(super._prepareChildren(),this._valuesDirty&&this._handleDirties(),this.isDirty("geoJSON")||this.isDirty("include")||this.isDirty("exclude")){this._handleDirties();const n=this.chart,u=this.get("exclude");u&&(n&&(n._centerLocation=null),z.each(u,y=>{const D=this.getDataItemById(y);D&&this._excludeDataItem(D)})),(!u||0==u.length)&&(z.each(this._excluded,y=>{this._unexcludeDataItem(y)}),this._excluded=[]);const h=this.get("include");h&&(n&&(n._centerLocation=null),z.each(this.dataItems,y=>{const D=y.get("id");D&&-1==h.indexOf(D)?this._notIncludeDataItem(y):this._unNotIncludeDataItem(y)})),h||(z.each(this._notIncluded,y=>{this._unNotIncludeDataItem(y)}),this._notIncluded=[])}}_excludeDataItem(n){this._removeGeometry(n.get("geometry")),z.move(this._excluded,n)}_unexcludeDataItem(n){this._addGeometry(n.get("geometry"),this)}_notIncludeDataItem(n){this._removeGeometry(n.get("geometry")),z.move(this._notIncluded,n)}_unNotIncludeDataItem(n){this._addGeometry(n.get("geometry"),this)}checkInclude(n,u,h){if(u){if(0==u.length)return!1;if(-1==u.indexOf(n))return!1}return!(h&&h.length>0&&-1!=h.indexOf(n))}_parseGeoJSON(){const n=this.get("geoJSON");if(n){let u;"FeatureCollection"==n.type?u=n.features:"Feature"==n.type?u=[n]:-1!=["Point","LineString","Polygon","MultiPoint","MultiLineString","MultiPolygon"].indexOf(n.type)?u=[{geometry:n}]:console.log("nothing found in geoJSON");const h=this.get("geodataNames");if(u){const D=this.get("idField","id");for(let S=0,E=u.length;S<E;S++){let V=u[S],H=V.geometry;if(H){let B=H.type,te=V[D];if(h&&h[te]&&(V.properties.name=h[te]),-1!=this._types.indexOf(B)){let Z,oe;null!=te&&(Z=z.find(this.dataItems,de=>de.get("id")==te)),Z&&(oe=Z.dataContext),Z?oe.geometry||(oe.geometry=H,oe.geometryType=B,Z.set("geometry",H),Z.set("geometryType",B),this.processDataItem(Z)):(oe={geometry:H,geometryType:B,madeFromGeoData:!0},oe[D]=te,this.data.push(oe)),we.softCopyProperties(V.properties,oe)}}}}const y="geodataprocessed";this.events.isEnabled(y)&&this.events.dispatch(y,{type:y,target:this})}}_placeBulletsContainer(n){this.children.moveValue(this.bulletsContainer)}_removeBulletsContainer(){}projection(){const n=this.chart;if(n)return n.get("projection")}geoPath(){const n=this.chart;if(n)return n.getPrivate("geoPath")}_addGeometry(n,u){if(n&&u.get("affectsBounds",!0)){this._geometries.push(n);const h=this.chart;h&&h.markDirtyGeometries()}}_removeGeometry(n){if(n){z.remove(this._geometries,n);const u=this.chart;u&&u.markDirtyGeometries()}}_dispose(){super._dispose();const n=this.chart;n&&n.series.removeValue(this)}_onDataClear(){super._onDataClear(),this._geoJSONparsed=!1}}Object.defineProperty(be,"className",{enumerable:!0,configurable:!0,writable:!0,value:"MapSeries"}),Object.defineProperty(be,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Re.F.classNames.concat([be.className])});var ue=I(2743),R=I(7039),ce=I(3232);class X{constructor(){this._partials=new Float64Array(32),this._n=0}add(n){const u=this._partials;let h=0;for(let y=0;y<this._n&&y<32;y++){const D=u[y],S=n+D,E=Math.abs(n)<Math.abs(D)?n-(S-D):D-(S-n);E&&(u[h++]=E),n=S}return u[h]=n,this._n=h+1,this}valueOf(){const n=this._partials;let h,y,D,u=this._n,S=0;if(u>0){for(S=n[--u];u>0&&(h=S,y=n[--u],S=h+y,D=y-(S-h),!D););u>0&&(D<0&&n[u-1]<0||D>0&&n[u-1]>0)&&(y=2*D,h=S+y,y==h-S&&(S=h))}return S}}var N=1e-6,se=1e-12,k=Math.PI,P=k/2,W=k/4,le=2*k,M=180/k,U=k/180,j=Math.abs,_e=Math.atan,Le=Math.atan2,he=Math.cos,Ie=Math.ceil,Ve=Math.exp,pe=(Math,Math.hypot),it=Math.log,Ee=(Math,Math.sin),ft=Math.sign||function(d){return d>0?1:d<0?-1:0},Qe=Math.sqrt,pt=Math.tan;function He(d){return d>1?P:d<-1?-P:Math.asin(d)}function zt(d){return(d=Ee(d/2))*d}function je(){}function Ue(d,n){d&&ci.hasOwnProperty(d.type)&&ci[d.type](d,n)}var hi={Feature:function(d,n){Ue(d.geometry,n)},FeatureCollection:function(d,n){for(var u=d.features,h=-1,y=u.length;++h<y;)Ue(u[h].geometry,n)}},ci={Sphere:function(d,n){n.sphere()},Point:function(d,n){n.point((d=d.coordinates)[0],d[1],d[2])},MultiPoint:function(d,n){for(var u=d.coordinates,h=-1,y=u.length;++h<y;)n.point((d=u[h])[0],d[1],d[2])},LineString:function(d,n){yi(d.coordinates,n,0)},MultiLineString:function(d,n){for(var u=d.coordinates,h=-1,y=u.length;++h<y;)yi(u[h],n,0)},Polygon:function(d,n){ds(d.coordinates,n)},MultiPolygon:function(d,n){for(var u=d.coordinates,h=-1,y=u.length;++h<y;)ds(u[h],n)},GeometryCollection:function(d,n){for(var u=d.geometries,h=-1,y=u.length;++h<y;)Ue(u[h],n)}};function yi(d,n,u){var D,h=-1,y=d.length-u;for(n.lineStart();++h<y;)n.point((D=d[h])[0],D[1],D[2]);n.lineEnd()}function ds(d,n){var u=-1,h=d.length;for(n.polygonStart();++u<h;)yi(d[u],n,1);n.polygonEnd()}function Wt(d,n){d&&hi.hasOwnProperty(d.type)?hi[d.type](d,n):Ue(d,n)}var ns,Ti,Gi,Di,ii={sphere:je,point:je,lineStart:function Yt(){ii.point=di,ii.lineEnd=Nt},lineEnd:je,polygonStart:je,polygonEnd:je};function Nt(){ii.point=ii.lineEnd=je}function di(d,n){Ti=d*=U,Gi=Ee(n*=U),Di=he(n),ii.point=as}function as(d,n){d*=U;var u=Ee(n*=U),h=he(n),y=j(d-Ti),D=he(y),E=h*Ee(y),V=Di*u-Gi*h*D,H=Gi*u+Di*h*D;ns.add(Le(Qe(E*E+V*V),H)),Ti=d,Gi=u,Di=h}function vi(d){return ns=new X,Wt(d,ii),+ns}var Ri=[null,null],fi={type:"LineString",coordinates:Ri};function ni(d,n){return Ri[0]=d,Ri[1]=n,vi(fi)}class qt extends ce.T{constructor(){super(...arguments),Object.defineProperty(this,"_projectionDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1})}_beforeChanged(){if(super._beforeChanged(),this._projectionDirty||this.isDirty("geometry")||this.isDirty("precision")){const n=this.get("geometry");if(n){const h=this.getPrivate("series");if(h){const y=h.chart;if(y){const D=y.get("projection");let S=null;D&&D.clipAngle&&(S=D.clipAngle(),D.precision(this.get("precision",.5)));const E=this.dataItem,V=y.getPrivate("geoPath");if(V&&E)if(this._clear=!0,"straight"==E.get("lineType",h.get("lineType"))){const H=this.get("geometry");if(H){let B=H.coordinates;if(B){let te;"LineString"==H.type?te=[B]:"MultiLineString"==H.type&&(te=B),this.set("draw",Z=>{for(let oe=0;oe<te.length;oe++){let de=te[oe];if(de.length>0){const xe=de[0],Me=y.convert({longitude:xe[0],latitude:xe[1]});Z.lineTo(Me.x,Me.y);for(let Oe=0;Oe<de.length;Oe++){const Ne=de[Oe],Se=y.convert({longitude:Ne[0],latitude:Ne[1]});Z.lineTo(Se.x,Se.y)}}}})}}}else this.set("draw",H=>{D&&!1===h.get("clipBack")&&D.clipAngle(180),V.context(this._display),V(n),V.context(null),D&&D.clipAngle&&D.clipAngle(S)})}}}const u="linechanged";this.events.isEnabled(u)&&this.events.dispatch(u,{type:u,target:this})}}markDirtyProjection(){this.markDirty(),this._projectionDirty=!0}_clearDirty(){super._clearDirty(),this._projectionDirty=!1}_getTooltipPoint(){let n=this.get("tooltipX"),u=this.get("tooltipY"),h=0,y=0;if(ue.isNumber(n)&&(h=n),ue.isNumber(u)&&(y=u),n instanceof R.gG){const D=this.positionToGeoPoint(n.value),S=this.getPrivate("series");if(S){const E=S.chart;if(E){const V=E.convert(D);h=V.x,y=V.y}}}return{x:h,y}}positionToGeoPoint(n){const u=this.get("geometry"),h=this.getPrivate("series"),y=h.chart,D=this.dataItem;if(u&&h&&y&&D){const S=D.get("lineType",h.get("lineType"));let H,Z,oe,E=vi(u),V=0,B=0,te=0,de=u.coordinates;if(de){let xe;"LineString"==u.type?xe=[de]:"MultiLineString"==u.type&&(xe=de);for(let Me=0;Me<xe.length;Me++){let Oe=xe[Me];if(Oe.length>1){for(let Ne=1;Ne<Oe.length;Ne++)if(Z=Oe[Ne-1],oe=Oe[Ne],B=V/E,H=ni(Z,oe),V+=H,te=V/E,B<=n&&te>n){Me=xe.length;break}}else 1==Oe.length&&(Z=Oe[0],oe=Oe[0],B=0,te=1)}if(Z&&oe){let Oe,Me=(n-B)/(te-B);if("straight"==S){let Ne=y.convert({longitude:Z[0],latitude:Z[1]}),Se=y.convert({longitude:oe[0],latitude:oe[1]});return y.invert({x:Ne.x+(Se.x-Ne.x)*Me,y:Ne.y+(Se.y-Ne.y)*Me})}return Oe=function Ii(d,n){var u=d[0]*U,h=d[1]*U,y=n[0]*U,D=n[1]*U,S=he(h),E=Ee(h),V=he(D),H=Ee(D),B=S*he(u),te=S*Ee(u),Z=V*he(y),oe=V*Ee(y),de=2*He(Qe(zt(D-h)+S*V*zt(y-u))),xe=Ee(de),Me=de?function(Oe){var Ne=Ee(Oe*=de)/xe,Se=Ee(de-Oe)/xe,Xe=Se*B+Ne*Z,Ke=Se*te+Ne*oe,$e=Se*E+Ne*H;return[Le(Ke,Xe)*M,Le($e,Qe(Xe*Xe+Ke*Ke))*M]}:function(){return[u*M,h*M]};return Me.distance=de,Me}(Z,oe)(Me),{longitude:Oe[0],latitude:Oe[1]}}}}return{longitude:0,latitude:0}}}Object.defineProperty(qt,"className",{enumerable:!0,configurable:!0,writable:!0,value:"MapLine"}),Object.defineProperty(qt,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ce.T.classNames.concat([qt.className])});var Vi=I(434),kt=I(1371);class wt extends be{constructor(){super(...arguments),Object.defineProperty(this,"mapLines",{enumerable:!0,configurable:!0,writable:!0,value:new Vi.o(kt.YS.new({}),()=>qt._new(this._root,{},[this.mapLines.template]))}),Object.defineProperty(this,"_types",{enumerable:!0,configurable:!0,writable:!0,value:["LineString","MultiLineString"]})}_afterNew(){this.fields.push("lineType"),this._setRawDefault("lineTypeField","lineType"),super._afterNew()}makeMapLine(n){const u=this.children.push(this.mapLines.make());return u._setDataItem(n),this.mapLines.push(u),u}markDirtyProjection(){z.each(this.dataItems,n=>{let u=n.get("mapLine");u&&u.markDirtyProjection()})}_prepareChildren(){super._prepareChildren(),this.isDirty("stroke")&&this.mapLines.template.set("stroke",this.get("stroke"))}processDataItem(n){super.processDataItem(n);let u=n.get("mapLine");u||(u=this.makeMapLine(n)),this._handlePointsToConnect(n),n.on("pointsToConnect",()=>{this._handlePointsToConnect(n)}),n.set("mapLine",u),this._addGeometry(n.get("geometry"),this),u.setPrivate("series",this)}_handlePointsToConnect(n){const u=n.get("pointsToConnect");u&&(z.each(u,h=>{h.on("geometry",()=>{this.markDirtyValues(n)}),h.on("longitude",()=>{this.markDirtyValues(n)}),h.on("latitude",()=>{this.markDirtyValues(n)})}),this.markDirtyValues(n))}markDirtyValues(n){if(super.markDirtyValues(),n){const u=n.get("mapLine");if(u){const h=n.get("pointsToConnect");if(h){let y=[];z.each(h,S=>{const E=S.get("longitude"),V=S.get("latitude");if(null!=E&&null!=V)y.push([E,V]);else{const H=S.get("geometry");if(H){const B=H.coordinates;B&&y.push([B[0],B[1]])}}});let D={type:"LineString",coordinates:y};n.setRaw("geometry",D),u.set("geometry",D)}else u.set("geometry",n.get("geometry"))}}}disposeDataItem(n){super.disposeDataItem(n);const u=n.get("mapLine");u&&(this.mapLines.removeValue(u),u.dispose())}_excludeDataItem(n){super._excludeDataItem(n);const u=n.get("mapLine");u&&u.setPrivate("visible",!1)}_unexcludeDataItem(n){super._unexcludeDataItem(n);const u=n.get("mapLine");u&&u.setPrivate("visible",!0)}_notIncludeDataItem(n){super._notIncludeDataItem(n);const u=n.get("mapLine");u&&u.setPrivate("visible",!1)}_unNotIncludeDataItem(n){super._unNotIncludeDataItem(n);const u=n.get("mapLine");u&&u.setPrivate("visible",!0)}}function Ct(d,n,u){d=+d,n=+n,u=(y=arguments.length)<2?(n=d,d=0,1):y<3?1:+u;for(var h=-1,y=0|Math.max(0,Math.ceil((n-d)/u)),D=new Array(y);++h<y;)D[h]=d+h*u;return D}function Ui(d,n,u){var h=Ct(d,n-N,u).concat(n);return function(y){return h.map(function(D){return[y,D]})}}function fs(d,n,u){var h=Ct(d,n-N,u).concat(n);return function(y){return h.map(function(D){return[D,y]})}}Object.defineProperty(wt,"className",{enumerable:!0,configurable:!0,writable:!0,value:"MapLineSeries"}),Object.defineProperty(wt,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:be.classNames.concat([wt.className])});class Hi extends wt{constructor(){super(...arguments),Object.defineProperty(this,"_dataItem",{enumerable:!0,configurable:!0,writable:!0,value:this.makeDataItem({})})}_afterNew(){super._afterNew(),this.dataItems.push(this._dataItem),this._generate()}_updateChildren(){if(super._updateChildren(),this.isDirty("step")&&this._generate(),this.isDirty("clipExtent")&&this.get("clipExtent")){const n=this.chart;n&&n.events.on("geoboundschanged",()=>{this._generate()}),this._generate()}}_generate(){let n=function gs(){var d,n,u,h,y,D,S,E,Z,oe,de,xe,V=10,H=V,B=90,te=360,Me=2.5;function Oe(){return{type:"MultiLineString",coordinates:Ne()}}function Ne(){return Ct(Ie(h/B)*B,u,B).map(de).concat(Ct(Ie(E/te)*te,S,te).map(xe)).concat(Ct(Ie(n/V)*V,d,V).filter(function(Se){return j(Se%B)>N}).map(Z)).concat(Ct(Ie(D/H)*H,y,H).filter(function(Se){return j(Se%te)>N}).map(oe))}return Oe.lines=function(){return Ne().map(function(Se){return{type:"LineString",coordinates:Se}})},Oe.outline=function(){return{type:"Polygon",coordinates:[de(h).concat(xe(S).slice(1),de(u).reverse().slice(1),xe(E).reverse().slice(1))]}},Oe.extent=function(Se){return arguments.length?Oe.extentMajor(Se).extentMinor(Se):Oe.extentMinor()},Oe.extentMajor=function(Se){return arguments.length?(E=+Se[0][1],S=+Se[1][1],(h=+Se[0][0])>(u=+Se[1][0])&&(Se=h,h=u,u=Se),E>S&&(Se=E,E=S,S=Se),Oe.precision(Me)):[[h,E],[u,S]]},Oe.extentMinor=function(Se){return arguments.length?(D=+Se[0][1],y=+Se[1][1],(n=+Se[0][0])>(d=+Se[1][0])&&(Se=n,n=d,d=Se),D>y&&(Se=D,D=y,y=Se),Oe.precision(Me)):[[n,D],[d,y]]},Oe.step=function(Se){return arguments.length?Oe.stepMajor(Se).stepMinor(Se):Oe.stepMinor()},Oe.stepMajor=function(Se){return arguments.length?(B=+Se[0],te=+Se[1],Oe):[B,te]},Oe.stepMinor=function(Se){return arguments.length?(V=+Se[0],H=+Se[1],Oe):[V,H]},Oe.precision=function(Se){return arguments.length?(Me=+Se,Z=Ui(D,y,90),oe=fs(n,d,Me),de=Ui(E,S,90),xe=fs(h,u,Me),Oe):Me},Oe.extentMajor([[-180,-90+N],[180,90-N]]).extentMinor([[-180,-80-N],[180,80+N]])}();if(n){if(this.get("clipExtent")){const h=this.chart;if(h){const y=h.geoBounds();y&&n.extent([[y.left,y.bottom],[y.right,y.top]])}}const u=this.get("step",10);n.stepMinor([360,360]),n.stepMajor([u,u]),this._dataItem.set("geometry",n())}}}Object.defineProperty(Hi,"className",{enumerable:!0,configurable:!0,writable:!0,value:"GraticuleSeries"}),Object.defineProperty(Hi,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:wt.classNames.concat([Hi.className])});var ks=I(5013),ms=I(2231);function Zt(d,n){function u(h,y){return h=d(h,y),n(h[0],h[1])}return d.invert&&n.invert&&(u.invert=function(h,y){return(h=n.invert(h,y))&&d.invert(h[0],h[1])}),u}function bs(d,n){return j(d)>k&&(d-=Math.round(d/le)*le),[d,n]}function Wi(d,n,u){return(d%=le)?n||u?Zt(ys(d),vs(n,u)):ys(d):n||u?vs(n,u):bs}function _s(d){return function(n,u){return j(n+=d)>k&&(n-=Math.round(n/le)*le),[n,u]}}function ys(d){var n=_s(d);return n.invert=_s(-d),n}function vs(d,n){var u=he(d),h=Ee(d),y=he(n),D=Ee(n);function S(E,V){var H=he(V),B=he(E)*H,te=Ee(E)*H,Z=Ee(V),oe=Z*u+B*h;return[Le(te*y-oe*D,B*u-Z*h),He(oe*y+te*D)]}return S.invert=function(E,V){var H=he(V),B=he(E)*H,te=Ee(E)*H,Z=Ee(V),oe=Z*y-te*D;return[Le(te*y+Z*D,B*u+oe*h),He(oe*u-B*h)]},S}function Zi(){var n,d=[];return{point:function(u,h,y){n.push([u,h,y])},lineStart:function(){d.push(n=[])},lineEnd:je,rejoin:function(){d.length>1&&d.push(d.pop().concat(d.shift()))},result:function(){var u=d;return d=[],n=null,u}}}function os(d,n){return j(d[0]-n[0])<N&&j(d[1]-n[1])<N}function Qi(d,n,u,h){this.x=d,this.z=n,this.o=u,this.e=h,this.v=!1,this.n=this.p=null}function ws(d,n,u,h,y){var E,V,D=[],S=[];if(d.forEach(function(de){if(!((xe=de.length-1)<=0)){var xe,Ne,Me=de[0],Oe=de[xe];if(os(Me,Oe)){if(!Me[2]&&!Oe[2]){for(y.lineStart(),E=0;E<xe;++E)y.point((Me=de[E])[0],Me[1]);return void y.lineEnd()}Oe[0]+=2*N}D.push(Ne=new Qi(Me,de,null,!0)),S.push(Ne.o=new Qi(Me,null,Ne,!1)),D.push(Ne=new Qi(Oe,de,null,!1)),S.push(Ne.o=new Qi(Oe,null,Ne,!0))}}),D.length){for(S.sort(n),Ps(D),Ps(S),E=0,V=S.length;E<V;++E)S[E].e=u=!u;for(var B,te,H=D[0];;){for(var Z=H,oe=!0;Z.v;)if((Z=Z.n)===H)return;B=Z.z,y.lineStart();do{if(Z.v=Z.o.v=!0,Z.e){if(oe)for(E=0,V=B.length;E<V;++E)y.point((te=B[E])[0],te[1]);else h(Z.x,Z.n.x,1,y);Z=Z.n}else{if(oe)for(E=(B=Z.p.z).length-1;E>=0;--E)y.point((te=B[E])[0],te[1]);else h(Z.x,Z.p.x,-1,y);Z=Z.p}B=(Z=Z.o).z,oe=!oe}while(!Z.v);y.lineEnd()}}}function Ps(d){if(n=d.length){for(var n,y,u=0,h=d[0];++u<n;)h.n=y=d[u],y.p=h,h=y;h.n=y=d[0],y.p=h}}function ji(d){return[Le(d[1],d[0]),He(d[2])]}function gi(d){var n=d[0],u=d[1],h=he(u);return[h*he(n),h*Ee(n),Ee(u)]}function Mi(d,n){return d[0]*n[0]+d[1]*n[1]+d[2]*n[2]}function Ci(d,n){return[d[1]*n[2]-d[2]*n[1],d[2]*n[0]-d[0]*n[2],d[0]*n[1]-d[1]*n[0]]}function ls(d,n){d[0]+=n[0],d[1]+=n[1],d[2]+=n[2]}function Ki(d,n){return[d[0]*n,d[1]*n,d[2]*n]}function Si(d){var n=Qe(d[0]*d[0]+d[1]*d[1]+d[2]*d[2]);d[0]/=n,d[1]/=n,d[2]/=n}function Ni(d){return j(d[0])<=k?d[0]:ft(d[0])*((j(d[0])+k)%le-k)}function Ls(d){return Array.from(function*Ai(d){for(const n of d)yield*n}(d))}function Bi(d,n,u,h){return function(y){var H,B,te,D=n(y),S=Zi(),E=n(S),V=!1,Z={point:oe,lineStart:xe,lineEnd:Me,polygonStart:function(){Z.point=Oe,Z.lineStart=Ne,Z.lineEnd=Se,B=[],H=[]},polygonEnd:function(){Z.point=oe,Z.lineStart=xe,Z.lineEnd=Me,B=Ls(B);var Xe=function er(d,n){var u=Ni(n),h=n[1],y=Ee(h),D=[Ee(u),-he(u),0],S=0,E=0,V=new X;1===y?h=P+N:-1===y&&(h=-P-N);for(var H=0,B=d.length;H<B;++H)if(Z=(te=d[H]).length)for(var te,Z,oe=te[Z-1],de=Ni(oe),xe=oe[1]/2+W,Me=Ee(xe),Oe=he(xe),Ne=0;Ne<Z;++Ne,de=Xe,Me=$e,Oe=At,oe=Se){var Se=te[Ne],Xe=Ni(Se),Ke=Se[1]/2+W,$e=Ee(Ke),At=he(Ke),yt=Xe-de,vt=yt>=0?1:-1,Rt=vt*yt,tt=Rt>k,li=Me*$e;if(V.add(Le(li*vt*Ee(Rt),Oe*At+li*he(Rt))),S+=tt?yt+vt*le:yt,tt^de>=u^Xe>=u){var Xt=Ci(gi(oe),gi(Se));Si(Xt);var Ot=Ci(D,Xt);Si(Ot);var ke=(tt^yt>=0?-1:1)*He(Ot[2]);(h>ke||h===ke&&(Xt[0]||Xt[1]))&&(E+=tt^yt>=0?1:-1)}}return(S<-N||S<N&&V<-se)^1&E}(H,h);B.length?(V||(y.polygonStart(),V=!0),ws(B,e,Xe,u,y)):Xe&&(V||(y.polygonStart(),V=!0),y.lineStart(),u(null,null,1,y),y.lineEnd()),V&&(y.polygonEnd(),V=!1),B=H=null},sphere:function(){y.polygonStart(),y.lineStart(),u(null,null,1,y),y.lineEnd(),y.polygonEnd()}};function oe(Xe,Ke){d(Xe,Ke)&&y.point(Xe,Ke)}function de(Xe,Ke){D.point(Xe,Ke)}function xe(){Z.point=de,D.lineStart()}function Me(){Z.point=oe,D.lineEnd()}function Oe(Xe,Ke){te.push([Xe,Ke]),E.point(Xe,Ke)}function Ne(){E.lineStart(),te=[]}function Se(){Oe(te[0][0],te[0][1]),E.lineEnd();var $e,yt,vt,Rt,Xe=E.clean(),Ke=S.result(),At=Ke.length;if(te.pop(),H.push(te),te=null,At){if(1&Xe){if((yt=(vt=Ke[0]).length-1)>0){for(V||(y.polygonStart(),V=!0),y.lineStart(),$e=0;$e<yt;++$e)y.point((Rt=vt[$e])[0],Rt[1]);y.lineEnd()}return}At>1&&2&Xe&&Ke.push(Ke.pop().concat(Ke.shift())),B.push(Ke.filter(ee))}}return Z}}function ee(d){return d.length>1}function e(d,n){return((d=d.x)[0]<0?d[1]-P-N:P-d[1])-((n=n.x)[0]<0?n[1]-P-N:P-n[1])}bs.invert=bs;const t=Bi(function(){return!0},function s(d){var y,n=NaN,u=NaN,h=NaN;return{lineStart:function(){d.lineStart(),y=1},point:function(D,S){var E=D>0?k:-k,V=j(D-n);j(V-k)<N?(d.point(n,u=(u+S)/2>0?P:-P),d.point(h,u),d.lineEnd(),d.lineStart(),d.point(E,u),d.point(D,u),y=0):h!==E&&V>=k&&(j(n-h)<N&&(n-=h*N),j(D-E)<N&&(D-=E*N),u=function o(d,n,u,h){var y,D,S=Ee(d-u);return j(S)>N?_e((Ee(n)*(D=he(h))*Ee(u)-Ee(h)*(y=he(n))*Ee(d))/(y*D*S)):(n+h)/2}(n,u,D,S),d.point(h,u),d.lineEnd(),d.lineStart(),d.point(E,u),y=0),d.point(n=D,u=S),h=E},lineEnd:function(){d.lineEnd(),n=u=NaN},clean:function(){return 2-y}}},function c(d,n,u,h){var y;if(null==d)h.point(-k,y=u*P),h.point(0,y),h.point(k,y),h.point(k,0),h.point(k,-y),h.point(0,-y),h.point(-k,-y),h.point(-k,0),h.point(-k,y);else if(j(d[0]-n[0])>N){var D=d[0]<n[0]?k:-k;h.point(-D,y=u*D/2),h.point(0,y),h.point(D,y)}else h.point(n[0],n[1])},[-k,-P]);function p(d){return function(){return d}}function g(d,n,u,h,y,D){if(u){var S=he(n),E=Ee(n),V=h*u;null==y?(y=n+h*le,D=n-V/2):(y=b(S,y),D=b(S,D),(h>0?y<D:y>D)&&(y+=h*le));for(var H,B=y;h>0?B>D:B<D;B-=V)H=ji([S,-E*he(B),-E*Ee(B)]),d.point(H[0],H[1])}}function b(d,n){(n=gi(n))[0]-=d,Si(n);var u=function mt(d){return d>1?0:d<-1?k:Math.acos(d)}(-n[1]);return((-n[2]<0?-u:u)+le-N)%le}var C=1e9,Q=-C;const q=d=>d;function ne(d){return function(n){var u=new ge;for(var h in d)u[h]=d[h];return u.stream=n,u}}function ge(){}ge.prototype={constructor:ge,point:function(d,n){this.stream.point(d,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var ae=1/0,fe=ae,ve=-ae,Pe=ve;const rt={point:function Ye(d,n){d<ae&&(ae=d),d>ve&&(ve=d),n<fe&&(fe=n),n>Pe&&(Pe=n)},lineStart:je,lineEnd:je,polygonStart:je,polygonEnd:je,result:function(){var d=[[ae,fe],[ve,Pe]];return ve=Pe=-(fe=ae=1/0),d}};function Fe(d,n,u){var h=d.clipExtent&&d.clipExtent();return d.scale(150).translate([0,0]),null!=h&&d.clipExtent(null),Wt(u,d.stream(rt)),n(rt.result()),null!=h&&d.clipExtent(h),d}function qe(d,n,u){return Fe(d,function(h){var y=n[1][0]-n[0][0],D=n[1][1]-n[0][1],S=Math.min(y/(h[1][0]-h[0][0]),D/(h[1][1]-h[0][1])),E=+n[0][0]+(y-S*(h[1][0]+h[0][0]))/2,V=+n[0][1]+(D-S*(h[1][1]+h[0][1]))/2;d.scale(150*S).translate([E,V])},u)}function nt(d,n,u){return qe(d,[[0,0],n],u)}function Bt(d,n,u){return Fe(d,function(h){var y=+n,D=y/(h[1][0]-h[0][0]),S=(y-D*(h[1][0]+h[0][0]))/2,E=-D*h[0][1];d.scale(150*D).translate([S,E])},u)}function It(d,n,u){return Fe(d,function(h){var y=+n,D=y/(h[1][1]-h[0][1]),S=-D*h[0][0],E=(y-D*(h[1][1]+h[0][1]))/2;d.scale(150*D).translate([S,E])},u)}var Lt=16,bt=he(30*U);function Je(d,n){return+n?function et(d,n){function u(h,y,D,S,E,V,H,B,te,Z,oe,de,xe,Me){var Oe=H-h,Ne=B-y,Se=Oe*Oe+Ne*Ne;if(Se>4*n&&xe--){var Xe=S+Z,Ke=E+oe,$e=V+de,At=Qe(Xe*Xe+Ke*Ke+$e*$e),yt=He($e/=At),vt=j(j($e)-1)<N||j(D-te)<N?(D+te)/2:Le(Ke,Xe),Rt=d(vt,yt),tt=Rt[0],li=Rt[1],Xt=tt-h,Ot=li-y,ke=Ne*Xt-Oe*Ot;(ke*ke/Se>n||j((Oe*Xt+Ne*Ot)/Se-.5)>.3||S*Z+E*oe+V*de<bt)&&(u(h,y,D,S,E,V,tt,li,vt,Xe/=At,Ke/=At,$e,xe,Me),Me.point(tt,li),u(tt,li,vt,Xe,Ke,$e,H,B,te,Z,oe,de,xe,Me))}}return function(h){var y,D,S,E,V,H,B,te,Z,oe,de,xe,Me={point:Oe,lineStart:Ne,lineEnd:Xe,polygonStart:function(){h.polygonStart(),Me.lineStart=Ke},polygonEnd:function(){h.polygonEnd(),Me.lineStart=Ne}};function Oe(yt,vt){yt=d(yt,vt),h.point(yt[0],yt[1])}function Ne(){te=NaN,Me.point=Se,h.lineStart()}function Se(yt,vt){var Rt=gi([yt,vt]),tt=d(yt,vt);u(te,Z,B,oe,de,xe,te=tt[0],Z=tt[1],B=yt,oe=Rt[0],de=Rt[1],xe=Rt[2],Lt,h),h.point(te,Z)}function Xe(){Me.point=Oe,h.lineEnd()}function Ke(){Ne(),Me.point=$e,Me.lineEnd=At}function $e(yt,vt){Se(y=yt,vt),D=te,S=Z,E=oe,V=de,H=xe,Me.point=Se}function At(){u(te,Z,B,oe,de,xe,D,S,y,E,V,H,Lt,h),Me.lineEnd=Xe,Xe()}return Me}}(d,n):function at(d){return ne({point:function(n,u){n=d(n,u),this.stream.point(n[0],n[1])}})}(d)}var Oi=ne({point:function(d,n){this.stream.point(d*U,n*U)}});function Pt(d,n,u,h,y,D){if(!D)return function xi(d,n,u,h,y){function D(S,E){return[n+d*(S*=h),u-d*(E*=y)]}return D.invert=function(S,E){return[(S-n)/d*h,(u-E)/d*y]},D}(d,n,u,h,y);var S=he(D),E=Ee(D),V=S*d,H=E*d,B=S/d,te=E/d,Z=(E*u-S*n)/d,oe=(E*n+S*u)/d;function de(xe,Me){return[V*(xe*=h)-H*(Me*=y)+n,u-H*xe-V*Me]}return de.invert=function(xe,Me){return[h*(B*xe-te*Me+Z),y*(oe-te*xe-B*Me)]},de}function Qt(d){return ki(function(){return d})()}function ki(d){var n,B,Oe,Ne,Se,$e,At,yt,vt,Rt,u=150,h=480,y=250,D=0,S=0,E=0,V=0,H=0,te=0,Z=1,oe=1,de=null,xe=t,Me=null,Xe=q,Ke=.5;function tt(ke){return yt(ke[0]*U,ke[1]*U)}function li(ke){return(ke=yt.invert(ke[0],ke[1]))&&[ke[0]*M,ke[1]*M]}function Xt(){var ke=Pt(u,0,0,Z,oe,te).apply(null,n(D,S)),dt=Pt(u,h-ke[0],y-ke[1],Z,oe,te);return B=Wi(E,V,H),At=Zt(n,dt),yt=Zt(B,At),$e=Je(At,Ke),Ot()}function Ot(){return vt=Rt=null,tt}return tt.stream=function(ke){return vt&&Rt===ke?vt:vt=Oi(function ei(d){return ne({point:function(n,u){var h=d(n,u);return this.stream.point(h[0],h[1])}})}(B)(xe($e(Xe(Rt=ke)))))},tt.preclip=function(ke){return arguments.length?(xe=ke,de=void 0,Ot()):xe},tt.postclip=function(ke){return arguments.length?(Xe=ke,Me=Oe=Ne=Se=null,Ot()):Xe},tt.clipAngle=function(ke){return arguments.length?(xe=+ke?function T(d){var n=he(d),u=6*U,h=n>0,y=j(n)>N;function S(B,te){return he(B)*he(te)>n}function V(B,te,Z){var xe=[1,0,0],Me=Ci(gi(B),gi(te)),Oe=Mi(Me,Me),Ne=Me[0],Se=Oe-Ne*Ne;if(!Se)return!Z&&B;var Xe=n*Oe/Se,Ke=-n*Ne/Se,$e=Ci(xe,Me),At=Ki(xe,Xe);ls(At,Ki(Me,Ke));var vt=$e,Rt=Mi(At,vt),tt=Mi(vt,vt),li=Rt*Rt-tt*(Mi(At,At)-1);if(!(li<0)){var Xt=Qe(li),Ot=Ki(vt,(-Rt-Xt)/tt);if(ls(Ot,At),Ot=ji(Ot),!Z)return Ot;var Pi,ke=B[0],dt=te[0],Jt=B[1],ui=te[1];dt<ke&&(Pi=ke,ke=dt,dt=Pi);var qs=dt-ke,ss=j(qs-k)<N;if(!ss&&ui<Jt&&(Pi=Jt,Jt=ui,ui=Pi),ss||qs<N?ss?Jt+ui>0^Ot[1]<(j(Ot[0]-ke)<N?Jt:ui):Jt<=Ot[1]&&Ot[1]<=ui:qs>k^(ke<=Ot[0]&&Ot[0]<=dt)){var rs=Ki(vt,(-Rt+Xt)/tt);return ls(rs,At),[Ot,ji(rs)]}}}function H(B,te){var Z=h?d:k-d,oe=0;return B<-Z?oe|=1:B>Z&&(oe|=2),te<-Z?oe|=4:te>Z&&(oe|=8),oe}return Bi(S,function E(B){var te,Z,oe,de,xe;return{lineStart:function(){de=oe=!1,xe=1},point:function(Me,Oe){var Se,Ne=[Me,Oe],Xe=S(Me,Oe),Ke=h?Xe?0:H(Me,Oe):Xe?H(Me+(Me<0?k:-k),Oe):0;if(!te&&(de=oe=Xe)&&B.lineStart(),Xe!==oe&&(!(Se=V(te,Ne))||os(te,Se)||os(Ne,Se))&&(Ne[2]=1),Xe!==oe)xe=0,Xe?(B.lineStart(),Se=V(Ne,te),B.point(Se[0],Se[1])):(Se=V(te,Ne),B.point(Se[0],Se[1],2),B.lineEnd()),te=Se;else if(y&&te&&h^Xe){var $e;!(Ke&Z)&&($e=V(Ne,te,!0))&&(xe=0,h?(B.lineStart(),B.point($e[0][0],$e[0][1]),B.point($e[1][0],$e[1][1]),B.lineEnd()):(B.point($e[1][0],$e[1][1]),B.lineEnd(),B.lineStart(),B.point($e[0][0],$e[0][1],3)))}Xe&&(!te||!os(te,Ne))&&B.point(Ne[0],Ne[1]),te=Ne,oe=Xe,Z=Ke},lineEnd:function(){oe&&B.lineEnd(),te=null},clean:function(){return xe|(de&&oe)<<1}}},function D(B,te,Z,oe){g(oe,d,u,Z,B,te)},h?[0,-d]:[-k,d-k])}(de=ke*U):(de=null,t),Ot()):de*M},tt.clipExtent=function(ke){return arguments.length?(Xe=null==ke?(Me=Oe=Ne=Se=null,q):function J(d,n,u,h){function y(H,B){return d<=H&&H<=u&&n<=B&&B<=h}function D(H,B,te,Z){var oe=0,de=0;if(null==H||(oe=S(H,te))!==(de=S(B,te))||V(H,B)<0^te>0)do{Z.point(0===oe||3===oe?d:u,oe>1?h:n)}while((oe=(oe+te+4)%4)!==de);else Z.point(B[0],B[1])}function S(H,B){return j(H[0]-d)<N?B>0?0:3:j(H[0]-u)<N?B>0?2:1:j(H[1]-n)<N?B>0?1:0:B>0?3:2}function E(H,B){return V(H.x,B.x)}function V(H,B){var te=S(H,1),Z=S(B,1);return te!==Z?te-Z:0===te?B[1]-H[1]:1===te?H[0]-B[0]:2===te?H[1]-B[1]:B[0]-H[0]}return function(H){var Z,oe,de,xe,Me,Oe,Ne,Se,Xe,Ke,$e,B=H,te=Zi(),At={point:yt,lineStart:function li(){At.point=Ot,oe&&oe.push(de=[]),Ke=!0,Xe=!1,Ne=Se=NaN},lineEnd:function Xt(){Z&&(Ot(xe,Me),Oe&&Xe&&te.rejoin(),Z.push(te.result())),At.point=yt,Xe&&B.lineEnd()},polygonStart:function Rt(){B=te,Z=[],oe=[],$e=!0},polygonEnd:function tt(){var ke=function vt(){for(var ke=0,dt=0,Jt=oe.length;dt<Jt;++dt)for(var Os,rs,ui=oe[dt],Pi=1,qs=ui.length,ss=ui[0],gr=ss[0],Fs=ss[1];Pi<qs;++Pi)Os=gr,rs=Fs,gr=(ss=ui[Pi])[0],Fs=ss[1],rs<=h?Fs>h&&(gr-Os)*(h-rs)>(Fs-rs)*(d-Os)&&++ke:Fs<=h&&(gr-Os)*(h-rs)<(Fs-rs)*(d-Os)&&--ke;return ke}(),dt=$e&&ke,Jt=(Z=Ls(Z)).length;(dt||Jt)&&(H.polygonStart(),dt&&(H.lineStart(),D(null,null,1,H),H.lineEnd()),Jt&&ws(Z,E,ke,D,H),H.polygonEnd()),B=H,Z=oe=de=null}};function yt(ke,dt){y(ke,dt)&&B.point(ke,dt)}function Ot(ke,dt){var Jt=y(ke,dt);if(oe&&de.push([ke,dt]),Ke)xe=ke,Me=dt,Oe=Jt,Ke=!1,Jt&&(B.lineStart(),B.point(ke,dt));else if(Jt&&Xe)B.point(ke,dt);else{var ui=[Ne=Math.max(Q,Math.min(C,Ne)),Se=Math.max(Q,Math.min(C,Se))],Pi=[ke=Math.max(Q,Math.min(C,ke)),dt=Math.max(Q,Math.min(C,dt))];!function x(d,n,u,h,y,D){var de,S=d[0],E=d[1],B=0,te=1,Z=n[0]-S,oe=n[1]-E;if(de=u-S,Z||!(de>0)){if(de/=Z,Z<0){if(de<B)return;de<te&&(te=de)}else if(Z>0){if(de>te)return;de>B&&(B=de)}if(de=y-S,Z||!(de<0)){if(de/=Z,Z<0){if(de>te)return;de>B&&(B=de)}else if(Z>0){if(de<B)return;de<te&&(te=de)}if(de=h-E,oe||!(de>0)){if(de/=oe,oe<0){if(de<B)return;de<te&&(te=de)}else if(oe>0){if(de>te)return;de>B&&(B=de)}if(de=D-E,oe||!(de<0)){if(de/=oe,oe<0){if(de>te)return;de>B&&(B=de)}else if(oe>0){if(de<B)return;de<te&&(te=de)}return B>0&&(d[0]=S+B*Z,d[1]=E+B*oe),te<1&&(n[0]=S+te*Z,n[1]=E+te*oe),!0}}}}}(ui,Pi,d,n,u,h)?Jt&&(B.lineStart(),B.point(ke,dt),$e=!1):(Xe||(B.lineStart(),B.point(ui[0],ui[1])),B.point(Pi[0],Pi[1]),Jt||B.lineEnd(),$e=!1)}Ne=ke,Se=dt,Xe=Jt}return At}}(Me=+ke[0][0],Oe=+ke[0][1],Ne=+ke[1][0],Se=+ke[1][1]),Ot()):null==Me?null:[[Me,Oe],[Ne,Se]]},tt.scale=function(ke){return arguments.length?(u=+ke,Xt()):u},tt.translate=function(ke){return arguments.length?(h=+ke[0],y=+ke[1],Xt()):[h,y]},tt.center=function(ke){return arguments.length?(D=ke[0]%360*U,S=ke[1]%360*U,Xt()):[D*M,S*M]},tt.rotate=function(ke){return arguments.length?(E=ke[0]%360*U,V=ke[1]%360*U,H=ke.length>2?ke[2]%360*U:0,Xt()):[E*M,V*M,H*M]},tt.angle=function(ke){return arguments.length?(te=ke%360*U,Xt()):te*M},tt.reflectX=function(ke){return arguments.length?(Z=ke?-1:1,Xt()):Z<0},tt.reflectY=function(ke){return arguments.length?(oe=ke?-1:1,Xt()):oe<0},tt.precision=function(ke){return arguments.length?($e=Je(At,Ke=ke*ke),Ot()):Qe(Ke)},tt.fitExtent=function(ke,dt){return qe(tt,ke,dt)},tt.fitSize=function(ke,dt){return nt(tt,ke,dt)},tt.fitWidth=function(ke,dt){return Bt(tt,ke,dt)},tt.fitHeight=function(ke,dt){return It(tt,ke,dt)},function(){return n=d.apply(this,arguments),tt.invert=n.invert&&li,Xt()}}function St(d,n){return[d,it(pt((P+n)/2))]}function Es(){return function $i(d){var E,V,H,n=Qt(d),u=n.center,h=n.scale,y=n.translate,D=n.clipExtent,S=null;function B(){var te=k*h(),Z=n(function xs(d){function n(u){return(u=d(u[0]*U,u[1]*U))[0]*=M,u[1]*=M,u}return d=Wi(d[0]*U,d[1]*U,d.length>2?d[2]*U:0),n.invert=function(u){return(u=d.invert(u[0]*U,u[1]*U))[0]*=M,u[1]*=M,u},n}(n.rotate()).invert([0,0]));return D(null==S?[[Z[0]-te,Z[1]-te],[Z[0]+te,Z[1]+te]]:d===St?[[Math.max(Z[0]-te,S),E],[Math.min(Z[0]+te,V),H]]:[[S,Math.max(Z[1]-te,E)],[V,Math.min(Z[1]+te,H)]])}return n.scale=function(te){return arguments.length?(h(te),B()):h()},n.translate=function(te){return arguments.length?(y(te),B()):y()},n.center=function(te){return arguments.length?(u(te),B()):u()},n.clipExtent=function(te){return arguments.length?(null==te?S=E=V=H=null:(S=+te[0][0],E=+te[0][1],V=+te[1][0],H=+te[1][1]),B()):null==S?null:[[S,E],[V,H]]},B()}(St).scale(961/le)}St.invert=function(d,n){return[d,2*_e(Ve(n))-P]};var Rs=I(5770);class tr extends ks.Q{setupDefaultRules(){super.setupDefaultRules();const n=this._root.interfaceColors,u=this.rule.bind(this);u("MapChart").setAll({projection:Es(),panX:"translateX",panY:"translateY",pinchZoom:!0,zoomStep:2,zoomLevel:1,rotationX:0,rotationY:0,rotationZ:0,maxZoomLevel:32,minZoomLevel:1,wheelY:"zoom",wheelX:"none",animationEasing:Rs.out(Rs.cubic),wheelEasing:Rs.out(Rs.cubic),wheelDuration:0,wheelSensitivity:1,maxPanOut:.4,centerMapOnZoomOut:!0});{const h=u("MapLine");h.setAll({precision:.5,role:"figure"}),(0,ms.v)(h,"stroke",n,"grid")}u("MapPolygonSeries").setAll({affectsBounds:!0}),u("MapPointSeries").setAll({affectsBounds:!1,clipFront:!1,clipBack:!0,autoScale:!1}),u("MapLineSeries").setAll({affectsBounds:!1});{const h=u("MapPolygon");h.setAll({precision:.5,isMeasured:!1,role:"figure",fillOpacity:1,position:"absolute",strokeWidth:.2,strokeOpacity:1}),(0,ms.v)(h,"fill",n,"primaryButton"),(0,ms.v)(h,"stroke",n,"background")}u("Button",["zoomcontrol"]).setAll({marginTop:1,marginBottom:1}),u("Graphics",["map","button","plus","icon"]).setAll({x:R.CI,y:R.CI,draw:h=>{h.moveTo(-4,0),h.lineTo(4,0),h.moveTo(0,-4),h.lineTo(0,4)}}),u("Graphics",["map","button","minus","icon"]).setAll({x:R.CI,y:R.CI,draw:h=>{h.moveTo(-4,0),h.lineTo(4,0)}}),u("GraticuleSeries").setAll({step:10}),u("ZoomControl").setAll({x:R.AQ,centerX:R.AQ,y:R.AQ,centerY:R.AQ,paddingRight:10,paddingBottom:10})}}var sr,Ts,zs,us,ir=I(3704),pr=I(3605),Ys=new X,Xs=new X,Fi={point:je,lineStart:je,lineEnd:je,polygonStart:function(){Fi.lineStart=mr,Fi.lineEnd=Li},polygonEnd:function(){Fi.lineStart=Fi.lineEnd=Fi.point=je,Ys.add(j(Xs)),Xs=new X},result:function(){var d=Ys/2;return Ys=new X,d}};function mr(){Fi.point=br}function br(d,n){Fi.point=Ds,sr=zs=d,Ts=us=n}function Ds(d,n){Xs.add(us*d-zs*n),zs=d,us=n}function Li(){Ds(sr,Ts)}const Ms=Fi;var Ss,rr,wi,pi,hs=0,Gs=0,Yi=0,Ji=0,Is=0,qi=0,Vs=0,Us=0,Cs=0,mi={point:$,lineStart:i,lineEnd:l,polygonStart:function(){mi.lineStart=m,mi.lineEnd=f},polygonEnd:function(){mi.point=$,mi.lineStart=i,mi.lineEnd=l},result:function(){var d=Cs?[Vs/Cs,Us/Cs]:qi?[Ji/qi,Is/qi]:Yi?[hs/Yi,Gs/Yi]:[NaN,NaN];return hs=Gs=Yi=Ji=Is=qi=Vs=Us=Cs=0,d}};function $(d,n){hs+=d,Gs+=n,++Yi}function i(){mi.point=r}function r(d,n){mi.point=a,$(wi=d,pi=n)}function a(d,n){var u=d-wi,h=n-pi,y=Qe(u*u+h*h);Ji+=y*(wi+d)/2,Is+=y*(pi+n)/2,qi+=y,$(wi=d,pi=n)}function l(){mi.point=$}function m(){mi.point=_}function f(){Y(Ss,rr)}function _(d,n){mi.point=Y,$(Ss=wi=d,rr=pi=n)}function Y(d,n){var u=d-wi,h=n-pi,y=Qe(u*u+h*h);Ji+=y*(wi+d)/2,Is+=y*(pi+n)/2,qi+=y,Vs+=(y=pi*d-wi*n)*(wi+d),Us+=y*(pi+n),Cs+=3*y,$(wi=d,pi=n)}const L=mi;function re(d){this._context=d}re.prototype={_radius:4.5,pointRadius:function(d){return this._radius=d,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(d,n){switch(this._point){case 0:this._context.moveTo(d,n),this._point=1;break;case 1:this._context.lineTo(d,n);break;default:this._context.moveTo(d+this._radius,n),this._context.arc(d,n,this._radius,0,le)}},result:je};var ie,A,Ce,O,Te,G=new X,me={point:je,lineStart:function(){me.point=Be},lineEnd:function(){ie&&Ae(A,Ce),me.point=je},polygonStart:function(){ie=!0},polygonEnd:function(){ie=null},result:function(){var d=+G;return G=new X,d}};function Be(d,n){me.point=Ae,A=O=d,Ce=Te=n}function Ae(d,n){G.add(Qe((O-=d)*O+(Te-=n)*Te)),O=d,Te=n}const De=me;let We,st,gt,xt;class Tt{constructor(n){this._append=null==n?lt:function _t(d){const n=Math.floor(d);if(!(n>=0))throw new RangeError(`invalid digits: ${d}`);if(n>15)return lt;if(n!==We){const u=10**n;We=n,st=function(y){let D=1;this._+=y[0];for(const S=y.length;D<S;++D)this._+=Math.round(arguments[D]*u)/u+y[D]}}return st}(n),this._radius=4.5,this._=""}pointRadius(n){return this._radius=+n,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){0===this._line&&(this._+="Z"),this._point=NaN}point(n,u){switch(this._point){case 0:this._append`M${n},${u}`,this._point=1;break;case 1:this._append`L${n},${u}`;break;default:if(this._append`M${n},${u}`,this._radius!==gt||this._append!==st){const h=this._radius,y=this._;this._="",this._append`m0,${h}a${h},${h} 0 1,1 0,${-2*h}a${h},${h} 0 1,1 0,${2*h}z`,gt=h,st=this._append,xt=this._,this._=y}this._+=xt}}result(){const n=this._;return this._="",n.length?n:null}}function lt(d){let n=1;this._+=d[0];for(const u=d.length;n<u;++n)this._+=arguments[n]+d[n]}var ai,ht,Et,Gt,Ut,si,Vt,ti,Xi,ri,es,js,Ns,Ht,Kt,$t,Ge=I(796),ot=I(5411),ct=I(9472),Ei={sphere:je,point:_r,lineStart:Cr,lineEnd:Sr,polygonStart:function(){Ei.lineStart=Zr,Ei.lineEnd=Qr},polygonEnd:function(){Ei.lineStart=Cr,Ei.lineEnd=Sr}};function _r(d,n){d*=U;var u=he(n*=U);Hs(u*he(d),u*Ee(d),Ee(n))}function Hs(d,n,u){++ai,Et+=(d-Et)/ai,Gt+=(n-Gt)/ai,Ut+=(u-Ut)/ai}function Cr(){Ei.point=Hr}function Hr(d,n){d*=U;var u=he(n*=U);Ht=u*he(d),Kt=u*Ee(d),$t=Ee(n),Ei.point=Wr,Hs(Ht,Kt,$t)}function Wr(d,n){d*=U;var u=he(n*=U),h=u*he(d),y=u*Ee(d),D=Ee(n),S=Le(Qe((S=Kt*D-$t*y)*S+(S=$t*h-Ht*D)*S+(S=Ht*y-Kt*h)*S),Ht*h+Kt*y+$t*D);ht+=S,si+=S*(Ht+(Ht=h)),Vt+=S*(Kt+(Kt=y)),ti+=S*($t+($t=D)),Hs(Ht,Kt,$t)}function Sr(){Ei.point=_r}function Zr(){Ei.point=Kr}function Qr(){Ar(js,Ns),Ei.point=_r}function Kr(d,n){js=d,Ns=n,d*=U,n*=U,Ei.point=Ar;var u=he(n);Ht=u*he(d),Kt=u*Ee(d),$t=Ee(n),Hs(Ht,Kt,$t)}function Ar(d,n){d*=U;var u=he(n*=U),h=u*he(d),y=u*Ee(d),D=Ee(n),S=Kt*D-$t*y,E=$t*h-Ht*D,V=Ht*y-Kt*h,H=pe(S,E,V),B=He(H),te=H&&-B/H;Xi.add(te*S),ri.add(te*E),es.add(te*V),ht+=B,si+=B*(Ht+(Ht=h)),Vt+=B*(Kt+(Kt=y)),ti+=B*($t+($t=D)),Hs(Ht,Kt,$t)}var Or,kr,yr,vr,xr,nr=new X,ar=new X,zi={point:je,lineStart:je,lineEnd:je,polygonStart:function(){nr=new X,zi.lineStart=Jr,zi.lineEnd=qr},polygonEnd:function(){var d=+nr;ar.add(d<0?le+d:d),this.lineStart=this.lineEnd=this.point=je},sphere:function(){ar.add(le)}};function Jr(){zi.point=en}function qr(){Lr(Or,kr)}function en(d,n){zi.point=Lr,Or=d,kr=n,yr=d*=U,vr=he(n=(n*=U)/2+W),xr=Ee(n)}function Lr(d,n){var u=(d*=U)-yr,h=u>=0?1:-1,y=h*u,D=he(n=(n*=U)/2+W),S=Ee(n),E=xr*S,V=vr*D+E*he(y),H=E*h*Ee(y);nr.add(Le(H,V)),yr=d,vr=D,xr=S}function Er(d){return ar=new X,Wt(d,zi),2*ar}var jt,oi,Ft,bi,As,Rr,Ir,Bs,Ws,cs,ts,is={point:wr,lineStart:Nr,lineEnd:Br,polygonStart:function(){is.point=Fr,is.lineStart=tn,is.lineEnd=sn,Ws=new X,zi.polygonStart()},polygonEnd:function(){zi.polygonEnd(),is.point=wr,is.lineStart=Nr,is.lineEnd=Br,nr<0?(jt=-(Ft=180),oi=-(bi=90)):Ws>N?bi=90:Ws<-N&&(oi=-90),ts[0]=jt,ts[1]=Ft},sphere:function(){jt=-(Ft=180),oi=-(bi=90)}};function wr(d,n){cs.push(ts=[jt=d,Ft=d]),n<oi&&(oi=n),n>bi&&(bi=n)}function jr(d,n){var u=gi([d*U,n*U]);if(Bs){var h=Ci(Bs,u),D=Ci([h[1],-h[0],0],h);Si(D),D=ji(D);var H,S=d-As,E=S>0?1:-1,V=D[0]*M*E,B=j(S)>180;B^(E*As<V&&V<E*d)?(H=D[1]*M)>bi&&(bi=H):B^(E*As<(V=(V+360)%360-180)&&V<E*d)?(H=-D[1]*M)<oi&&(oi=H):(n<oi&&(oi=n),n>bi&&(bi=n)),B?d<As?_i(jt,d)>_i(jt,Ft)&&(Ft=d):_i(d,Ft)>_i(jt,Ft)&&(jt=d):Ft>=jt?(d<jt&&(jt=d),d>Ft&&(Ft=d)):d>As?_i(jt,d)>_i(jt,Ft)&&(Ft=d):_i(d,Ft)>_i(jt,Ft)&&(jt=d)}else cs.push(ts=[jt=d,Ft=d]);n<oi&&(oi=n),n>bi&&(bi=n),Bs=u,As=d}function Nr(){is.point=jr}function Br(){ts[0]=jt,ts[1]=Ft,is.point=wr,Bs=null}function Fr(d,n){if(Bs){var u=d-As;Ws.add(j(u)>180?u+(u>0?360:-360):u)}else Rr=d,Ir=n;zi.point(d,n),jr(d,n)}function tn(){zi.lineStart()}function sn(){Fr(Rr,Ir),zi.lineEnd(),j(Ws)>N&&(jt=-(Ft=180)),ts[0]=jt,ts[1]=Ft,Bs=null}function _i(d,n){return(n-=d)<0?n+360:n}function rn(d,n){return d[0]-n[0]}function Yr(d,n){return d[0]<=d[1]?d[0]<=n&&n<=d[1]:n<d[0]||d[1]<n}function an(d,n){return function w(){var h,y,d=p([0,0]),n=p(90),u=p(6),D={point:function S(V,H){h.push(V=y(V,H)),V[0]*=M,V[1]*=M}};function E(){var V=d.apply(this,arguments),H=n.apply(this,arguments)*U,B=u.apply(this,arguments)*U;return h=[],y=Wi(-V[0]*U,-V[1]*U,0).invert,g(D,H,B,1),V={type:"Polygon",coordinates:[h]},h=y=null,V}return E.center=function(V){return arguments.length?(d="function"==typeof V?V:p([+V[0],+V[1]]),E):d},E.radius=function(V){return arguments.length?(n="function"==typeof V?V:p(+V),E):n},E.precision=function(V){return arguments.length?(u="function"==typeof V?V:p(+V),E):u},E}().center([d.longitude,d.latitude]).radius(n)()}function or(d){const n=function $r(d){ai=ht=Et=Gt=Ut=si=Vt=ti=0,Xi=new X,ri=new X,es=new X,Wt(d,Ei);var n=+Xi,u=+ri,h=+es,y=pe(n,u,h);return y<se&&(n=si,u=Vt,h=ti,ht<N&&(n=Et,u=Gt,h=Ut),(y=pe(n,u,h))<se)?[NaN,NaN]:[Le(u,n)*M,He(h/y)*M]}(d);return{longitude:n[0],latitude:n[1]}}function on(d){return Er(d)}function lr(d){const n=function nn(d){var n,u,h,y,D,S,E;if(bi=Ft=-(jt=oi=1/0),cs=[],Wt(d,is),u=cs.length){for(cs.sort(rn),n=1,D=[h=cs[0]];n<u;++n)Yr(h,(y=cs[n])[0])||Yr(h,y[1])?(_i(h[0],y[1])>_i(h[0],h[1])&&(h[1]=y[1]),_i(y[0],h[1])>_i(h[0],h[1])&&(h[0]=y[0])):D.push(h=y);for(S=-1/0,n=0,h=D[u=D.length-1];n<=u;h=y,++n)(E=_i(h[1],(y=D[n])[0]))>S&&(S=E,jt=y[0],Ft=h[1])}return cs=ts=null,jt===1/0||oi===1/0?[[NaN,NaN],[NaN,NaN]]:[[jt,oi],[Ft,bi]]}(d);if(n){const u={left:n[0][0],right:n[1][0],top:n[1][1],bottom:n[0][1]};return u.right<u.left&&(u.right=180,u.left=-180),u}return{left:0,right:0,top:0,bottom:0}}function ln(d,n,u,h){let y=[];h<=-180&&(h=-179.9999),u<=-90&&(u=-89.9999),d>=90&&(d=89.9999),n>=180&&(n=179.9999);let D=Math.min(90,(n-h)/Math.ceil((n-h)/90)),S=(d-u)/Math.ceil((d-u)/90);for(let E=h;E<n;E+=D){let V=[];y.push([V]),E+D>n&&(D=n-E);for(let H=E;H<=E+D;H+=5)V.push([H,d]);for(let H=d;H>=u;H-=S)V.push([E+D,H]);for(let H=E+D;H>=E;H-=5)V.push([H,u]);for(let H=u;H<=d;H+=S)V.push([E,H])}return{type:"MultiPolygon",coordinates:y}}function un(d){let n=Pr(d.longitude),u=Math.asin(Math.sin(d.latitude*ct.RADIANS))*ct.DEGREES,h=Pr(d.latitude);return Math.abs(h)>90&&(n=Pr(n+180)),d.longitude=n,d.latitude=u,d}function Pr(d){return(d%=360)>180&&(d-=360),d<-180&&(d+=360),d}var Tr=I(8261);class ur extends ir.j{constructor(){super(...arguments),Object.defineProperty(this,"_downTranslateX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downTranslateY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downRotationX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downRotationY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downRotationZ",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_pLat",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_pLon",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_movePoints",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_downZoomLevel",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_doubleDownDistance",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_dirtyGeometries",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_geometryColection",{enumerable:!0,configurable:!0,writable:!0,value:{type:"GeometryCollection",geometries:[]}}),Object.defineProperty(this,"_centerLocation",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"_za",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_rxa",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_rya",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_txa",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tya",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_mapBounds",{enumerable:!0,configurable:!0,writable:!0,value:[[0,0],[0,0]]}),Object.defineProperty(this,"_geoCentroid",{enumerable:!0,configurable:!0,writable:!0,value:{longitude:0,latitude:0}}),Object.defineProperty(this,"_geoBounds",{enumerable:!0,configurable:!0,writable:!0,value:{left:0,right:0,top:0,bottom:0}}),Object.defineProperty(this,"_prevGeoBounds",{enumerable:!0,configurable:!0,writable:!0,value:{left:0,right:0,top:0,bottom:0}}),Object.defineProperty(this,"_dispatchBounds",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_wheelDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_pw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_ph",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_mapFitted",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_centerX",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_centerY",{enumerable:!0,configurable:!0,writable:!0,value:0})}_makeGeoPath(){const n=this.get("projection"),u=function Dt(d,n){let y,D,u=3,h=4.5;function S(E){return E&&("function"==typeof h&&D.pointRadius(+h.apply(this,arguments)),Wt(E,y(D))),D.result()}return S.area=function(E){return Wt(E,y(Ms)),Ms.result()},S.measure=function(E){return Wt(E,y(De)),De.result()},S.bounds=function(E){return Wt(E,y(rt)),rt.result()},S.centroid=function(E){return Wt(E,y(L)),L.result()},S.projection=function(E){return arguments.length?(y=null==E?(d=null,q):(d=E).stream,S):d},S.context=function(E){return arguments.length?(D=null==E?(n=null,new Tt(u)):new re(n=E),"function"!=typeof h&&D.pointRadius(h),S):n},S.pointRadius=function(E){return arguments.length?(h="function"==typeof E?E:(D.pointRadius(+E),+E),S):h},S.digits=function(E){if(!arguments.length)return u;if(null==E)u=null;else{const V=Math.floor(E);if(!(V>=0))throw new RangeError(`invalid digits: ${E}`);u=V}return null===n&&(D=new Tt(u)),S},S.projection(d).digits(u).context(n)}();u.projection(n),this.setPrivateRaw("geoPath",u)}geoPoint(){return this.invert(this.seriesContainer.toGlobal({x:this.width()/2,y:this.height()/2}))}geoCentroid(){return this._geoCentroid}geoBounds(){return this._geoBounds}_handleSetWheel(){const n=this.get("wheelX"),u=this.get("wheelY"),h=this.chartContainer;"none"!=n||"none"!=u?(this._wheelDp&&this._wheelDp.dispose(),this._wheelDp=h.events.on("wheel",y=>{const D=this.get("wheelEasing"),S=this.get("wheelSensitivity",1),E=this.get("wheelDuration",0),V=y.originalEvent;if(!Tr.isLocalEvent(V,this))return;V.preventDefault();const H=h._display.toLocal(y.point);"zoom"==u?this._handleWheelZoom(V.deltaY,H):"rotateY"==u?this._handleWheelRotateY(V.deltaY/5*S,E,D):"rotateX"==u&&this._handleWheelRotateX(V.deltaY/5*S,E,D),"zoom"==n?this._handleWheelZoom(V.deltaX,H):"rotateY"==n?this._handleWheelRotateY(V.deltaX/5*S,E,D):"rotateX"==n&&this._handleWheelRotateX(V.deltaX/5*S,E,D)}),this._disposers.push(this._wheelDp)):this._wheelDp&&this._wheelDp.dispose()}_prepareChildren(){super._prepareChildren();const n=this.get("projection"),u=this.innerWidth(),h=this.innerHeight(),y=this._geometryColection.geometries;if(this.isDirty("projection")){this._makeGeoPath(),this.markDirtyProjection(),this._fitMap(),n.scale(this.getPrivate("mapScale")*this.get("zoomLevel",1)),n.rotate&&n.rotate([this.get("rotationX",0),this.get("rotationY",0),this.get("rotationZ",0)]);let D=this._prevSettings.projection;if(D&&D!=n){let S=u/2,E=h/2;if(D.invert){let V=D.invert([S,E]);if(V){let H=n(V);if(H){let B=n.translate(),te=S-(H[0]-B[0]),Z=E-(H[1]-B[1]);n.translate([te,Z]),this.setRaw("translateX",te),this.setRaw("translateY",Z)}}}}}if((this.isDirty("wheelX")||this.isDirty("wheelY"))&&this._handleSetWheel(),this._dirtyGeometries&&(this._geometryColection.geometries=[],this.series.each(D=>{z.pushAll(this._geometryColection.geometries,D._geometries)}),this._fitMap()),0!=y.length&&(u!=this._pw||h!=this._ph||this._dirtyGeometries)&&u>0&&h>0){let D=u/2,S=h/2;n.fitSize([u,h],this._geometryColection);const E=n.scale();if(this.setPrivateRaw("mapScale",E),n.scale(E*this.get("zoomLevel",1)),this._centerLocation){let H=n(this._centerLocation);if(H){let B=n.translate(),te=D-(H[0]-B[0]),Z=S-(H[1]-B[1]);n.translate([te,Z]),this.setRaw("translateX",te),this.setRaw("translateY",Z),this._centerX=B[0],this._centerY=B[1]}}this.markDirtyProjection();const V=this.getPrivate("geoPath");this._mapBounds=V.bounds(this._geometryColection)}if(this._pw=u,this._ph=h,this.isDirty("zoomControl")){const D=this._prevSettings.zoomControl,S=this.get("zoomControl");S!==D&&(this._disposeProperty("zoomControl"),D&&D.dispose(),S&&(S.setPrivate("chart",this),this.children.push(S)),this.setRaw("zoomControl",S))}this.isDirty("zoomLevel")&&(n.scale(this.getPrivate("mapScale")*this.get("zoomLevel",1)),this.markDirtyProjection(),this.series.each(D=>{D.isType("MapPointSeries")&&D.get("autoScale")&&z.each(D.dataItems,S=>{const E=S.bullets;E&&z.each(E,V=>{const H=V.get("sprite");H&&H.set("scale",this.get("zoomLevel"))})})})),(this.isDirty("translateX")||this.isDirty("translateY"))&&(n.translate([this.get("translateX",this.width()/2),this.get("translateY",this.height()/2)]),this.markDirtyProjection()),n.rotate&&(this.isDirty("rotationX")||this.isDirty("rotationY")||this.isDirty("rotationZ"))&&(n.rotate([this.get("rotationX",0),this.get("rotationY",0),this.get("rotationZ",0)]),this.markDirtyProjection()),(this.isDirty("pinchZoom")||this.get("panX")||this.get("panY"))&&this._setUpTouch()}_fitMap(){const n=this.get("projection");let u=this.innerWidth(),h=this.innerHeight();if(u>0&&h>0){n.fitSize([u,h],this._geometryColection),this.setPrivateRaw("mapScale",n.scale());const y=n.translate();this.setRaw("translateX",y[0]),this.setRaw("translateY",y[1]),this._centerX=y[0],this._centerY=y[1];const D=this.getPrivate("geoPath");this._mapBounds=D.bounds(this._geometryColection),this._geoCentroid=or(this._geometryColection);const S=lr(this._geometryColection);if(this._geoBounds=S,this._geometryColection.geometries.length>0){S.left=ct.round(this._geoBounds.left,3),S.right=ct.round(this._geoBounds.right,3),S.top=ct.round(this._geoBounds.top,3),S.bottom=ct.round(this._geoBounds.bottom,3);const E=this._prevGeoBounds;E&&!Tr.sameBounds(S,E)&&(this._dispatchBounds=!0,this._prevGeoBounds=S)}this._mapFitted=!0}}homeGeoPoint(){let n=this.get("homeGeoPoint");if(!n){const h=this.getPrivate("geoPath").bounds(this._geometryColection),y=h[0][0],D=h[0][1];n=this.invert({x:y+(h[1][0]-y)/2,y:D+(h[1][1]-D)/2})}return n}goHome(n){this.zoomToGeoPoint(this.homeGeoPoint(),this.get("homeZoomLevel",1),!0,n,this.get("homeRotationX"),this.get("homeRotationY"))}_updateChildren(){const n=this.get("projection");if(n.invert){let u=this.innerWidth(),h=this.innerHeight();u>0&&h>0&&(this._centerLocation=n.invert([this.innerWidth()/2,this.innerHeight()/2]))}super._updateChildren()}_afterChanged(){if(super._afterChanged(),this._dispatchBounds){this._dispatchBounds=!1;const n="geoboundschanged";this.events.isEnabled(n)&&this.events.dispatch(n,{type:n,target:this})}}_setUpTouch(){this.chartContainer._display.cancelTouch||(this.chartContainer._display.cancelTouch=!!(this.get("pinchZoom")||this.get("panX")||this.get("panY")))}markDirtyGeometries(){this._dirtyGeometries=!0,this.markDirty()}markDirtyProjection(){this.series.each(n=>{n.markDirtyProjection()})}_afterNew(){this._defaultThemes.push(tr.new(this._root)),this._settings.themeTags=Tr.mergeTags(this._settings.themeTags,["map"]),this.children.push(this.bulletsContainer),super._afterNew(),this._makeGeoPath(),this.chartContainer.children.push(this.seriesContainer),null==this.get("translateX")&&this.set("translateX",this.width()/2),null==this.get("translateY")&&this.set("translateY",this.height()/2),this.chartContainer.set("interactive",!0),this.chartContainer.set("interactiveChildren",!1),this.chartContainer.set("background",pr.A.new(this._root,{themeTags:["map","background"],fill:Ge.Il.fromHex(0),fillOpacity:0})),this._disposers.push(this.chartContainer.events.on("pointerdown",u=>{this._handleChartDown(u)})),this._disposers.push(this.chartContainer.events.on("globalpointerup",u=>{this._handleChartUp(u)})),this._disposers.push(this.chartContainer.events.on("globalpointermove",u=>{this._handleChartMove(u)}));let n=!1;for(let u=0;u<ot.i_.licenses.length;u++)ot.i_.licenses[u].match(/^AM5M.{5,}/i)&&(n=!0);n||this._root._showBranding(),this._setUpTouch()}_handleChartDown(n){this._downZoomLevel=this.get("zoomLevel",1);let u=we.keys(this.chartContainer._downPoints).length;if(1==u){const h=this.chartContainer._downPoints[1];h&&h.x==n.point.x&&h.y==n.point.y&&(u=0)}if(u>0){this._downTranslateX=this.get("translateX"),this._downTranslateY=this.get("translateY"),this._downRotationX=this.get("rotationX"),this._downRotationY=this.get("rotationY"),this._downRotationZ=this.get("rotationZ");const h=this.chartContainer._getDownPointId();if(h){let y=this._movePoints[h];y&&(this.chartContainer._downPoints[h]=y)}}else if(0==u){let h=this.chartContainer.get("background");if(h&&h.events.enableType("click"),this.get("panX")||this.get("panY")){this._za&&this._za.stop(),this._txa&&this._txa.stop(),this._tya&&this._tya.stop(),this._rxa&&this._rxa.stop(),this._rya&&this._rya.stop();const y=this.chartContainer._display.toLocal(n.point);this._downTranslateX=this.get("translateX"),this._downTranslateY=this.get("translateY"),this._downRotationX=this.get("rotationX"),this._downRotationY=this.get("rotationY"),this._downRotationZ=this.get("rotationZ");let D=this.get("projection");if(D.invert){let S=D.invert([y.x,y.y]),E=D.invert([y.x+1,y.y+1]);S&&E&&(this._pLon=Math.abs(E[0]-S[0]),this._pLat=Math.abs(E[1]-S[1]))}}}}invert(n){let u=this.get("projection");if(u.invert){const h=u.invert([n.x,n.y]);if(h)return{longitude:h[0],latitude:h[1]}}return{longitude:0,latitude:0}}convert(n,u,h){let D,y=this.get("projection");if(y.rotate||(u=void 0,h=void 0),null!=u||null!=h){null==u&&(u=0),null==h&&(h=0);let S=y.rotate();y.rotate([u,h,0]),D=y([n.longitude,n.latitude]),y.rotate(S)}else D=y([n.longitude,n.latitude]);return D?{x:D[0],y:D[1]}:{x:0,y:0}}_handleChartUp(n){this.chartContainer._downPoints={}}_handlePinch(){const n=this.chartContainer;let u=0,h=[],y=[];if(we.each(n._downPoints,(D,S)=>{h[u]=S;let E=this._movePoints[D];E&&(y[u]=E),u++}),h.length>1&&y.length>1){const D=n._display;let S=h[0],E=h[1],V=y[0],H=y[1];if(S&&E&&V&&H){S=D.toLocal(S),E=D.toLocal(E),V=D.toLocal(V),H=D.toLocal(H);let B=Math.hypot(E.x-S.x,E.y-S.y),Z=Math.hypot(H.x-V.x,H.y-V.y)/B*this._downZoomLevel;Z=ct.fitToRange(Z,this.get("minZoomLevel",1),this.get("maxZoomLevel",32));let oe={x:V.x+(H.x-V.x)/2,y:V.y+(H.y-V.y)/2},de={x:S.x+(E.x-S.x)/2,y:S.y+(E.y-S.y)/2},Oe=this._downZoomLevel,Ne=oe.x-(-(this._downTranslateX||0)+de.x)/Oe*Z,Se=oe.y-(-(this._downTranslateY||0)+de.y)/Oe*Z;this.set("zoomLevel",Z),this.set("translateX",Ne),this.set("translateY",Se)}}}_handleChartMove(n){const u=this.chartContainer;let h=u._getDownPoint();const y=u._getDownPointId(),S=n.originalEvent.pointerId;if(this.get("pinchZoom")&&S&&(this._movePoints[S]=n.point,we.keys(u._downPoints).length>1))this._handlePinch();else if((!y||!S||S==y)&&h){const E=this.get("panX"),V=this.get("panY");if("none"!=E||"none"!=V){const H=u._display;let B=H.toLocal(n.point);h=H.toLocal(h);let te=this._downTranslateX,Z=this._downTranslateY;if(Math.hypot(h.x-B.x,h.y-B.y)>5){let oe=u.get("background");if(oe&&oe.events.disableType("click"),ue.isNumber(te)&&ue.isNumber(Z)){let de=this.get("projection");const xe=this.get("zoomLevel",1),Me=this.get("maxPanOut",.4),Oe=this._mapBounds,Ne=this.width(),Se=this.height(),Xe=Oe[1][0]-Oe[0][0],Ke=Oe[1][1]-Oe[0][1];if("translateX"==E){te+=B.x-h.x;const $e=Ne/2-(Ne/2-this._centerX)*xe;te=Math.min(te,$e+Xe*Me*xe),te=Math.max(te,$e-Xe*Me*xe)}if("translateY"==V){Z+=B.y-h.y;const $e=Se/2-(Se/2-this._centerY)*xe;Z=Math.min(Z,$e+Ke*Me*xe),Z=Math.max(Z,$e-Ke*Me*xe)}if(this.set("translateX",te),this.set("translateY",Z),de.invert){let $e=de.invert([h.x,h.y]);location&&$e&&("rotateX"==E&&this.set("rotationX",this._downRotationX-(h.x-B.x)*this._pLon),"rotateY"==V&&this.set("rotationY",this._downRotationY+(h.y-B.y)*this._pLat))}}}}}}_handleWheelRotateY(n,u,h){this._rya=this.animate({key:"rotationY",to:this.get("rotationY",0)-n,duration:u,easing:h})}_handleWheelRotateX(n,u,h){this._rxa=this.animate({key:"rotationX",to:this.get("rotationX",0)-n,duration:u,easing:h})}_handleWheelZoom(n,u){let h=this.get("zoomStep",2),y=this.get("zoomLevel",1),D=y;n>0?D=y/h:n<0&&(D=y*h),D!=y&&this.zoomToPoint(u,D)}zoomToGeoBounds(n,u,h,y){n.right<n.left&&(n.right=180,n.left=-180);const S=this.getPrivate("geoPath").bounds(this._geometryColection);let E=this.convert({longitude:n.left,latitude:n.top},h,y),V=this.convert({longitude:n.right,latitude:n.bottom},h,y);E.y<S[0][1]&&(E.y=S[0][1]),V.y>S[1][1]&&(V.y=S[1][1]);let H=this.get("zoomLevel",1),B_left=E.x,B_right=V.x,B_top=E.y,B_bottom=V.y,te=this.seriesContainer,Z=.9*Math.min(te.innerWidth()/(B_right-B_left)*H,te.innerHeight()/(B_bottom-B_top)*H),xe=this.invert({x:B_left+(B_right-B_left)/2,y:B_top+(B_bottom-B_top)/2});return(null!=h||null!=y)&&this.rotate(h,y),this.zoomToGeoPoint(xe,Z,!0,u)}zoomToPoint(n,u,h,y){u&&(u=ct.fitToRange(u,this.get("minZoomLevel",1),this.get("maxZoomLevel",32))),ue.isNumber(y)||(y=this.get("animationDuration",0));const D=this.get("animationEasing"),S=this.get("zoomLevel",1);this.get("centerMapOnZoomOut")&&u==this.get("homeZoomLevel",1)&&(n=this.convert(this.homeGeoPoint()),h=!0);let E=n.x,V=n.y,H=this.get("translateX",0),B=this.get("translateY",0),te=E,Z=V;h&&(te=this.width()/2,Z=this.height()/2);let de=Z-(V-B)/S*u;return this._txa=this.animate({key:"translateX",to:te-(E-H)/S*u,duration:y,easing:D}),this._tya=this.animate({key:"translateY",to:de,duration:y,easing:D}),this._za=this.animate({key:"zoomLevel",to:u,duration:y,easing:D}),S!=u&&this._root.readerAlert(this._t("Zoom level changed to %1",this._root.locale,ue.numberToString(u))),this._za}zoomToGeoPoint(n,u,h,y,D,S){let E=this.convert(n,D,S);if((null!=D||null!=S)&&this.rotate(D,S,y),E)return this.zoomToPoint(E,u,h,y)}rotate(n,u,h){if(this.get("projection").rotate){ue.isNumber(h)||(h=this.get("animationDuration",0));const D=this.get("animationEasing");null!=n&&this.animate({key:"rotationX",to:n,duration:h,easing:D}),null!=u&&this.animate({key:"rotationY",to:u,duration:h,easing:D})}}zoomIn(){return this.zoomToPoint({x:this.width()/2,y:this.height()/2},this.get("zoomLevel",1)*this.get("zoomStep",2))}zoomOut(){return this.zoomToPoint({x:this.width()/2,y:this.height()/2},this.get("zoomLevel",1)/this.get("zoomStep",2))}_clearDirty(){super._clearDirty(),this._dirtyGeometries=!1,this._mapFitted=!1}getArea(n){const u=this.getPrivate("geoPath"),h=n.get("geometry");return h?u.area(h):0}}Object.defineProperty(ur,"className",{enumerable:!0,configurable:!0,writable:!0,value:"MapChart"}),Object.defineProperty(ur,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ir.j.classNames.concat([ur.className])});class hr extends be{constructor(){super(...arguments),Object.defineProperty(this,"_types",{enumerable:!0,configurable:!0,writable:!0,value:["Point","MultiPoint"]}),Object.defineProperty(this,"_lineChangedDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_afterNew(){this.fields.push("polygonId","lineId","longitude","latitude","fixed"),super._afterNew()}markDirtyProjection(){this.markDirty()}markDirtyValues(n){super.markDirtyValues(),n&&this._positionBullets(n)}processDataItem(n){super.processDataItem(n);let u=n.get("geometry");if(u){if("Point"==u.type){const h=u.coordinates;h&&(n.set("longitude",h[0]),n.set("latitude",h[1]))}else if("MultiPoint"==u.type){const h=u.coordinates;h&&h[0]&&(n.set("longitude",h[0][0]),n.set("latitude",h[0][1]))}}else u={type:"Point",coordinates:[n.get("longitude",0),n.get("latitude",0)]},n.set("geometry",u);this._addGeometry(u,this)}_makeBullets(n){n.bullets=[],this.bullets.each(u=>{const h=n.get("geometry");if(h)if("Point"==h.type)this._setBulletParent(this._makeBullet(n,u));else if(h.type="MultiPoint"){let y=0;z.each(h.coordinates,()=>{this._setBulletParent(this._makeBullet(n,u,y)),y++})}})}_setBulletParent(n){if(n){const u=n.get("sprite"),h=this.chart;if(u&&h){const y=u.dataItem;y&&(y.get("fixed")?u.parent!=h.bulletsContainer&&h.bulletsContainer.children.moveValue(u):u.parent!=this.bulletsContainer&&this.bulletsContainer.children.moveValue(u))}}}_positionBullet(n){const u=n.get("sprite");if(u){const h=u.dataItem;if(h&&h.get("fixed"))return;const y=h.get("latitude"),D=h.get("longitude"),S=h.get("lineDataItem"),E=h.get("fixed"),V=this.chart;let H;if(S)H=S.get("mapLine");else{const xe=h.get("lineId");xe&&V&&V.series.each(Me=>{if(Me.isType("MapLineSeries")){let Oe=Me.getDataItemById(xe);Oe&&(h.set("lineDataItem",Oe),H=Oe.get("mapLine"))}})}this._lineChangedDp&&this._lineChangedDp.dispose(),H&&(this._lineChangedDp=H.events.on("linechanged",()=>{this._positionBullets(h)}));const B=h.get("polygonDataItem");let te;if(B)te=B.get("mapPolygon");else{const xe=h.get("polygonId");xe&&V&&V.series.each(Me=>{if(Me.isType("MapPolygonSeries")){let Oe=Me.getDataItemById(xe);Oe&&(h.set("polygonDataItem",Oe),te=Oe.get("mapPolygon"))}})}const Z=h.get("positionOnLine");let oe,de;if(te){let xe=te.visualCentroid();oe=[xe.longitude,xe.latitude],h.setRaw("longitude",xe.longitude),h.setRaw("latitude",xe.latitude)}else if(H&&ue.isNumber(Z)){let xe=H.positionToGeoPoint(Z);if(oe=[xe.longitude,xe.latitude],h.get("autoRotate",n.get("autoRotate"))&&V){const Me=H.positionToGeoPoint(Z-.002),Oe=H.positionToGeoPoint(Z+.002),Ne=V.convert(Me),Se=V.convert(Oe);de=ct.getAngle(Ne,Se)}h.setRaw("longitude",xe.longitude),h.setRaw("latitude",xe.latitude)}else if(ue.isNumber(D)&&ue.isNumber(y))oe=[D,y];else{const xe=h.get("geometry");xe&&("Point"==xe.type?this._positionBulletReal(n,xe,xe.coordinates,de):"MultiPoint"==xe.type&&(oe=xe.coordinates[n._index||0]))}!E&&oe&&this._positionBulletReal(n,{type:"Point",coordinates:oe},oe,de)}}_positionBulletReal(n,u,h,y){const D=n.get("sprite"),S=this.chart;if(S){const E=S.get("projection"),V=S.getPrivate("geoPath"),H=D.dataItem,B=E(h);B&&D.setAll({x:B[0],y:B[1]});let te=!0;V(u)?this.get("clipFront")&&(te=!1):this.get("clipBack")&&(te=!1),D.setPrivate("visible",te),H&&null!=y&&H.get("autoRotate",n.get("autoRotate"))&&D.set("rotation",y+H.get("autoRotateAngle",n.get("autoRotateAngle",0)))}}zoomToDataItem(n,u,h){const y=this.chart;if(y){const D=n.get("longitude",0),S=n.get("latitude",0);return h?y.zoomToGeoPoint({longitude:D,latitude:S},u,!0,void 0,-D,-S):y.zoomToGeoPoint({longitude:D,latitude:S},u,!0)}}disposeDataItem(n){const u=this.chart;u&&u.series.each(h=>{h.isType("MapLineSeries")&&z.each(h.dataItems,y=>{const D=y.get("pointsToConnect");D&&z.each(D,S=>{S==n&&(z.remove(D,S),h.markDirtyValues(y))})})}),super.disposeDataItem(n)}_excludeDataItem(n){super._excludeDataItem(n);const u=n.bullets;u&&z.each(u,h=>{const y=h.get("sprite");y&&y.setPrivate("visible",!1)})}_unexcludeDataItem(n){super._unexcludeDataItem(n);const u=n.bullets;u&&z.each(u,h=>{const y=h.get("sprite");y&&y.setPrivate("visible",!0)})}_notIncludeDataItem(n){super._notIncludeDataItem(n);const u=n.bullets;u&&z.each(u,h=>{const y=h.get("sprite");y&&y.setPrivate("visible",!1)})}_unNotIncludeDataItem(n){super._unNotIncludeDataItem(n);const u=n.bullets;u&&z.each(u,h=>{const y=h.get("sprite");y&&y.setPrivate("visible",!0)})}}Object.defineProperty(hr,"className",{enumerable:!0,configurable:!0,writable:!0,value:"MapPointSeries"}),Object.defineProperty(hr,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:be.classNames.concat([hr.className])});var hn=I(1783),cn=I.n(hn);class Zs extends ce.T{constructor(){super(...arguments),Object.defineProperty(this,"_projectionDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"series",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_beforeChanged(){if(super._beforeChanged(),this._projectionDirty||this.isDirty("geometry")||this.isDirty("precision")){const n=this.get("geometry");if(n){const u=this.series;if(u){const h=u.projection();h&&h.precision(this.get("precision",.5));const y=u.geoPath();y&&(this._clear=!0,this.set("draw",D=>{y.context(this._display),y(n),y.context(null)}),this.isHover()&&this.showTooltip())}}}}markDirtyProjection(){this.markDirty(),this._projectionDirty=!0}_clearDirty(){super._clearDirty(),this._projectionDirty=!1}geoCentroid(){const n=this.get("geometry");return n?or(n):{latitude:0,longitude:0}}visualCentroid(){let n=0,u=[];const h=this.get("geometry");if(h){if("Polygon"==h.type)u=h.coordinates;else if("MultiPolygon"==h.type)for(let D=0;D<h.coordinates.length;D++){let S=h.coordinates[D],E=Er({type:"Polygon",coordinates:S});E>n&&(u=S,n=E)}let y=cn()(u);return{longitude:y[0],latitude:y[1]}}return{longitude:0,latitude:0}}_getTooltipPoint(){const n=this.series;if(n){const u=n.projection();if(u){const h=this.visualCentroid(),y=u([h.longitude,h.latitude]);if(y)return{x:y[0],y:y[1]}}}return{x:0,y:0}}}Object.defineProperty(Zs,"className",{enumerable:!0,configurable:!0,writable:!0,value:"MapPolygon"}),Object.defineProperty(Zs,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ce.T.classNames.concat([Zs.className])});class cr extends be{constructor(){super(...arguments),Object.defineProperty(this,"mapPolygons",{enumerable:!0,configurable:!0,writable:!0,value:new Vi.o(kt.YS.new({}),()=>Zs._new(this._root,{},[this.mapPolygons.template]))}),Object.defineProperty(this,"_types",{enumerable:!0,configurable:!0,writable:!0,value:["Polygon","MultiPolygon"]})}makeMapPolygon(n){const u=this.children.push(this.mapPolygons.make());return u._setDataItem(n),this.mapPolygons.push(u),u}markDirtyProjection(){z.each(this.dataItems,n=>{let u=n.get("mapPolygon");u&&u.markDirtyProjection()})}_prepareChildren(){super._prepareChildren(),this.isDirty("fill")&&this.mapPolygons.template.set("fill",this.get("fill")),this.isDirty("stroke")&&this.mapPolygons.template.set("stroke",this.get("stroke"))}processDataItem(n){super.processDataItem(n);let u=n.get("mapPolygon");u||(u=this.makeMapPolygon(n)),n.set("mapPolygon",u);let h=n.get("geometry");if(h){if(this.get("reverseGeodata")&&h.coordinates)for(let D=0;D<h.coordinates.length;D++)if("MultiPolygon"==h.type)for(let S=0;S<h.coordinates[D].length;S++)h.coordinates[D][S].reverse();else h.coordinates[D].reverse();u.set("geometry",h)}u.series=this,this._addGeometry(n.get("geometry"),this)}disposeDataItem(n){super.disposeDataItem(n);const u=n.get("mapPolygon");u&&(this.mapPolygons.removeValue(u),u.dispose()),this._removeGeometry(n.get("geometry"))}_excludeDataItem(n){super._excludeDataItem(n);const u=n.get("mapPolygon");u&&u.setPrivate("visible",!1)}_unexcludeDataItem(n){super._unexcludeDataItem(n);const u=n.get("mapPolygon");u&&u.setPrivate("visible",!0)}_notIncludeDataItem(n){super._notIncludeDataItem(n);const u=n.get("mapPolygon");u&&u.setPrivate("visible",!1)}_unNotIncludeDataItem(n){super._unNotIncludeDataItem(n);const u=n.get("mapPolygon");u&&u.setPrivate("visible",!0)}markDirtyValues(n){if(super.markDirtyValues(),n){const u=n.get("mapPolygon");u&&u.set("geometry",n.get("geometry"))}}zoomToDataItem(n,u){const h=n.get("mapPolygon");if(h){const y=h.get("geometry"),D=this.chart;if(y&&D){if(u){const S=or(y);return D.rotate(-S.longitude,-S.latitude),D.zoomToGeoBounds(lr(y),void 0,-S.longitude,-S.latitude)}return D.zoomToGeoBounds(lr(y))}}}}Object.defineProperty(cr,"className",{enumerable:!0,configurable:!0,writable:!0,value:"MapPolygonSeries"}),Object.defineProperty(cr,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:be.classNames.concat([cr.className])});var Xr=I(9239),zr=I(4618),dn=I(8362);class dr extends Xr.W{constructor(){super(...arguments),Object.defineProperty(this,"plusButton",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(zr.z.new(this._root,{width:36,height:36,themeTags:["plus"]}))}),Object.defineProperty(this,"minusButton",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(zr.z.new(this._root,{width:36,height:36,themeTags:["minus"]}))}),Object.defineProperty(this,"_disposer",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_afterNew(){super._afterNew(),this.set("position","absolute"),this.set("layout",this._root.verticalLayout),this.set("themeTags",["zoomcontrol"]),this.plusButton.setAll({icon:ce.T.new(this._root,{themeTags:["icon"]}),layout:void 0}),this.minusButton.setAll({icon:ce.T.new(this._root,{themeTags:["icon"]}),layout:void 0})}_prepareChildren(){if(super._prepareChildren(),this.isPrivateDirty("chart")){const n=this.getPrivate("chart"),u=this._prevPrivateSettings.chart;n&&(this._disposer=new dn.FV([this.plusButton.events.on("click",()=>{n.zoomIn()}),this.minusButton.events.on("click",()=>{n.zoomOut()})])),u&&this._disposer&&this._disposer.dispose()}}}function Gr(d,n){return[he(n)*Ee(d),Ee(n)]}function gn(){return Qt(Gr).scale(249.5).clipAngle(90+N)}function Dr(d,n){return[d,n]}function pn(){return Qt(Dr).scale(152.63)}function _n(d,n){var u=Ee(d),h=(u+Ee(n))/2;if(j(h)<N)return function bn(d){var n=he(d);function u(h,y){return[h*n,Ee(y)/n]}return u.invert=function(h,y){return[h/n,He(y*n)]},u}(d);var y=1+u*(2*h-u),D=Qe(y)/h;function S(E,V){var H=Qe(y-2*h*Ee(V))/h;return[H*Ee(E*=h),D-H*he(E)]}return S.invert=function(E,V){var H=D-V,B=Le(E,j(H))*ft(H);return H*h<0&&(B-=k*ft(E)*ft(H)),[B/h,He((y-(E*E+H*H)*h*h)/(2*h))]},S}function Mr(){return function mn(d){var n=0,u=k/3,h=ki(d),y=h(n,u);return y.parallels=function(D){return arguments.length?h(n=D[0]*U,u=D[1]*U):[n*M,u*M]},y}(_n).scale(155.424).center([0,33.6442])}function xn(){var d,n,h,D,E,V,u=function yn(){return Mr().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}(),y=Mr().rotate([154,0]).center([-2,58.5]).parallels([55,65]),S=Mr().rotate([157,0]).center([-3,19.9]).parallels([8,18]),H={point:function(Z,oe){V=[Z,oe]}};function B(Z){var oe=Z[0],de=Z[1];return V=null,h.point(oe,de),V||(D.point(oe,de),V)||(E.point(oe,de),V)}function te(){return d=n=null,B}return B.invert=function(Z){var oe=u.scale(),de=u.translate(),xe=(Z[0]-de[0])/oe,Me=(Z[1]-de[1])/oe;return(Me>=.12&&Me<.234&&xe>=-.425&&xe<-.214?y:Me>=.166&&Me<.234&&xe>=-.214&&xe<-.115?S:u).invert(Z)},B.stream=function(Z){return d&&n===Z?d:d=function vn(d){var n=d.length;return{point:function(u,h){for(var y=-1;++y<n;)d[y].point(u,h)},sphere:function(){for(var u=-1;++u<n;)d[u].sphere()},lineStart:function(){for(var u=-1;++u<n;)d[u].lineStart()},lineEnd:function(){for(var u=-1;++u<n;)d[u].lineEnd()},polygonStart:function(){for(var u=-1;++u<n;)d[u].polygonStart()},polygonEnd:function(){for(var u=-1;++u<n;)d[u].polygonEnd()}}}([u.stream(n=Z),y.stream(Z),S.stream(Z)])},B.precision=function(Z){return arguments.length?(u.precision(Z),y.precision(Z),S.precision(Z),te()):u.precision()},B.scale=function(Z){return arguments.length?(u.scale(Z),y.scale(.35*Z),S.scale(Z),B.translate(u.translate())):u.scale()},B.translate=function(Z){if(!arguments.length)return u.translate();var oe=u.scale(),de=+Z[0],xe=+Z[1];return h=u.translate(Z).clipExtent([[de-.455*oe,xe-.238*oe],[de+.455*oe,xe+.238*oe]]).stream(H),D=y.translate([de-.307*oe,xe+.201*oe]).clipExtent([[de-.425*oe+N,xe+.12*oe+N],[de-.214*oe-N,xe+.234*oe-N]]).stream(H),E=S.translate([de-.205*oe,xe+.212*oe]).clipExtent([[de-.214*oe+N,xe+.166*oe+N],[de-.115*oe-N,xe+.234*oe-N]]).stream(H),te()},B.fitExtent=function(Z,oe){return qe(B,Z,oe)},B.fitSize=function(Z,oe){return nt(B,Z,oe)},B.fitWidth=function(Z,oe){return Bt(B,Z,oe)},B.fitHeight=function(Z,oe){return It(B,Z,oe)},B.scale(1070)}Object.defineProperty(dr,"className",{enumerable:!0,configurable:!0,writable:!0,value:"ZoomControl"}),Object.defineProperty(dr,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Xr.W.classNames.concat([dr.className])}),Gr.invert=function fn(d){return function(n,u){var h=Qe(n*n+u*u),y=d(h),D=Ee(y),S=he(y);return[Le(n*D,h*S),He(h&&u*D/h)]}}(He),Dr.invert=Dr;var Qs=1.340264,Ks=-.081106,$s=893e-6,Js=.003796,fr=Qe(3)/2;function Vr(d,n){var u=He(fr*Ee(n)),h=u*u,y=h*h*h;return[d*he(u)/(fr*(Qs+3*Ks*h+y*(7*$s+9*Js*h))),u*(Qs+Ks*h+y*($s+Js*h))]}function Pn(){return Qt(Vr).scale(177.158)}function Ur(d,n){var u=n*n,h=u*u;return[d*(.8707-.131979*u+h*(h*(.003971*u-.001529*h)-.013791)),n*(1.007226+u*(.015085+h*(.028874*u-.044475-.005916*h)))]}function Tn(){return Qt(Ur).scale(175.295)}Vr.invert=function(d,n){for(var S,u=n,h=u*u,y=h*h*h,D=0;D<12&&(y=(h=(u-=S=(u*(Qs+Ks*h+y*($s+Js*h))-n)/(Qs+3*Ks*h+y*(7*$s+9*Js*h)))*u)*h*h,!(j(S)<se));++D);return[fr*d*(Qs+3*Ks*h+y*(7*$s+9*Js*h))/he(u),He(Ee(u)/fr)]},Ur.invert=function(d,n){var y,u=n,h=25;do{var D=u*u,S=D*D;u-=y=(u*(1.007226+D*(.015085+S*(.028874*D-.044475-.005916*S)))-n)/(1.007226+D*(.045255+S*(.259866*D-.311325-.005916*11*S)))}while(j(y)>N&&--h>0);return[d/(.8707+(D=u*u)*(D*(D*D*D*(.003971-.001529*D)-.013791)-.131979)),u]}},9673:(Mt,ze,I)=>{I.r(ze),I.d(ze,{Axis:()=>pt,AxisBullet:()=>Wt,AxisLabel:()=>Ti,AxisLabelRadial:()=>Di,AxisRenderer:()=>di,AxisRendererX:()=>as,AxisRendererY:()=>vi,AxisTick:()=>Yt,BaseColumnSeries:()=>Qe,Candlestick:()=>fi,CandlestickSeries:()=>Ii,CategoryAxis:()=>He,CategoryDateAxis:()=>zt,ColumnSeries:()=>ni,DateAxis:()=>hi,DefaultTheme:()=>F,DurationAxis:()=>yi,GaplessDateAxis:()=>ci,Grid:()=>Ie,LineSeries:()=>Zt,OHLC:()=>qt,OHLCSeries:()=>Vi,SmoothedXLineSeries:()=>Mi,SmoothedXYLineSeries:()=>Si,SmoothedYLineSeries:()=>Zi,StepLineSeries:()=>Bi,ValueAxis:()=>Ue,XYChart:()=>_e,XYChartScrollbar:()=>he,XYCursor:()=>Ve,XYSeries:()=>ft});var Re=I(5013),z=I(7039),we=I(2661),be=I(2231),ue=I(1445),R=I(2743),ce=I(9472),X=I(8148),v=I(3559);class F extends Re.Q{setupDefaultRules(){super.setupDefaultRules();const e=this._root.interfaceColors,t=this._root.language,s=this.rule.bind(this);s("XYChart").setAll({colors:we.U.new(this._root,{}),paddingLeft:20,paddingRight:20,paddingTop:16,paddingBottom:16,panX:!1,panY:!1,wheelStep:.25,arrangeTooltips:!0,pinchZoomX:!1,pinchZoomY:!1}),s("XYSeries").setAll({legendLabelText:"{name}"}),s("XYChart",["scrollbar","chart"]).setAll({paddingBottom:0,paddingLeft:0,paddingTop:0,paddingRight:0,colors:we.U.new(this._root,{saturation:0})});{const b=s("Graphics",["scrollbar","overlay"]);b.setAll({fillOpacity:.5}),(0,be.v)(b,"fill",e,"background")}s("RoundedRectangle",["xy","scrollbar","thumb"]).setAll({cornerRadiusTR:0,cornerRadiusTL:0,cornerRadiusBR:0,cornerRadiusBL:0,fillOpacity:0,focusable:!0}),s("RoundedRectangle",["xy","scrollbar","thumb"]).states.create("hover",{fillOpacity:.4}),s("RoundedRectangle",["xy","scrollbar","chart","background"]).setAll({cornerRadiusTL:0,cornerRadiusBL:0,cornerRadiusTR:0,cornerRadiusBR:0}),s("RoundedRectangle",["xy","scrollbar","chart","background","resize","button"]).setAll({cornerRadiusBL:40,cornerRadiusBR:40,cornerRadiusTL:40,cornerRadiusTR:40}),s("AxisRendererX",["xy","chart","scrollbar"]).setAll({strokeOpacity:0,inside:!0}),s("AxisRendererY",["xy","chart","scrollbar"]).setAll({strokeOpacity:0,inside:!0,minGridDistance:5}),s("AxisLabel",["xy","scrollbar","x"]).setAll({opacity:.5,centerY:z.AQ,minPosition:.01,maxPosition:.99,fontSize:"0.8em"}),s("AxisLabel",["category"]).setAll({text:"{category}",populateText:!0}),s("AxisLabel",["x"]).setAll({centerY:0}),s("AxisLabel",["x","inside"]).setAll({centerY:z.AQ}),s("AxisLabel",["x","inside","opposite"]).setAll({centerY:0}),s("AxisLabel",["x","opposite"]).setAll({centerY:z.AQ}),s("AxisLabel",["y"]).setAll({centerX:z.AQ}),s("AxisLabel",["y","inside"]).setAll({centerX:0}),s("AxisLabel",["y","inside","opposite"]).setAll({centerX:z.AQ}),s("AxisLabel",["y","opposite"]).setAll({centerX:0}),s("AxisLabel",["xy","scrollbar","y"]).setAll({visible:!1}),s("Grid",["xy","scrollbar","y"]).setAll({visible:!1}),s("Grid",["xy","scrollbar","x"]).setAll({opacity:.5}),s("XYCursor").setAll({behavior:"none",layer:30,exportable:!1,snapToSeriesBy:"xy",moveThreshold:1});{const b=s("Grid",["cursor","x"]);b.setAll({strokeOpacity:.8,strokeDasharray:[2,2],ariaLabel:t.translate("Use left and right arrows to move selection")}),(0,be.v)(b,"stroke",e,"alternativeBackground")}{const b=s("Grid",["cursor","y"]);b.setAll({strokeOpacity:.8,strokeDasharray:[2,2],ariaLabel:t.translate("Use up and down arrows to move selection")}),(0,be.v)(b,"stroke",e,"alternativeBackground")}{const b=s("Graphics",["cursor","selection"]);b.setAll({fillOpacity:.15}),(0,be.v)(b,"fill",e,"alternativeBackground")}s("Axis").setAll({start:0,end:1,minZoomCount:1,maxZoomCount:1/0,maxZoomFactor:1e3,maxDeviation:.1,snapTooltip:!0,tooltipLocation:.5,panX:!0,panY:!0,zoomX:!0,zoomY:!0,fixAxisSize:!0}),s("AxisLabel").setAll({location:.5,multiLocation:0,centerX:z.CI,centerY:z.CI,paddingTop:3,paddingBottom:3,paddingLeft:5,paddingRight:5}),s("Container",["axis","header"]).setAll({layer:30}),s("Rectangle",["axis","header","background"]).setAll({crisp:!0});{const b=s("AxisRenderer");b.setAll({crisp:!0,strokeOpacity:0}),(0,be.v)(b,"stroke",e,"grid")}s("AxisRendererX").setAll({minGridDistance:120,opposite:!1,inversed:!1,cellStartLocation:0,cellEndLocation:1,width:z.AQ}),s("AxisRendererY").setAll({minGridDistance:40,opposite:!1,inversed:!1,cellStartLocation:0,cellEndLocation:1,height:z.AQ});{const b=s("Rectangle",["axis","thumb"]);b.setAll({fillOpacity:0}),(0,be.v)(b,"fill",e,"alternativeBackground"),b.states.create("hover",{fillOpacity:.1})}s("Rectangle",["axis","thumb","x"]).setAll({cursorOverStyle:"ew-resize"}),s("Rectangle",["axis","thumb","y"]).setAll({cursorOverStyle:"ns-resize"});{const b=s("Grid");b.setAll({location:0,strokeOpacity:.15,crisp:!0}),(0,be.v)(b,"stroke",e,"grid")}s("Grid",["base"]).setAll({strokeOpacity:.3});{const b=s("Graphics",["axis","fill"]);b.setAll({visible:!1,isMeasured:!1,position:"absolute",fillOpacity:.05}),(0,be.v)(b,"fill",e,"alternativeBackground")}s("Graphics",["axis","fill","range"]).setAll({isMeasured:!0}),s("Graphics",["series","fill","range"]).setAll({visible:!1,isMeasured:!0}),s("Grid",["series","range"]).setAll({visible:!1}),s("AxisTick",["series","range"]).setAll({visible:!1}),s("AxisLabel",["series","range"]).setAll({visible:!1});{const b=s("AxisTick");b.setAll({location:.5,multiLocation:0,strokeOpacity:1,isMeasured:!1,position:"absolute",visible:!1}),(0,be.v)(b,"stroke",e,"grid")}s("CategoryAxis").setAll({startLocation:0,endLocation:1,fillRule:(b,w)=>{const T=b.get("axisFill");T&&(R.isNumber(w)&&w%2!=0?T.setPrivate("visible",!1):T.setPrivate("visible",!0))}});const o=[{timeUnit:"millisecond",count:1},{timeUnit:"millisecond",count:5},{timeUnit:"millisecond",count:10},{timeUnit:"millisecond",count:50},{timeUnit:"millisecond",count:100},{timeUnit:"millisecond",count:500},{timeUnit:"second",count:1},{timeUnit:"second",count:5},{timeUnit:"second",count:10},{timeUnit:"second",count:30},{timeUnit:"minute",count:1},{timeUnit:"minute",count:5},{timeUnit:"minute",count:10},{timeUnit:"minute",count:15},{timeUnit:"minute",count:30},{timeUnit:"hour",count:1},{timeUnit:"hour",count:3},{timeUnit:"hour",count:6},{timeUnit:"hour",count:12},{timeUnit:"day",count:1},{timeUnit:"day",count:2},{timeUnit:"day",count:3},{timeUnit:"day",count:4},{timeUnit:"day",count:5},{timeUnit:"week",count:1},{timeUnit:"month",count:1},{timeUnit:"month",count:2},{timeUnit:"month",count:3},{timeUnit:"month",count:6},{timeUnit:"year",count:1},{timeUnit:"year",count:2},{timeUnit:"year",count:5},{timeUnit:"year",count:10},{timeUnit:"year",count:50},{timeUnit:"year",count:100},{timeUnit:"year",count:200},{timeUnit:"year",count:500},{timeUnit:"year",count:1e3},{timeUnit:"year",count:2e3},{timeUnit:"year",count:5e3},{timeUnit:"year",count:1e4},{timeUnit:"year",count:1e5}],c={millisecond:t.translate("_date_millisecond"),second:t.translate("_date_second"),minute:t.translate("_date_minute"),hour:t.translate("_date_hour"),day:t.translate("_date_day"),week:t.translate("_date_day"),month:t.translate("_date_month"),year:t.translate("_date_year")},p={millisecond:t.translate("_date_millisecond"),second:t.translate("_date_second"),minute:t.translate("_date_minute"),hour:t.translate("_date_day"),day:t.translate("_date_day"),week:t.translate("_date_day"),month:t.translate("_date_month")+" "+t.translate("_date_year"),year:t.translate("_date_year")},g={millisecond:t.translate("_date_millisecond_full"),second:t.translate("_date_second_full"),minute:t.translate("_date_minute_full"),hour:t.translate("_date_hour_full"),day:t.translate("_date_day_full"),week:t.translate("_date_week_full"),month:t.translate("_date_month_full"),year:t.translate("_date_year")};s("CategoryDateAxis").setAll({markUnitChange:!0,gridIntervals:v.copy(o),dateFormats:X.copy(c),periodChangeDateFormats:X.copy(p)}),s("DateAxis").setAll({maxZoomFactor:null,strictMinMax:!0,startLocation:0,endLocation:1,markUnitChange:!0,groupData:!1,groupCount:500,gridIntervals:v.copy(o),dateFormats:X.copy(c),periodChangeDateFormats:X.copy(p),tooltipDateFormats:g,groupIntervals:[{timeUnit:"millisecond",count:1},{timeUnit:"millisecond",count:10},{timeUnit:"millisecond",count:100},{timeUnit:"second",count:1},{timeUnit:"second",count:10},{timeUnit:"minute",count:1},{timeUnit:"minute",count:10},{timeUnit:"hour",count:1},{timeUnit:"day",count:1},{timeUnit:"week",count:1},{timeUnit:"month",count:1},{timeUnit:"year",count:1}],fillRule:b=>{const w=b.get("axisFill");if(w){const T=b.component,x=b.get("value"),C=b.get("endValue"),Q=T.intervalDuration(),J=T.getPrivate("baseInterval"),q=T.getPrivate("gridInterval",J);let K=T.getPrivate("min",0);if(K=ue.round(new Date(K),q.timeUnit,q.count,this._root.locale.firstDayOfWeek,this._root.utc,void 0,this._root.timezone).getTime(),null!=x&&null!=C){const ne=Math.round(Math.round((x-K)/Q))/2;ne==Math.round(ne)?w.setPrivate("visible",!0):w.setPrivate("visible",!1)}}}}),s("GaplessDateAxis").setAll({fillRule:b=>{const w=b.get("axisFill");if(w){const T=b.get("index");let x=!1;(!R.isNumber(T)||T%2==0)&&(x=!0),w.setPrivate("visible",x)}}}),s("ValueAxis").setAll({baseValue:0,logarithmic:!1,strictMinMax:!1,autoZoom:!0,fillRule:b=>{const w=b.get("axisFill");if(w){const T=b.component,x=b.get("value"),C=T.getPrivate("step");R.isNumber(x)&&R.isNumber(C)&&(ce.round(x/C/2,5)==Math.round(x/C/2)?w.setPrivate("visible",!1):w.setPrivate("visible",!0))}}}),s("DurationAxis").setAll({baseUnit:"second"}),s("XYSeries").setAll({maskBullets:!0,stackToNegative:!0,locationX:.5,locationY:.5,snapTooltip:!1,openValueXGrouped:"open",openValueYGrouped:"open",valueXGrouped:"close",valueYGrouped:"close",seriesTooltipTarget:"series"}),s("BaseColumnSeries").setAll({adjustBulletPosition:!0}),s("ColumnSeries").setAll({clustered:!0}),s("RoundedRectangle",["series","column"]).setAll({position:"absolute",isMeasured:!1,width:(0,z.aQ)(70),height:(0,z.aQ)(70),strokeWidth:1,strokeOpacity:1,cornerRadiusBL:0,cornerRadiusTL:0,cornerRadiusBR:0,cornerRadiusTR:0,fillOpacity:1,role:"figure"}),s("LineSeries").setAll({connect:!0,autoGapCount:1.1,stackToNegative:!1}),s("Graphics",["series","stroke"]).setAll({position:"absolute",strokeWidth:1,strokeOpacity:1,isMeasured:!1}),s("Graphics",["series","fill"]).setAll({visible:!1,fillOpacity:0,position:"absolute",strokeWidth:0,strokeOpacity:0,isMeasured:!1}),s("Graphics",["line","series","legend","marker","stroke"]).setAll({draw:(b,w)=>{const T=w.parent;if(T){const x=T.height(),C=T.width();b.moveTo(0,x/2),b.lineTo(C,x/2)}}});{const b=s("Graphics",["line","series","legend","marker","stroke"]).states.create("disabled",{});(0,be.v)(b,"stroke",e,"disabled")}s("Graphics",["line","series","legend","marker","fill"]).setAll({draw:(b,w)=>{const T=w.parent;if(T){const x=T.height(),C=T.width();b.moveTo(0,0),b.lineTo(C,0),b.lineTo(C,x),b.lineTo(0,x),b.lineTo(0,0)}}});{const b=s("Graphics",["line","series","legend","marker","fill"]).states.create("disabled",{});(0,be.v)(b,"stroke",e,"disabled")}s("SmoothedXYLineSeries").setAll({tension:.5}),s("SmoothedXLineSeries").setAll({tension:.5}),s("SmoothedYLineSeries").setAll({tension:.5}),s("Candlestick").setAll({position:"absolute",isMeasured:!1,width:(0,z.aQ)(50),height:(0,z.aQ)(50),strokeWidth:1,strokeOpacity:1,cornerRadiusBL:0,cornerRadiusTL:0,cornerRadiusBR:0,cornerRadiusTR:0,fillOpacity:1,role:"figure"}),s("OHLC").setAll({width:(0,z.aQ)(80),height:(0,z.aQ)(80)}),s("CandlestickSeries").setAll({lowValueXGrouped:"low",lowValueYGrouped:"low",highValueXGrouped:"high",highValueYGrouped:"high",openValueXGrouped:"open",openValueYGrouped:"open",valueXGrouped:"close",valueYGrouped:"close"});{const b=s("Rectangle",["column","autocolor"]).states.create("riseFromOpen",{});(0,be.v)(b,"fill",e,"positive"),(0,be.v)(b,"stroke",e,"positive")}{const b=s("Rectangle",["column","autocolor"]).states.create("dropFromOpen",{});(0,be.v)(b,"fill",e,"negative"),(0,be.v)(b,"stroke",e,"negative")}s("Rectangle",["column","autocolor","pro"]).states.create("riseFromOpen",{fillOpacity:0}),s("Rectangle",["column","autocolor","pro"]).states.create("dropFromOpen",{fillOpacity:1});{const b=s("Rectangle",["column","autocolor","pro"]).states.create("riseFromPrevious",{});(0,be.v)(b,"fill",e,"positive"),(0,be.v)(b,"stroke",e,"positive")}{const b=s("Rectangle",["column","autocolor","pro"]).states.create("dropFromPrevious",{});(0,be.v)(b,"fill",e,"negative"),(0,be.v)(b,"stroke",e,"negative")}}}var N=I(9239),se=I(3605),k=I(3704),P=I(434),W=I(796),le=I(4618),M=I(3232),U=I(4178),j=I(8261);class _e extends k.j{constructor(){super(...arguments),Object.defineProperty(this,"xAxes",{enumerable:!0,configurable:!0,writable:!0,value:new P.dn}),Object.defineProperty(this,"yAxes",{enumerable:!0,configurable:!0,writable:!0,value:new P.dn}),Object.defineProperty(this,"topAxesContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.chartContainer.children.push(N.W.new(this._root,{width:z.AQ,layout:this._root.verticalLayout}))}),Object.defineProperty(this,"yAxesAndPlotContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.chartContainer.children.push(N.W.new(this._root,{width:z.AQ,height:z.AQ,layout:this._root.horizontalLayout}))}),Object.defineProperty(this,"bottomAxesContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.chartContainer.children.push(N.W.new(this._root,{width:z.AQ,layout:this._root.verticalLayout}))}),Object.defineProperty(this,"leftAxesContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.yAxesAndPlotContainer.children.push(N.W.new(this._root,{height:z.AQ,layout:this._root.horizontalLayout}))}),Object.defineProperty(this,"plotsContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.yAxesAndPlotContainer.children.push(N.W.new(this._root,{width:z.AQ,height:z.AQ,maskContent:!1}))}),Object.defineProperty(this,"plotContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.plotsContainer.children.push(N.W.new(this._root,{width:z.AQ,height:z.AQ}))}),Object.defineProperty(this,"topPlotContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.plotsContainer.children.push(N.W.new(this._root,{width:z.AQ,height:z.AQ}))}),Object.defineProperty(this,"gridContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.plotContainer.children.push(N.W.new(this._root,{width:z.AQ,height:z.AQ,isMeasured:!1}))}),Object.defineProperty(this,"topGridContainer",{enumerable:!0,configurable:!0,writable:!0,value:N.W.new(this._root,{width:z.AQ,height:z.AQ,isMeasured:!1})}),Object.defineProperty(this,"rightAxesContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.yAxesAndPlotContainer.children.push(N.W.new(this._root,{height:z.AQ,layout:this._root.horizontalLayout}))}),Object.defineProperty(this,"axisHeadersContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.plotContainer.children.push(N.W.new(this._root,{}))}),Object.defineProperty(this,"zoomOutButton",{enumerable:!0,configurable:!0,writable:!0,value:this.topPlotContainer.children.push(le.z.new(this._root,{themeTags:["zoom"],icon:M.T.new(this._root,{themeTags:["button","icon"]})}))}),Object.defineProperty(this,"_movePoint",{enumerable:!0,configurable:!0,writable:!0,value:{x:0,y:0}}),Object.defineProperty(this,"_wheelDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_otherCharts",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_movePoints",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_downStartX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downEndX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downStartY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downEndY",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_afterNew(){this._defaultThemes.push(F.new(this._root)),super._afterNew(),this._disposers.push(this.xAxes),this._disposers.push(this.yAxes);const e=this._root;let t=this._root.verticalLayout;const s=this.zoomOutButton;s.events.on("click",()=>{this.zoomOut()}),s.set("opacity",0),s.states.lookup("default").set("opacity",1),this.chartContainer.set("layout",t);const o=this.plotContainer;o.children.push(this.seriesContainer),this._disposers.push(this._processAxis(this.xAxes,this.bottomAxesContainer)),this._disposers.push(this._processAxis(this.yAxes,this.leftAxesContainer)),o.children.push(this.topGridContainer),o.children.push(this.bulletsContainer),o.set("interactive",!0),o.set("interactiveChildren",!1),o.set("background",se.A.new(e,{themeTags:["xy","background"],fill:W.Il.fromHex(0),fillOpacity:0})),this._disposers.push(o.events.on("pointerdown",c=>{this._handlePlotDown(c.originalEvent)})),this._disposers.push(o.events.on("globalpointerup",c=>{this._handlePlotUp(c.originalEvent)})),this._disposers.push(o.events.on("globalpointermove",c=>{this._handlePlotMove(c.originalEvent)})),this._maskGrid(),this._setUpTouch()}_beforeChanged(){super._beforeChanged(),(this.isDirty("pinchZoomX")||this.isDirty("pinchZoomY")||this.get("panX")||this.get("panY"))&&this._setUpTouch()}_setUpTouch(){this.plotContainer._display.cancelTouch||(this.plotContainer._display.cancelTouch=!!(this.get("pinchZoomX")||this.get("pinchZoomY")||this.get("panX")||this.get("panY")))}_maskGrid(){this.gridContainer.set("maskContent",!0),this.topGridContainer.set("maskContent",!0)}_removeSeries(e){e._unstack(),e._posXDp&&e._posXDp.dispose(),e._posYDp&&e._posYDp.dispose(),e.set("baseAxis",void 0);const t=e.get("xAxis");t&&(v.remove(t.series,e),t.markDirtyExtremes());const s=e.get("yAxis");s&&(v.remove(s.series,e),s.markDirtyExtremes());const o=this.get("cursor");if(o){const c=o.get("snapToSeries");c&&v.remove(c,e)}super._removeSeries(e)}handleWheel(e){const t=this.get("wheelX"),s=this.get("wheelY"),o=this.plotContainer,c=e.originalEvent;if(!j.isLocalEvent(c,this))return;c.preventDefault();const p=o.toLocal(this._root.documentPointToRoot({x:c.clientX,y:c.clientY})),g=this.get("wheelStep",.2),b=c.deltaY/100,w=c.deltaX/100,T=this.get("wheelZoomPositionX"),x=this.get("wheelZoomPositionY");("zoomX"===t||"zoomXY"===t)&&0!=w&&this.xAxes.each(C=>{if(C.get("zoomX")){let Q=C.get("start"),J=C.get("end"),q=C.fixPosition(p.x/o.width());null!=T&&(q=T);let K=Q-g*(J-Q)*w*q,ne=J+g*(J-Q)*w*(1-q);1/(ne-K)<C.getPrivate("maxZoomFactor",1/0)/C.get("minZoomCount",1)&&this._handleWheelAnimation(C.zoom(K,ne))}}),("zoomX"===s||"zoomXY"===s)&&0!=b&&this.xAxes.each(C=>{if(C.get("zoomX")){let Q=C.get("start"),J=C.get("end"),q=C.fixPosition(p.x/o.width());null!=T&&(q=T);let K=Q-g*(J-Q)*b*q,ne=J+g*(J-Q)*b*(1-q);1/(ne-K)<C.getPrivate("maxZoomFactor",1/0)/C.get("minZoomCount",1)&&this._handleWheelAnimation(C.zoom(K,ne))}}),("zoomY"===t||"zoomXY"===t)&&0!=w&&this.yAxes.each(C=>{if(C.get("zoomY")){let Q=C.get("start"),J=C.get("end"),q=C.fixPosition(p.y/o.height());null!=x&&(q=x);let K=Q-g*(J-Q)*w*q,ne=J+g*(J-Q)*w*(1-q);1/(ne-K)<C.getPrivate("maxZoomFactor",1/0)/C.get("minZoomCount",1)&&this._handleWheelAnimation(C.zoom(K,ne))}}),("zoomY"===s||"zoomXY"===s)&&0!=b&&this.yAxes.each(C=>{if(C.get("zoomY")){let Q=C.get("start"),J=C.get("end"),q=C.fixPosition(p.y/o.height());null!=x&&(q=x);let K=Q-g*(J-Q)*b*q,ne=J+g*(J-Q)*b*(1-q);1/(ne-K)<C.getPrivate("maxZoomFactor",1/0)/C.get("minZoomCount",1)&&this._handleWheelAnimation(C.zoom(K,ne))}}),("panX"===t||"panXY"===t)&&0!=w&&this.xAxes.each(C=>{if(C.get("panX")){let Q=C.get("start"),J=C.get("end"),q=this._getWheelSign(C)*g*(J-Q)*w,K=Q+q,ne=J+q,ge=this._fixWheel(K,ne);K=ge[0],ne=ge[1],this._handleWheelAnimation(C.zoom(K,ne))}}),("panX"===s||"panXY"===s)&&0!=b&&this.xAxes.each(C=>{if(C.get("panX")){let Q=C.get("start"),J=C.get("end"),q=this._getWheelSign(C)*g*(J-Q)*b,K=Q+q,ne=J+q,ge=this._fixWheel(K,ne);K=ge[0],ne=ge[1],this._handleWheelAnimation(C.zoom(K,ne))}}),("panY"===t||"panXY"===t)&&0!=w&&this.yAxes.each(C=>{if(C.get("panY")){let Q=C.get("start"),J=C.get("end"),q=this._getWheelSign(C)*g*(J-Q)*w,K=Q+q,ne=J+q,ge=this._fixWheel(K,ne);K=ge[0],ne=ge[1],this._handleWheelAnimation(C.zoom(K,ne))}}),("panY"===s||"panXY"===s)&&0!=b&&this.yAxes.each(C=>{if(C.get("panY")){let Q=C.get("start"),J=C.get("end"),q=this._getWheelSign(C)*g*(J-Q)*b,K=Q-q,ne=J-q,ge=this._fixWheel(K,ne);K=ge[0],ne=ge[1],this._handleWheelAnimation(C.zoom(K,ne))}})}_handleSetWheel(){const e=this.get("wheelX"),t=this.get("wheelY");"none"!==e||"none"!==t?(this._wheelDp=this.plotContainer.events.on("wheel",o=>{this.handleWheel(o)}),this._disposers.push(this._wheelDp)):this._wheelDp&&this._wheelDp.dispose()}_getWheelSign(e){let t=1;return e.get("renderer").get("inversed")&&(t=-1),t}_fixWheel(e,t){const s=t-e;return e<0&&(t=(e=0)+s),t>1&&(e=(t=1)-s),[e,t]}_handlePlotDown(e){if(2==e.button)return;const t=this.plotContainer;let s=t.toLocal(this._root.documentPointToRoot({x:e.clientX,y:e.clientY}));if((this.get("pinchZoomX")||this.get("pinchZoomY"))&&e.pointerId&&X.keys(t._downPoints).length>0){const p=this.xAxes.getIndex(0),g=this.yAxes.getIndex(0);p&&(this._downStartX=p.get("start",0),this._downEndX=p.get("end",1)),g&&(this._downStartY=g.get("start",0),this._downEndY=g.get("end",1))}if((this.get("panX")||this.get("panY"))&&s.x>=0&&s.y>=0&&s.x<=t.width()&&s.y<=this.height()){this._downPoint={x:e.clientX,y:e.clientY};const o=this.get("panX"),c=this.get("panY");o&&this.xAxes.each(g=>{g._panStart=g.get("start"),g._panEnd=g.get("end")}),c&&this.yAxes.each(g=>{g._panStart=g.get("start"),g._panEnd=g.get("end")});const p="panstarted";this.events.isEnabled(p)&&this.events.dispatch(p,{type:p,target:this,originalEvent:e})}}_handleWheelAnimation(e){e?e.events.on("stopped",()=>{this._dispatchWheelAnimation()}):this._dispatchWheelAnimation()}_dispatchWheelAnimation(){const e="wheelended";this.events.isEnabled(e)&&this.events.dispatch(e,{type:e,target:this})}_handlePlotUp(e){const t=this._downPoint;if(t&&(this.get("panX")||this.get("panY"))){let s=this.plotContainer.toLocal(this._root.documentPointToRoot({x:e.clientX,y:e.clientY}));if(s.x==t.x&&s.y==t.y){const c="pancancelled";this.events.isEnabled(c)&&this.events.dispatch(c,{type:c,target:this,originalEvent:e})}const o="panended";this.events.isEnabled(o)&&this.events.dispatch(o,{type:o,target:this,originalEvent:e})}this._downPoint=void 0,this.xAxes.each(s=>{s._isPanning=!1}),this.yAxes.each(s=>{s._isPanning=!1})}_handlePlotMove(e){const t=this.plotContainer;if(this.get("pinchZoomX")||this.get("pinchZoomY")){const c=e.pointerId;if(c&&(this._movePoints[c]=this._root.documentPointToRoot({x:e.clientX,y:e.clientY}),X.keys(t._downPoints).length>1))return void this._handlePinch()}let s=this._downPoint;if(s){s=t.toLocal(this._root.documentPointToRoot(s));let o=t.toLocal(this._root.documentPointToRoot({x:e.clientX,y:e.clientY}));const c=this.get("panX"),p=this.get("panY");if(c){let g=this.get("scrollbarX");g&&g.events.disableType("rangechanged"),this.xAxes.each(b=>{if(b.get("panX")){b._isPanning=!0;let w=b._panStart,T=b._panEnd,C=(T-w)*(s.x-o.x)/t.width();b.get("renderer").get("inversed")&&(C*=-1);let Q=w+C,J=T+C;J-Q<1+2*b.get("maxDeviation",1)&&(b.set("start",Q),b.set("end",J))}}),g&&g.events.enableType("rangechanged")}if(p){let g=this.get("scrollbarY");g&&g.events.disableType("rangechanged"),this.yAxes.each(b=>{if(b.get("panY")){b._isPanning=!0;let w=b._panStart,T=b._panEnd,C=(T-w)*(s.y-o.y)/t.height();b.get("renderer").get("inversed")&&(C*=-1);let Q=w-C,J=T-C;J-Q<1+2*b.get("maxDeviation",1)&&(b.set("start",Q),b.set("end",J))}}),g&&g.events.enableType("rangechanged")}}}_handlePinch(){const e=this.plotContainer;let t=0,s=[],o=[];if(X.each(e._downPoints,(c,p)=>{s[t]=p;let g=this._movePoints[c];g&&(o[t]=g),t++}),s.length>1&&o.length>1){const c=e.width(),p=e.height();let g=s[0],b=s[1],w=o[0],T=o[1];if(g&&b&&w&&T){if(w=e.toLocal(w),T=e.toLocal(T),g=e.toLocal(g),b=e.toLocal(b),this.get("pinchZoomX")){const x=this._downStartX,C=this._downEndX;if(null!=x&&null!=C){g.x>b.x&&([g,b]=[b,g],[w,T]=[T,w]);let Q=x+g.x/c*(C-x),J=x+b.x/c*(C-x),q=x+w.x/c*(C-x),K=x+T.x/c*(C-x),ae=Math.max(.001,J-Q)/Math.max(.001,K-q),fe=x*ae+Q-q*ae,ve=C*ae+J-K*ae;this.xAxes.each(Pe=>{let Ze=Pe.fixPosition(fe),Ye=Pe.fixPosition(ve);Pe.zoom(Ze,Ye,0)})}}if(this.get("pinchZoomY")){const x=this._downStartY,C=this._downEndY;if(null!=x&&null!=C){g.y<b.y&&([g,b]=[b,g],[w,T]=[T,w]);let Q=x+(1-g.y/p)*(C-x),J=x+(1-b.y/p)*(C-x),q=x+(1-w.y/p)*(C-x),K=x+(1-T.y/p)*(C-x),ae=Math.max(.001,J-Q)/Math.max(.001,K-q),fe=x*ae+Q-q*ae,ve=C*ae+J-K*ae;this.yAxes.each(Pe=>{let Ze=Pe.fixPosition(fe),Ye=Pe.fixPosition(ve);Pe.zoom(Ze,Ye,0)})}}}}}_handleCursorPosition(){const e=this.get("cursor");if(e){const t=e.getPrivate("point");let s=e.get("snapToSeries");if(e._downPoint&&(s=void 0),s&&t){const o=e.get("snapToSeriesBy"),c=[];v.each(s,b=>{if(!b.isHidden()&&!b.isHiding())if("x!"!=o&&"y!"!=o){const w=b.startIndex(),T=b.endIndex();for(let x=w;x<T;x++){const C=b.dataItems[x];C&&!C.isHidden()&&c.push(C)}}else{const w=b.get("tooltipDataItem");w&&c.push(w)}});let g,p=1/0;if(v.each(c,b=>{const w=b.get("point");if(w){let T=0;T="x"==o||"x!"==o?Math.abs(t.x-w.x):"y"==o||"y!"==o?Math.abs(t.y-w.y):Math.hypot(t.x-w.x,t.y-w.y),T<p&&(p=T,g=b)}}),v.each(s,b=>{const w=b.get("tooltip");w&&w._setDataItem(void 0)}),g){let b=g.component;b.showDataItemTooltip(g);const w=g.get("point");w&&e.handleMove(b.toGlobal({x:w.x-b.x(),y:w.y-b.y()}),!0)}}}}_updateCursor(){let e=this.get("cursor");e&&e.handleMove()}_addCursor(e){this.plotContainer.children.push(e)}_prepareChildren(){if(super._prepareChildren(),this.series.each(e=>{this._colorize(e)}),(this.isDirty("wheelX")||this.isDirty("wheelY"))&&this._handleSetWheel(),this.isDirty("cursor")){const e=this._prevSettings.cursor,t=this.get("cursor");t!==e&&(this._disposeProperty("cursor"),e&&e.dispose(),t&&(t._setChart(this),this._addCursor(t),this._pushPropertyDisposer("cursor",t.events.on("selectended",()=>{this._handleCursorSelectEnd()}))),this._prevSettings.cursor=t)}if(this.isDirty("scrollbarX")){const e=this._prevSettings.scrollbarX,t=this.get("scrollbarX");t!==e&&(this._disposeProperty("scrollbarX"),e&&e.dispose(),t&&(t.parent||this.topAxesContainer.children.push(t),this._pushPropertyDisposer("scrollbarX",t.events.on("rangechanged",s=>{this._handleScrollbar(this.xAxes,s.start,s.end,s.grip)})),t.setPrivate("positionTextFunction",s=>{const o=this.xAxes.getIndex(0);return o&&o.getTooltipText(s,!1)||""})),this._prevSettings.scrollbarX=t)}if(this.isDirty("scrollbarY")){const e=this._prevSettings.scrollbarY,t=this.get("scrollbarY");t!==e&&(this._disposeProperty("scrollbarY"),e&&e.dispose(),t&&(t.parent||this.rightAxesContainer.children.push(t),this._pushPropertyDisposer("scrollbarY",t.events.on("rangechanged",s=>{this._handleScrollbar(this.yAxes,s.start,s.end,s.grip)})),t.setPrivate("positionTextFunction",s=>{const o=this.yAxes.getIndex(0);return o&&o.getTooltipText(s,!1)||""})),this._prevSettings.scrollbarY=t)}this._handleZoomOut()}_processSeries(e){super._processSeries(e);const t=e.get("xAxis"),s=e.get("yAxis");v.move(t.series,e),v.move(s.series,e),e._posXDp=e.addDisposer(t.events.on("positionchanged",()=>{e._fixPosition()})),e._posXDp=e.addDisposer(s.events.on("positionchanged",()=>{e._fixPosition()})),e.get("baseAxis")||(s.isType("CategoryAxis")||s.isType("DateAxis")?e.set("baseAxis",s):e.set("baseAxis",t)),e.get("stacked")&&(e._markDirtyKey("stacked"),v.each(e.dataItems,o=>{o.set("stackToItemY",void 0),o.set("stackToItemX",void 0)})),e._markDirtyAxes(),s.markDirtyExtremes(),t.markDirtyExtremes(),this._colorize(e)}_colorize(e){const t=this.get("colors");if(t&&null==e.get("fill")){const s=t.next();e._setSoft("stroke",s),e._setSoft("fill",s)}}_handleCursorSelectEnd(){const e=this.get("cursor"),t=e.get("behavior"),s=e.getPrivate("downPositionX",0),o=e.getPrivate("downPositionY",0),c=e.getPrivate("positionX",.5),p=e.getPrivate("positionY",.5);this.xAxes.each(g=>{if("zoomX"===t||"zoomXY"===t){let b=g.toAxisPosition(s),w=g.toAxisPosition(c);g.zoom(b,w)}g.setPrivate("updateScrollbar",!0)}),this.yAxes.each(g=>{if("zoomY"===t||"zoomXY"===t){let b=g.toAxisPosition(o),w=g.toAxisPosition(p);g.zoom(b,w)}g.setPrivate("updateScrollbar",!0)})}_handleScrollbar(e,t,s,o){e.each(c=>{let p=c.fixPosition(t),g=c.fixPosition(s),b=c.zoom(p,g,void 0,o);const w="updateScrollbar";c.setPrivateRaw(w,!1),b?b.events.on("stopped",()=>{c.setPrivateRaw(w,!0)}):c.setPrivateRaw(w,!0)})}_processAxis(e,t){return e.events.onAll(s=>{if("clear"===s.type)v.each(s.oldValues,o=>{this._removeAxis(o)});else if("push"===s.type)t.children.push(s.newValue),s.newValue.processChart(this);else if("setIndex"===s.type)t.children.setIndex(s.index,s.newValue),s.newValue.processChart(this);else if("insertIndex"===s.type)t.children.insertIndex(s.index,s.newValue),s.newValue.processChart(this);else if("removeIndex"===s.type)this._removeAxis(s.oldValue);else{if("moveIndex"!==s.type)throw new Error("Unknown IListEvent type");t.children.moveValue(s.value,s.newIndex),s.value.processChart(this)}})}_removeAxis(e){if(!e.isDisposed()){const t=e.parent;t&&t.children.removeValue(e);const s=e.gridContainer,o=s.parent;o&&o.children.removeValue(s);const c=e.topGridContainer,p=c.parent;p&&p.children.removeValue(c)}}_updateChartLayout(){const e=this.leftAxesContainer.width(),t=this.rightAxesContainer.width(),s=this.bottomAxesContainer;s.set("paddingLeft",e),s.set("paddingRight",t);const o=this.topAxesContainer;o.set("paddingLeft",e),o.set("paddingRight",t)}processAxis(e){}_handleAxisSelection(e,t){let s=e.fixPosition(e.get("start",0)),o=e.fixPosition(e.get("end",1));if(s>o&&([s,o]=[o,s]),-1!=this.xAxes.indexOf(e)){if(t||e.getPrivate("updateScrollbar")){let c=this.get("scrollbarX");c&&(!c.getPrivate("isBusy")||t)&&(c.setRaw("start",s),c.setRaw("end",o),c.updateGrips())}}else if(-1!=this.yAxes.indexOf(e)&&(t||e.getPrivate("updateScrollbar"))){let c=this.get("scrollbarY");c&&(!c.getPrivate("isBusy")||t)&&(c.setRaw("start",s),c.setRaw("end",o),c.updateGrips())}this._handleZoomOut()}_handleZoomOut(){let e=this.zoomOutButton;if(e&&e.parent){let t=!1;this.xAxes.each(s=>{(0!=s.get("start")||1!=s.get("end"))&&(t=!0)}),this.yAxes.each(s=>{(0!=s.get("start")||1!=s.get("end"))&&(t=!0)}),t?e.isHidden()&&e.show():e.hide()}}inPlot(e){const t=this.plotContainer,s=this.getPrivate("otherCharts",this._otherCharts),o=t.toGlobal(e);if(e.x>=-.5&&e.y>=-.5&&e.x<=t.width()+.5&&e.y<=t.height()+.5)return!0;if(s)for(let c=s.length-1;c>=0;c--){const p=s[c];if(p!=this){const g=p.plotContainer,b=this._root.rootPointToDocument(o),w=p._root.documentPointToRoot(b),T=g.toLocal(w);if(T.x>=-.1&&T.y>=-.1&&T.x<=g.width()+.1&&T.y<=g.height()+.1)return!0}}return!1}arrangeTooltips(){const e=this.plotContainer,t=e.width(),s=e.height(),o=this.height();let c=e._display.toGlobal({x:0,y:0}),p=e._display.toGlobal({x:t,y:s});const g=[];let Q,J,b=0,w=1/0,T=this._movePoint,x=this.get("maxTooltipDistance"),C=this.get("maxTooltipDistanceBy","xy");R.isNumber(x)&&this.series.each(K=>{if(!K.isHidden()){const ne=K.get("tooltip");if(ne){let ge=ne.get("pointTo");if(ge){let ae=Math.hypot(T.x-ge.x,T.y-ge.y);"x"==C?ae=Math.abs(T.x-ge.x):"y"==C&&(ae=Math.abs(T.y-ge.y)),ae<w&&(w=ae,Q=K,J=ge)}}}});const q=[];if(this.series.each(K=>{const ne=K.get("tooltip");if(ne){let ge=!1,ae=ne.get("pointTo");if(ae){if(x>=0){let fe=ne.get("pointTo");if(fe&&K!=Q){let ve=Math.hypot(J.x-fe.x,J.y-fe.y);"x"==C?ve=Math.abs(J.x-fe.x):"y"==C&&(ve=Math.abs(J.y-fe.y)),ve>x&&(ge=!0)}}else-1==x&&K!=Q&&(ge=!0);this.inPlot(this._tooltipToLocal(ae))&&ne.dataItem?ge||(b+=ae.y):ge=!0,ge||K.isHidden()||K.isHiding()?ne.hide(0):(ne.show(),g.push(ne),q.push(K))}}}),this.setPrivate("tooltipSeries",q),this.get("arrangeTooltips")){const K=this._root.tooltipContainer;if(b/g.length>s/2+c.y){g.sort((fe,ve)=>U.HO(ve.get("pointTo").y,fe.get("pointTo").y));let ae=p.y;if(v.each(g,fe=>{let ve=fe.height(),Pe=fe.get("centerY");Pe instanceof z.gG&&(ve*=Pe.value),ve+=fe.get("marginBottom",0),fe.set("bounds",{left:c.x,top:c.y,right:p.x,bottom:ae}),fe.setPrivate("customData",{left:c.x,top:c.y,right:p.x,bottom:ae}),ae=Math.min(ae-ve,fe._fy-ve),fe.parent==K&&K.children.moveValue(fe,0)}),ae<0){g.reverse();let fe=ae;v.each(g,ve=>{let Pe=ve.get("bounds");if(Pe){let Ze=Pe.top-ae,Ye=Pe.bottom-ae;Ze<fe&&(Ze=fe,Ye=Ze+ve.height()),ve.set("bounds",{left:Pe.left,top:Ze,right:Pe.right,bottom:Ye}),fe=Pe.bottom-ae+ve.get("marginBottom",0)}})}}else{g.reverse(),g.sort((fe,ve)=>U.HO(fe.get("pointTo").y,ve.get("pointTo").y));let ae=0;if(v.each(g,fe=>{let ve=fe.height(),Pe=fe.get("centerY");Pe instanceof z.gG&&(ve*=Pe.value),ve+=fe.get("marginBottom",0),fe.set("bounds",{left:c.x,top:ae,right:p.x,bottom:Math.max(c.y+o,ae+ve)}),fe.parent==K&&K.children.moveValue(fe,0),ae=Math.max(ae+ve,fe._fy+ve)}),ae>o){g.reverse();let fe=o;v.each(g,ve=>{let Pe=ve.get("bounds");if(Pe){let Ze=Pe.top-(o-ae),Ye=Pe.bottom-(o-ae);Ye>fe&&(Ye=fe,Ze=Ye-ve.height()),ve.set("bounds",{left:Pe.left,top:Ze,right:Pe.right,bottom:Ye}),fe=Ye-ve.height()-ve.get("marginBottom",0)}})}}}}_tooltipToLocal(e){return this.plotContainer.toLocal(e)}zoomOut(){this.xAxes.each(e=>{e.setPrivate("updateScrollbar",!0),e.zoom(0,1)}),this.yAxes.each(e=>{e.setPrivate("updateScrollbar",!0),e.zoom(0,1)})}}Object.defineProperty(_e,"className",{enumerable:!0,configurable:!0,writable:!0,value:"XYChart"}),Object.defineProperty(_e,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:k.j.classNames.concat([_e.className])});var Le=I(4248);class he extends Le.L{constructor(){super(...arguments),Object.defineProperty(this,"chart",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(_e.new(this._root,{themeTags:["chart"],interactive:!1,interactiveChildren:!1,panX:!1,panY:!1,wheelX:"none",wheelY:"none"}))}),Object.defineProperty(this,"overlay",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(M.T.new(this._root,{themeTags:["overlay"],interactive:!1}))})}_afterNew(){this._addOrientationClass(),this._settings.themeTags=j.mergeTags(this._settings.themeTags,["scrollbar","xy","chart",this._settings.orientation]);const e=this.children;e.moveValue(this.thumb),e.moveValue(this.startGrip),e.moveValue(this.endGrip),this.thumb.set("opacity",0),this.thumb.states.create("hover",{opacity:.2});const t=this.chart.plotContainer;t.set("interactive",!1),t.remove("background"),t.children.removeValue(this.chart.zoomOutButton),super._afterNew()}_updateThumb(){super._updateThumb(),this.overlay.set("draw",e=>{const t=this.startGrip,s=this.endGrip;let o=t.x(),c=t.y(),p=s.x(),g=s.y();const b=this.height(),w=this.width();o>p&&([o,p]=[p,o]),c>g&&([c,g]=[g,c]),"horizontal"===this.get("orientation")?(e.moveTo(0,0),e.lineTo(o,0),e.lineTo(o,b),e.lineTo(0,b),e.lineTo(0,0),e.moveTo(p,0),e.lineTo(w,0),e.lineTo(w,b),e.lineTo(p,b),e.lineTo(p,0)):(e.moveTo(0,0),e.lineTo(0,c),e.lineTo(w,c),e.lineTo(w,0),e.lineTo(0,0),e.moveTo(0,g),e.lineTo(0,b),e.lineTo(w,b),e.lineTo(w,g),e.lineTo(0,g))})}}Object.defineProperty(he,"className",{enumerable:!0,configurable:!0,writable:!0,value:"XYChartScrollbar"}),Object.defineProperty(he,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Le.L.classNames.concat([he.className])});class Ie extends M.T{_beforeChanged(){super._beforeChanged(),(this.isPrivateDirty("width")||this.isPrivateDirty("height"))&&(this._clear=!0)}}Object.defineProperty(Ie,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Grid"}),Object.defineProperty(Ie,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:M.T.classNames.concat([Ie.className])});class Ve extends N.W{constructor(){super(...arguments),Object.defineProperty(this,"lineX",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(Ie.new(this._root,{themeTags:["x"]}))}),Object.defineProperty(this,"lineY",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(Ie.new(this._root,{themeTags:["y"]}))}),Object.defineProperty(this,"selection",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(M.T.new(this._root,{themeTags:["selection","cursor"],layer:30}))}),Object.defineProperty(this,"_movePoint",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_lastPoint",{enumerable:!0,configurable:!0,writable:!0,value:{x:0,y:0}}),Object.defineProperty(this,"_tooltipX",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_tooltipY",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"chart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_toX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_toY",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_afterNew(){this._settings.themeTags=j.mergeTags(this._settings.themeTags,["xy","cursor"]),super._afterNew(),this.setAll({width:z.AQ,height:z.AQ,isMeasured:!0,position:"absolute"}),this.states.create("hidden",{visible:!0,opacity:0}),this._drawLines(),this.setPrivateRaw("visible",!1),this._disposers.push(this.setTimeout(()=>{this.setPrivate("visible",!0)},500)),this._disposers.push(this.lineX.events.on("positionchanged",()=>{this._handleXLine()})),this._disposers.push(this.lineY.events.on("positionchanged",()=>{this._handleYLine()})),this._disposers.push(this.lineX.events.on("focus",e=>this._handleLineFocus(e.target))),this._disposers.push(this.lineX.events.on("blur",e=>this._handleLineBlur(e.target))),this._disposers.push(this.lineY.events.on("focus",e=>this._handleLineFocus(e.target))),this._disposers.push(this.lineY.events.on("blur",e=>this._handleLineBlur(e.target))),j.supports("keyboardevents")&&this._disposers.push(j.addEventListener(document,"keydown",e=>{this._handleLineMove(e.keyCode)}))}_setUpTouch(){const e=this.chart;e&&(e.plotContainer._display.cancelTouch="none"!=this.get("behavior"))}_handleXLine(){let e=this.lineX.x(),t=!0;(e<0||e>this.width())&&(t=!1),this.lineX.setPrivate("visible",t)}_handleYLine(){let e=this.lineY.y(),t=!0;(e<0||e>this.height())&&(t=!1),this.lineY.setPrivate("visible",t)}_handleLineMove(e){let t="",s=0,o=.1;const c=this.chart;this._root.focused(this.lineX)?(c&&c.xAxes.length&&(o=c.xAxes.getIndex(0).getCellWidthPosition()),s=this.getPrivate("positionX",0),t="positionX",37==e?s-=o:39==e&&(s+=o)):this._root.focused(this.lineY)&&(c&&c.yAxes.length&&(o=c.yAxes.getIndex(0).getCellWidthPosition()),s=this.getPrivate("positionY",0),t="positionY",38==e?s-=o:40==e&&(s+=o)),s<0?s=0:s>1&&(s=1),""!=t&&this.set(t,s)}_handleLineFocus(e){this.setAll({positionX:this.getPrivate("positionX"),positionY:this.getPrivate("positionY"),alwaysShow:!0})}_handleLineBlur(e){this.setAll({positionX:void 0,positionY:void 0,alwaysShow:!1})}_prepareChildren(){if(super._prepareChildren(),this.isDirty("xAxis")){this._tooltipX=!1;const e=this.get("xAxis");if(e){const t=e.get("tooltip");t&&(this._tooltipX=!0,this._disposers.push(t.on("pointTo",()=>{this._updateXLine(t)})))}}if(this.isDirty("yAxis")){this._tooltipY=!1;const e=this.get("yAxis");if(e){const t=e.get("tooltip");t&&(this._tooltipY=!0,this._disposers.push(t.on("pointTo",()=>{this._updateYLine(t)})))}}}_handleSyncWith(){const e=this.chart;if(e){const t=this.get("syncWith"),s=[];t&&v.each(t,o=>{const c=o.chart;c&&s.push(c)}),e._otherCharts=s}}_updateChildren(){if(super._updateChildren(),this._handleSyncWith(),this.isDirty("positionX")||this.isDirty("positionY")){const e=this.get("positionX"),t=this.get("positionY");null==e&&null==t?this.hide(0):(this._movePoint=this.toGlobal(this._getPoint(this.get("positionX",0),this.get("positionY",0))),this.handleMove())}}_updateXLine(e){let t=ce.round(this._display.toLocal(e.get("pointTo",{x:0,y:0})).x,2);this._toX!=t&&(this.lineX.animate({key:"x",to:t,duration:e.get("animationDuration",0),easing:e.get("animationEasing")}),this._toX=t)}_updateYLine(e){let t=ce.round(this._display.toLocal(e.get("pointTo",{x:0,y:0})).y,2);this._toY!=t&&(this.lineY.animate({key:"y",to:t,duration:e.get("animationDuration",0),easing:e.get("animationEasing")}),this._toY=t)}_drawLines(){this.lineX.set("draw",e=>{e.moveTo(0,0),e.lineTo(0,this.height())}),this.lineY.set("draw",e=>{e.moveTo(0,0),e.lineTo(this.width(),0)})}_setChart(e){this.chart=e,this._handleSyncWith();const t=e.plotContainer;this.events.on("boundschanged",()=>{this._disposers.push(this.setTimeout(()=>{this.get("alwaysShow")&&(this._movePoint=this.toGlobal(this._getPoint(this.get("positionX",0),this.get("positionY",0))),this.handleMove())},50))}),j.supports("touchevents")&&(this._disposers.push(t.events.on("click",o=>{j.isTouchEvent(o.originalEvent)&&this._handleMove(o.originalEvent)})),this._setUpTouch()),this._disposers.push(t.events.on("pointerdown",o=>{this._handleCursorDown(o.originalEvent)})),this._disposers.push(t.events.on("globalpointerup",o=>{this._handleCursorUp(o.originalEvent),!o.native&&!this.isHidden()&&this._handleMove(o.originalEvent)})),this._disposers.push(t.events.on("globalpointermove",o=>{!this.get("syncWith")&&0==X.keys(t._downPoints).length&&!o.native&&this.isHidden()||this._handleMove(o.originalEvent)}));const s=this.parent;s&&s.children.moveValue(this.selection)}_inPlot(e){const t=this.chart;return!!t&&t.inPlot(e)}_handleCursorDown(e){if(2==e.button)return;const t=this._root.documentPointToRoot({x:e.clientX,y:e.clientY});let s=this._display.toLocal(t);const o=this.chart;if(this.selection.set("draw",()=>{}),o&&this._inPlot(s)){if(this._downPoint=s,"none"!=this.get("behavior")){this.selection.show();const g="selectstarted";this.events.isEnabled(g)&&this.events.dispatch(g,{type:g,target:this})}let c=this._getPosition(s).x,p=this._getPosition(s).y;this.setPrivate("downPositionX",c),this.setPrivate("downPositionY",p)}}_handleCursorUp(e){if(this._downPoint){const t=this.get("behavior","none");if("none"!=t){"z"===t.charAt(0)&&this.selection.hide();const s=this._root.documentPointToRoot({x:e.clientX,y:e.clientY});let o=this._display.toLocal(s);const c=this._downPoint,p=this.get("moveThreshold",1);if(o&&c){let g=!1;if(("zoomX"===t||"zoomXY"===t||"selectX"===t||"selectXY"===t)&&Math.abs(o.x-c.x)>p&&(g=!0),("zoomY"===t||"zoomXY"===t||"selectY"===t||"selectXY"===t)&&Math.abs(o.y-c.y)>p&&(g=!0),g){const b="selectended";this.events.isEnabled(b)&&this.events.dispatch(b,{type:b,target:this})}}}}this._downPoint=void 0}_handleMove(e){if(this.getPrivate("visible")){const t=this.chart;if(t&&X.keys(t.plotContainer._downPoints).length>1)return void this.set("forceHidden",!0);this.set("forceHidden",!1);const s=this._root.documentPointToRoot({x:e.clientX,y:e.clientY}),o=this._lastPoint;if(Math.round(o.x)===Math.round(s.x)&&Math.round(o.y)===Math.round(s.y))return;this._lastPoint=s,this.setPrivate("lastPoint",s),this.handleMove({x:s.x,y:s.y})}}_getPosition(e){return{x:e.x/this.width(),y:e.y/this.height()}}handleMove(e,t){e||(e=this._movePoint);const s=this.get("alwaysShow");if(!e)return void this.hide(0);this._movePoint=e;let o=this._display.toLocal(e),c=this.chart;if(c&&(this._inPlot(o)||this._downPoint)){c._movePoint=e,this.isHidden()&&(this.show(),"z"==this.get("behavior","").charAt(0)&&this.selection.set("draw",()=>{}));let p=o.x,g=o.y,b=this._getPosition(o);this.setPrivate("point",o);let w=this.get("snapToSeries");this._downPoint&&(w=void 0);let T=this.get("positionX"),x=b.x;R.isNumber(T)&&(x=T);let C=this.get("positionY"),Q=b.y;R.isNumber(C)&&(Q=C),this.setPrivate("positionX",x),this.setPrivate("positionY",Q);const J=this._getPoint(x,Q);if(p=J.x,g=J.y,c.xAxes.each(q=>{q._handleCursorPosition(x,w),s&&q.handleCursorShow()}),c.yAxes.each(q=>{q._handleCursorPosition(Q,w),s&&q.handleCursorShow()}),!t){c._handleCursorPosition();const q="cursormoved";this.events.isEnabled(q)&&this.events.dispatch(q,{type:q,target:this})}this._updateLines(p,g),c.arrangeTooltips()}else if(!this._downPoint&&!s){this.hide(0);const p="cursorhidden";this.events.isEnabled(p)&&this.events.dispatch(p,{type:p,target:this})}this._downPoint&&"none"!=this.get("behavior")&&this._updateSelection(o)}_getPoint(e,t){return{x:this.width()*e,y:this.height()*t}}_updateLines(e,t){this._tooltipX||this.lineX.set("x",e),this._tooltipY||this.lineY.set("y",t),this._drawLines()}_updateSelection(e){const t=this.selection,s=this.get("behavior"),o=this.width(),c=this.height();e.x<0&&(e.x=0),e.x>o&&(e.x=o),e.y<0&&(e.y=0),e.y>c&&(e.y=c),t.set("draw",p=>{const g=this._downPoint;g&&("zoomXY"===s||"selectXY"===s?(p.moveTo(g.x,g.y),p.lineTo(g.x,e.y),p.lineTo(e.x,e.y),p.lineTo(e.x,g.y),p.lineTo(g.x,g.y)):"zoomX"===s||"selectX"===s?(p.moveTo(g.x,0),p.lineTo(g.x,c),p.lineTo(e.x,c),p.lineTo(e.x,0),p.lineTo(g.x,0)):("zoomY"===s||"selectY"===s)&&(p.moveTo(0,g.y),p.lineTo(o,g.y),p.lineTo(o,e.y),p.lineTo(0,e.y),p.lineTo(0,g.y)))})}_onHide(){if(this.isHidden()){let e=this.chart;e&&(e.xAxes.each(t=>{t.handleCursorHide()}),e.yAxes.each(t=>{t.handleCursorHide()}),e.series.each(t=>{t.handleCursorHide()}))}super._onHide()}_onShow(){if(!this.isHidden()){let e=this.chart;e&&(e.xAxes.each(t=>{t.handleCursorShow()}),e.yAxes.each(t=>{t.handleCursorShow()}))}super._onShow()}_dispose(){super._dispose(),this.selection.dispose()}}Object.defineProperty(Ve,"className",{enumerable:!0,configurable:!0,writable:!0,value:"XYCursor"}),Object.defineProperty(Ve,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:N.W.classNames.concat([Ve.className])});var ye=I(7582),pe=I(7313),it=I(3164);class ft extends it.F{constructor(){super(...arguments),Object.defineProperty(this,"_xField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_yField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_xOpenField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_yOpenField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_xLowField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_xHighField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_yLowField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_yHighField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_axesDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_stackDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_selectionProcessed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dataSets",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_mainContainerMask",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_x",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_y",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"mainContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(N.W.new(this._root,{}))}),Object.defineProperty(this,"axisRanges",{enumerable:!0,configurable:!0,writable:!0,value:new P.aV}),Object.defineProperty(this,"_skipped",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_couldStackTo",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_reallyStackedTo",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_stackedSeries",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_aLocationX0",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_aLocationX1",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_aLocationY0",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_aLocationY1",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_showBullets",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"valueXFields",{enumerable:!0,configurable:!0,writable:!0,value:["valueX","openValueX","lowValueX","highValueX"]}),Object.defineProperty(this,"valueYFields",{enumerable:!0,configurable:!0,writable:!0,value:["valueY","openValueY","lowValueY","highValueY"]}),Object.defineProperty(this,"_valueXFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_valueYFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_valueXShowFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_valueYShowFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"__valueXShowFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"__valueYShowFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_emptyDataItem",{enumerable:!0,configurable:!0,writable:!0,value:new pe.z(this,void 0,{})}),Object.defineProperty(this,"_dataSetId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipFieldX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipFieldY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_posXDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_posYDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_afterNew(){this.fields.push("categoryX","categoryY","openCategoryX","openCategoryY"),this.valueFields.push("valueX","valueY","openValueX","openValueY","lowValueX","lowValueY","highValueX","highValueY"),this._setRawDefault("vcx",1),this._setRawDefault("vcy",1),this._setRawDefault("valueXShow","valueXWorking"),this._setRawDefault("valueYShow","valueYWorking"),this._setRawDefault("openValueXShow","openValueXWorking"),this._setRawDefault("openValueYShow","openValueYWorking"),this._setRawDefault("lowValueXShow","lowValueXWorking"),this._setRawDefault("lowValueYShow","lowValueYWorking"),this._setRawDefault("highValueXShow","highValueXWorking"),this._setRawDefault("highValueYShow","highValueYWorking"),this._setRawDefault("lowValueXGrouped","low"),this._setRawDefault("lowValueYGrouped","low"),this._setRawDefault("highValueXGrouped","high"),this._setRawDefault("highValueYGrouped","high"),super._afterNew(),this.set("maskContent",!0),this._disposers.push(this.axisRanges.events.onAll(e=>{if("clear"===e.type)v.each(e.oldValues,t=>{this._removeAxisRange(t)});else if("push"===e.type)this._processAxisRange(e.newValue);else if("setIndex"===e.type)this._processAxisRange(e.newValue);else if("insertIndex"===e.type)this._processAxisRange(e.newValue);else if("removeIndex"===e.type)this._removeAxisRange(e.oldValue);else{if("moveIndex"!==e.type)throw new Error("Unknown IStreamEvent type");this._processAxisRange(e.value)}})),this.states.create("hidden",{opacity:1,visible:!1}),this._makeFieldNames()}_processAxisRange(e){const t=N.W.new(this._root,{});e.container=t,this.children.push(t),e.series=this;const s=e.axisDataItem;s.setRaw("isRange",!0);const o=s.component;if(o){o._processAxisRange(s,["range","series"]);const c=s.get("bullet");if(c){const g=c.get("sprite");g&&g.setPrivate("visible",!1)}const p=s.get("axisFill");p&&t.set("mask",p),o._seriesAxisRanges.push(s)}}_removeAxisRange(e){const t=e.axisDataItem,s=t.component;s.disposeDataItem(t),v.remove(s._seriesAxisRanges,t);const o=e.container;o&&o.dispose()}_updateFields(){super._updateFields(),this._valueXFields=[],this._valueYFields=[],this._valueXShowFields=[],this._valueYShowFields=[],this.__valueXShowFields=[],this.__valueYShowFields=[],this.valueXFields&&v.each(this.valueXFields,e=>{if(this.get(e+"Field")){this._valueXFields.push(e);let s=this.get(e+"Show");this.__valueXShowFields.push(s),-1!=s.indexOf("Working")?this._valueXShowFields.push(s.split("Working")[0]):this._valueXShowFields.push(s)}}),this.valueYFields&&v.each(this.valueYFields,e=>{if(this.get(e+"Field")){this._valueYFields.push(e);let s=this.get(e+"Show");this.__valueYShowFields.push(s),-1!=s.indexOf("Working")?this._valueYShowFields.push(s.split("Working")[0]):this._valueYShowFields.push(s)}})}_dispose(){super._dispose();const e=this.chart;e&&e.series.removeValue(this),v.removeFirst(this.get("xAxis").series,this),v.removeFirst(this.get("yAxis").series,this)}_min(e,t){let s=function ut(ee,e){return null==ee?e:null==e?ee:e<ee?e:ee}(this.getPrivate(e),t);this.setPrivate(e,s)}_max(e,t){let s=function Ee(ee,e){return null==ee?e:null==e?ee:e>ee?e:ee}(this.getPrivate(e),t);this.setPrivate(e,s)}_shouldMakeBullet(e){const t=this.get("xAxis"),s=this.get("yAxis"),o=this.get("baseAxis");if(!t.inited||!s.inited)return!1;const c=this.get("minBulletDistance",0);if(c>0){let p=this.startIndex(),b=this.endIndex()-p;if(t==o){if(t.get("renderer").axisLength()/b<c/5)return!1}else if(s==o&&s.get("renderer").axisLength()/b<c/5)return!1}return null!=e.get(this._xField)&&null!=e.get(this._yField)}_makeFieldNames(){const e=this.get("xAxis"),t=this.get("yAxis"),s=e.getPrivate("name"),o=j.capitalizeFirst(s),c=t.getPrivate("name"),p=j.capitalizeFirst(c),g=e.get("renderer").getPrivate("letter"),b=t.get("renderer").getPrivate("letter"),w="open",T="low",x="high",C="Show";"ValueAxis"===e.className?(this._xField=this.get(s+g+C),this._xOpenField=this.get(w+o+g+C),this._xLowField=this.get(T+o+g+C),this._xHighField=this.get(x+o+g+C)):(this._xField=s+g,this._xOpenField=w+o+g,this._xLowField=T+o+g,this._xHighField=x+o+g),"ValueAxis"===t.className?(this._yField=this.get(c+b+C),this._yOpenField=this.get(w+p+b+C),this._yLowField=this.get(T+p+b+C),this._yHighField=this.get(x+p+b+C)):(this._yField=c+b,this._yOpenField=w+p+b,this._yLowField=T+p+b,this._yHighField=x+p+b)}_fixVC(){const e=this.get("xAxis"),t=this.get("yAxis"),s=this.get("baseAxis"),o=this.states.lookup("hidden"),c=this.get("sequencedInterpolation");if(o){let p=0;c&&(p=.999999999999),e===s?o.set("vcy",p):(t===s||o.set("vcy",p),o.set("vcx",p))}}_handleMaskBullets(){this.isDirty("maskBullets")&&this.bulletsContainer.set("maskContent",this.get("maskBullets"))}_fixPosition(){const e=this.get("xAxis"),t=this.get("yAxis");this.set("x",e.x()-j.relativeToValue(e.get("centerX",0),e.width())-e.parent.get("paddingLeft",0)),this.set("y",t.y()-j.relativeToValue(t.get("centerY",0),t.height())-t.parent.get("paddingTop",0)),this.bulletsContainer.set("y",this.y()),this.bulletsContainer.set("x",this.x())}_prepareChildren(){super._prepareChildren(),(this.isDirty("valueYShow")||this.isDirty("valueXShow")||this.isDirty("openValueYShow")||this.isDirty("openValueXShow")||this.isDirty("lowValueYShow")||this.isDirty("lowValueXShow")||this.isDirty("highValueYShow")||this.isDirty("highValueXShow"))&&(this._updateFields(),this._makeFieldNames(),this._valuesDirty=!0),(this.isDirty("xAxis")||this.isDirty("yAxis"))&&(this._valuesDirty=!0),this.set("width",this.get("xAxis").width()),this.set("height",this.get("yAxis").height()),this._handleMaskBullets();const e=this.get("xAxis"),t=this.get("yAxis"),s=this.get("baseAxis");let c,g;switch(this.get("tooltipPositionX")){case"open":c=this._xOpenField;break;case"low":c=this._xLowField;break;case"high":c=this._xHighField;break;default:c=this._xField}switch(this._tooltipFieldX=c,this.get("tooltipPositionY")){case"open":g=this._yOpenField;break;case"low":g=this._yLowField;break;case"high":g=this._yHighField;break;default:g=this._yField}this._tooltipFieldY=g,this.isDirty("baseAxis")&&this._fixVC(),this._fixPosition();const b=this.get("stacked");if(this.isDirty("stacked")&&(b?this._valuesDirty&&!this._dataProcessed||this._stack():this._unstack()),this._valuesDirty&&!this._dataProcessed&&(this._dataProcessed=!0,b&&this._stack(),v.each(this.dataItems,w=>{v.each(this._valueXShowFields,T=>{let x=w.get(T);null!=x&&(b&&(x+=this.getStackedXValue(w,T)),this._min("minX",x),this._max("maxX",x))}),v.each(this._valueYShowFields,T=>{let x=w.get(T);null!=x&&(b&&(x+=this.getStackedYValue(w,T)),this._min("minY",x),this._max("maxY",x))}),e.processSeriesDataItem(w,this._valueXFields),t.processSeriesDataItem(w,this._valueYFields)}),e._seriesValuesDirty=!0,t._seriesValuesDirty=!0,this.get("ignoreMinMax")||((this.isPrivateDirty("minX")||this.isPrivateDirty("maxX"))&&e.markDirtyExtremes(),(this.isPrivateDirty("minY")||this.isPrivateDirty("maxY"))&&t.markDirtyExtremes()),this._markStakedDirtyStack(),this.get("tooltipDataItem")||this.updateLegendValue(void 0)),(this.isDirty("vcx")||this.isDirty("vcy"))&&this._markStakedDirtyStack(),this._dataGrouped||(e._groupSeriesData(this),t._groupSeriesData(this),this._dataGrouped=!0),this._valuesDirty||this.isPrivateDirty("startIndex")||this.isPrivateDirty("endIndex")||this.isDirty("vcx")||this.isDirty("vcy")||this._stackDirty){let w=this.startIndex(),T=this.endIndex(),x=this.get("minBulletDistance",0);if(x>0&&s&&(this._showBullets=s.get("renderer").axisLength()/(T-w)>x),(this._psi!=w||this._pei!=T||this.isDirty("vcx")||this.isDirty("vcy")||this._stackDirty||this._valuesDirty)&&!this._selectionProcessed){this._selectionProcessed=!0;const C=this.get("vcx",1),Q=this.get("vcy",1),J=this.get("stacked",!1),q=this.getPrivate("outOfSelection");if(s===e||!s)if(t._calculateTotals(),this.setPrivateRaw("selectionMinY",void 0),this.setPrivateRaw("selectionMaxY",void 0),q)t.markDirtySelectionExtremes();else for(let K=w;K<T;K++)this.processYSelectionDataItem(this.dataItems[K],Q,J);if(s===t||!s)if(e._calculateTotals(),this.setPrivateRaw("selectionMinX",void 0),this.setPrivateRaw("selectionMaxX",void 0),q)t.markDirtySelectionExtremes();else for(let K=w;K<T;K++)this.processXSelectionDataItem(this.dataItems[K],C,J);if((s===e||!s)&&"valueYWorking"!==this.get("valueYShow")){const K=this.getPrivate("selectionMinY");null!=K&&(this.setPrivateRaw("minY",K),t.markDirtyExtremes());const ne=this.getPrivate("selectionMaxY");null!=ne&&(this.setPrivateRaw("maxY",ne),t.markDirtyExtremes())}if((s===t||!s)&&"valueXWorking"!==this.get("valueXShow")){const K=this.getPrivate("selectionMinX");null!=K&&(this.setPrivateRaw("minX",K),t.markDirtyExtremes());const ne=this.getPrivate("selectionMaxX");null!=ne&&(this.setPrivateRaw("maxX",ne),e.markDirtyExtremes())}(this.isPrivateDirty("selectionMinX")||this.isPrivateDirty("selectionMaxX"))&&e.markDirtySelectionExtremes(),(this.isPrivateDirty("selectionMinY")||this.isPrivateDirty("selectionMaxY"))&&t.markDirtySelectionExtremes()}}}_makeRangeMask(){if(this.axisRanges.length>0){let e=this._mainContainerMask;null==e&&(e=this.children.push(M.T.new(this._root,{})),this._mainContainerMask=e,e.set("draw",(t,s)=>{const o=this.parent;if(o){const c=this._root.container.width(),p=this._root.container.height();t.moveTo(-c,-p),t.lineTo(-c,2*p),t.lineTo(2*c,2*p),t.lineTo(2*c,-p),t.lineTo(-c,-p),this.axisRanges.each(g=>{const b=g.axisDataItem.get("axisFill");if(o&&b){let w=b.get("draw");w&&w(t,s)}})}this.mainContainer._display.mask=e._display})),e.markDirty(),e._markDirtyKey("fill")}else this.mainContainer._display.mask=null}_updateChildren(){super._updateChildren(),this._x=this.x(),this._y=this.y(),this._makeRangeMask()}_stack(){const e=this.chart;if(e){const t=e.series.indexOf(this);if(this._couldStackTo=[],t>0){let s;for(let o=t-1;o>=0&&(s=e.series.getIndex(o),s.get("xAxis")!==this.get("xAxis")||s.get("yAxis")!==this.get("yAxis")||s.className!==this.className||(this._couldStackTo.push(s),s.get("stacked")));o--);}this._stackDataItems()}}_unstack(){X.each(this._reallyStackedTo,(e,t)=>{delete t._stackedSeries[this.uid]}),this._reallyStackedTo={},v.each(this.dataItems,e=>{e.setRaw("stackToItemY",void 0),e.setRaw("stackToItemX",void 0)})}_stackDataItems(){const e=this.get("baseAxis"),t=this.get("xAxis"),s=this.get("yAxis");let o,c;e===t?(o="valueY",c="stackToItemY"):e===s&&(o="valueX",c="stackToItemX");let p=this._couldStackTo.length,g=0;const b=this.get("stackToNegative");this._reallyStackedTo={},v.each(this.dataItems,w=>{for(let T=0;T<p;T++){let x=this._couldStackTo[T],C=x.dataItems[g],Q=w.get(o);if(C){let J=C.get(o);if(b){if(!R.isNumber(Q))break;if(R.isNumber(J)){if(Q>=0&&J>=0){w.setRaw(c,C),this._reallyStackedTo[x.uid]=x,x._stackedSeries[this.uid]=this;break}if(Q<0&&J<0){w.setRaw(c,C),this._reallyStackedTo[x.uid]=x,x._stackedSeries[this.uid]=this;break}}}else if(R.isNumber(Q)&&R.isNumber(J)){w.setRaw(c,C),this._reallyStackedTo[x.uid]=x,x._stackedSeries[this.uid]=this;break}}}g++})}processXSelectionDataItem(e,t,s){v.each(this.__valueXShowFields,o=>{let c=e.get(o);null!=c&&(s&&(c+=this.getStackedXValueWorking(e,o)),this._min("selectionMinX",c),this._max("selectionMaxX",c*t))})}processYSelectionDataItem(e,t,s){v.each(this.__valueYShowFields,o=>{let c=e.get(o);null!=c&&(s&&(c+=this.getStackedYValueWorking(e,o)),this._min("selectionMinY",c),this._max("selectionMaxY",c*t))})}getStackedYValueWorking(e,t){const s=e.get("stackToItemY");if(s){const o=s.component;return s.get(t,0)*o.get("vcy",1)+this.getStackedYValueWorking(s,t)}return 0}getStackedXValueWorking(e,t){const s=e.get("stackToItemX");if(s){const o=s.component;return s.get(t,0)*o.get("vcx",1)+this.getStackedXValueWorking(s,t)}return 0}getStackedYValue(e,t){const s=e.get("stackToItemY");return s?s.get(t,0)+this.getStackedYValue(s,t):0}getStackedXValue(e,t){const s=e.get("stackToItemX");return s?s.get(t,0)+this.getStackedXValue(s,t):0}createLegendMarker(e){this.updateLegendMarker()}_markDirtyAxes(){this._axesDirty=!0,this.markDirty()}_markDataSetDirty(){this._afterDataChange(),this._valuesDirty=!0,this._dataProcessed=!1,this._aggregatesCalculated=!1,this.markDirty()}_clearDirty(){super._clearDirty(),this._axesDirty=!1,this._selectionProcessed=!1,this._stackDirty=!1,this._dataProcessed=!1}_positionBullet(e){let t=e.get("sprite");if(t){let s=t.dataItem,o=e.get("locationX",s.get("locationX",.5)),c=e.get("locationY",s.get("locationY",.5)),p=this.get("xAxis"),g=this.get("yAxis");const b=p.getDataItemPositionX(s,this._xField,o,this.get("vcx",1)),w=g.getDataItemPositionY(s,this._yField,c,this.get("vcy",1));let T=this.getPoint(b,w),x=s.get("left",T.x),C=s.get("right",T.x),Q=s.get("top",T.y),J=s.get("bottom",T.y);if(this._shouldShowBullet(b,w)){e.getPrivate("hidden")?t.setPrivate("visible",!1):t.setPrivate("visible",!0);let q=C-x,K=J-Q;t.isType("Label")&&(t.setPrivate("maxWidth",Math.abs(q)),t.setPrivate("maxHeight",Math.abs(K)));let ge=J-K*c;t.set("x",x+q*o),t.set("y",ge)}else t.setPrivate("visible",!1)}}_shouldShowBullet(e,t){return this._showBullets}setDataSet(e){if(this._dataSets[e]){this._handleDataSetChange(),this._dataItems=this._dataSets[e],this._markDataSetDirty(),this._dataSetId=e;const t="datasetchanged";this.events.isEnabled(t)&&this.events.dispatch(t,{type:t,target:this,id:e})}}_handleDataSetChange(){this.bullets.length>0&&v.each(this._dataItems,e=>{let t=e.bullets;t&&v.each(t,s=>{if(s){let o=s.get("sprite");o&&o.setPrivate("visible",!1)}})}),this._selectionProcessed=!1}show(e){const t=Object.create(null,{show:{get:()=>super.show}});return(0,ye.mG)(this,void 0,void 0,function*(){this._fixVC();let s=[];s.push(t.show.call(this,e).then(()=>{this._isShowing=!1;let o=this.get("xAxis"),c=this.get("yAxis"),p=this.get("baseAxis");c!==p&&c.markDirtySelectionExtremes(),o!==p&&o.markDirtySelectionExtremes()})),s.push(this.bulletsContainer.show(e)),s.push(this._sequencedShowHide(!0,e)),yield Promise.all(s)})}hide(e){const t=Object.create(null,{hide:{get:()=>super.hide}});return(0,ye.mG)(this,void 0,void 0,function*(){this._fixVC();let s=[];s.push(t.hide.call(this,e).then(()=>{this._isHiding=!1})),s.push(this.bulletsContainer.hide(e)),s.push(this._sequencedShowHide(!1,e)),yield Promise.all(s)})}showDataItem(e,t){const s=Object.create(null,{showDataItem:{get:()=>super.showDataItem}});return(0,ye.mG)(this,void 0,void 0,function*(){const o=[s.showDataItem.call(this,e,t)];R.isNumber(t)||(t=this.get("stateAnimationDuration",0));const c=this.get("stateAnimationEasing");v.each(this._valueFields,p=>{o.push(e.animate({key:p+"Working",to:e.get(p),duration:t,easing:c}).waitForStop())}),yield Promise.all(o)})}hideDataItem(e,t){const s=Object.create(null,{hideDataItem:{get:()=>super.hideDataItem}});return(0,ye.mG)(this,void 0,void 0,function*(){const o=[s.hideDataItem.call(this,e,t)],c=this.states.create("hidden",{});R.isNumber(t)||(t=c.get("stateAnimationDuration",this.get("stateAnimationDuration",0)));const p=c.get("stateAnimationEasing",this.get("stateAnimationEasing")),g=this.get("xAxis"),b=this.get("yAxis"),w=this.get("baseAxis"),T=this.get("stacked");if((w===g||!w)&&v.each(this._valueYFields,x=>{let C=b.getPrivate("min"),Q=b.baseValue();R.isNumber(C)&&C>Q&&(Q=C),T&&(Q=0),null!=e.get(x)&&o.push(e.animate({key:x+"Working",to:Q,duration:t,easing:p}).waitForStop())}),w===b||!w){let x=g.getPrivate("min"),C=g.baseValue();R.isNumber(x)&&x>C&&(C=x),T&&(C=0),v.each(this._valueXFields,Q=>{null!=e.get(Q)&&o.push(e.animate({key:Q+"Working",to:C,duration:t,easing:p}).waitForStop())})}yield Promise.all(o)})}_markDirtyStack(){this._stackDirty=!0,this.markDirty(),this._markStakedDirtyStack()}_markStakedDirtyStack(){const e=this._stackedSeries;e&&X.each(e,(t,s)=>{s._stackDirty||s._markDirtyStack()})}_afterChanged(){super._afterChanged(),this._skipped&&(this._markDirtyAxes(),this._skipped=!1)}showDataItemTooltip(e){this.updateLegendMarker(e),this.updateLegendValue(e);const t=this.get("tooltip");if(t)if(this.isHidden())this.hideTooltip();else if(t._setDataItem(e),e){let s=this.get("locationX",0),o=this.get("locationY",1),c=e.get("locationX",s),p=e.get("locationY",o);const g=this.get("xAxis"),b=this.get("yAxis"),w=this.get("vcx",1),T=this.get("vcy",1),x=g.getDataItemPositionX(e,this._tooltipFieldX,this._aLocationX0+(this._aLocationX1-this._aLocationX0)*c,w),C=b.getDataItemPositionY(e,this._tooltipFieldY,this._aLocationY0+(this._aLocationY1-this._aLocationY0)*p,T),Q=this.getPoint(x,C);let J=!0;if(v.each(this._valueFields,q=>{null==e.get(q)&&(J=!1)}),J){const q=this.chart;q&&q.inPlot(Q)?(t.label.text.markDirtyText(),t.set("tooltipTarget",this._getTooltipTarget(e)),t.set("pointTo",this._display.toGlobal({x:Q.x,y:Q.y}))):t._setDataItem(void 0)}else t._setDataItem(void 0)}}hideTooltip(){const e=this.get("tooltip");return e&&e.set("tooltipTarget",this),super.hideTooltip()}_getTooltipTarget(e){if("bullet"==this.get("seriesTooltipTarget")){const t=e.bullets;if(t&&t.length>0){const o=t[0].get("sprite");if(o)return o}}return this}updateLegendValue(e){const t=this.get("legendDataItem");if(t){const s=t.get("label");if(s){let c="";e?(s._setDataItem(e),c=this.get("legendLabelText",s.get("text",this.get("name","")))):(s._setDataItem(this._emptyDataItem),c=this.get("legendRangeLabelText",this.get("legendLabelText",s.get("text",this.get("name",""))))),s.set("text",c)}const o=t.get("valueLabel");if(o){let c="";e?(o._setDataItem(e),c=this.get("legendValueText",o.get("text",""))):(o._setDataItem(this._emptyDataItem),c=this.get("legendRangeValueText",o.get("text",""))),o.set("text",c)}}}_getItemReaderLabel(){let e="X: {"+this._xField;return this.get("xAxis").isType("DateAxis")&&(e+=".formatDate()"),e+="}; Y: {"+this._yField,this.get("yAxis").isType("DateAxis")&&(e+=".formatDate()"),e+="}",e}getPoint(e,t){let s=this.get("xAxis").get("renderer").positionToCoordinate(e),o=this.get("yAxis").get("renderer").positionToCoordinate(t),c=999999999;return o<-c&&(o=-c),o>c&&(o=c),s<-c&&(s=-c),s>c&&(s=c),{x:s,y:o}}_shouldInclude(e){return!0}handleCursorHide(){this.hideTooltip(),this.updateLegendValue(void 0),this.updateLegendMarker(void 0)}_afterDataChange(){super._afterDataChange(),this.get("xAxis")._markDirtyKey("start"),this.get("yAxis")._markDirtyKey("start"),this.resetExtremes()}resetExtremes(){this.setPrivate("selectionMinX",void 0),this.setPrivate("selectionMaxX",void 0),this.setPrivate("selectionMinY",void 0),this.setPrivate("selectionMaxY",void 0),this.setPrivate("minX",void 0),this.setPrivate("minY",void 0),this.setPrivate("maxX",void 0),this.setPrivate("maxY",void 0)}createAxisRange(e){return this.axisRanges.push({axisDataItem:e})}get mainDataItems(){return this._mainDataItems}}Object.defineProperty(ft,"className",{enumerable:!0,configurable:!0,writable:!0,value:"XYSeries"}),Object.defineProperty(ft,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:it.F.classNames.concat([ft.className])});class Qe extends ft{constructor(){super(...arguments),Object.defineProperty(this,"_ph",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_pw",{enumerable:!0,configurable:!0,writable:!0,value:0})}_makeGraphics(e,t){return this.makeColumn(t,e)}_makeFieldNames(){super._makeFieldNames();const e=this.get("xAxis"),t=this.get("yAxis"),s="CategoryAxis",o="ValueAxis";e.isType(s)&&(this.get("openCategoryXField")||(this._xOpenField=this._xField)),e.isType(o)&&(this.get("openValueXField")||(this._xOpenField=this._xField)),t.isType(s)&&(this.get("openCategoryYField")||(this._yOpenField=this._yField)),t.isType(o)&&(this.get("openValueYField")||(this._yOpenField=this._yField))}_prepareChildren(){super._prepareChildren();const e=this.get("xAxis"),t=this.get("yAxis"),s=this.dataItems.length,o=Math.max(0,this.startIndex()-2),c=Math.min(this.endIndex()+2,s-1);if(e.inited&&t.inited)for(let p=o;p<=c;p++)this._createGraphics(this.dataItems[p])}_updateChildren(){const e=this.chart;e&&(this._ph=e.plotContainer.height(),this._pw=e.plotContainer.width());const t=this.get("xAxis"),s=this.get("yAxis"),o=this.get("baseAxis"),c=this.columns.template;this.isDirty("fill")&&null==c.get("fill")&&c.set("fill",this.get("fill")),this.isDirty("stroke")&&null==c.get("stroke")&&c.set("stroke",this.get("stroke"));let p=0,g=0,b=0;v.each(o.series,ne=>{if(ne instanceof Qe){const ge=ne.get("stacked");ge&&0==b&&g++,!ge&&ne.get("clustered")&&g++}ne===this&&(p=g-1),b++}),this.get("clustered")||(p=0,g=1),0===g&&(g=1,p=0);const w=t.get("renderer"),T=s.get("renderer"),x="cellStartLocation",C="cellEndLocation",Q=w.get(x,0),J=w.get(C,1),q=T.get(x,0),K=T.get(C,1);if(this._aLocationX0=Q+p/g*(J-Q),this._aLocationX1=Q+(p+1)/g*(J-Q),this._aLocationY0=q+p/g*(K-q),this._aLocationY1=q+(p+1)/g*(K-q),t.inited&&s.inited){if(this._axesDirty||this._valuesDirty||this._stackDirty||this.isDirty("vcx")||this.isDirty("vcy")||this._sizeDirty){const ne=this.dataItems.length;let ge=Math.max(0,this.startIndex()-2),ae=Math.min(this.endIndex()+2,ne-1);for(let ve=0;ve<ge;ve++)this._toggleColumn(this.dataItems[ve],!1);let fe=this.dataItems[ge];for(let ve=ge;ve<=ae;ve++){let Pe=this.dataItems[ve];if(null!=Pe.get("valueX")&&null!=Pe.get("valueY")){if(fe=Pe,ve>0&&ge>0)for(let Ze=ve-1;Ze>=0;Ze--){let Ye=this.dataItems[Ze];if(null!=Ye.get("valueX")&&null!=Ye.get("valueY")){fe=Ye;break}}break}this._toggleColumn(Pe,!1)}for(let ve=ge;ve<=ae;ve++){let Pe=this.dataItems[ve];this._updateGraphics(Pe,fe),null!=Pe.get("valueX")&&null!=Pe.get("valueY")&&(fe=Pe)}for(let ve=ae+1;ve<ne;ve++)this._toggleColumn(this.dataItems[ve],!1)}}else this._skipped=!0;this.updateLegendMarker(this.get("tooltipDataItem")),super._updateChildren()}_createGraphics(e){let t=e.get("graphics");if(!t){t=this._makeGraphics(this.columns,e),e.set("graphics",t),t._setDataItem(e);const s=e.get("legendDataItem");if(s){const o=s.get("markerRectangle");o&&o.setAll({fill:t.get("fill"),stroke:t.get("stroke")})}this.axisRanges.each(o=>{const c=o.container,p=e.get("rangeGraphics",[]);e.set("rangeGraphics",p);const g=this._makeGraphics(o.columns,e);p.push(g),g.setPrivate("list",o.columns),c.children.push(g)})}}_updateGraphics(e,t){let s=e.get("graphics");const o=this._xField,c=this._yField,p=e.get(o),g=e.get(c);if(null!=p&&null!=g){const b=this._xOpenField,w=this._yOpenField,T=this.get("locationX",e.get("locationX",.5)),x=this.get("locationY",e.get("locationY",.5)),C=this.get("openLocationX",e.get("openLocationX",T)),Q=this.get("openLocationY",e.get("openLocationY",x)),J=s.get("width"),q=s.get("height"),K=this.get("stacked"),ne=this.get("xAxis"),ge=this.get("yAxis"),ae=this.get("baseAxis"),fe=ne.get("start"),ve=ne.get("end"),Pe=ge.get("start"),Ze=ge.get("end");let Ye,rt,Fe,qe,nt=this.get("vcy",1),Bt=this.get("vcx",1),It=!1,Lt=!1;if(ge.isType("CategoryAxis")&&ne.isType("CategoryAxis")){let Je=this._aLocationX0+C-.5,at=this._aLocationX1+T-.5;if(J instanceof z.gG){let et=(at-Je)*(1-J.value)/2;Je+=et,at-=et}if(Ye=ne.getDataItemPositionX(e,b,Je,Bt),rt=ne.getDataItemPositionX(e,o,at,Bt),Je=this._aLocationY0+Q-.5,at=this._aLocationY1+x-.5,q instanceof z.gG){let et=(at-Je)*(1-q.value)/2;Je+=et,at-=et}Fe=ge.getDataItemPositionY(e,w,Je,nt),qe=ge.getDataItemPositionY(e,c,at,nt),e.setRaw("point",{x:Ye+(rt-Ye)/2,y:Fe+(qe-Fe)/2})}else if(ne===ae){let Je=this._aLocationX0+C-.5,at=this._aLocationX1+T-.5;if(J instanceof z.gG){let et=(at-Je)*(1-J.value)/2;Je+=et,at-=et}if(Ye=ne.getDataItemPositionX(e,b,Je,Bt),rt=ne.getDataItemPositionX(e,o,at,Bt),Fe=ge.getDataItemPositionY(e,c,x,nt),this._yOpenField!==this._yField)qe=ge.getDataItemPositionY(e,w,Q,nt);else if(K){let et=e.get("stackToItemY");qe=et?ge.getDataItemPositionY(et,c,Q,et.component.get("vcy")):ge.basePosition()}else qe=ge.basePosition();e.setRaw("point",{x:Ye+(rt-Ye)/2,y:Fe}),Lt=!0}else if(ge===ae){let Je=this._aLocationY0+Q-.5,at=this._aLocationY1+x-.5;if(q instanceof z.gG){let et=(at-Je)*(1-q.value)/2;Je+=et,at-=et}if(Fe=ge.getDataItemPositionY(e,w,Je,nt),qe=ge.getDataItemPositionY(e,c,at,nt),rt=ne.getDataItemPositionX(e,o,T,Bt),this._xOpenField!==this._xField)Ye=ne.getDataItemPositionX(e,b,C,Bt);else if(K){let et=e.get("stackToItemX");Ye=et?ne.getDataItemPositionX(et,o,C,et.component.get("vcx")):ne.basePosition()}else Ye=ne.basePosition();It=!0,e.setRaw("point",{x:rt,y:Fe+(qe-Fe)/2})}this._updateSeriesGraphics(e,s,Ye,rt,Fe,qe,It,Lt),Ye<fe&&rt<fe||Ye>ve&&rt>ve||Fe<Pe&&qe<=Pe||Fe>=Ze&&qe>Ze||R.isNaN(Ye)||R.isNaN(Fe)?this._toggleColumn(e,!1):this._toggleColumn(e,!0);let bt=e.get("rangeGraphics");bt&&v.each(bt,Je=>{this._updateSeriesGraphics(e,Je,Ye,rt,Fe,qe,It,Lt)}),this._applyGraphicsStates(e,t)}}_updateSeriesGraphics(e,t,s,o,c,p,g,b){const w=t.get("width"),T=t.get("height"),x=t.get("maxWidth"),C=t.get("maxHeight"),Q=this.getPoint(s,c),J=this.getPoint(o,p),q=e.get("point");if(q){const K=this.getPoint(q.x,q.y);q.x=K.x+this._x,q.y=K.y+this._y}if(s=Q.x,o=J.x,c=Q.y,p=J.y,R.isNumber(w)){const K=(o-s-w)/2;s+=K,o-=K}if(R.isNumber(x)&&x<Math.abs(o-s)){const K=(o-s-x)/2;s+=K,o-=K}if(R.isNumber(T)){const K=(p-c-T)/2;c+=K,p-=K}if(R.isNumber(C)&&C<Math.abs(p-c)){const K=(p-c-C)/2;c+=K,p-=K}this.get("adjustBulletPosition")&&(g&&(o=Math.min(Math.max(0,o),this._pw),s=Math.min(Math.max(0,s),this._pw)),b&&(c=Math.min(Math.max(0,c),this._ph),p=Math.min(Math.max(0,p),this._ph))),e.setRaw("left",s),e.setRaw("right",o),e.setRaw("top",c),e.setRaw("bottom",p),t.setPrivate("width",o-s),t.setPrivate("height",p-c),t.set("x",s),t.set("y",p-(p-c))}_handleDataSetChange(){super._handleDataSetChange(),v.each(this._dataItems,e=>{this._toggleColumn(e,!1)})}_applyGraphicsStates(e,t){const s=e.get("graphics"),o=s.states.lookup("dropFromOpen"),c=s.states.lookup("riseFromOpen"),p=s.states.lookup("dropFromPrevious"),g=s.states.lookup("riseFromPrevious");if(o||p||c||g){const b=this.get("xAxis"),w=this.get("yAxis"),T=this.get("baseAxis");let x,C,Q;T===b&&w.isType("ValueAxis")?(x=e.get(this._yOpenField),C=e.get(this._yField),Q=t.get(this._yField)):T===w&&b.isType("ValueAxis")&&(x=e.get(this._xOpenField),C=e.get(this._xField),Q=t.get(this._xField)),R.isNumber(x)&&R.isNumber(C)&&(C<x?o&&o.apply():c&&c.apply(),R.isNumber(Q)&&(C<Q?p&&p.apply():g&&g.apply()))}}disposeDataItem(e){super.disposeDataItem(e);const t=e.get("graphics");t&&(this.columns.removeValue(t),t.dispose());const s=e.get("rangeGraphics");s&&v.each(s,o=>{const c=o.getPrivate("list");c&&c.removeValue(o),o.dispose()})}hideDataItem(e,t){const s=Object.create(null,{hideDataItem:{get:()=>super.hideDataItem}});return(0,ye.mG)(this,void 0,void 0,function*(){const o=[s.hideDataItem.call(this,e,t)],c=e.get("graphics");c&&o.push(c.hide(t));const p=e.get("rangeGraphics");p&&v.each(p,g=>{o.push(g.hide(t))}),yield Promise.all(o)})}_toggleColumn(e,t){const s=e.get("graphics");s&&s.setPrivate("visible",t);const o=e.get("rangeGraphics");o&&v.each(o,p=>{p.setPrivate("visible",t)});const c=e.bullets;c&&v.each(c,p=>{p.setPrivate("hidden",!t)})}showDataItem(e,t){const s=Object.create(null,{showDataItem:{get:()=>super.showDataItem}});return(0,ye.mG)(this,void 0,void 0,function*(){const o=[s.showDataItem.call(this,e,t)],c=e.get("graphics");c&&o.push(c.show(t));const p=e.get("rangeGraphics");p&&v.each(p,g=>{o.push(g.show(t))}),yield Promise.all(o)})}updateLegendMarker(e){let t=this.get("legendDataItem");if(this.get("useLastColorForLegendMarker")&&!e){const s=this.dataItems[this.endIndex()-1];s&&(e=s)}if(t){let s=this.columns.template;if(e){let c=e.get("graphics");c&&(s=c)}const o=t.get("markerRectangle");o&&(t.get("itemContainer").get("disabled")||v.each(M.u,c=>{o.set(c,s.get(c,this.get(c)))}))}}_getTooltipTarget(e){return"bullet"==this.get("seriesTooltipTarget")?super._getTooltipTarget(e):e.get("graphics")||this}}Object.defineProperty(Qe,"className",{enumerable:!0,configurable:!0,writable:!0,value:"BaseColumnSeries"}),Object.defineProperty(Qe,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ft.classNames.concat([Qe.className])});class pt extends pe.w{constructor(){super(...arguments),Object.defineProperty(this,"_series",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_isPanning",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"labelsContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(N.W.new(this._root,{}))}),Object.defineProperty(this,"gridContainer",{enumerable:!0,configurable:!0,writable:!0,value:N.W.new(this._root,{width:z.AQ,height:z.AQ})}),Object.defineProperty(this,"topGridContainer",{enumerable:!0,configurable:!0,writable:!0,value:N.W.new(this._root,{width:z.AQ,height:z.AQ})}),Object.defineProperty(this,"bulletsContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(N.W.new(this._root,{isMeasured:!1,width:z.AQ,height:z.AQ,position:"absolute"}))}),Object.defineProperty(this,"chart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_rangesDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_panStart",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_panEnd",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_sAnimation",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_eAnimation",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_skipSync",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"axisRanges",{enumerable:!0,configurable:!0,writable:!0,value:new P.aV}),Object.defineProperty(this,"_seriesAxisRanges",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"ghostLabel",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_cursorPosition",{enumerable:!0,configurable:!0,writable:!0,value:-1}),Object.defineProperty(this,"_snapToSeries",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_seriesValuesDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"axisHeader",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(N.W.new(this._root,{themeTags:["axis","header"],position:"absolute",background:se.A.new(this._root,{themeTags:["header","background"],fill:this._root.interfaceColors.get("background")})}))}),Object.defineProperty(this,"_bullets",{enumerable:!0,configurable:!0,writable:!0,value:{}})}_dispose(){this.gridContainer.dispose(),this.topGridContainer.dispose(),this.bulletsContainer.dispose(),this.labelsContainer.dispose(),this.axisHeader.dispose(),super._dispose()}_afterNew(){super._afterNew(),this.setPrivate("updateScrollbar",!0),this._disposers.push(this.axisRanges.events.onAll(t=>{if("clear"===t.type)v.each(t.oldValues,s=>{this.disposeDataItem(s)});else if("push"===t.type)this._processAxisRange(t.newValue,["range"]);else if("setIndex"===t.type)this._processAxisRange(t.newValue,["range"]);else if("insertIndex"===t.type)this._processAxisRange(t.newValue,["range"]);else if("removeIndex"===t.type)this.disposeDataItem(t.oldValue);else{if("moveIndex"!==t.type)throw new Error("Unknown IStreamEvent type");this._processAxisRange(t.value,["range"])}}));const e=this.get("renderer");e&&(e.axis=this,e.processAxis()),this.children.push(e),this.ghostLabel=e.makeLabel(new pe.z(this,void 0,{}),[]),this.ghostLabel.adapters.disable("text"),this.ghostLabel.setAll({opacity:0,tooltipText:void 0,tooltipHTML:void 0,interactive:!1}),this.ghostLabel.events.disable()}_updateFinals(e,t){}zoom(e,t,s,o){if(this._updateFinals(e,t),this.get("start")!==e||this.get("end")!=t){let c=this._sAnimation,p=this._eAnimation,g=this.get("maxDeviation",.5)*Math.min(1,t-e);e<-g&&(e=-g),t>1+g&&(t=1+g),e>t&&([e,t]=[t,e]),R.isNumber(s)||(s=this.get("interpolationDuration",0)),o||(o="end");let b=this.getPrivate("maxZoomFactor",this.get("maxZoomFactor",100)),w=b;1===t&&0!==e&&(o=e<this.get("start")?"start":"end"),0===e&&1!==t&&(o=t>this.get("end")?"end":"start");let T=this.get("minZoomCount"),x=this.get("maxZoomCount");R.isNumber(T)&&(b=w/T);let C=1;if(R.isNumber(x)&&(C=w/x),"start"===o?(x>0&&1/(t-e)<C&&(t=e+1/C),1/(t-e)>b&&(t=e+1/b),t>1&&t-e<1/b&&(e=t-1/b)):(x>0&&1/(t-e)<C&&(e=t-1/C),1/(t-e)>b&&(e=t-1/b),e<0&&t-e<1/b&&(t=e+1/b)),1/(t-e)>b&&(t=e+1/b),1/(t-e)>b&&(e=t-1/b),null!=x&&null!=T&&e==this.get("start")&&t==this.get("end")){const Q=this.chart;Q&&Q._handleAxisSelection(this,!0)}if((c&&c.playing&&c.to==e||this.get("start")==e)&&(p&&p.playing&&p.to==t||this.get("end")==t))return;if(s>0){let J,q,Q=this.get("interpolationEasing");if(this.get("start")!=e&&(J=this.animate({key:"start",to:e,duration:s,easing:Q})),this.get("end")!=t&&(q=this.animate({key:"end",to:t,duration:s,easing:Q})),this._sAnimation=J,this._eAnimation=q,J)return J;if(q)return q}else this.set("start",e),this.set("end",t),this._root.events.once("frameended",()=>{this._markDirtyKey("start"),this._root._markDirty()})}else this._sAnimation&&this._sAnimation.stop(),this._eAnimation&&this._eAnimation.stop()}get series(){return this._series}_processAxisRange(e,t){e.setRaw("isRange",!0),this._createAssets(e,t),this._rangesDirty=!0,this._prepareDataItem(e);const s=e.get("above"),o=this.topGridContainer,c=e.get("grid");s&&c&&o.children.moveValue(c);const p=e.get("axisFill");s&&p&&o.children.moveValue(p)}_prepareDataItem(e,t){}markDirtyExtremes(){}markDirtySelectionExtremes(){}_calculateTotals(){}_updateAxisRanges(){this._bullets={},this.axisRanges.each(e=>{this._prepareDataItem(e)}),v.each(this._seriesAxisRanges,e=>{this._prepareDataItem(e)})}_prepareChildren(){if(super._prepareChildren(),this.get("fixAxisSize")?this.ghostLabel.set("visible",!0):this.ghostLabel.set("visible",!1),this.isDirty("start")||this.isDirty("end")){this.chart._updateCursor();let t=this.get("start",0),s=this.get("end",1),o=this.get("maxDeviation",.5)*Math.min(1,s-t);if(t<-o){let c=t+o;t=-o,this.setRaw("start",t),this.isDirty("end")&&this.setRaw("end",s-c)}if(s>1+o){let c=s-1-o;s=1+o,this.setRaw("end",s),this.isDirty("start")&&this.setRaw("start",t-c)}}const e=this.get("renderer");if(e._start=this.get("start"),e._end=this.get("end"),e._inversed=e.get("inversed",!1),e._axisLength=e.axisLength()/(e._end-e._start),e._updateLC(),this.isDirty("tooltip")){const t=this.get("tooltip");if(t){const s=e.get("themeTags");t.addTag("axis"),t.addTag(this.className.toLowerCase()),t._applyThemes(),s&&(t.set("themeTags",j.mergeTags(t.get("themeTags"),s)),t.label._applyThemes())}}}_updateTooltipBounds(){const e=this.get("tooltip");e&&this.get("renderer").updateTooltipBounds(e)}_updateBounds(){super._updateBounds(),this._updateTooltipBounds()}processChart(e){this.chart=e,this.get("renderer").chart=e,e.gridContainer.children.push(this.gridContainer),e.topGridContainer.children.push(this.topGridContainer),e.axisHeadersContainer.children.push(this.axisHeader),this.on("start",()=>{e._handleAxisSelection(this)}),this.on("end",()=>{e._handleAxisSelection(this)}),e.plotContainer.onPrivate("width",()=>{this.markDirtySize()}),e.plotContainer.onPrivate("height",()=>{this.markDirtySize()}),e.processAxis(this)}hideDataItem(e){return this._toggleDataItem(e,!1),super.hideDataItem(e)}showDataItem(e){return this._toggleDataItem(e,!0),super.showDataItem(e)}_toggleDataItem(e,t){const s=e.get("label");s&&s.setPrivate("visible",t);const o=e.get("grid");o&&o.setPrivate("visible",t);const c=e.get("tick");c&&c.setPrivate("visible",t);const p=e.get("axisFill");p&&p.setPrivate("visible",t);const g=e.get("bullet");if(g){const b=g.get("sprite");b&&b.setPrivate("visible",t)}}_createAssets(e,t){const s=this.get("renderer");e.get("label")||s.makeLabel(e,t),e.get("grid")||s.makeGrid(e,t),e.get("tick")||s.makeTick(e,t),e.get("axisFill")||s.makeAxisFill(e,t),this._processBullet(e)}_processBullet(e){let t=e.get("bullet"),s=this.get("bullet");if(!t&&s&&!e.get("isRange")&&(t=s(this._root,this,e)),t){t.axis=this;const o=t.get("sprite");o&&(o._setDataItem(e),e.setRaw("bullet",t),o.parent||this.bulletsContainer.children.push(o))}}_afterChanged(){super._afterChanged();const e=this.chart;e&&(e._updateChartLayout(),e.axisHeadersContainer.markDirtySize()),this.get("renderer")._updatePositions()}disposeDataItem(e){super.disposeDataItem(e);const t=this.get("renderer"),s=e.get("label");s&&(t.labels.removeValue(s),s.dispose());const o=e.get("tick");o&&(t.ticks.removeValue(o),o.dispose());const c=e.get("grid");c&&(t.grid.removeValue(c),c.dispose());const p=e.get("axisFill");p&&(t.axisFills.removeValue(p),p.dispose());const g=e.get("bullet");g&&g.dispose()}_updateGhost(){this.setPrivate("cellWidth",this.getCellWidthPosition()*this.get("renderer").axisLength());const e=this.ghostLabel;if(!e.isHidden()){const o=e.localBounds(),c=o.right-o.left;let p=e.get("text");v.each(this.dataItems,g=>{const b=g.get("label");if(b&&!b.isHidden()){const w=b.localBounds();w.right-w.left>c&&(p=b.text._getText())}}),e.set("text",p)}let t=this.get("start",0),s=this.get("end",1);this.get("renderer").updateLabel(e,t+.5*(s-t))}_handleCursorPosition(e,t){e=this.get("renderer").toAxisPosition(e),this._cursorPosition=e,this._snapToSeries=t,this.updateTooltip()}updateTooltip(){const e=this._snapToSeries;let t=this._cursorPosition;const s=this.get("tooltip"),o=this.get("renderer");R.isNumber(t)&&(v.each(this.series,c=>{if(c.get("baseAxis")===this){const p=this.getSeriesItem(c,t,this.get("tooltipLocation"));c.setRaw("tooltipDataItem",p),e&&-1!=e.indexOf(c)?(c.updateLegendMarker(p),c.updateLegendValue(p)):c.showDataItemTooltip(p)}}),s&&(o.updateTooltipBounds(s),this.get("snapTooltip")&&(t=this.roundAxisPosition(t,this.get("tooltipLocation",.5))),R.isNaN(t)?s.hide(0):(this.setPrivateRaw("tooltipPosition",t),this._updateTooltipText(s,t),o.positionTooltip(s,t),t<this.get("start")||t>this.get("end")?s.hide(0):s.show(0))))}_updateTooltipText(e,t){e.label.set("text",this.getTooltipText(t))}roundAxisPosition(e,t){return e}handleCursorShow(){let e=this.get("tooltip");e&&e.show()}handleCursorHide(){let e=this.get("tooltip");e&&e.hide()}processSeriesDataItem(e,t){}_clearDirty(){super._clearDirty(),this._sizeDirty=!1,this._rangesDirty=!1}coordinateToPosition(e){const t=this.get("renderer");return t.toAxisPosition(e/t.axisLength())}toAxisPosition(e){return this.get("renderer").toAxisPosition(e)}fixPosition(e){return this.get("renderer").fixPosition(e)}shouldGap(e,t,s,o){return!1}createAxisRange(e){return this.axisRanges.push(e)}_groupSeriesData(e){}getCellWidthPosition(){return.05}}Object.defineProperty(pt,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Axis"}),Object.defineProperty(pt,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:pe.w.classNames.concat([pt.className])});var mt=I(8018);class He extends pt{constructor(){super(...arguments),Object.defineProperty(this,"_frequency",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_itemMap",{enumerable:!0,configurable:!0,writable:!0,value:{}})}_afterNew(){this._settings.themeTags=j.mergeTags(this._settings.themeTags,["axis"]),this.fields.push("category"),this.setPrivateRaw("name","category"),this.addTag("category"),super._afterNew()}_prepareChildren(){super._prepareChildren();const e=this.dataItems.length;let t=0;this._valuesDirty&&(this._itemMap={},v.each(this.dataItems,s=>{s.setRaw("index",t),this._itemMap[s.get("category")]=s,t++}),this.setPrivateRaw("maxZoomFactor",e)),this.setPrivateRaw("startIndex",Math.max(Math.round(this.get("start",0)*e),0)),this.setPrivateRaw("endIndex",Math.min(Math.round(this.get("end",1)*e),e)),(this._sizeDirty||this._valuesDirty||this.isDirty("start")||this.isDirty("end")||this.isPrivateDirty("endIndex")||this.isPrivateDirty("startIndex")||this.isPrivateDirty("width")||this.isPrivateDirty("height"))&&this.dataItems.length>0&&(this._handleRangeChange(),this._prepareAxisItems(),this._updateAxisRanges())}_handleRangeChange(){v.each(this.series,e=>{let t=this.dataItems[this.startIndex()].get("category"),s=this.dataItems[this.endIndex()-1].get("category"),o=e.get("baseAxis"),c=e.get("xAxis"),p=e.get("yAxis");if(c instanceof He&&p instanceof He)e._markDirtyAxes();else if(o===this){let g,b,w=p;if(c===o?(e.get("categoryXField")&&(g="categoryX"),e.get("openCategoryXField")&&(b="openCategoryX")):p===o&&(e.get("categoryYField")&&(g="categoryY"),e.get("openCategoryYField")&&(b="openCategoryY"),w=c),"ValueAxis"==w.className&&(g||b)){let T,x;for(let q=0,K=e.dataItems.length;q<K;q++){let ne=e.dataItems[q];if(g&&ne.get(g)===t){T=ne;break}if(b&&ne.get(b)===t){T=ne;break}}for(let q=e.dataItems.length-1;q>=0;q--){let K=e.dataItems[q];if(g&&K.get(g)===s){x=K;break}if(b&&K.get(b)===s){x=K;break}}let C=0,Q=e.dataItems.length;T&&(C=e.dataItems.indexOf(T)),x&&(Q=e.dataItems.indexOf(x)+1),e.setPrivate("startIndex",C),e.setPrivate("endIndex",Q);let J=!1;for(let q=C;q<Q;q++){const K=e.dataItems[q];if(v.each(e.__valueXShowFields,ne=>{null!=K.get(ne)&&(J=!0)}),v.each(e.__valueYShowFields,ne=>{null!=K.get(ne)&&(J=!0)}),J)break}e.setPrivate("outOfSelection",!J)}e._markDirtyAxes()}})}_prepareAxisItems(){const e=this.get("renderer"),t=this.dataItems.length;let s=this.startIndex();s>0&&s--;let o=this.endIndex();o<t&&o++;let c=e.axisLength()/Math.max(e.get("minGridDistance"),1/Number.MAX_SAFE_INTEGER),p=Math.max(1,Math.min(t,Math.ceil((o-s)/c)));s=Math.floor(s/p)*p,this._frequency=p;for(let b=0;b<t;b++)this.dataItems[b].hide();let g=this.dataItems[s].get("index",0);for(let b=s;b<o;b+=p){let w=this.dataItems[b];this._createAssets(w,[]),w.isHidden()&&w.show(),this._prepareDataItem(w,g,p),g++}this._updateGhost()}_prepareDataItem(e,t,s){let o=this.get("renderer"),c=e.get("categoryLocation",0),p=e.get("endCategoryLocation",1),g=e.get("index");R.isNumber(g)||(g=this.categoryToIndex(e.get("category")));let T,b=this.indexToPosition(g,c),w=e.get("endCategory");w?(T=this.categoryToIndex(w),R.isNumber(T)||(T=g)):T=g;let C,Q,x=this.indexToPosition(T,p);C=e.get("isRange")?T:g+this._frequency-1,Q=this.indexToPosition(C,p),o.updateLabel(e.get("label"),b,x,s),o.updateGrid(e.get("grid"),b,x),o.updateTick(e.get("tick"),b,x,s),o.updateFill(e.get("axisFill"),b,Q),this._processBullet(e),o.updateBullet(e.get("bullet"),b,x);const J=this.get("fillRule");J&&J(e,t)}startIndex(){let e=this.dataItems.length;return Math.min(Math.max(this.getPrivate("startIndex",0),0),e-1)}endIndex(){let e=this.dataItems.length;return Math.max(1,Math.min(this.getPrivate("endIndex",e),e))}baseValue(){}basePosition(){return 0}getX(e){let t=this._itemMap[e];return t?this._settings.renderer.positionToCoordinate(this.indexToPosition(t.get("index",0))):NaN}getY(e){let t=this._itemMap[e];return t?this._settings.renderer.positionToCoordinate(this.indexToPosition(t.get("index",0))):NaN}getDataItemPositionX(e,t,s,o){const c=e.get(t),p=this._itemMap[c];return p?this.indexToPosition(p.get("index",0),s):NaN}getDataItemCoordinateX(e,t,s,o){return this._settings.renderer.positionToCoordinate(this.getDataItemPositionX(e,t,s,o))}getDataItemPositionY(e,t,s,o){const c=e.get(t),p=this._itemMap[c];return p?this.indexToPosition(p.get("index",0),s):NaN}getDataItemCoordinateY(e,t,s,o){return this._settings.renderer.positionToCoordinate(this.getDataItemPositionY(e,t,s,o))}indexToPosition(e,t){R.isNumber(t)||(t=.5);let s=this.dataItems.length,o=this.get("startLocation",0);s-=o,s-=1-this.get("endLocation",1);let p=(e+t-o)/s,g=this.dataItems[e];return g&&(p+=g.get("deltaPosition",0)),p}categoryToIndex(e){let t=this._itemMap[e];return t?t.get("index"):NaN}dataItemToPosition(e){return this.indexToPosition(e.get("index"))}roundAxisPosition(e,t){return this.indexToPosition(this.axisPositionToIndex(e+=(.5-t)/this.dataItems.length),t)}axisPositionToIndex(e){let t=this.dataItems.length;return ce.fitToRange(Math.floor(e*t),0,t-1)}getTooltipText(e,t){const s=this.dataItems[this.axisPositionToIndex(e)];if(s){const o=s.get("label");if(o)return(0,mt.q)(o,this.get("tooltipText",""))}}_updateTooltipText(e,t){e._setDataItem(this.dataItems[this.axisPositionToIndex(t)]),e.label.text.markDirtyText()}getSeriesItem(e,t){if(this.dataItems.length>0){let s=this.getPrivate("name")+this.get("renderer").getPrivate("letter"),o=this.axisPositionToIndex(t),c=e.dataItems[o],p=this.dataItems[o],g=p.get("category");if(c&&p&&c.get(s)===g)return c;for(let b=0,w=e.dataItems.length;b<w;b++){let T=e.dataItems[b];if(T.get(s)===g)return T}}}zoomToIndexes(e,t,s){let o=this.dataItems.length;this.zoom(e/o,t/o,s)}zoomToCategories(e,t,s){this.zoomToIndexes(this.categoryToIndex(e),this.categoryToIndex(t)+1,s)}getCellWidthPosition(){return this._frequency/this.dataItems.length/(this.get("end",1)-this.get("start",0))}}Object.defineProperty(He,"className",{enumerable:!0,configurable:!0,writable:!0,value:"CategoryAxis"}),Object.defineProperty(He,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:pt.classNames.concat([He.className])});class zt extends He{constructor(){super(...arguments),Object.defineProperty(this,"_frequency",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_itemMap",{enumerable:!0,configurable:!0,writable:!0,value:{}})}_afterNew(){this._settings.themeTags=j.mergeTags(this._settings.themeTags,["axis"]),this.fields.push("category"),super._afterNew()}_prepareAxisItems(){this.setPrivateRaw("baseInterval",this.get("baseInterval"));const e=this.get("renderer"),t=this.dataItems.length;let s=this.startIndex();s>0&&s--;let o=this.endIndex();o<t&&o++;let c=e.axisLength()/Math.max(e.get("minGridDistance"),1/Number.MAX_SAFE_INTEGER),p=Math.min(t,Math.ceil((o-s)/c));s=Math.floor(s/p)*p,this._frequency=p;for(let fe=0;fe<t;fe++)this.dataItems[fe].hide();let g=Number(this.dataItems[s].get("category")),b=Number(this.dataItems[o-1].get("category")),w=b-g;o-s<c&&(w=b-g-((b-g)/this.baseDuration()-(o-s))*this.baseDuration());let T=ue.chooseInterval(0,w,c,this.get("gridIntervals"));const x=ue.getNextUnit(T.timeUnit),C=this.getPrivate("baseInterval");ue.getIntervalDuration(T)<this.baseDuration()&&(T=Object.assign({},C));const Q=this.get("dateFormats");let ne,J=-1/0,q=-1/0,K=-1/0,ge=[],ae=!1;for(let fe=s;fe<o;fe++){let ve=this.dataItems[fe],Pe=ve.get("index"),Ze=!1,Ye=Number(ve.get("category")),rt=new Date(Ye),Fe=ue.getUnitValue(rt,T.timeUnit);ne=Q[T.timeUnit];let qe=!1;"year"!=T.timeUnit&&"week"!=T.timeUnit&&x&&this.get("markUnitChange")&&R.isNumber(J)&&ue.checkChange(Ye,J,x,this._root.utc)&&(ne=this.get("periodChangeDateFormats")[T.timeUnit],Pe-.5*p<q&&ge.pop(),ge.push({format:ne,dataItem:ve}),ae=!0,qe=!0,q=Pe,K=Fe);let nt=!1;"day"===T.timeUnit||"week"===T.timeUnit?Pe-q>=p&&(nt=!0):Fe%T.count==0&&Fe!=K&&(nt=!0),!qe&&nt&&(Pe-.7*p<q&&ae&&(Ze=!0),Ze||(ge.push({format:ne,dataItem:ve}),q=Pe,K=Fe),ae=!1),J=Ye}if(ge.length>0){let fe=ge[0].dataItem.get("index",0);v.each(ge,ve=>{const Pe=ve.dataItem,Ze=ve.format;this._createAssets(Pe,[]),Pe.isHidden()&&Pe.show();let Ye=Number(Pe.get("category")),rt=new Date(Ye);const Fe=Pe.get("label");Fe&&Fe.set("text",this._root.dateFormatter.format(rt,Ze)),fe++,this._prepareDataItem(Pe,fe,p)})}}baseDuration(){return ue.getIntervalDuration(this.getPrivate("baseInterval"))}getTooltipText(e,t){let s=this.dataItems[this.axisPositionToIndex(e)];if(s){let o=this.get("dateFormats")[this.getPrivate("baseInterval").timeUnit];return this._root.dateFormatter.format(new Date(s.get("category",0)),this.get("tooltipDateFormat",o))}}_updateTooltipText(e,t){e.label.set("text",this.getTooltipText(t))}}Object.defineProperty(zt,"className",{enumerable:!0,configurable:!0,writable:!0,value:"CategoryDateAxis"}),Object.defineProperty(zt,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:He.classNames.concat([zt.className])});var je=I(8362);class Ue extends pt{constructor(){super(...arguments),Object.defineProperty(this,"_dirtyExtremes",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dirtySelectionExtremes",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_deltaMinMax",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_minReal",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_maxReal",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_baseValue",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_syncDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_minLogAdjusted",{enumerable:!0,configurable:!0,writable:!0,value:1})}markDirtyExtremes(){this._dirtyExtremes=!0,this.markDirty()}markDirtySelectionExtremes(){this._dirtySelectionExtremes=!0,this.markDirty()}_afterNew(){this._settings.themeTags=j.mergeTags(this._settings.themeTags,["axis"]),this.setPrivateRaw("name","value"),this.addTag("value"),super._afterNew()}_prepareChildren(){if(super._prepareChildren(),this.isDirty("syncWithAxis")){this._prevSettings.syncWithAxis&&this._syncDp&&this._syncDp.dispose();let t=this.get("syncWithAxis");t&&(this._syncDp=new je.FV([t.onPrivate("selectionMinFinal",()=>{this._dirtySelectionExtremes=!0}),t.onPrivate("selectionMaxFinal",()=>{this._dirtySelectionExtremes=!0})]))}(this._sizeDirty||this._dirtyExtremes||this._valuesDirty||this.isPrivateDirty("width")||this.isPrivateDirty("height")||this.isDirty("min")||this.isDirty("max")||this.isDirty("extraMin")||this.isDirty("extraMax")||this.isDirty("logarithmic")||this.isDirty("treatZeroAs")||this.isDirty("baseValue")||this.isDirty("strictMinMax")||this.isDirty("strictMinMaxSelection")||this.isDirty("maxPrecision")||this.isDirty("numberFormat"))&&(this._getMinMax(),this.ghostLabel.set("text",""),this._dirtyExtremes=!1),this._dirtySelectionExtremes&&!this._isPanning&&this.get("autoZoom",!0)&&(this._getSelectionMinMax(),this._dirtySelectionExtremes=!1),this._groupData(),(this._sizeDirty||this._valuesDirty||this.isDirty("start")||this.isDirty("end")||this.isPrivateDirty("min")||this.isPrivateDirty("selectionMax")||this.isPrivateDirty("selectionMin")||this.isPrivateDirty("max")||this.isPrivateDirty("step")||this.isPrivateDirty("width")||this.isPrivateDirty("height")||this.isDirty("logarithmic"))&&(this._handleRangeChange(),this._prepareAxisItems(),this._updateAxisRanges()),this._baseValue=this.baseValue()}_groupData(){}_formatText(e){const t=this.get("numberFormat"),s=this.getNumberFormatter();let o="";return o=t?s.format(e,t):s.format(e,void 0,this.getPrivate("stepDecimalPlaces")),o}_prepareAxisItems(){const e=this.getPrivate("min"),t=this.getPrivate("max");if(R.isNumber(e)&&R.isNumber(t)){const s=this.get("logarithmic"),o=this.getPrivate("step"),c=this.getPrivate("selectionMin"),p=this.getPrivate("selectionMax")+o;let g=c-o,b=0,w=1,T=e;if(s){if(g=this._minLogAdjusted,g<c)for(;g<c;)g+=o;T=g,T<=0&&(T=1,o<1&&(T=o)),w=Math.log(p-o)*Math.LOG10E-Math.log(T)*Math.LOG10E,w>2&&(g=Math.pow(10,Math.log(T)*Math.LOG10E-5))}let x=-1/0;for(;g<p;){let C;this.dataItems.length<b+1?(C=new pe.z(this,void 0,{}),this._dataItems.push(C),this.processDataItem(C)):C=this.dataItems[b],this._createAssets(C,[]),C.isHidden()&&C.show(),C.setRaw("value",g);const Q=C.get("label");if(Q&&Q.set("text",this._formatText(g)),this._prepareDataItem(C),s&&w>2?g=Math.pow(10,Math.log(T)*Math.LOG10E+b-5):g+=o,x==g)break;let J=Math.pow(10,Math.floor(Math.log(Math.abs(o))*Math.LOG10E));if(J<1){let q=Math.round(Math.abs(Math.log(Math.abs(J))*Math.LOG10E))+2;g=ce.round(g,q)}b++,x=g}for(let C=b;C<this.dataItems.length;C++)this.dataItems[C].hide();v.each(this.series,C=>{C.inited&&C._markDirtyAxes()}),this._updateGhost()}}_prepareDataItem(e,t){let s=this.get("renderer"),o=e.get("value"),c=e.get("endValue"),p=this.valueToPosition(o),g=p,b=this.valueToPosition(o+this.getPrivate("step"));R.isNumber(c)&&(g=this.valueToPosition(c),b=g),e.get("isRange")&&null==c&&(b=p),s.updateLabel(e.get("label"),p,g,t);const w=e.get("grid");if(s.updateGrid(w,p,g),w&&(o==this.get("baseValue",0)?(w.addTag("base"),w._applyThemes()):w.hasTag("base")&&(w.removeTag("base"),w._applyThemes())),s.updateTick(e.get("tick"),p,g,t),s.updateFill(e.get("axisFill"),p,b),this._processBullet(e),s.updateBullet(e.get("bullet"),p,g),!e.get("isRange")){const T=this.get("fillRule");T&&T(e)}}_handleRangeChange(){let e=this.positionToValue(this.get("start",0)),t=this.positionToValue(this.get("end",1));const s=this.get("renderer").gridCount();let o=this._adjustMinMax(e,t,s,!0),c=j.decimalPlaces(o.step);this.setPrivateRaw("stepDecimalPlaces",c),e=ce.round(e,c),t=ce.round(t,c),o=this._adjustMinMax(e,t,s,!0);let p=o.step;e=o.min,t=o.max,(this.getPrivate("selectionMin")!==e||this.getPrivate("selectionMax")!==t||this.getPrivate("step")!==p)&&(this.setPrivateRaw("selectionMin",e),this.setPrivateRaw("selectionMax",t),this.setPrivateRaw("step",p))}positionToValue(e){const t=this.getPrivate("min"),s=this.getPrivate("max");return this.get("logarithmic")?Math.pow(Math.E,(e*(Math.log(s)*Math.LOG10E-Math.log(t)*Math.LOG10E)+Math.log(t)*Math.LOG10E)/Math.LOG10E):e*(s-t)+t}valueToPosition(e){const t=this.getPrivate("min"),s=this.getPrivate("max");if(this.get("logarithmic")){if(e<=0){let o=this.get("treatZeroAs");R.isNumber(o)&&(e=o)}return(Math.log(e)*Math.LOG10E-Math.log(t)*Math.LOG10E)/(Math.log(s)*Math.LOG10E-Math.log(t)*Math.LOG10E)}return(e-t)/(s-t)}valueToFinalPosition(e){const t=this.getPrivate("minFinal"),s=this.getPrivate("maxFinal");if(this.get("logarithmic")){if(e<=0){let o=this.get("treatZeroAs");R.isNumber(o)&&(e=o)}return(Math.log(e)*Math.LOG10E-Math.log(t)*Math.LOG10E)/(Math.log(s)*Math.LOG10E-Math.log(t)*Math.LOG10E)}return(e-t)/(s-t)}getX(e,t,s){const o=this.valueToPosition(e=s+(e-s)*t);return this._settings.renderer.positionToCoordinate(o)}getY(e,t,s){const o=this.valueToPosition(e=s+(e-s)*t);return this._settings.renderer.positionToCoordinate(o)}getDataItemCoordinateX(e,t,s,o){return this._settings.renderer.positionToCoordinate(this.getDataItemPositionX(e,t,s,o))}getDataItemPositionX(e,t,s,o){let c=e.get(t);return c=e.get("stackToItemX")?c*o+e.component.getStackedXValueWorking(e,t):this._baseValue+(c-this._baseValue)*o,this.valueToPosition(c)}getDataItemCoordinateY(e,t,s,o){return this._settings.renderer.positionToCoordinate(this.getDataItemPositionY(e,t,s,o))}getDataItemPositionY(e,t,s,o){let c=e.get(t);return c=e.get("stackToItemY")?c*o+e.component.getStackedYValueWorking(e,t):this._baseValue+(c-this._baseValue)*o,this.valueToPosition(c)}basePosition(){return this.valueToPosition(this.baseValue())}baseValue(){const e=Math.min(this.getPrivate("minFinal",-1/0),this.getPrivate("selectionMin",-1/0)),t=Math.max(this.getPrivate("maxFinal",1/0),this.getPrivate("selectionMax",1/0));let s=this.get("baseValue",0);return s<e&&(s=e),s>t&&(s=t),s}cellEndValue(e){return e}fixSmallStep(e){return 1+e===1?this.fixSmallStep(e*=2):e}_fixMin(e){return e}_fixMax(e){return e}_calculateTotals(){if(this.get("calculateTotals")){let e=this.series[0];if(e){let t=e.startIndex();if(e.dataItems.length>0){t>0&&t--;let o,c,s=e.endIndex();s<e.dataItems.length&&s++,e.get("yAxis")==this?(o="valueY",c="vcy"):e.get("xAxis")==this&&(o="valueX",c="vcx");let p=o+"Working";if(o)for(let g=t;g<s;g++){let b=0,w=0;v.each(this.series,T=>{if(!T.get("excludeFromTotal")){let x=T.dataItems[g];if(x){let C=x.get(p)*T.get(c);R.isNaN(C)||(b+=C,w+=Math.abs(C))}}}),v.each(this.series,T=>{if(!T.get("excludeFromTotal")){let x=T.dataItems[g];if(x){let C=x.get(p)*T.get(c);R.isNaN(C)||(x.set(o+"Total",w),x.set(o+"Sum",b),x.set(o+"TotalPercent",C/w*100))}}})}}}}}_getSelectionMinMax(){const e=this.getPrivate("minFinal"),t=this.getPrivate("maxFinal"),s=this.get("min"),o=this.get("max");let c=this.get("extraMin",0),p=this.get("extraMax",0);this.get("logarithmic")&&(null==this.get("extraMin")&&(c=.1),null==this.get("extraMax")&&(p=.2));const g=this.get("renderer").gridCount(),b=this.get("strictMinMaxSelection"),w=this.get("strictMinMax");if(R.isNumber(e)&&R.isNumber(t)){let T=t,x=e;if(v.each(this.series,ae=>{if(!ae.get("ignoreMinMax")){let fe,ve;const Pe=ae.getPrivate("outOfSelection");ae.get("xAxis")===this?Pe||(fe=ae.getPrivate("selectionMinX",ae.getPrivate("minX")),ve=ae.getPrivate("selectionMaxX",ae.getPrivate("maxX"))):ae.get("yAxis")===this&&(Pe||(fe=ae.getPrivate("selectionMinY",ae.getPrivate("minY")),ve=ae.getPrivate("selectionMaxY",ae.getPrivate("maxY")))),!ae.isHidden()&&!ae.isShowing()&&(R.isNumber(fe)&&(T=Math.min(T,fe)),R.isNumber(ve)&&(x=Math.max(x,ve)))}}),this.axisRanges.each(ae=>{if(ae.get("affectsMinMax")){let fe=ae.get("value");null!=fe&&(T=Math.min(T,fe),x=Math.max(x,fe)),fe=ae.get("endValue"),null!=fe&&(T=Math.min(T,fe),x=Math.max(x,fe))}}),T>x&&([T,x]=[x,T]),R.isNumber(s)?T=w?s:e:w&&R.isNumber(this._minReal)&&(T=this._minReal),R.isNumber(o)?x=w?o:t:w&&R.isNumber(this._maxReal)&&(x=this._maxReal),T===x){T-=this._deltaMinMax,x+=this._deltaMinMax;let ae=this._adjustMinMax(T,x,g,w);T=ae.min,x=ae.max}let C=T,Q=x;T-=(x-T)*c,x+=(x-T)*p;let J=this._adjustMinMax(T,x,g);T=J.min,x=J.max,T=ce.fitToRange(T,e,t),x=ce.fitToRange(x,e,t),J=this._adjustMinMax(T,x,g,!0),w||(T=J.min,x=J.max);const q=this.get("syncWithAxis");q&&(J=this._syncAxes(T,x,J.step,q.getPrivate("selectionMinFinal",q.getPrivate("minFinal",0)),q.getPrivate("selectionMaxFinal",q.getPrivate("maxFinal",1)),q.getPrivate("selectionStepFinal",q.getPrivate("step",1))),T=J.min,x=J.max),w&&(R.isNumber(s)&&(T=Math.max(T,s)),R.isNumber(o)&&(x=Math.min(x,o))),b&&(T=C-(x-T)*c,x=Q+(x-T)*p),this.get("logarithmic")&&(T<=0&&(T=C*(1-Math.min(c,.99))),T<e&&(T=e),x>t&&(x=t));let K=Math.min(20,Math.ceil(Math.log(this.getPrivate("maxZoomFactor",100)+1)/Math.LN10)+2),ne=ce.round(this.valueToFinalPosition(T),K),ge=ce.round(this.valueToFinalPosition(x),K);this.setPrivateRaw("selectionMinFinal",T),this.setPrivateRaw("selectionMaxFinal",x),this.setPrivateRaw("selectionStepFinal",J.step),this.zoom(ne,ge)}}_getMinMax(){let e=this.get("min"),t=this.get("max"),s=1/0,o=-1/0,c=this.get("extraMin",0),p=this.get("extraMax",0);this.get("logarithmic")&&(null==this.get("extraMin")&&(c=.1),null==this.get("extraMax")&&(p=.2));let g=1/0;if(v.each(this.series,ae=>{if(!ae.get("ignoreMinMax")){let fe,ve;if(ae.get("xAxis")===this?(fe=ae.getPrivate("minX"),ve=ae.getPrivate("maxX")):ae.get("yAxis")===this&&(fe=ae.getPrivate("minY"),ve=ae.getPrivate("maxY")),R.isNumber(fe)&&R.isNumber(ve)){s=Math.min(s,fe),o=Math.max(o,ve);let Pe=ve-fe;Pe<=0&&(Pe=Math.abs(ve/100)),Pe<g&&(g=Pe)}}}),this.axisRanges.each(ae=>{if(ae.get("affectsMinMax")){let fe=ae.get("value");null!=fe&&(s=Math.min(s,fe),o=Math.max(o,fe)),fe=ae.get("endValue"),null!=fe&&(s=Math.min(s,fe),o=Math.max(o,fe))}}),this.get("logarithmic")){let ae=this.get("treatZeroAs");R.isNumber(ae)&&s<=0&&(s=ae),s<=0&&new Error("Logarithmic value axis can not have values <= 0.")}if(0===s&&0===o&&(o=.9,s=-.9),R.isNumber(e)&&(s=e),R.isNumber(t)&&(o=t),s===1/0||o===-1/0)return this.setPrivate("minFinal",void 0),void this.setPrivate("maxFinal",void 0);const b=s,w=o;let T=this.adapters.fold("min",s),x=this.adapters.fold("max",o);R.isNumber(T)&&(s=T),R.isNumber(x)&&(o=x),s=this._fixMin(s),o=this._fixMax(o),o-s<=1/Math.pow(10,15)&&(o-s!=0?this._deltaMinMax=(o-s)/2:this._getDelta(o),s-=this._deltaMinMax,o+=this._deltaMinMax),s-=(o-s)*c,o+=(o-s)*p,this.get("logarithmic")&&(s<0&&b>=0&&(s=0),o>0&&w<=0&&(o=0)),this._minReal=s,this._maxReal=o;let C=this.get("strictMinMax"),Q=this.get("strictMinMaxSelection",!1);Q&&(C=Q);let J=C;R.isNumber(t)&&(J=!0);let q=this.get("renderer").gridCount(),K=this._adjustMinMax(s,o,q,J);s=K.min,o=K.max,K=this._adjustMinMax(s,o,q,!0),s=K.min,o=K.max,C&&(s=R.isNumber(e)?e:this._minReal,o=R.isNumber(t)?t:this._maxReal,o-s<=1e-8&&(s-=this._deltaMinMax,o+=this._deltaMinMax),s-=(o-s)*c,o+=(o-s)*p),T=this.adapters.fold("min",s),x=this.adapters.fold("max",o),R.isNumber(T)&&(s=T),R.isNumber(x)&&(o=x),g==1/0&&(g=o-s);let ne=Math.round(Math.abs(Math.log(Math.abs(o-s))*Math.LOG10E))+5;s=ce.round(s,ne),o=ce.round(o,ne);const ge=this.get("syncWithAxis");if(ge&&(K=this._syncAxes(s,o,K.step,ge.getPrivate("minFinal",ge.getPrivate("min",0)),ge.getPrivate("maxFinal",ge.getPrivate("max",1)),ge.getPrivate("step",1)),s=K.min,o=K.max),this.setPrivateRaw("maxZoomFactor",Math.max(1,Math.ceil((o-s)/g*this.get("maxZoomFactor",100)))),this._fixZoomFactor(),this.get("logarithmic")&&(this._minLogAdjusted=s,s=this._minReal,o=this._maxReal,s<=0&&(s=b*(1-Math.min(c,.99)))),R.isNumber(s)&&R.isNumber(o)&&(this.getPrivate("minFinal")!==s||this.getPrivate("maxFinal")!==o)){this.setPrivate("minFinal",s),this.setPrivate("maxFinal",o),this._saveMinMax(s,o);const ae=this.get("interpolationDuration",0),fe=this.get("interpolationEasing");this.animatePrivate({key:"min",to:s,duration:ae,easing:fe}),this.animatePrivate({key:"max",to:o,duration:ae,easing:fe})}}_fixZoomFactor(){}_getDelta(e){let t=Math.log(Math.abs(e))*Math.LOG10E,s=Math.pow(10,Math.floor(t));s/=10,this._deltaMinMax=s}_saveMinMax(e,t){}_adjustMinMax(e,t,s,o){s<=1&&(s=1),s=Math.round(s);let c=e,p=t,g=t-e;0===g&&(g=Math.abs(t));let b=Math.log(Math.abs(g))*Math.LOG10E,w=Math.pow(10,Math.floor(b));w/=10;let T=w;o&&(T=0),o?(e=Math.floor(e/w)*w,t=Math.ceil(t/w)*w):(e=Math.ceil(e/w)*w-T,t=Math.floor(t/w)*w+T),e<0&&c>=0&&(e=0),t>0&&p<=0&&(t=0),b=Math.log(Math.abs(g))*Math.LOG10E,w=Math.pow(10,Math.floor(b)),w/=100;let x=Math.ceil(g/s/w)*w,C=Math.pow(10,Math.floor(Math.log(Math.abs(x))*Math.LOG10E)),Q=Math.ceil(x/C);Q>5?Q=10:Q<=5&&Q>2&&(Q=5),x=Math.ceil(x/(C*Q))*C*Q;let J=this.get("maxPrecision");if(R.isNumber(J)){let ge=ce.ceil(x,J);J<Number.MAX_VALUE&&x!==ge&&(x=ge)}let q=0;C<1&&(q=Math.round(Math.abs(Math.log(Math.abs(C))*Math.LOG10E))+1,x=ce.round(x,q));let ne,K=Math.floor(e/x);return e=ce.round(x*K,q),ne=o?Math.floor(t/x):Math.ceil(t/x),ne===K&&ne++,(t=ce.round(x*ne,q))<p&&(t+=x),e>c&&(e-=x),x=this.fixSmallStep(x),{min:e,max:t,step:x}}getTooltipText(e,t){const s=this.get("tooltipNumberFormat",this.get("numberFormat")),o=this.getNumberFormatter(),c=this.get("extraTooltipPrecision",0),p=this.getPrivate("stepDecimalPlaces",0)+c,g=ce.round(this.positionToValue(e),p);return s?o.format(g,s):o.format(g,void 0,p)}getSeriesItem(e,t){let c,p,s=this.getPrivate("name")+this.get("renderer").getPrivate("letter"),o=this.positionToValue(t);if(v.each(e.dataItems,(g,b)=>{const w=Math.abs(g.get(s)-o);(void 0===c||w<p)&&(c=b,p=w)}),null!=c)return e.dataItems[c]}zoomToValues(e,t,s){const o=this.getPrivate("minFinal",0),c=this.getPrivate("maxFinal",0);null!=this.getPrivate("min")&&null!=this.getPrivate("max")&&this.zoom((e-o)/(c-o),(t-o)/(c-o),s)}_syncAxes(e,t,s,o,c,p){if(this.get("syncWithAxis")){let b=Math.round(c-o)/p,w=Math.round((t-e)/s),T=this.get("renderer").gridCount();if(R.isNumber(b)&&R.isNumber(w)){let x=!1,C=0,Q=.01*(t-e),J=e,q=t,K=s;for(;1!=x;)if(x=this._checkSync(J,q,K,b),C++,C>500&&(x=!0),x)e=J,t=q,s=K;else{C/3==Math.round(C/3)?(J=e-Q*C,e>=0&&J<0&&(J=0)):(q=t+Q*C,q<=0&&q>0&&(q=0));let ne=this._adjustMinMax(J,q,T,!0);J=ne.min,q=ne.max,K=ne.step}}}return{min:e,max:t,step:s}}_checkSync(e,t,s,o){let c=(t-e)/s;for(let p=1;p<o;p++)if(ce.round(c/p,1)==o||c*p==o)return!0;return!1}getCellWidthPosition(){let e=this.getPrivate("selectionMax",this.getPrivate("max")),t=this.getPrivate("selectionMin",this.getPrivate("min"));return R.isNumber(e)&&R.isNumber(t)?this.getPrivate("step",1)/(e-t):.05}}Object.defineProperty(Ue,"className",{enumerable:!0,configurable:!0,writable:!0,value:"ValueAxis"}),Object.defineProperty(Ue,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:pt.classNames.concat([Ue.className])});class hi extends Ue{constructor(){super(...arguments),Object.defineProperty(this,"_dataGrouped",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_seriesDataGrouped",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_groupingCalculated",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_intervalDuration",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_baseDuration",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_intervalMax",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_intervalMin",{enumerable:!0,configurable:!0,writable:!0,value:{}})}_afterNew(){this._settings.themeTags=j.mergeTags(this._settings.themeTags,["axis"]),super._afterNew(),this._setBaseInterval(this.get("baseInterval")),this.on("baseInterval",()=>{this._setBaseInterval(this.get("baseInterval"))})}_setBaseInterval(e){this.setPrivateRaw("baseInterval",e),this._baseDuration=ue.getIntervalDuration(e)}_fixZoomFactor(){const e=this.get("maxZoomFactor");this.setPrivateRaw("maxZoomFactor",null!=e&&e!=1/0?e:Math.round((this.getPrivate("max",0)-this.getPrivate("min",0))/this.baseMainDuration()))}_groupData(){const e=this.getPrivate("min"),t=this.getPrivate("max");if(R.isNumber(e)&&R.isNumber(t)){this._fixZoomFactor();const s=this.getPrivate("groupInterval");if(this._setBaseInterval(s||this.get("baseInterval")),this.isDirty("groupInterval")){let o=this.get("groupInterval");o&&this.setRaw("groupIntervals",[o])}if(this.isDirty("groupData")&&!this._dataGrouped){if(this.get("groupData"))v.each(this.series,o=>{this._groupSeriesData(o)}),this._handleRangeChange();else{let o=this.get("baseInterval"),c=o.timeUnit+o.count;v.each(this.series,p=>{p.setDataSet(c)}),this._setBaseInterval(o),this.setPrivateRaw("groupInterval",void 0),this.markDirtyExtremes()}this._dataGrouped=!0}}}_groupSeriesData(e){if(this.get("groupData")&&!e.get("groupDataDisabled")){this._dataGrouped=!0,this._seriesDataGrouped=!0;let t=[],s=this.baseMainDuration(),o=this.get("groupIntervals");v.each(o,K=>{ue.getIntervalDuration(K)>s&&t.push(K)}),e._dataSets={};const c=this.getPrivate("name")+this.get("renderer").getPrivate("letter");let p;const g=e.get("baseAxis");e.get("xAxis")===g?p=e._valueYFields:e.get("yAxis")===g&&(p=e._valueXFields);let b=e._mainDataItems,w=this.get("baseInterval");e._dataSets[w.timeUnit+w.count]=b;const x=e.get("groupDataCallback");let C=e.get("groupDataWithOriginals",!1);x&&(C=!0);const Q=this._root.locale.firstDayOfWeek,J=this._root.utc,q=this._root.timezone;v.each(t,K=>{let ne=-1/0,ge=K.timeUnit+K.count;e._dataSets[ge]=[];let ae,fe={},ve={},Pe={},Ze={};v.each(p,nt=>{fe[nt]=0,ve[nt]=0,Pe[nt]=e.get(nt+"Grouped"),Ze[nt]=nt+"Working"});let Fe,qe,Ye=ue.getDuration(K.timeUnit);b[0]&&(Fe=new Date(b[0].get(c))),v.each(b,nt=>{let Lt,Bt=nt.get(c),It=ue.round(new Date(Bt),K.timeUnit,K.count,Q,J,Fe,q).getTime();ne<It-Ye/24?(Lt=X.copy(nt.dataContext),ae=new pe.z(e,Lt,e._makeDataItem(Lt)),ae.setRaw(c,It),e._dataSets[ge].push(ae),v.each(p,bt=>{let Je=nt.get(bt);R.isNumber(Je)?(ae.setRaw(bt,Je),ae.setRaw(Ze[bt],Je),ve[bt]=1,fe[bt]=Je):(fe[bt]=0,ve[bt]=0)}),C&&ae.set("originals",[nt]),x&&qe&&x(qe,K),qe=ae):(v.each(p,bt=>{let Je=Pe[bt],at=nt.get(bt);if(void 0!==at){let et=ae.get(bt);switch(Je){case"close":ae.setRaw(bt,at);break;case"sum":null!=at&&ae.setRaw(bt,et+at);break;case"open":break;case"low":at<et&&ae.setRaw(bt,at);break;case"high":at>et&&ae.setRaw(bt,at);break;case"average":ve[bt]++,fe[bt]+=at,ae.setRaw(bt,fe[bt]/ve[bt]);break;case"extreme":Math.abs(at)>Math.abs(et)&&ae.setRaw(bt,at)}ae.setRaw(Ze[bt],ae.get(bt));let Oi=X.copy(nt.dataContext);Oi[c]=It,ae.dataContext=Oi}}),C&&ae.get("originals").push(nt)),ne=It}),x&&qe&&x(qe,K)}),e._dataSetId&&e.setDataSet(e._dataSetId),this.markDirtySize()}}_clearDirty(){super._clearDirty(),this._groupingCalculated=!1,this._dataGrouped=!1}getGroupInterval(e){let t=this.get("baseInterval"),s=ue.chooseInterval(0,e,this.get("groupCount",1/0),this.get("groupIntervals"));return ue.getIntervalDuration(s)<ue.getIntervalDuration(t)&&(s=Object.assign({},t)),s}getIntervalMax(e){return this._intervalMax[e.timeUnit+e.count]}getIntervalMin(e){return this._intervalMin[e.timeUnit+e.count]}_handleRangeChange(){super._handleRangeChange();let e=Math.round(this.getPrivate("selectionMin")),t=Math.round(this.getPrivate("selectionMax"));if(R.isNumber(e)&&R.isNumber(t)){if(0==this.get("endLocation")&&(t+=1),this.get("groupData")&&!this._groupingCalculated){this._groupingCalculated=!0;let s=t-e+(this.get("startLocation",0)+(1-this.get("endLocation",1))*this.baseDuration()),o=this.get("groupInterval");o||(o=this.getGroupInterval(s));let c=this.getPrivate("groupInterval");if(o&&(!c||c.timeUnit!==o.timeUnit||c.count!==o.count||this._seriesDataGrouped)){this._seriesDataGrouped=!1,this.setPrivateRaw("groupInterval",o),this._setBaseInterval(o);let p=o.timeUnit+o.count;v.each(this.series,g=>{g.get("baseAxis")===this&&g.setDataSet(p)}),this.markDirtyExtremes(),this._root.events.once("frameended",()=>{this._root.events.once("frameended",()=>{const g="groupintervalchanged";this.events.isEnabled(g)&&this.events.dispatch(g,{type:g,target:this})})})}}v.each(this.series,s=>{if(s.get("baseAxis")===this){let o=this.getPrivate("name")+this.get("renderer").getPrivate("letter"),p=v.getSortedIndex(s.dataItems,q=>U.qu(q.get(o),e)).index;p>0&&(p-=1),t+=this.baseDuration()*(1-this.get("endLocation",1));let b=v.getSortedIndex(s.dataItems,q=>U.qu(q.get(o),t)).index,w=b;w>0&&w--;const T=s.dataItems[p],x=s.dataItems[w];let C,Q;T&&(Q=T.get(o)),x&&(C=x.get(o));let J=!1;null!=C&&null!=Q&&(C<e||Q>t)&&(J=!0),s.setPrivate("outOfSelection",J),s.setPrivate("startIndex",p),s.setPrivate("endIndex",b)}})}}_adjustMinMax(e,t,s,o){return{min:e,max:t,step:(t-e)/s}}intervalDuration(){return this._intervalDuration}_saveMinMax(e,t){let s=this.getPrivate("groupInterval");s||(s=this.get("baseInterval"));let o=s.timeUnit+s.count;this._intervalMin[o]=e,this._intervalMax[o]=t}_getM(e){return"month"==e||"year"==e||"day"==e?1.05:1.01}_prepareAxisItems(){const e=this.getPrivate("min"),t=this.getPrivate("max");if(R.isNumber(e)&&R.isNumber(t)){const s=Math.round(this.getPrivate("selectionMin")),o=Math.round(this.getPrivate("selectionMax")),c=this.get("renderer"),p=this.getPrivate("baseInterval");let g=s,b=0;const w=this.get("gridIntervals");let T=ue.chooseInterval(0,o-s,c.gridCount(),w);ue.getIntervalDuration(T)<this.baseDuration()&&(T=Object.assign({},p));const x=ue.getIntervalDuration(T);this._intervalDuration=x;const C=ue.getNextUnit(T.timeUnit),Q=this._root.locale.firstDayOfWeek,J=this._root.utc,q=this._root.timezone;g=ue.round(new Date(s-x),T.timeUnit,T.count,Q,J,new Date(e),q).getTime();let ne,K=g-x;const ge=this.get("dateFormats");for(this.setPrivateRaw("gridInterval",T);g<o+x;){let ae;this.dataItems.length<b+1?(ae=new pe.z(this,void 0,{}),this._dataItems.push(ae),this.processDataItem(ae)):ae=this.dataItems[b],this._createAssets(ae,[]),ae.isHidden()&&ae.show(),ae.setRaw("value",g);let fe=g+ue.getDuration(T.timeUnit,T.count*this._getM(T.timeUnit));fe=ue.round(new Date(fe),T.timeUnit,1,Q,J,void 0,q).getTime(),ae.setRaw("endValue",fe);let ve=new Date(g);ne=ge[T.timeUnit],C&&this.get("markUnitChange")&&R.isNumber(K)&&"year"!=T.timeUnit&&ue.checkChange(g,K,C,J,q)&&(ne=this.get("periodChangeDateFormats")[T.timeUnit]);const Pe=ae.get("label");if(Pe&&Pe.set("text",this._root.dateFormatter.format(ve,ne)),this._prepareDataItem(ae,T.count),K=g,g=fe,g==K)break;b++}for(let ae=b;ae<this.dataItems.length;ae++)this.dataItems[ae].hide();v.each(this.series,ae=>{ae.inited&&ae._markDirtyAxes()})}this._updateGhost()}_updateFinals(e,t){this.setPrivateRaw("selectionMinFinal",this.positionToValue(e)),this.setPrivateRaw("selectionMaxFinal",this.positionToValue(t))}_getDelta(){this._deltaMinMax=this.baseDuration()/2}_fixMin(e){const t=this.getPrivate("baseInterval"),s=this._root.locale.firstDayOfWeek,o=this._root.timezone,c=this._root.utc,p=t.timeUnit;let g=ue.round(new Date(e),p,t.count,s,c,void 0,o).getTime(),b=g+ue.getDuration(p,t.count*this._getM(p));return b=ue.round(new Date(b),p,1,s,c,void 0,o).getTime(),g+(b-g)*this.get("startLocation",0)}_fixMax(e){const t=this.getPrivate("baseInterval"),s=this._root.locale.firstDayOfWeek,o=this._root.timezone,c=this._root.utc,p=t.timeUnit;let g=ue.round(new Date(e),p,t.count,s,c,void 0,o).getTime(),b=g+ue.getDuration(p,t.count*this._getM(p));return b=ue.round(new Date(b),p,1,s,c,void 0,o).getTime(),g+(b-g)*this.get("endLocation",1)}_updateDates(e){}baseDuration(){return this._baseDuration}baseMainDuration(){return ue.getIntervalDuration(this.get("baseInterval"))}processSeriesDataItem(e,t){const s=this.getPrivate("baseInterval");e.open||(e.open={}),e.close||(e.close={}),v.each(t,o=>{let c=e.get(o);if(R.isNumber(c)){let p=e.open[o],g=e.close[o];if(!(c>=p&&c<=g)){const b=this._root.locale.firstDayOfWeek,w=this._root.utc,T=this._root.timezone,x=s.timeUnit,C=s.count;p=ue.round(new Date(c),x,C,b,w,void 0,T).getTime(),g=p+ue.getDuration(x,C*this._getM(x)),g=ue.round(new Date(g),x,1,b,w,void 0,T).getTime(),e.open[o]=p,e.close[o]=g}this._updateDates(p)}})}getDataItemPositionX(e,t,s,o){let c,p;e.open&&e.close?(c=e.open[t],p=e.close[t]):(c=e.get(t),p=c);let g=c+(p-c)*s;return g=this._baseValue+(g-this._baseValue)*o,this.valueToPosition(g)}getDataItemCoordinateX(e,t,s,o){return this._settings.renderer.positionToCoordinate(this.getDataItemPositionX(e,t,s,o))}getDataItemPositionY(e,t,s,o){let c,p;e.open&&e.close?(c=e.open[t],p=e.close[t]):(c=e.get(t),p=c);let g=c+(p-c)*s;return g=this._baseValue+(g-this._baseValue)*o,this.valueToPosition(g)}getDataItemCoordinateY(e,t,s,o){return this._settings.renderer.positionToCoordinate(this.getDataItemPositionY(e,t,s,o))}roundAxisPosition(e,t){let s=this.positionToValue(e);s-=(t-.5)*this.baseDuration();let o=this.getPrivate("baseInterval");if(!R.isNaN(s)){const c=this._root.locale.firstDayOfWeek,p=o.timeUnit,g=this._root.utc,b=this._root.timezone,w=o.count;s=ue.round(new Date(s),p,w,c,g,new Date(this.getPrivate("min",0)),b).getTime();let T=ue.getDateIntervalDuration(o,new Date(s),c,g,b);return b&&(s=ue.round(new Date(s+.05*this.baseDuration()),p,w,c,g,new Date(this.getPrivate("min",0)),b).getTime(),T=ue.getDateIntervalDuration(o,new Date(s+T*t),c,g,b)),this.valueToPosition(s+T*t)}return NaN}getTooltipText(e,t){if(null!=this.getPrivate("min")){let s=this.get("tooltipDateFormats")[this.getPrivate("baseInterval").timeUnit],o=this.positionToValue(e),c=new Date(o),p=this.getPrivate("baseInterval"),g=ue.getDateIntervalDuration(p,c,this._root.locale.firstDayOfWeek,this._root.utc,this._root.timezone);return!1!==t&&(c=new Date(o+this.get("tooltipIntervalOffset",-this.get("tooltipLocation",.5))*g)),this._root.dateFormatter.format(c,this.get("tooltipDateFormat",s))}return""}getSeriesItem(e,t,s){let o=this.getPrivate("name")+this.get("renderer").getPrivate("letter"),c=this.positionToValue(t);null==s&&(s=.5),c-=(s-.5)*this.baseDuration();const p=v.getSortedIndex(e.dataItems,g=>{let b=0;return g.open&&(b=g.open[o]),U.qu(b,c)});if(e.get("snapTooltip")){let g=e.dataItems[p.index-1],b=e.dataItems[p.index];if(g&&b&&g.open&&b.close){let T=b.close[o];if(Math.abs(c-g.open[o])>Math.abs(c-T))return b}if(g)return g;if(b)return b}else{const g=e.dataItems[p.index-1];if(g&&g.open&&g.close&&c>=g.open[o]&&c<=g.close[o])return g}}shouldGap(e,t,s,o){const c=e.get(o);return t.get(o)-c>this.baseDuration()*s}zoomToDates(e,t,s){this.zoomToValues(e.getTime(),t.getTime(),s)}positionToDate(e){return new Date(this.positionToValue(e))}dateToPosition(e){return this.valueToPosition(e.getTime())}getCellWidthPosition(){let e=this.getPrivate("selectionMax",this.getPrivate("max")),t=this.getPrivate("selectionMin",this.getPrivate("min"));return R.isNumber(e)&&R.isNumber(t)?this._intervalDuration/(e-t):.05}}Object.defineProperty(hi,"className",{enumerable:!0,configurable:!0,writable:!0,value:"DateAxis"}),Object.defineProperty(hi,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Ue.classNames.concat([hi.className])});class ci extends hi{constructor(){super(...arguments),Object.defineProperty(this,"_frequency",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_dates",{enumerable:!0,configurable:!0,writable:!0,value:[]})}_afterNew(){this.valueFields.push("date"),super._afterNew()}_updateDates(e){const t=this._dates,s=v.getSortedIndex(t,o=>U.qu(o,e));s.found||v.insertIndex(t,s.index,e)}_updateAllDates(){this._dates.length=0,v.each(this.series,e=>{let t="valueX";e.get("yAxis")==this&&(t="valueY"),v.each(e.dataItems,s=>{let o=s.get(t);R.isNumber(o)&&s.open&&this._updateDates(s.open[t])})})}valueToPosition(e){const t=this._dates,s=this.get("startLocation",0),o=this.get("endLocation",1),c=t.length-s-(1-o),p=v.getSortedIndex(t,b=>U.qu(b,e));let g=p.index;if(p.found)return(g-s)/c;{g>0&&(g-=1);let b=t[g],w=0;return w=b>e?b-e:e-b,(g-s)/c+w/this.baseDuration()/c}}valueToIndex(e){const s=v.getSortedIndex(this._dates,c=>U.qu(c,e));let o=s.index;return s.found||o>0&&(o-=1),o}positionToValue(e){const t=this.get("startLocation",0),s=this.get("endLocation",1);let o=Math.round(this._dates.length-t-(1-s)),c=e*o,p=Math.floor(c);return p<0&&(p=0),p>o-1&&(p=o-1),this._dates[p]+(c-p+t)*this.baseDuration()}_fixZoomFactor(){this.setPrivateRaw("maxZoomFactor",this._dates.length-this.get("startLocation",0)-(1-this.get("endLocation",1)))}zoomToValues(e,t,s){const o=this.getPrivate("min",0),c=this.getPrivate("max",0);e=ce.fitToRange(e,o,c),t=ce.fitToRange(t,o,c),this.zoom(this.valueToPosition(e),this.valueToPosition(t),s)}_prepareAxisItems(){let e=this.getPrivate("selectionMin",0),t=this.getPrivate("selectionMax",0);if(R.isNumber(e)&&R.isNumber(t)){this._seriesValuesDirty&&(this._seriesValuesDirty=!1,this._updateAllDates());const s=this._dates,o=this.get("renderer"),c=s.length;let p=this.valueToIndex(e);p>0&&p--;let g=this.valueToIndex(t);g<c-1&&g++;let b=o.axisLength()/Math.max(o.get("minGridDistance"),1/Number.MAX_SAFE_INTEGER),w=Math.min(c,Math.ceil((g-p)/b));w=Math.max(1,w),p=Math.floor(p/w)*w,this._frequency=w;for(let Pe=0,Ze=this.dataItems.length;Pe<Ze;Pe++)this.dataItems[Pe].hide();let T=t-e-((t-e)/this.baseDuration()-(g-p))*this.baseDuration(),x=ue.chooseInterval(0,T,b,this.get("gridIntervals"));const C=this.getPrivate("baseInterval");let Q=ue.getIntervalDuration(x);Q<this.baseDuration()&&(x=Object.assign({},C),Q=ue.getIntervalDuration(x)),this._intervalDuration=Q;const J=this.get("dateFormats");let q=[],K=new Date;this._dates[0]&&(K=new Date(this._dates[0]));let ne=ue.round(new Date(this.getPrivate("min",0)),x.timeUnit,x.count,this._root.locale.firstDayOfWeek,this._root.utc,K,this._root.timezone),ge=ue.add(ne,x.timeUnit,-1,this._root.utc,this._root.timezone).getTime(),ae=this.getPrivate("selectionMax"),fe=-1/0,ve=(this.get("end",1)-this.get("start",0))/b;for(;ge<=ae;){let Pe=this.valueToIndex(ge),Ze=this._dates[Pe];if(Ze<ge)for(let Fe=Pe,qe=this._dates.length;Fe<qe;Fe++)if(this._dates[Fe]>=ge){Pe=Fe;break}let Ye=this.valueToPosition(Ze);Ye-fe>=.95*ve&&(v.move(q,Pe),fe=Ye);let rt=ge;if(ge+=ue.getDuration(x.timeUnit,x.count*this._getM(x.timeUnit)),ge=ue.round(new Date(ge),x.timeUnit,x.count,this._root.locale.firstDayOfWeek,this._root.utc,void 0,this._root.timezone).getTime(),ge==rt)break}if(q.length>0){let Pe=0,Ze=ge-10*Q;const Ye=ue.getNextUnit(x.timeUnit);v.each(q,rt=>{let Fe;this.dataItems.length<Pe+1?(Fe=new pe.z(this,void 0,{}),this._dataItems.push(Fe),this.processDataItem(Fe)):Fe=this.dataItems[Pe];let qe=s[rt],nt=new Date(qe),Bt=qe;if(Pe<q.length-1?Bt=s[q[Pe+1]]:Bt+=Q,Fe.setRaw("value",qe),Fe.setRaw("endValue",Bt),Fe.setRaw("index",Pe),rt>p-100&&rt<g+100){let It=J[x.timeUnit];It=J[x.timeUnit],Ye&&this.get("markUnitChange")&&R.isNumber(Ze)&&"year"!=x.timeUnit&&ue.checkChange(qe,Ze,Ye,this._root.utc,this._root.timezone)&&(It=this.get("periodChangeDateFormats")[x.timeUnit]),this._createAssets(Fe,[]);const Lt=Fe.get("label");Lt&&Lt.set("text",this._root.dateFormatter.format(nt,It)),Fe.isHidden()&&Fe.show(),this._prepareDataItem(Fe,x.count)}Pe++,Ze=qe})}v.each(this.series,Pe=>{Pe.inited&&Pe._markDirtyAxes()})}this._updateGhost()}}Object.defineProperty(ci,"className",{enumerable:!0,configurable:!0,writable:!0,value:"GaplessDateAxis"}),Object.defineProperty(ci,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:hi.classNames.concat([ci.className])});class yi extends Ue{constructor(){super(...arguments),Object.defineProperty(this,"_dataGrouped",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_groupingCalculated",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_intervalDuration",{enumerable:!0,configurable:!0,writable:!0,value:1})}_afterNew(){this._settings.themeTags=j.mergeTags(this._settings.themeTags,["axis"]),super._afterNew()}_adjustMinMax(e,t,s,o){let c;const p=this.getDurationFormatter(),g=this.get("baseUnit");if(this.setRaw("maxPrecision",0),"millisecond"==g||"second"==g||"minute"==g||"hour"==g){s<=1&&(s=1),s=Math.round(s);let b=t-e;0===b&&(b=Math.abs(t));let w=b/s,T=[60,30,20,15,10,2,1],x=1;"hour"==g&&(T=[24,12,6,4,2,1]);for(let ne of T)if(b/ne>s){x=ne;break}let C=Math.ceil((t-e)/x/s),Q=Math.log(Math.abs(C))*Math.LOG10E,J=Math.pow(10,Math.floor(Q))/10;C=ce.closest(T,C/J)*J,w=x*C,c={min:e=Math.floor(e/w)*w,max:t=Math.ceil(t/w)*w,step:w}}else c=super._adjustMinMax(e,t,s,o);return this.setPrivateRaw("durationFormat",p.getFormat(c.step,c.max,g)),c}_formatText(e){return this.getDurationFormatter().format(e,this.getPrivate("durationFormat"),this.get("baseUnit"))}getTooltipText(e,t){const s=this.getDurationFormatter(),o=this.get("extraTooltipPrecision",0),c=this.getPrivate("stepDecimalPlaces",0)+o,p=ce.round(this.positionToValue(e),c);return s.format(p,this.getPrivate("durationFormat"),this.get("baseUnit"))}}Object.defineProperty(yi,"className",{enumerable:!0,configurable:!0,writable:!0,value:"DurationAxis"}),Object.defineProperty(yi,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Ue.classNames.concat([yi.className])});var ds=I(4889);class Wt extends ds.JH{constructor(){super(...arguments),Object.defineProperty(this,"axis",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_beforeChanged(){super._beforeChanged();const e=this.get("sprite");if(this.isDirty("sprite")&&e&&(e.setAll({position:"absolute",role:"figure"}),this._disposers.push(e)),this.isDirty("location")){const t=e.dataItem;this.axis&&e&&t&&this.axis._prepareDataItem(t)}}dispose(){const e=this.axis;e&&X.each(e._bullets,(t,s)=>{s.uid==this.uid&&delete e._bullets[t]}),super.dispose()}}Object.defineProperty(Wt,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AxisBullet"}),Object.defineProperty(Wt,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ds.JH.classNames.concat([Wt.className])});var ns=I(1262);class Ti extends ns._{constructor(){super(...arguments),Object.defineProperty(this,"_tickPoints",{enumerable:!0,configurable:!0,writable:!0,value:[]})}}Object.defineProperty(Ti,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AxisLabel"}),Object.defineProperty(Ti,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ns._.classNames.concat([Ti.className])});var Gi=I(9005);class Di extends Gi.x{constructor(){super(...arguments),Object.defineProperty(this,"_tickPoints",{enumerable:!0,configurable:!0,writable:!0,value:[]})}}Object.defineProperty(Di,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AxisLabelRadial"}),Object.defineProperty(Di,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Gi.x.classNames.concat([Di.className])});var ii=I(9879);class Yt extends ii.d{constructor(){super(...arguments),Object.defineProperty(this,"_tickPoints",{enumerable:!0,configurable:!0,writable:!0,value:[]})}}Object.defineProperty(Yt,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AxisTick"}),Object.defineProperty(Yt,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ii.d.classNames.concat([Yt.className])});var Nt=I(1371);class di extends M.T{constructor(){super(...arguments),Object.defineProperty(this,"_axisLength",{enumerable:!0,configurable:!0,writable:!0,value:100}),Object.defineProperty(this,"_start",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_end",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_inversed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_minSize",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"chart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_lc",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_ls",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_thumbDownPoint",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downStart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downEnd",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"ticks",{enumerable:!0,configurable:!0,writable:!0,value:new P.o(Nt.YS.new({}),()=>Yt._new(this._root,{themeTags:j.mergeTags(this.ticks.template.get("themeTags",[]),this.get("themeTags",[]))},[this.ticks.template]))}),Object.defineProperty(this,"grid",{enumerable:!0,configurable:!0,writable:!0,value:new P.o(Nt.YS.new({}),()=>Ie._new(this._root,{themeTags:j.mergeTags(this.grid.template.get("themeTags",[]),this.get("themeTags",[]))},[this.grid.template]))}),Object.defineProperty(this,"axisFills",{enumerable:!0,configurable:!0,writable:!0,value:new P.o(Nt.YS.new({}),()=>M.T._new(this._root,{themeTags:j.mergeTags(this.axisFills.template.get("themeTags",["axis","fill"]),this.get("themeTags",[]))},[this.axisFills.template]))}),Object.defineProperty(this,"labels",{enumerable:!0,configurable:!0,writable:!0,value:new P.o(Nt.YS.new({}),()=>Ti._new(this._root,{themeTags:j.mergeTags(this.labels.template.get("themeTags",[]),this.get("themeTags",[]))},[this.labels.template]))}),Object.defineProperty(this,"axis",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"thumb",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}makeTick(e,t){const s=this.ticks.make();return s._setDataItem(e),e.setRaw("tick",s),s.set("themeTags",j.mergeTags(s.get("themeTags"),t)),this.axis.labelsContainer.children.push(s),this.ticks.push(s),s}makeGrid(e,t){const s=this.grid.make();return s._setDataItem(e),e.setRaw("grid",s),s.set("themeTags",j.mergeTags(s.get("themeTags"),t)),this.axis.gridContainer.children.push(s),this.grid.push(s),s}makeAxisFill(e,t){const s=this.axisFills.make();return s._setDataItem(e),s.set("themeTags",j.mergeTags(s.get("themeTags"),t)),this.axis.gridContainer.children.push(s),e.setRaw("axisFill",s),this.axisFills.push(s),s}makeLabel(e,t){const s=this.labels.make();return s.set("themeTags",j.mergeTags(s.get("themeTags"),t)),this.axis.labelsContainer.children.moveValue(s,0),s._setDataItem(e),e.setRaw("label",s),this.labels.push(s),s}axisLength(){return 0}gridCount(){return this.axisLength()/this.get("minGridDistance",50)}_updatePositions(){}_afterNew(){super._afterNew(),this.set("isMeasured",!1);const e=this.thumb;e&&(this._disposers.push(e.events.on("pointerdown",t=>{this._handleThumbDown(t.originalEvent)})),this._disposers.push(e.events.on("globalpointerup",t=>{this._handleThumbUp(t.originalEvent)})),this._disposers.push(e.events.on("globalpointermove",t=>{this._handleThumbMove(t.originalEvent)})))}_changed(){if(super._changed(),this.isDirty("pan")){const e=this.thumb;if(e){const t=this.axis.labelsContainer,s=this.get("pan");"zoom"==s?t.children.push(e):"none"==s&&t.children.removeValue(e)}}}_handleThumbDown(e){this._thumbDownPoint=this.toLocal(this._root.documentPointToRoot({x:e.clientX,y:e.clientY}));const t=this.axis;this._downStart=t.get("start"),this._downEnd=t.get("end")}_handleThumbUp(e){this._thumbDownPoint=void 0}_handleThumbMove(e){const t=this._thumbDownPoint;if(t){const s=this.toLocal(this._root.documentPointToRoot({x:e.clientX,y:e.clientY})),o=this._downStart,c=this._downEnd,p=this._getPan(s,t)*Math.min(1,c-o)/2;this.axis.setAll({start:o-p,end:c+p})}}_getPan(e,t){return 0}positionToCoordinate(e){return this._inversed?(this._end-e)*this._axisLength:(e-this._start)*this._axisLength}updateTooltipBounds(e){}_updateSize(){this.markDirty(),this._clear=!0}toAxisPosition(e){const t=this._start||0,s=this._end||1;return e*=s-t,this.get("inversed")?s-e:t+e}fixPosition(e){return this.get("inversed")?1-e:e}_updateLC(){}toggleVisibility(e,t,s,o){let c=this.axis;const p=c.get("start",0),g=c.get("end",1);e.setPrivate("visible",!(t<p+(g-p)*(s-1e-4)||t>p+(g-p)*(o+1e-4)))}_positionTooltip(e,t){const s=this.chart;s&&(s.inPlot(t)?e.set("pointTo",this._display.toGlobal(t)):e.hide())}processAxis(){}}Object.defineProperty(di,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AxisRenderer"}),Object.defineProperty(di,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:M.T.classNames.concat([di.className])});class as extends di{constructor(){super(...arguments),Object.defineProperty(this,"thumb",{enumerable:!0,configurable:!0,writable:!0,value:se.A.new(this._root,{width:z.AQ,isMeasured:!1,themeTags:["axis","x","thumb"]})})}_afterNew(){this._settings.themeTags=j.mergeTags(this._settings.themeTags,["renderer","x"]),super._afterNew(),this.setPrivateRaw("letter","X");const e=this.grid.template;e.set("height",z.AQ),e.set("width",0),e.set("draw",(t,s)=>{t.moveTo(0,0),t.lineTo(0,s.height())}),this.set("draw",(t,s)=>{t.moveTo(0,0),t.lineTo(s.width(),0)})}_changed(){super._changed();const e=this.axis;e.ghostLabel.setPrivate("visible",!this.get("inside")),e.ghostLabel.set("x",-1e3);const t="opposite",s="inside";if(this.isDirty(t)||this.isDirty(s)){const o=this.chart,c=e.children;if(this.get(s)?e.addTag(s):e.removeTag(s),o){if(this.get(t)){const p=o.topAxesContainer.children;-1==p.indexOf(e)&&p.insertIndex(0,e),e.addTag(t),c.moveValue(this)}else{const p=o.bottomAxesContainer.children;-1==p.indexOf(e)&&p.moveValue(e),e.removeTag(t),c.moveValue(this,0)}e.ghostLabel._applyThemes(),this.labels.each(p=>{p._applyThemes()}),this.root._markDirtyRedraw()}e.markDirtySize()}this.thumb.setPrivate("height",e.labelsContainer.height())}_getPan(e,t){return(t.x-e.x)/this.width()}toAxisPosition(e){const t=this._start||0,s=this._end||1;return e=(e-=this._ls)*(s-t)/this._lc,this.get("inversed")?s-e:t+e}_updateLC(){const e=this.axis,t=e.parent;if(t){const s=t.innerWidth();this._lc=this.axisLength()/s,this._ls=(e.x()-t.get("paddingLeft",0))/s}}_updatePositions(){const e=this.axis,t=e.x()-j.relativeToValue(e.get("centerX",0),e.width())-e.parent.get("paddingLeft",0);e.gridContainer.set("x",t),e.topGridContainer.set("x",t),e.bulletsContainer.set("y",this.y());const s=e.chart;if(s){const o=s.plotContainer,c=e.axisHeader;let p=e.get("marginLeft",0),g=e.x()-p;const b=e.parent;b&&(g-=b.get("paddingLeft",0)),c.children.length>0?(p=e.axisHeader.width(),e.set("marginLeft",p+1)):c.set("width",p),c.setAll({x:g,y:-1,height:o.height()+2})}}processAxis(){super.processAxis();const e=this.axis;e.set("width",z.AQ);const t=this._root.verticalLayout;e.set("layout",t),e.labelsContainer.set("width",z.AQ),e.axisHeader.setAll({layout:t})}axisLength(){return this.axis.width()}positionToPoint(e){return{x:this.positionToCoordinate(e),y:0}}updateTick(e,t,s,o){if(e){R.isNumber(t)||(t=0);let c=.5;c=R.isNumber(o)&&o>1?e.get("multiLocation",c):e.get("location",c),R.isNumber(s)&&s!=t&&(t+=(s-t)*c),e.set("x",this.positionToCoordinate(t));let p=e.get("length",0);const g=e.get("inside",this.get("inside",!1));this.get("opposite")?(e.set("y",z.AQ),g||(p*=-1)):(e.set("y",0),g&&(p*=-1)),e.set("draw",b=>{b.moveTo(0,0),b.lineTo(0,p)}),this.toggleVisibility(e,t,e.get("minPosition",0),e.get("maxPosition",1))}}updateLabel(e,t,s,o){if(e){let c=.5;c=R.isNumber(o)&&o>1?e.get("multiLocation",c):e.get("location",c),R.isNumber(t)||(t=0);const p=e.get("inside",this.get("inside",!1));this.get("opposite")?p?(e.set("position","absolute"),e.set("y",0)):(e.set("position","relative"),e.set("y",z.AQ)):p?(e.set("y",0),e.set("position","absolute")):(e.set("y",void 0),e.set("position","relative")),R.isNumber(s)&&s!=t&&(t+=(s-t)*c),e.set("x",this.positionToCoordinate(t)),this.toggleVisibility(e,t,e.get("minPosition",0),e.get("maxPosition",1))}}updateGrid(e,t,s){if(e){R.isNumber(t)||(t=0);let o=e.get("location",.5);R.isNumber(s)&&s!=t&&(t+=(s-t)*o),e.set("x",this.positionToCoordinate(t)),this.toggleVisibility(e,t,0,1)}}updateBullet(e,t,s){if(e){const o=e.get("sprite");if(o){R.isNumber(t)||(t=0);let c=e.get("location",.5);R.isNumber(s)&&s!=t&&(t+=(s-t)*c);let p=this.axis.roundAxisPosition(t,c),g=this.axis._bullets[p],b=-1;if(this.get("opposite")&&(b=1),e.get("stacked"))if(g){let w=g.get("sprite");w&&o.set("y",w.y()+w.height()*b)}else o.set("y",0);this.axis._bullets[p]=e,o.set("x",this.positionToCoordinate(t)),this.toggleVisibility(o,t,0,1)}}}updateFill(e,t,s){if(e){R.isNumber(t)||(t=0),R.isNumber(s)||(s=1);let o=this.positionToCoordinate(t),c=this.positionToCoordinate(s);this.fillDrawMethod(e,o,c)}}fillDrawMethod(e,t,s){e.set("draw",o=>{const c=this.axis.gridContainer.height(),p=this.width();s<t&&([s,t]=[t,s]),!(t>p||s<0)&&(o.moveTo(t,0),o.lineTo(s,0),o.lineTo(s,c),o.lineTo(t,c),o.lineTo(t,0))})}positionTooltip(e,t){this._positionTooltip(e,{x:this.positionToCoordinate(t),y:0})}updateTooltipBounds(e){const t=this.get("inside"),s=1e5;let o=this._display.toGlobal({x:0,y:0}),c=o.x,p=0,g=this.axisLength(),b=s,w="up";this.get("opposite")?t?(w="up",p=o.y,b=s):(w="down",p=o.y-s,b=s):t?(w="down",p=o.y-s,b=s):(w="up",p=o.y,b=s);const T={left:c,right:c+g,top:p,bottom:p+b},x=e.get("bounds");j.sameBounds(T,x)||(e.set("bounds",T),e.set("pointerOrientation",w))}}Object.defineProperty(as,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AxisRendererX"}),Object.defineProperty(as,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:di.classNames.concat([as.className])});class vi extends di{constructor(){super(...arguments),Object.defineProperty(this,"_downY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"thumb",{enumerable:!0,configurable:!0,writable:!0,value:se.A.new(this._root,{height:z.AQ,isMeasured:!1,themeTags:["axis","y","thumb"]})})}_afterNew(){this._settings.themeTags=j.mergeTags(this._settings.themeTags,["renderer","y"]),this._settings.opposite&&this._settings.themeTags.push("opposite"),super._afterNew(),this.setPrivateRaw("letter","Y");const e=this.grid.template;e.set("width",z.AQ),e.set("height",0),e.set("draw",(t,s)=>{t.moveTo(0,0),t.lineTo(s.width(),0)}),this.set("draw",(t,s)=>{t.moveTo(0,0),t.lineTo(0,s.height())})}_getPan(e,t){return(e.y-t.y)/this.height()}_changed(){super._changed();const e=this.axis;e.ghostLabel.setPrivate("visible",!this.get("inside")),e.ghostLabel.set("y",-1e3);const t=this.thumb,s="opposite",o="inside",c=this.chart;if(this.isDirty(s)||this.isDirty(o)){const g=e.children;if(this.get(o)?e.addTag(o):e.removeTag(o),c){if(this.get(s)){const b=c.rightAxesContainer.children;-1==b.indexOf(e)&&b.moveValue(e,0),e.addTag(s),g.moveValue(this,0)}else{const b=c.leftAxesContainer.children;-1==b.indexOf(e)&&b.moveValue(e),e.removeTag(s),g.moveValue(this)}e.ghostLabel._applyThemes(),this.labels.each(b=>{b._applyThemes()}),this.root._markDirtyRedraw()}e.markDirtySize()}const p=e.labelsContainer.width();c&&(this.get(s)?t.set("centerX",0):t.set("centerX",p)),t.setPrivate("width",p)}processAxis(){super.processAxis();const e=this.axis;null==e.get("height")&&e.set("height",z.AQ);const t=this._root.horizontalLayout;e.set("layout",t),e.labelsContainer.set("height",z.AQ),e.axisHeader.set("layout",t)}_updatePositions(){const e=this.axis,t=e.y()-j.relativeToValue(e.get("centerY",0),e.height());e.gridContainer.set("y",t),e.topGridContainer.set("y",t),e.bulletsContainer.set("x",this.x());const s=e.chart;if(s){const o=s.plotContainer,c=e.axisHeader;let p=e.get("marginTop",0);c.children.length>0?(p=e.axisHeader.height(),e.set("marginTop",p+1)):c.set("height",p),c.setAll({y:e.y()-p,x:-1,width:o.width()+2})}}axisLength(){return this.axis.innerHeight()}positionToPoint(e){return{x:0,y:this.positionToCoordinate(e)}}updateLabel(e,t,s,o){if(e){R.isNumber(t)||(t=0);let c=.5;c=R.isNumber(o)&&o>1?e.get("multiLocation",c):e.get("location",c);const p=this.get("opposite"),g=e.get("inside",this.get("inside",!1));p?(e.set("x",0),e.set("position",g?"absolute":"relative")):g?(e.set("x",0),e.set("position","absolute")):(e.set("x",void 0),e.set("position","relative")),R.isNumber(s)&&s!=t&&(t+=(s-t)*c),e.set("y",this.positionToCoordinate(t)),this.toggleVisibility(e,t,e.get("minPosition",0),e.get("maxPosition",1))}}updateGrid(e,t,s){if(e){R.isNumber(t)||(t=0);let o=e.get("location",.5);R.isNumber(s)&&s!=t&&(t+=(s-t)*o),e.set("y",this.positionToCoordinate(t)),this.toggleVisibility(e,t,0,1)}}updateTick(e,t,s,o){if(e){R.isNumber(t)||(t=0);let c=.5;c=R.isNumber(o)&&o>1?e.get("multiLocation",c):e.get("location",c),R.isNumber(s)&&s!=t&&(t+=(s-t)*c),e.set("y",this.positionToCoordinate(t));let p=e.get("length",0);const g=e.get("inside",this.get("inside",!1));this.get("opposite")?(e.set("x",0),g&&(p*=-1)):g||(p*=-1),e.set("draw",b=>{b.moveTo(0,0),b.lineTo(p,0)}),this.toggleVisibility(e,t,e.get("minPosition",0),e.get("maxPosition",1))}}updateBullet(e,t,s){if(e){const o=e.get("sprite");if(o){R.isNumber(t)||(t=0);let c=e.get("location",.5);R.isNumber(s)&&s!=t&&(t+=(s-t)*c);let p=this.axis.roundAxisPosition(t,c),g=this.axis._bullets[p],b=1;if(this.get("opposite")&&(b=-1),e.get("stacked"))if(g){let w=g.get("sprite");w&&o.set("x",w.x()+w.width()*b)}else o.set("x",0);this.axis._bullets[p]=e,o.set("y",this.positionToCoordinate(t)),this.toggleVisibility(o,t,0,1)}}}updateFill(e,t,s){if(e){R.isNumber(t)||(t=0),R.isNumber(s)||(s=1);let o=this.positionToCoordinate(t),c=this.positionToCoordinate(s);this.fillDrawMethod(e,o,c)}}fillDrawMethod(e,t,s){e.set("draw",o=>{const c=this.axis.gridContainer.width(),p=this.height();s<t&&([s,t]=[t,s]),!(t>p||s<0)&&(o.moveTo(0,t),o.lineTo(c,t),o.lineTo(c,s),o.lineTo(0,s),o.lineTo(0,t))})}positionToCoordinate(e){return this._inversed?(e-this._start)*this._axisLength:(this._end-e)*this._axisLength}positionTooltip(e,t){this._positionTooltip(e,{x:0,y:this.positionToCoordinate(t)})}updateTooltipBounds(e){const t=this.get("inside"),s=1e5;let o=this._display.toGlobal({x:0,y:0}),c=o.y,p=0,g=this.axisLength(),b=s,w="right";this.get("opposite")?t?(w="right",p=o.x-s,b=s):(w="left",p=o.x,b=s):t?(w="left",p=o.x,b=s):(w="right",p=o.x-s,b=s);const T={left:p,right:p+b,top:c,bottom:c+g},x=e.get("bounds");j.sameBounds(T,x)||(e.set("bounds",T),e.set("pointerOrientation",w))}_updateLC(){const e=this.axis,t=e.parent;if(t){const s=t.innerHeight();this._lc=this.axisLength()/s,this._ls=e.y()/s}}toAxisPosition(e){const t=this._start||0,s=this._end||1;return e=(e-=this._ls)*(s-t)/this._lc,this.get("inversed")?t+e:s-e}fixPosition(e){return this.get("inversed")?e:1-e}}Object.defineProperty(vi,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AxisRendererY"}),Object.defineProperty(vi,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:di.classNames.concat([vi.className])});var Ri=I(867);class fi extends Ri.c{_beforeChanged(){super._beforeChanged(),(this.isDirty("lowX0")||this.isDirty("lowY0")||this.isDirty("lowX1")||this.isDirty("lowY1")||this.isDirty("highX0")||this.isDirty("highX1")||this.isDirty("highY0")||this.isDirty("highY1"))&&(this._clear=!0)}_draw(){super._draw();const e=this._display;e.moveTo(this.get("lowX0",0),this.get("lowY0",0)),e.lineTo(this.get("lowX1",0),this.get("lowY1",0)),e.moveTo(this.get("highX0",0),this.get("highY0",0)),e.lineTo(this.get("highX1",0),this.get("highY1",0))}}Object.defineProperty(fi,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Candlestick"}),Object.defineProperty(fi,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Ri.c.classNames.concat([fi.className])});class ni extends Qe{constructor(){super(...arguments),Object.defineProperty(this,"columns",{enumerable:!0,configurable:!0,writable:!0,value:new P.o(Nt.YS.new({}),()=>Ri.c._new(this._root,{position:"absolute",themeTags:j.mergeTags(this.columns.template.get("themeTags",[]),["series","column"])},[this.columns.template]))})}makeColumn(e,t){const s=this.mainContainer.children.push(t.make());return s._setDataItem(e),t.push(s),s}_processAxisRange(e){super._processAxisRange(e),e.columns=new P.o(Nt.YS.new({}),()=>Ri.c._new(this._root,{position:"absolute",themeTags:j.mergeTags(e.columns.template.get("themeTags",[]),["series","column"])},[this.columns.template,e.columns.template]))}}Object.defineProperty(ni,"className",{enumerable:!0,configurable:!0,writable:!0,value:"ColumnSeries"}),Object.defineProperty(ni,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Qe.classNames.concat([ni.className])});class Ii extends ni{constructor(){super(...arguments),Object.defineProperty(this,"columns",{enumerable:!0,configurable:!0,writable:!0,value:new P.o(Nt.YS.new({themeTags:["autocolor"]}),()=>fi._new(this._root,{themeTags:j.mergeTags(this.columns.template.get("themeTags",[]),["candlestick","series","column"])},[this.columns.template]))})}makeColumn(e,t){const s=this.mainContainer.children.push(t.make());return s._setDataItem(e),t.push(s),s}_updateGraphics(e,t){super._updateGraphics(e,t);const s=this.getRaw("xAxis"),o=this.getRaw("yAxis"),c=this.getRaw("baseAxis");let b,w,T,x,C,Q,J,q,fe,p=this.get("vcy",1),g=this.get("vcx",1),K=this.get("locationX",e.get("locationX",.5)),ne=this.get("locationY",e.get("locationY",.5)),ge=this.get("openLocationX",e.get("openLocationX",K)),ae=this.get("openLocationY",e.get("openLocationY",ne));if(o===c){let ve=s.getDataItemPositionX(e,this._xOpenField,1,g),Pe=s.getDataItemPositionX(e,this._xField,1,g);w=s.getDataItemPositionX(e,this._xLowField,1,g),Q=s.getDataItemPositionX(e,this._xHighField,1,g),C=Math.max(ve,Pe),b=Math.min(ve,Pe);let Ze=this._aLocationY0+ae-.5;T=o.getDataItemPositionY(e,this._yField,Ze+(this._aLocationY1+ne-.5-Ze)/2,p),x=T,J=T,q=T,fe="horizontal"}else{let ve=o.getDataItemPositionY(e,this._yOpenField,1,p),Pe=o.getDataItemPositionY(e,this._yField,1,p);x=o.getDataItemPositionY(e,this._yLowField,1,p),q=o.getDataItemPositionY(e,this._yHighField,1,p),J=Math.max(ve,Pe),T=Math.min(ve,Pe);let Ze=this._aLocationX0+ge-.5;b=s.getDataItemPositionX(e,this._xField,Ze+(this._aLocationX1+K-.5-Ze)/2,g),w=b,C=b,Q=b,fe="vertical"}this._updateCandleGraphics(e,b,w,T,x,C,Q,J,q,fe)}_updateCandleGraphics(e,t,s,o,c,p,g,b,w,T){let x=e.get("graphics");if(x){let C=this.getPoint(t,o),Q=this.getPoint(s,c),J=this.getPoint(p,b),q=this.getPoint(g,w),K=x.x(),ne=x.y();x.set("lowX0",C.x-K),x.set("lowY0",C.y-ne),x.set("lowX1",Q.x-K),x.set("lowY1",Q.y-ne),x.set("highX0",J.x-K),x.set("highY0",J.y-ne),x.set("highX1",q.x-K),x.set("highY1",q.y-ne),x.set("orientation",T);let ge=e.get("rangeGraphics");ge&&v.each(ge,ae=>{ae.set("lowX0",C.x-K),ae.set("lowY0",C.y-ne),ae.set("lowX1",Q.x-K),ae.set("lowY1",Q.y-ne),ae.set("highX0",J.x-K),ae.set("highY0",J.y-ne),ae.set("highX1",q.x-K),ae.set("highY1",q.y-ne),ae.set("orientation",T)})}}_processAxisRange(e){super._processAxisRange(e),e.columns=new P.o(Nt.YS.new({}),()=>fi._new(this._root,{themeTags:j.mergeTags(e.columns.template.get("themeTags",[]),["candlestick","series","column"])},[this.columns.template,e.columns.template]))}}Object.defineProperty(Ii,"className",{enumerable:!0,configurable:!0,writable:!0,value:"CandlestickSeries"}),Object.defineProperty(Ii,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ni.classNames.concat([Ii.className])});class qt extends fi{_draw(){const e=this._display;e.moveTo(this.get("lowX1",0),this.get("lowY1",0)),e.lineTo(this.get("highX1",0),this.get("highY1",0));let t=this.width(),s=this.height();if("vertical"==this.get("orientation")){let o=s,c=0;e.moveTo(0,o),e.lineTo(t/2,o),e.moveTo(t/2,c),e.lineTo(t,c)}else{let o=0,c=t;e.moveTo(o,0),e.lineTo(o,s/2),e.moveTo(c,s/2),e.lineTo(c,s)}}}Object.defineProperty(qt,"className",{enumerable:!0,configurable:!0,writable:!0,value:"OHLC"}),Object.defineProperty(qt,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:fi.classNames.concat([qt.className])});class Vi extends Ii{constructor(){super(...arguments),Object.defineProperty(this,"columns",{enumerable:!0,configurable:!0,writable:!0,value:new P.o(Nt.YS.new({themeTags:["autocolor"]}),()=>qt._new(this._root,{themeTags:j.mergeTags(this.columns.template.get("themeTags",[]),["ohlc","series","column"])},[this.columns.template]))})}makeColumn(e,t){const s=this.mainContainer.children.push(t.make());return s._setDataItem(e),t.push(s),s}_processAxisRange(e){super._processAxisRange(e),e.columns=new P.o(Nt.YS.new({}),()=>qt._new(this._root,{themeTags:j.mergeTags(e.columns.template.get("themeTags",[]),["ohlc","series","column"])},[this.columns.template,e.columns.template]))}}function wt(ee){return"object"==typeof ee&&"length"in ee?ee:Array.from(ee)}Object.defineProperty(Vi,"className",{enumerable:!0,configurable:!0,writable:!0,value:"OHLCSeries"}),Object.defineProperty(Vi,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Ii.classNames.concat([Vi.className])});var Ct=I(6979);function Ui(ee){this._context=ee}function fs(ee){return new Ui(ee)}Ui.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(ee,e){switch(ee=+ee,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(ee,e):this._context.moveTo(ee,e);break;case 1:this._point=2;default:this._context.lineTo(ee,e)}}};var gs=I(5831);function ps(ee){return ee[0]}function Hi(ee){return ee[1]}function ks(ee,e){var t=(0,Ct.Z)(!0),s=null,o=fs,c=null,p=(0,gs.d)(g);function g(b){var w,x,Q,T=(b=wt(b)).length,C=!1;for(null==s&&(c=o(Q=p())),w=0;w<=T;++w)!(w<T&&t(x=b[w],w,b))===C&&((C=!C)?c.lineStart():c.lineEnd()),C&&c.point(+ee(x,w,b),+e(x,w,b));if(Q)return c=null,Q+""||null}return ee="function"==typeof ee?ee:void 0===ee?ps:(0,Ct.Z)(ee),e="function"==typeof e?e:void 0===e?Hi:(0,Ct.Z)(e),g.x=function(b){return arguments.length?(ee="function"==typeof b?b:(0,Ct.Z)(+b),g):ee},g.y=function(b){return arguments.length?(e="function"==typeof b?b:(0,Ct.Z)(+b),g):e},g.defined=function(b){return arguments.length?(t="function"==typeof b?b:(0,Ct.Z)(!!b),g):t},g.curve=function(b){return arguments.length?(o=b,null!=s&&(c=o(s)),g):o},g.context=function(b){return arguments.length?(null==b?s=c=null:c=o(s=b),g):s},g}function ms(ee,e,t){var s=null,o=(0,Ct.Z)(!0),c=null,p=fs,g=null,b=(0,gs.d)(w);function w(x){var C,Q,J,K,ge,q=(x=wt(x)).length,ne=!1,ae=new Array(q),fe=new Array(q);for(null==c&&(g=p(ge=b())),C=0;C<=q;++C){if(!(C<q&&o(K=x[C],C,x))===ne)if(ne=!ne)Q=C,g.areaStart(),g.lineStart();else{for(g.lineEnd(),g.lineStart(),J=C-1;J>=Q;--J)g.point(ae[J],fe[J]);g.lineEnd(),g.areaEnd()}ne&&(ae[C]=+ee(K,C,x),fe[C]=+e(K,C,x),g.point(s?+s(K,C,x):ae[C],t?+t(K,C,x):fe[C]))}if(ge)return g=null,ge+""||null}function T(){return ks().defined(o).curve(p).context(c)}return ee="function"==typeof ee?ee:void 0===ee?ps:(0,Ct.Z)(+ee),e="function"==typeof e?e:(0,Ct.Z)(void 0===e?0:+e),t="function"==typeof t?t:void 0===t?Hi:(0,Ct.Z)(+t),w.x=function(x){return arguments.length?(ee="function"==typeof x?x:(0,Ct.Z)(+x),s=null,w):ee},w.x0=function(x){return arguments.length?(ee="function"==typeof x?x:(0,Ct.Z)(+x),w):ee},w.x1=function(x){return arguments.length?(s=null==x?null:"function"==typeof x?x:(0,Ct.Z)(+x),w):s},w.y=function(x){return arguments.length?(e="function"==typeof x?x:(0,Ct.Z)(+x),t=null,w):e},w.y0=function(x){return arguments.length?(e="function"==typeof x?x:(0,Ct.Z)(+x),w):e},w.y1=function(x){return arguments.length?(t=null==x?null:"function"==typeof x?x:(0,Ct.Z)(+x),w):t},w.lineX0=w.lineY0=function(){return T().x(ee).y(e)},w.lineY1=function(){return T().x(ee).y(t)},w.lineX1=function(){return T().x(s).y(e)},w.defined=function(x){return arguments.length?(o="function"==typeof x?x:(0,Ct.Z)(!!x),w):o},w.curve=function(x){return arguments.length?(p=x,null!=c&&(g=p(c)),w):p},w.context=function(x){return arguments.length?(null==x?c=g=null:g=p(c=x),w):c},w}class Zt extends ft{constructor(){super(...arguments),Object.defineProperty(this,"_endIndex",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_strokeGenerator",{enumerable:!0,configurable:!0,writable:!0,value:ks()}),Object.defineProperty(this,"_fillGenerator",{enumerable:!0,configurable:!0,writable:!0,value:ms()}),Object.defineProperty(this,"_legendStroke",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_legendFill",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"strokes",{enumerable:!0,configurable:!0,writable:!0,value:new P.o(Nt.YS.new({}),()=>M.T._new(this._root,{themeTags:j.mergeTags(this.strokes.template.get("themeTags",[]),["line","series","stroke"])},[this.strokes.template]))}),Object.defineProperty(this,"fills",{enumerable:!0,configurable:!0,writable:!0,value:new P.o(Nt.YS.new({}),()=>M.T._new(this._root,{themeTags:j.mergeTags(this.strokes.template.get("themeTags",[]),["line","series","fill"])},[this.fills.template]))}),Object.defineProperty(this,"_fillTemplate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_strokeTemplate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_previousPoint",{enumerable:!0,configurable:!0,writable:!0,value:[0,0,0,0]}),Object.defineProperty(this,"_dindex",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_sindex",{enumerable:!0,configurable:!0,writable:!0,value:0})}_afterNew(){this._fillGenerator.y0(function(e){return e[3]}),this._fillGenerator.x0(function(e){return e[2]}),this._fillGenerator.y1(function(e){return e[1]}),this._fillGenerator.x1(function(e){return e[0]}),super._afterNew()}makeStroke(e){const t=this.mainContainer.children.push(e.make());return e.push(t),t}makeFill(e){const t=this.mainContainer.children.push(e.make());return e.push(t),t}_updateChildren(){this._strokeTemplate=void 0,this._fillTemplate=void 0;let e=this.get("xAxis"),t=this.get("yAxis");if(this.isDirty("stroke")){const s=this.get("stroke");this.strokes.template.set("stroke",s);const o=this._legendStroke;o&&o.states.lookup("default").set("stroke",s)}if(this.isDirty("fill")){const s=this.get("fill");this.fills.template.set("fill",s);const o=this._legendFill;o&&o.states.lookup("default").set("fill",s)}if(this.isDirty("curveFactory")){const s=this.get("curveFactory");s&&(this._strokeGenerator.curve(s),this._fillGenerator.curve(s))}if(e.inited&&t.inited){if(this._axesDirty||this._valuesDirty||this._stackDirty||this.isDirty("vcx")||this.isDirty("vcy")||this._sizeDirty||this.isDirty("connect")||this.isDirty("curveFactory")){this.fills.each(T=>{T.setPrivate("visible",!1)}),this.strokes.each(T=>{T.setPrivate("visible",!1)}),this.axisRanges.each(T=>{let x=T.fills;x&&x.each(Q=>{Q.setPrivate("visible",!1)});let C=T.strokes;C&&C.each(Q=>{Q.setPrivate("visible",!1)})});let s=this.startIndex(),o=this.strokes.template.get("templateField"),c=this.fills.template.get("templateField"),p=!0,g=!0;o&&(p=!1),c&&(g=!1);for(let T=s-1;T>=0;T--){let x=this.dataItems[T],C=!0,Q=x.dataContext;if(o&&Q[o]&&(p=!0),c&&Q[c]&&(g=!0),v.each(this._valueFields,J=>{R.isNumber(x.get(J))||(C=!1)}),C&&p&&g){s=T;break}}let b=this.dataItems.length,w=this.endIndex();if(w<b){w++;for(let T=w;T<b;T++){let x=this.dataItems[T],C=!0;if(v.each(this._valueFields,Q=>{R.isNumber(x.get(Q))||(C=!1)}),C){w=T+1;break}}}if(s>0&&s--,this._endIndex=w,this._clearGraphics(),this._sindex=0,this._dindex=s,1==this.dataItems.length)this._startSegment(0);else for(;this._dindex<w-1;)this._startSegment(this._dindex),this._sindex++}}else this._skipped=!0;super._updateChildren()}_clearGraphics(){this.strokes.clear(),this.fills.clear()}_startSegment(e){let t=this._endIndex,s=t;const o=this.get("autoGapCount"),c=this.get("connect"),p=this.makeFill(this.fills),g=this._fillTemplate;g&&g!=this.fills.template&&(p.template=g),p.setPrivate("visible",!0);const w=this.makeStroke(this.strokes),T=this._strokeTemplate;T&&T!=this.strokes.template&&(w.template=T),w.setPrivate("visible",!0);let x=this.get("xAxis"),C=this.get("yAxis"),Q=this.get("baseAxis"),J=this.get("vcx",1),q=this.get("vcy",1),K=this._xField,ne=this._yField,ge=this._xOpenField,ae=this._yOpenField;const fe=this.get("openValueXField"),ve=this.get("openValueYField");fe||(ge=this._xField),ve||(ae=this._yField);const Pe=this.get("stacked"),Ze=x.basePosition(),Ye=C.basePosition();let rt;rt=Q===C?this._yField:this._xField;const Fe=[];let qe=[];Fe.push(qe);const nt=this.strokes.template.get("templateField"),Bt=this.fills.template.get("templateField");let It=this.get("locationX",.5),Lt=this.get("locationY",.5),bt=this.get("openLocationX",It),Je=this.get("openLocationY",Lt);const at=this.get("minDistance",0);let et,Oi=this.fills.template.get("visible");this.axisRanges.length>0&&(Oi=!0);let ei=!1;(Pe||fe||ve)&&(ei=!0);const xi={points:qe,segments:Fe,stacked:Pe,getOpen:ei,basePosX:Ze,basePosY:Ye,fillVisible:Oi,xField:K,yField:ne,xOpenField:ge,yOpenField:ae,vcx:J,vcy:q,baseAxis:Q,xAxis:x,yAxis:C,locationX:It,locationY:Lt,openLocationX:bt,openLocationY:Je,minDistance:at};for(et=e;et<s;et++){this._dindex=et;const Pt=this._dataItems[et];let Qt=Pt.get(K),ki=Pt.get(ne);if(null==Qt||null==ki?c||(qe=[],Fe.push(qe),xi.points=qe):this._getPoints(Pt,xi),nt){let St=Pt.dataContext[nt];if(St){if(St instanceof Nt.YS||(St=Nt.YS.new(St)),this._strokeTemplate=St,et>e){s=et;break}w.template=St}}if(Bt){let St=Pt.dataContext[Bt];if(St){if(St instanceof Nt.YS||(St=Nt.YS.new(St)),this._fillTemplate=St,et>e){s=et;break}p.template=St}}if(!c){let St=this.dataItems[et+1];St&&Q.shouldGap(Pt,St,o,rt)&&(qe=[],Fe.push(qe),xi.points=qe)}}p.setRaw("userData",[e,et]),w.setRaw("userData",[e,et]),et===t&&this._endLine(qe,Fe[0][0]),w&&this._drawStroke(w,Fe),p&&this._drawFill(p,Fe),this.axisRanges.each(Pt=>{const Qt=Pt.container,St=this.makeFill(Pt.fills);Qt&&Qt.children.push(St),St.setPrivate("visible",!0),this._drawFill(St,Fe);const $i=this.makeStroke(Pt.strokes);Qt&&Qt.children.push($i),$i.setPrivate("visible",!0),this._drawStroke($i,Fe),St.setRaw("userData",[e,et]),$i.setRaw("userData",[e,et])})}_getPoints(e,t){let s=t.points,o=e.get("locationX",t.locationX),c=e.get("locationY",t.locationY),p=t.xAxis.getDataItemPositionX(e,t.xField,o,t.vcx),g=t.yAxis.getDataItemPositionY(e,t.yField,c,t.vcy);if(this._shouldInclude(p)){const b=this.getPoint(p,g),w=[b.x,b.y];if(b.x+=this._x,b.y+=this._y,e.set("point",b),t.fillVisible){let T=p,x=g;if(t.baseAxis===t.xAxis?x=t.basePosY:t.baseAxis===t.yAxis&&(T=t.basePosX),t.getOpen){let Q=e.get(t.xOpenField),J=e.get(t.yOpenField);if(null!=Q&&null!=J){let q=e.get("openLocationX",t.openLocationX),K=e.get("openLocationY",t.openLocationY);if(t.stacked){let ne=e.get("stackToItemX"),ge=e.get("stackToItemY");ne?(T=t.xAxis.getDataItemPositionX(ne,t.xField,q,ne.component.get("vcx")),R.isNaN(T)&&(T=t.basePosX)):T=t.yAxis===t.baseAxis?t.basePosX:t.xAxis.getDataItemPositionX(e,t.xOpenField,q,t.vcx),ge?(x=t.yAxis.getDataItemPositionY(ge,t.yField,K,ge.component.get("vcy")),R.isNaN(x)&&(x=t.basePosY)):x=t.xAxis===t.baseAxis?t.basePosY:t.yAxis.getDataItemPositionY(e,t.yOpenField,K,t.vcy)}else T=t.xAxis.getDataItemPositionX(e,t.xOpenField,q,t.vcx),x=t.yAxis.getDataItemPositionY(e,t.yOpenField,K,t.vcy)}}let C=this.getPoint(T,x);w[2]=C.x,w[3]=C.y}if(t.minDistance>0){const C=w[2],Q=w[3],J=this._previousPoint,ne=J[2],ge=J[3];(Math.hypot(w[0]-J[0],w[1]-J[1])>t.minDistance||C&&Q&&Math.hypot(C-ne,Q-ge)>t.minDistance)&&(s.push(w),this._previousPoint=w)}else s.push(w)}}_endLine(e,t){}_drawStroke(e,t){e.get("visible")&&!e.get("forceHidden")&&e.set("draw",s=>{v.each(t,o=>{this._strokeGenerator.context(s),this._strokeGenerator(o)})})}_drawFill(e,t){e.get("visible")&&!e.get("forceHidden")&&e.set("draw",s=>{v.each(t,o=>{this._fillGenerator.context(s),this._fillGenerator(o)})})}_processAxisRange(e){super._processAxisRange(e),e.fills=new P.o(Nt.YS.new({}),()=>M.T._new(this._root,{themeTags:j.mergeTags(e.fills.template.get("themeTags",[]),["line","series","fill"])},[this.fills.template,e.fills.template])),e.strokes=new P.o(Nt.YS.new({}),()=>M.T._new(this._root,{themeTags:j.mergeTags(e.strokes.template.get("themeTags",[]),["line","series","stroke"])},[this.strokes.template,e.strokes.template]))}createLegendMarker(e){const t=this.get("legendDataItem");if(t){const s=t.get("marker"),o=t.get("markerRectangle");o&&o.setPrivate("visible",!1),s.set("background",se.A.new(s._root,{fillOpacity:0,fill:(0,W.$_)(0)}));const c=s.children.push(M.T._new(s._root,{themeTags:["line","series","legend","marker","stroke"],interactive:!1},[this.strokes.template]));this._legendStroke=c;const p=s.children.push(M.T._new(s._root,{themeTags:["line","series","legend","marker","fill"]},[this.fills.template]));this._legendFill=p;const g=this._root.interfaceColors.get("disabled");if(c.states.create("disabled",{fill:g,stroke:g}),p.states.create("disabled",{fill:g,stroke:g}),this.bullets.length>0){const b=this.bullets.getIndex(0);if(b){const w=b(s._root,this,new pe.z(this,{legend:!0},{}));if(w){const T=w.get("sprite");T instanceof M.T&&T.states.create("disabled",{fill:g,stroke:g}),T&&(T.set("tooltipText",void 0),T.set("tooltipHTML",void 0),s.children.push(T),T.setAll({x:s.width()/2,y:s.height()/2}))}}}}}}Object.defineProperty(Zt,"className",{enumerable:!0,configurable:!0,writable:!0,value:"LineSeries"}),Object.defineProperty(Zt,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ft.classNames.concat([Zt.className])});class bs{constructor(e,t){Object.defineProperty(this,"_line",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_point",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_context",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_x0",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_x1",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_y0",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_y1",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_t0",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_tension",{enumerable:!0,configurable:!0,writable:!0,value:0}),this._context=e,this._tension=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0}lineEnd(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:xs(this,this._t0,vs(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){[e,t]=[t,e];let s=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,xs(this,vs(this,s=ys(this,e,t)),s);break;default:xs(this,this._t0,s=ys(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=s}}}function Wi(ee){function e(t){return new bs(t,ee)}return e.tension=function(t){return Wi(+t)},e}function _s(ee){return ee<0?-1:1}function ys(ee,e,t){let s=ee._x1-ee._x0,o=e-ee._x1,c=(ee._y1-ee._y0)/(s||o<0&&-0),p=(t-ee._y1)/(o||s<0&&-0),g=(c*o+p*s)/(s+o);return(_s(c)+_s(p))*Math.min(Math.abs(c),Math.abs(p),.5*Math.abs(g))||0}function vs(ee,e){let t=ee._x1-ee._x0;return t?(3*(ee._y1-ee._y0)/t-e)/2:e}function xs(ee,e,t){let s=ee._x0,c=ee._x1,p=ee._y1,g=(c-s)/1.5*(1-ee._tension);ee._context.bezierCurveTo(ee._y0+g*e,s+g,p-g*t,c-g,p,c)}class Zi extends Zt{_afterNew(){this._setDefault("curveFactory",Wi(this.get("tension",.5))),super._afterNew()}_updateChildren(){this.isDirty("tension")&&(this.set("curveFactory",Wi(this.get("tension",.5))),this._valuesDirty=!0),super._updateChildren()}}Object.defineProperty(Zi,"className",{enumerable:!0,configurable:!0,writable:!0,value:"SmoothedYLineSeries"}),Object.defineProperty(Zi,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Zt.classNames.concat([Zi.className])});class os{constructor(e,t){Object.defineProperty(this,"_line",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_point",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_context",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_x0",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_x1",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_y0",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_y1",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_t0",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_tension",{enumerable:!0,configurable:!0,writable:!0,value:0}),this._context=e,this._tension=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0}lineEnd(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:gi(this,this._t0,ji(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){let s=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,gi(this,ji(this,s=Ps(this,e,t)),s);break;default:gi(this,this._t0,s=Ps(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=s}}}function Qi(ee){return function e(t){return new os(t,ee)}}function ws(ee){return ee<0?-1:1}function Ps(ee,e,t){let s=ee._x1-ee._x0,o=e-ee._x1,c=(ee._y1-ee._y0)/(s||o<0&&-0),p=(t-ee._y1)/(o||s<0&&-0),g=(c*o+p*s)/(s+o);return(ws(c)+ws(p))*Math.min(Math.abs(c),Math.abs(p),.5*Math.abs(g))||0}function ji(ee,e){let t=ee._x1-ee._x0;return t?(3*(ee._y1-ee._y0)/t-e)/2:e}function gi(ee,e,t){let s=ee._x0,c=ee._x1,p=ee._y1,g=(c-s)/1.5*(1-ee._tension);ee._context.bezierCurveTo(s+g,ee._y0+g*e,c-g,p-g*t,c,p)}class Mi extends Zt{_afterNew(){this._setDefault("curveFactory",Qi(this.get("tension",.5))),super._afterNew()}_updateChildren(){this.isDirty("tension")&&(this.set("curveFactory",Qi(this.get("tension",.5))),this._valuesDirty=!0),super._updateChildren()}}function Ci(ee,e,t){ee._context.bezierCurveTo(ee._x1+ee._k*(ee._x2-ee._x0),ee._y1+ee._k*(ee._y2-ee._y0),ee._x2+ee._k*(ee._x1-e),ee._y2+ee._k*(ee._y1-t),ee._x2,ee._y2)}function ls(ee,e){this._context=ee,this._k=(1-e)/6}Object.defineProperty(Mi,"className",{enumerable:!0,configurable:!0,writable:!0,value:"SmoothedXLineSeries"}),Object.defineProperty(Mi,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Zt.classNames.concat([Mi.className])}),ls.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Ci(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(ee,e){switch(ee=+ee,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(ee,e):this._context.moveTo(ee,e);break;case 1:this._point=2,this._x1=ee,this._y1=e;break;case 2:this._point=3;default:Ci(this,ee,e)}this._x0=this._x1,this._x1=this._x2,this._x2=ee,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const Ki=function ee(e){function t(s){return new ls(s,e)}return t.tension=function(s){return ee(+s)},t}(0);class Si extends Zt{_afterNew(){this._setDefault("curveFactory",Ki.tension(this.get("tension",.5))),super._afterNew()}_updateChildren(){this.isDirty("tension")&&(this.set("curveFactory",Ki.tension(this.get("tension",.5))),this._valuesDirty=!0),super._updateChildren()}}function Ni(ee,e){this._context=ee,this._t=e}function Ls(ee){return new Ni(ee,1)}Object.defineProperty(Si,"className",{enumerable:!0,configurable:!0,writable:!0,value:"SmoothedXYLineSeries"}),Object.defineProperty(Si,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Zt.classNames.concat([Si.className])}),Ni.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(ee,e){switch(ee=+ee,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(ee,e):this._context.moveTo(ee,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(ee,e);else{var t=this._x*(1-this._t)+ee*this._t;this._context.lineTo(t,this._y),this._context.lineTo(t,e)}}this._x=ee,this._y=e}};class Bi extends Zt{_afterNew(){this._setDefault("curveFactory",Ls),super._afterNew()}_getPoints(e,t){let s=t.points,o=this.get("stepWidth",z.AQ).value/2,c=e.get("locationX",t.locationX),p=e.get("locationY",t.locationY),g=c,b=p;t.baseAxis===t.xAxis?(c-=o,g+=o):t.baseAxis===t.yAxis&&(p-=o,b+=o);let w=t.xAxis.getDataItemPositionX(e,t.xField,c,t.vcx),T=t.yAxis.getDataItemPositionY(e,t.yField,p,t.vcy),x=t.xAxis.getDataItemPositionX(e,t.xField,g,t.vcx),C=t.yAxis.getDataItemPositionY(e,t.yField,b,t.vcy);if(this._shouldInclude(w)){const Q=this.getPoint(w,T),J=[Q.x,Q.y],q=this.getPoint(x,C),K=[q.x,q.y];if(t.fillVisible){let ne=w,ge=T,ae=x,fe=C;if(t.baseAxis===t.xAxis?(ge=t.basePosY,fe=t.basePosY):t.baseAxis===t.yAxis&&(ne=t.basePosX,ae=t.basePosX),t.getOpen){let Ze=e.get(t.xOpenField),Ye=e.get(t.yOpenField);if(null!=Ze&&null!=Ye)if(c=e.get("openLocationX",t.openLocationX),p=e.get("openLocationY",t.openLocationY),g=c,b=p,t.baseAxis===t.xAxis?(c-=o,g+=o):t.baseAxis===t.yAxis&&(p-=o,b+=o),t.stacked){let rt=e.get("stackToItemX"),Fe=e.get("stackToItemY");rt?(ne=t.xAxis.getDataItemPositionX(rt,t.xField,c,rt.component.get("vcx")),ae=t.xAxis.getDataItemPositionX(rt,t.xField,g,rt.component.get("vcx"))):t.yAxis===t.baseAxis?(ne=t.basePosX,ae=t.basePosX):t.baseAxis===t.yAxis&&(ne=t.xAxis.getDataItemPositionX(e,t.xOpenField,c,t.vcx),ae=t.xAxis.getDataItemPositionX(e,t.xOpenField,g,t.vcx)),Fe?(ge=t.yAxis.getDataItemPositionY(Fe,t.yField,p,Fe.component.get("vcy")),fe=t.yAxis.getDataItemPositionY(Fe,t.yField,b,Fe.component.get("vcy"))):t.xAxis===t.baseAxis?(ge=t.basePosY,fe=t.basePosY):t.baseAxis===t.yAxis&&(ge=t.yAxis.getDataItemPositionY(e,t.yOpenField,p,t.vcy),fe=t.yAxis.getDataItemPositionY(e,t.yOpenField,b,t.vcy))}else ne=t.xAxis.getDataItemPositionX(e,t.xOpenField,c,t.vcx),ge=t.yAxis.getDataItemPositionY(e,t.yOpenField,p,t.vcy),ae=t.xAxis.getDataItemPositionX(e,t.xOpenField,g,t.vcx),fe=t.yAxis.getDataItemPositionY(e,t.yOpenField,b,t.vcy)}let ve=this.getPoint(ne,ge),Pe=this.getPoint(ae,fe);J[2]=ve.x,J[3]=ve.y,K[2]=Pe.x,K[3]=Pe.y}s.push(J),s.push(K),e.set("point",{x:J[0]+(K[0]-J[0])/2,y:J[1]+(K[1]-J[1])/2})}this.get("noRisers")&&(t.points=[],t.segments.push(s))}}Object.defineProperty(Bi,"className",{enumerable:!0,configurable:!0,writable:!0,value:"StepLineSeries"}),Object.defineProperty(Bi,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Zt.classNames.concat([Bi.className])})},1783:(Mt,ze,I)=>{var Re=I(7935);function z(X,v,F){v=v||1;for(var N,se,k,P,W=0;W<X[0].length;W++){var le=X[0][W];(!W||le[0]<N)&&(N=le[0]),(!W||le[1]<se)&&(se=le[1]),(!W||le[0]>k)&&(k=le[0]),(!W||le[1]>P)&&(P=le[1])}var M=k-N,U=P-se,j=Math.min(M,U),_e=j/2;if(0===j){var Le=[N,se];return Le.distance=0,Le}for(var he=new Re(void 0,we),Ie=N;Ie<k;Ie+=j)for(var Ve=se;Ve<P;Ve+=j)he.push(new be(Ie+_e,Ve+_e,_e,X));var ye=function R(X){for(var v=0,F=0,N=0,se=X[0],k=0,P=se.length,W=P-1;k<P;W=k++){var le=se[k],M=se[W],U=le[0]*M[1]-M[0]*le[1];F+=(le[0]+M[0])*U,N+=(le[1]+M[1])*U,v+=3*U}return 0===v?new be(se[0][0],se[0][1],0,X):new be(F/v,N/v,0,X)}(X),pe=new be(N+M/2,se+U/2,0,X);pe.d>ye.d&&(ye=pe);for(var it=he.length;he.length;){var ut=he.pop();ut.d>ye.d&&(ye=ut,F&&console.log("found best %d after %d probes",Math.round(1e4*ut.d)/1e4,it)),!(ut.max-ye.d<=v)&&(he.push(new be(ut.x-(_e=ut.h/2),ut.y-_e,_e,X)),he.push(new be(ut.x+_e,ut.y-_e,_e,X)),he.push(new be(ut.x-_e,ut.y+_e,_e,X)),he.push(new be(ut.x+_e,ut.y+_e,_e,X)),it+=4)}F&&(console.log("num probes: "+it),console.log("best distance: "+ye.d));var Ee=[ye.x,ye.y];return Ee.distance=ye.d,Ee}function we(X,v){return v.max-X.max}function be(X,v,F,N){this.x=X,this.y=v,this.h=F,this.d=function ue(X,v,F){for(var N=!1,se=1/0,k=0;k<F.length;k++)for(var P=F[k],W=0,le=P.length,M=le-1;W<le;M=W++){var U=P[W],j=P[M];U[1]>v!=j[1]>v&&X<(j[0]-U[0])*(v-U[1])/(j[1]-U[1])+U[0]&&(N=!N),se=Math.min(se,ce(X,v,U,j))}return 0===se?0:(N?1:-1)*Math.sqrt(se)}(X,v,N),this.max=this.d+this.h*Math.SQRT2}function ce(X,v,F,N){var se=F[0],k=F[1],P=N[0]-se,W=N[1]-k;if(0!==P||0!==W){var le=((X-se)*P+(v-k)*W)/(P*P+W*W);le>1?(se=N[0],k=N[1]):le>0&&(se+=P*le,k+=W*le)}return(P=X-se)*P+(W=v-k)*W}Re.default&&(Re=Re.default),Mt.exports=z,Mt.exports.default=z},7935:(Mt,ze,I)=>{I.r(ze),I.d(ze,{default:()=>Re});class Re{constructor(be=[],ue=z){if(this.data=be,this.length=this.data.length,this.compare=ue,this.length>0)for(let R=(this.length>>1)-1;R>=0;R--)this._down(R)}push(be){this.data.push(be),this.length++,this._up(this.length-1)}pop(){if(0===this.length)return;const be=this.data[0],ue=this.data.pop();return this.length--,this.length>0&&(this.data[0]=ue,this._down(0)),be}peek(){return this.data[0]}_up(be){const{data:ue,compare:R}=this,ce=ue[be];for(;be>0;){const X=be-1>>1,v=ue[X];if(R(ce,v)>=0)break;ue[be]=v,be=X}ue[be]=ce}_down(be){const{data:ue,compare:R}=this,ce=this.length>>1,X=ue[be];for(;be<ce;){let v=1+(be<<1),F=ue[v];const N=v+1;if(N<this.length&&R(ue[N],F)<0&&(v=N,F=ue[N]),R(F,X)>=0)break;ue[be]=F,be=v}ue[be]=X}}function z(we,be){return we<be?-1:we>be?1:0}},6979:(Mt,ze,I)=>{function Re(z){return function(){return z}}I.d(ze,{Z:()=>Re})},5831:(Mt,ze,I)=>{I.d(ze,{d:()=>F});const Re=Math.PI,z=2*Re,we=1e-6,be=z-we;function ue(N){this._+=N[0];for(let se=1,k=N.length;se<k;++se)this._+=arguments[se]+N[se]}class ce{constructor(se){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==se?ue:function R(N){let se=Math.floor(N);if(!(se>=0))throw new Error(`invalid digits: ${N}`);if(se>15)return ue;const k=10**se;return function(P){this._+=P[0];for(let W=1,le=P.length;W<le;++W)this._+=Math.round(arguments[W]*k)/k+P[W]}}(se)}moveTo(se,k){this._append`M${this._x0=this._x1=+se},${this._y0=this._y1=+k}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(se,k){this._append`L${this._x1=+se},${this._y1=+k}`}quadraticCurveTo(se,k,P,W){this._append`Q${+se},${+k},${this._x1=+P},${this._y1=+W}`}bezierCurveTo(se,k,P,W,le,M){this._append`C${+se},${+k},${+P},${+W},${this._x1=+le},${this._y1=+M}`}arcTo(se,k,P,W,le){if(se=+se,k=+k,P=+P,W=+W,(le=+le)<0)throw new Error(`negative radius: ${le}`);let M=this._x1,U=this._y1,j=P-se,_e=W-k,Le=M-se,he=U-k,Ie=Le*Le+he*he;if(null===this._x1)this._append`M${this._x1=se},${this._y1=k}`;else if(Ie>we)if(Math.abs(he*j-_e*Le)>we&&le){let Ve=P-M,ye=W-U,pe=j*j+_e*_e,it=Ve*Ve+ye*ye,ut=Math.sqrt(pe),Ee=Math.sqrt(Ie),ft=le*Math.tan((Re-Math.acos((pe+Ie-it)/(2*ut*Ee)))/2),Qe=ft/Ee,pt=ft/ut;Math.abs(Qe-1)>we&&this._append`L${se+Qe*Le},${k+Qe*he}`,this._append`A${le},${le},0,0,${+(he*Ve>Le*ye)},${this._x1=se+pt*j},${this._y1=k+pt*_e}`}else this._append`L${this._x1=se},${this._y1=k}`}arc(se,k,P,W,le,M){if(se=+se,k=+k,M=!!M,(P=+P)<0)throw new Error(`negative radius: ${P}`);let U=P*Math.cos(W),j=P*Math.sin(W),_e=se+U,Le=k+j,he=1^M,Ie=M?W-le:le-W;null===this._x1?this._append`M${_e},${Le}`:(Math.abs(this._x1-_e)>we||Math.abs(this._y1-Le)>we)&&this._append`L${_e},${Le}`,P&&(Ie<0&&(Ie=Ie%z+z),Ie>be?this._append`A${P},${P},0,1,${he},${se-U},${k-j}A${P},${P},0,1,${he},${this._x1=_e},${this._y1=Le}`:Ie>we&&this._append`A${P},${P},0,${+(Ie>=Re)},${he},${this._x1=se+P*Math.cos(le)},${this._y1=k+P*Math.sin(le)}`)}rect(se,k,P,W){this._append`M${this._x0=this._x1=+se},${this._y0=this._y1=+k}h${P=+P}v${+W}h${-P}Z`}toString(){return this._}}function F(N){let se=3;return N.digits=function(k){if(!arguments.length)return se;if(null==k)se=null;else{const P=Math.floor(k);if(!(P>=0))throw new RangeError(`invalid digits: ${k}`);se=P}return N},()=>new ce(se)}}}]);