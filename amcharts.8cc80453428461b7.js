"use strict";(self.webpackChunkamcharts=self.webpackChunkamcharts||[]).push([[803],{5013:(kt,He,I)=>{I.d(He,{Q:()=>_e});var Ne=I(1371),V=I(4178),Me=I(3559);class _e{constructor(U,fe){if(Object.defineProperty(this,"_root",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_rules",{enumerable:!0,configurable:!0,writable:!0,value:{}}),this._root=U,!fe)throw new Error("You cannot use `new Class()`, instead use `Class.new()`")}static new(U){const fe=new this(U,!0);return fe.setupDefaultRules(),fe}setupDefaultRules(){}_lookupRules(U){return this._rules[U]}ruleRaw(U,fe=[]){let F=this._rules[U];F||(F=this._rules[U]=[]),fe.sort(V.qu);const{index:v,found:oe}=Me.getSortedIndex(F,Z=>{const ae=V.qu(Z.tags.length,fe.length);return 0===ae?V.wq(Z.tags,fe,V.qu):ae});if(oe)return F[v].template;{const Z=Ne.YS.new({});return F.splice(v,0,{tags:fe,template:Z}),Z}}rule(U,fe=[]){return this.ruleRaw(U,fe)}}},4618:(kt,He,I)=>{I.d(He,{z:()=>_e});var Ne=I(867),V=I(9239),Me=I(8261);class _e extends V.W{_afterNew(){this._settings.themeTags=Me.mergeTags(this._settings.themeTags,["button"]),super._afterNew(),this._settings.background||this.set("background",Ne.c.new(this._root,{themeTags:Me.mergeTags(this._settings.themeTags,["background"])}))}_prepareChildren(){if(super._prepareChildren(),this.isDirty("icon")){const U=this._prevSettings.icon,fe=this.get("icon");fe!==U&&(this._disposeProperty("icon"),U&&U.dispose(),fe&&this.children.push(fe),this._prevSettings.icon=fe)}if(this.isDirty("label")){const U=this._prevSettings.label,fe=this.get("label");fe!==U&&(this._disposeProperty("label"),U&&U.dispose(),fe&&this.children.push(fe),this._prevSettings.label=fe)}}}Object.defineProperty(_e,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Button"}),Object.defineProperty(_e,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:V.W.classNames.concat([_e.className])})},6288:(kt,He,I)=>{I.d(He,{k:()=>Me});var Ne=I(9239),V=I(7039);class Me extends Ne.W{constructor(){super(...arguments),Object.defineProperty(this,"chartContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(Ne.W.new(this._root,{width:V.AQ,height:V.AQ,interactiveChildren:!1}))}),Object.defineProperty(this,"bulletsContainer",{enumerable:!0,configurable:!0,writable:!0,value:Ne.W.new(this._root,{interactiveChildren:!1,isMeasured:!1,position:"absolute",width:V.AQ,height:V.AQ})})}}Object.defineProperty(Me,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Chart"}),Object.defineProperty(Me,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Ne.W.classNames.concat([Me.className])})},9005:(kt,He,I)=>{I.d(He,{x:()=>U});var Ne=I(7039),V=I(1262),Me=I(8490),_e=I(9472),ne=I(8261);class U extends V._{constructor(){super(...arguments),Object.defineProperty(this,"_flipped",{enumerable:!0,configurable:!0,writable:!0,value:!1})}_afterNew(){this._textKeys.push("textType","kerning"),super._afterNew()}_makeText(){this._text=this.children.push(Me.f.new(this._root,{}))}baseRadius(){const F=this.getPrivate("radius",0),v=this.getPrivate("innerRadius",0),oe=this.get("baseRadius",0);return v+ne.relativeToValue(oe,F-v)}radius(){const F=this.get("inside",!1);return this.baseRadius()+this.get("radius",0)*(F?-1:1)}_updateChildren(){if(super._updateChildren(),this.isDirty("baseRadius")||this.isPrivateDirty("radius")||this.isPrivateDirty("innerRadius")||this.isDirty("labelAngle")||this.isDirty("radius")||this.isDirty("inside")||this.isDirty("orientation")||this.isDirty("textType")){const F=this.get("textType","adjusted"),v=this.get("inside",!1),oe=this.get("orientation");let Z=_e.normalizeAngle(this.get("labelAngle",0));this._text.set("startAngle",this.get("labelAngle",0)),this._text.set("inside",v);const ae=_e.sin(Z),A=_e.cos(Z);let R=this.baseRadius(),ue=this.radius();if(this._display.angle=0,"circular"==F)this.setAll({paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}),this._text.set("orientation",oe),this._text.set("radius",ue);else{0==R&&(Z=0,ue=0);let Se=ue*A,Pe=ue*ae;"radial"==F?(this.setRaw("x",Se),this.setRaw("y",Pe),Z<90||Z>270||"auto"!=oe?(this._display.angle=Z,this._flipped=!1):(this._display.angle=Z+180,this._flipped=!0),this._dirty.rotation=!1):"adjusted"==F?(this.setRaw("centerX",Ne.CI),this.setRaw("centerY",Ne.CI),this.setRaw("x",Se),this.setRaw("y",Pe)):"regular"==F&&(this.setRaw("x",Se),this.setRaw("y",Pe))}this.markDirtyPosition(),this.markDirtyBounds()}}_updatePosition(){const F=this.get("textType","regular"),v=this.get("inside",!1);let oe=0,Z=0,ae=this.get("labelAngle",0),A=this.localBounds(),R=A.right-A.left,ue=A.bottom-A.top;if("radial"==F){if(this._flipped){let Se=this.get("centerX");Se instanceof Ne.gG&&(R*=1-2*Se.value),oe=R*_e.cos(ae),Z=R*_e.sin(ae)}}else!v&&"adjusted"==F&&(oe=R/2*_e.cos(ae),Z=ue/2*_e.sin(ae));this.setRaw("dx",oe),this.setRaw("dy",Z),super._updatePosition()}get text(){return this._text}}Object.defineProperty(U,"className",{enumerable:!0,configurable:!0,writable:!0,value:"RadialLabel"}),Object.defineProperty(U,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:V._.classNames.concat([U.className])})},8490:(kt,He,I)=>{I.d(He,{f:()=>Me});var Ne=I(683),V=I(9472);class Me extends Ne.x{constructor(){super(...arguments),Object.defineProperty(this,"_display",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeRadialText("",this.textStyle)})}_afterNew(){super._afterNew()}_beforeChanged(){super._beforeChanged(),this._display.clear(),this.isDirty("textType")&&(this._display.textType=this.get("textType"),this.markDirtyBounds()),this.isDirty("radius")&&(this._display.radius=this.get("radius"),this.markDirtyBounds()),this.isDirty("startAngle")&&(this._display.startAngle=(this.get("startAngle",0)+90)*V.RADIANS,this.markDirtyBounds()),this.isDirty("inside")&&(this._display.inside=this.get("inside"),this.markDirtyBounds()),this.isDirty("orientation")&&(this._display.orientation=this.get("orientation"),this.markDirtyBounds()),this.isDirty("kerning")&&(this._display.kerning=this.get("kerning"),this.markDirtyBounds())}}Object.defineProperty(Me,"className",{enumerable:!0,configurable:!0,writable:!0,value:"RadialText"}),Object.defineProperty(Me,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Ne.x.classNames.concat([Me.className])})},4248:(kt,He,I)=>{I.d(He,{L:()=>fe});var Ne=I(867),V=I(9239),Me=I(3232),_e=I(4618),ne=I(2743),U=I(8261);class fe extends V.W{constructor(){super(...arguments),Object.defineProperty(this,"thumb",{enumerable:!0,configurable:!0,writable:!0,value:this._makeThumb()}),Object.defineProperty(this,"startGrip",{enumerable:!0,configurable:!0,writable:!0,value:this._makeButton()}),Object.defineProperty(this,"endGrip",{enumerable:!0,configurable:!0,writable:!0,value:this._makeButton()}),Object.defineProperty(this,"_thumbBusy",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_startDown",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_endDown",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_thumbDown",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_gripDown",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_addOrientationClass(){this._settings.themeTags=U.mergeTags(this._settings.themeTags,["scrollbar",this._settings.orientation]),this._settings.background||(this._settings.background=Ne.c.new(this._root,{themeTags:U.mergeTags(this._settings.themeTags,["main","background"])}))}_makeButton(){return this.children.push(_e.z.new(this._root,{themeTags:["resize","button",this.get("orientation")],icon:Me.T.new(this._root,{themeTags:["icon"]})}))}_makeThumb(){return this.children.push(Ne.c.new(this._root,{themeTags:["thumb",this.get("orientation")]}))}_handleAnimation(v){v&&this._disposers.push(v.events.on("stopped",()=>{this.setPrivateRaw("isBusy",!1),this._thumbBusy=!1}))}_afterNew(){this._addOrientationClass(),super._afterNew();const v=this.startGrip,oe=this.endGrip,Z=this.thumb,ae=this.get("background");ae&&this._disposers.push(ae.events.on("click",A=>{this.setPrivateRaw("isBusy",!0);const R=this._display.toLocal(A.point),ue=this.width(),Se=this.height(),Pe=this.get("orientation");let ge,Te,Fe;ge="vertical"==Pe?(R.y-Z.height()/2)/Se:(R.x-Z.width()/2)/ue,"vertical"==Pe?(Te=ge*Se,Fe="y"):(Te=ge*ue,Fe="x");const Ge=this.get("animationDuration",0);Ge>0?(this._thumbBusy=!0,this._handleAnimation(this.thumb.animate({key:Fe,to:Te,duration:Ge,easing:this.get("animationEasing")}))):(this.thumb.set(Fe,Te),this._root.events.once("frameended",()=>{this.setPrivateRaw("isBusy",!1)}))})),this._disposers.push(Z.events.on("dblclick",A=>{if(!U.isLocalEvent(A.originalEvent,this))return;const R=this.get("animationDuration",0),ue=this.get("animationEasing");this.animate({key:"start",to:0,duration:R,easing:ue}),this.animate({key:"end",to:1,duration:R,easing:ue})})),this._disposers.push(v.events.on("pointerdown",()=>{this.setPrivateRaw("isBusy",!0),this._startDown=!0,this._gripDown="start"})),this._disposers.push(oe.events.on("pointerdown",()=>{this.setPrivateRaw("isBusy",!0),this._endDown=!0,this._gripDown="end"})),this._disposers.push(Z.events.on("pointerdown",()=>{this.setPrivateRaw("isBusy",!0),this._thumbDown=!0,this._gripDown=void 0})),this._disposers.push(v.events.on("globalpointerup",()=>{this._startDown&&this.setPrivateRaw("isBusy",!1),this._startDown=!1})),this._disposers.push(oe.events.on("globalpointerup",()=>{this._endDown&&this.setPrivateRaw("isBusy",!1),this._endDown=!1})),this._disposers.push(Z.events.on("globalpointerup",()=>{this._thumbDown&&this.setPrivateRaw("isBusy",!1),this._thumbDown=!1})),this._disposers.push(v.on("x",()=>{this._updateThumb()})),this._disposers.push(oe.on("x",()=>{this._updateThumb()})),this._disposers.push(v.on("y",()=>{this._updateThumb()})),this._disposers.push(oe.on("y",()=>{this._updateThumb()})),this._disposers.push(Z.events.on("positionchanged",()=>{this._updateGripsByThumb()})),"vertical"==this.get("orientation")?(v.set("x",0),oe.set("x",0),this._disposers.push(Z.adapters.add("y",A=>Math.max(Math.min(Number(A),this.height()-Z.height()),0))),this._disposers.push(Z.adapters.add("x",A=>this.width()/2)),this._disposers.push(v.adapters.add("x",A=>this.width()/2)),this._disposers.push(oe.adapters.add("x",A=>this.width()/2)),this._disposers.push(v.adapters.add("y",A=>Math.max(Math.min(Number(A),this.height()),0))),this._disposers.push(oe.adapters.add("y",A=>Math.max(Math.min(Number(A),this.height()),0)))):(v.set("y",0),oe.set("y",0),this._disposers.push(Z.adapters.add("x",A=>Math.max(Math.min(Number(A),this.width()-Z.width()),0))),this._disposers.push(Z.adapters.add("y",A=>this.height()/2)),this._disposers.push(v.adapters.add("y",A=>this.height()/2)),this._disposers.push(oe.adapters.add("y",A=>this.height()/2)),this._disposers.push(v.adapters.add("x",A=>Math.max(Math.min(Number(A),this.width()),0))),this._disposers.push(oe.adapters.add("x",A=>Math.max(Math.min(Number(A),this.width()),0))))}_updateChildren(){super._updateChildren(),(this.isDirty("end")||this.isDirty("start")||this._sizeDirty)&&this.updateGrips()}_changed(){if(super._changed(),this.isDirty("start")||this.isDirty("end")){const v="rangechanged";this.events.isEnabled(v)&&this.events.dispatch(v,{type:v,target:this,start:this.get("start",0),end:this.get("end",1),grip:this._gripDown})}}updateGrips(){const v=this.startGrip,oe=this.endGrip,Z=this.get("orientation"),ae=this.height(),A=this.width();"vertical"==Z?(v.set("y",ae*this.get("start",0)),oe.set("y",ae*this.get("end",1))):(v.set("x",A*this.get("start",0)),oe.set("x",A*this.get("end",1)));const R=this.getPrivate("positionTextFunction"),ue=Math.round(100*this.get("start",0)),Se=Math.round(100*this.get("end",0));let Pe,ge;R?(Pe=R.call(this,this.get("start",0)),ge=R.call(this,this.get("end",0))):(Pe=ue+"%",ge=Se+"%"),v.set("ariaLabel",this._t("From %1",void 0,Pe)),v.set("ariaValueNow",""+ue),v.set("ariaValueText",ue+"%"),v.set("ariaValueMin","0"),v.set("ariaValueMax","100"),oe.set("ariaLabel",this._t("To %1",void 0,ge)),oe.set("ariaValueNow",""+Se),oe.set("ariaValueText",Se+"%"),oe.set("ariaValueMin","0"),oe.set("ariaValueMax","100")}_updateThumb(){const v=this.thumb,oe=this.startGrip,Z=this.endGrip,ae=this.height(),A=this.width();let R=oe.x(),ue=Z.x(),Se=oe.y(),Pe=Z.y(),ge=0,Te=1;"vertical"==this.get("orientation")?ne.isNumber(Se)&&ne.isNumber(Pe)&&(!this._thumbBusy&&!v.isDragging()&&(v.set("height",Pe-Se),v.set("y",Se)),ge=Se/ae,Te=Pe/ae):ne.isNumber(R)&&ne.isNumber(ue)&&(!this._thumbBusy&&!v.isDragging()&&(v.set("width",ue-R),v.set("x",R)),ge=R/A,Te=ue/A),this.getPrivate("isBusy")&&(this.get("start")!=ge||this.get("end")!=Te)&&(this.set("start",ge),this.set("end",Te));const Fe=this.getPrivate("positionTextFunction"),Ge=Math.round(100*this.get("start",0)),Ce=Math.round(100*this.get("end",0));let ot,Ot;Fe?(ot=Fe.call(this,this.get("start",0)),Ot=Fe.call(this,this.get("end",0))):(ot=Ge+"%",Ot=Ce+"%"),v.set("ariaLabel",this._t("From %1 to %2",void 0,ot,Ot)),v.set("ariaValueNow",""+Ge),v.set("ariaValueText",Ge+"%")}_updateGripsByThumb(){const v=this.thumb,oe=this.startGrip,Z=this.endGrip;if("vertical"==this.get("orientation")){const ae=v.height();oe.set("y",v.y()),Z.set("y",v.y()+ae)}else{const ae=v.width();oe.set("x",v.x()),Z.set("x",v.x()+ae)}}}Object.defineProperty(fe,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Scrollbar"}),Object.defineProperty(fe,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:V.W.classNames.concat([fe.className])})},3704:(kt,He,I)=>{I.d(He,{j:()=>U});var Ne=I(6288),V=I(9239),Me=I(434),_e=I(7039),ne=I(3559);class U extends Ne.k{constructor(){super(...arguments),Object.defineProperty(this,"seriesContainer",{enumerable:!0,configurable:!0,writable:!0,value:V.W.new(this._root,{width:_e.AQ,height:_e.AQ,isMeasured:!1})}),Object.defineProperty(this,"series",{enumerable:!0,configurable:!0,writable:!0,value:new Me.dn})}_afterNew(){super._afterNew(),this._disposers.push(this.series);const F=this.seriesContainer.children;this._disposers.push(this.series.events.onAll(v=>{if("clear"===v.type){ne.each(v.oldValues,Z=>{this._removeSeries(Z)});const oe=this.get("colors");oe&&oe.reset()}else if("push"===v.type)F.moveValue(v.newValue),this._processSeries(v.newValue);else if("setIndex"===v.type)F.setIndex(v.index,v.newValue),this._processSeries(v.newValue);else if("insertIndex"===v.type)F.insertIndex(v.index,v.newValue),this._processSeries(v.newValue);else if("removeIndex"===v.type)this._removeSeries(v.oldValue);else{if("moveIndex"!==v.type)throw new Error("Unknown IListEvent type");F.moveValue(v.value,v.newIndex),this._processSeries(v.value)}}))}_processSeries(F){F.chart=this,F._placeBulletsContainer(this)}_removeSeries(F){F.isDisposed()||(this.seriesContainer.children.removeValue(F),F._removeBulletsContainer())}}Object.defineProperty(U,"className",{enumerable:!0,configurable:!0,writable:!0,value:"SerialChart"}),Object.defineProperty(U,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Ne.k.classNames.concat([U.className])})},2661:(kt,He,I)=>{I.d(He,{U:()=>Me});var Ne=I(4889),V=I(796);class Me extends Ne.JH{_afterNew(){super._afterNewApplyThemes(),this._dirty.colors=!1}_beforeChanged(){this.isDirty("colors")&&this.reset()}generateColors(){this.setPrivate("currentPass",this.getPrivate("currentPass",0)+1);const ne=this.getPrivate("currentPass"),U=this.get("colors",[this.get("baseColor",V.Il.fromHex(16711680))]);this.getPrivate("numColors")||this.setPrivate("numColors",U.length);const fe=this.getPrivate("numColors"),v=this.get("passOptions"),oe=this.get("reuse");for(let Z=0;Z<fe;Z++)if(oe)U.push(U[Z]);else{const ae=U[Z].toHSL();let A=ae.h+(v.hue||0)*ne;for(;A>1;)A-=1;let R=ae.s+(v.saturation||0)*ne;R>1&&(R=1),R<0&&(R=0);let ue=ae.l+(v.lightness||0)*ne;for(;ue>1;)ue-=1;U.push(V.Il.fromHSL(A,R,ue))}}getIndex(ne){const U=this.get("colors",[]),fe=this.get("saturation");return ne>=U.length?(this.generateColors(),this.getIndex(ne)):null!=fe?V.Il.saturate(U[ne],fe):U[ne]}next(){let ne=this.getPrivate("currentStep",this.get("startIndex",0));return this.setPrivate("currentStep",ne+this.get("step",1)),this.getIndex(ne)}reset(){this.setPrivate("currentStep",this.get("startIndex",0)),this.setPrivate("currentPass",0)}}Object.defineProperty(Me,"className",{enumerable:!0,configurable:!0,writable:!0,value:"ColorSet"}),Object.defineProperty(Me,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Ne.JH.classNames.concat([Me.className])})},2231:(kt,He,I)=>{I.d(He,{X:()=>fe,v:()=>U});var Ne=I(5013),V=I(7039),Me=I(796),_e=I(680),ne=I(5770);function U(F,v,oe,Z){F.set(v,oe.get(Z)),oe.on(Z,ae=>{F.set(v,ae)})}class fe extends Ne.Q{setupDefaultRules(){super.setupDefaultRules();const v=this._root.language,oe=this._root.interfaceColors,Z=this._root.horizontalLayout,ae=this._root.verticalLayout,A=this.rule.bind(this);A("InterfaceColors").setAll({stroke:Me.Il.fromHex(15066597),fill:Me.Il.fromHex(15987699),primaryButton:Me.Il.fromHex(6788316),primaryButtonHover:Me.Il.fromHex(6779356),primaryButtonDown:Me.Il.fromHex(6872182),primaryButtonActive:Me.Il.fromHex(6872182),primaryButtonText:Me.Il.fromHex(16777215),primaryButtonStroke:Me.Il.fromHex(16777215),secondaryButton:Me.Il.fromHex(14277081),secondaryButtonHover:Me.Il.fromHex(10724259),secondaryButtonDown:Me.Il.fromHex(9276813),secondaryButtonActive:Me.Il.fromHex(15132390),secondaryButtonText:Me.Il.fromHex(0),secondaryButtonStroke:Me.Il.fromHex(16777215),grid:Me.Il.fromHex(0),background:Me.Il.fromHex(16777215),alternativeBackground:Me.Il.fromHex(0),text:Me.Il.fromHex(0),alternativeText:Me.Il.fromHex(16777215),disabled:Me.Il.fromHex(11382189),positive:Me.Il.fromHex(5288704),negative:Me.Il.fromHex(11730944)});{const R=A("ColorSet");R.setAll({passOptions:{hue:.05,saturation:0,lightness:0},colors:[Me.Il.fromHex(6797276)],step:1,reuse:!1,startIndex:0}),R.setPrivate("currentStep",0),R.setPrivate("currentPass",0)}A("Entity").setAll({stateAnimationDuration:0,stateAnimationEasing:ne.out(ne.cubic)}),A("Component").setAll({interpolationDuration:0,interpolationEasing:ne.out(ne.cubic)}),A("Sprite").setAll({visible:!0,scale:1,opacity:1,rotation:0,position:"relative",tooltipX:V.CI,tooltipY:V.CI,tooltipPosition:"fixed",isMeasured:!0}),A("Sprite").states.create("default",{visible:!0,opacity:1}),A("Container").setAll({interactiveChildren:!0,setStateOnChildren:!1}),A("Graphics").setAll({strokeWidth:1}),A("Chart").setAll({width:V.AQ,height:V.AQ,interactiveChildren:!1}),A("Sprite",["horizontal","center"]).setAll({centerX:V.CI,x:V.CI}),A("Sprite",["vertical","center"]).setAll({centerY:V.CI,y:V.CI}),A("Container",["horizontal","layout"]).setAll({layout:Z}),A("Container",["vertical","layout"]).setAll({layout:ae}),A("Pattern").setAll({repetition:"repeat",width:50,height:50,rotation:0,fillOpacity:1}),A("LinePattern").setAll({gap:6,colorOpacity:1,width:49,height:49}),A("RectanglePattern").setAll({gap:6,checkered:!1,centered:!0,maxWidth:5,maxHeight:5,width:48,height:48,strokeWidth:0}),A("CirclePattern").setAll({gap:5,checkered:!1,centered:!1,radius:3,strokeWidth:0,width:45,height:45}),A("LinearGradient").setAll({rotation:90}),A("Legend").setAll({fillField:"fill",strokeField:"stroke",nameField:"name",layout:_e.M.new(this._root,{}),layer:30,clickTarget:"itemContainer"}),A("Container",["legend","item","itemcontainer"]).setAll({paddingLeft:5,paddingRight:5,paddingBottom:5,paddingTop:5,layout:Z,setStateOnChildren:!0,interactiveChildren:!1,ariaChecked:!0,focusable:!0,ariaLabel:v.translate("Press ENTER to toggle"),role:"checkbox"});{const R=A("Rectangle",["legend","item","background"]);R.setAll({fillOpacity:0}),U(R,"fill",oe,"background")}A("Container",["legend","marker"]).setAll({setStateOnChildren:!0,centerY:V.CI,paddingLeft:0,paddingRight:0,paddingBottom:0,paddingTop:0,width:18,height:18}),A("RoundedRectangle",["legend","marker","rectangle"]).setAll({width:V.AQ,height:V.AQ,cornerRadiusBL:3,cornerRadiusTL:3,cornerRadiusBR:3,cornerRadiusTR:3});{const R=A("RoundedRectangle",["legend","marker","rectangle"]).states.create("disabled",{});U(R,"fill",oe,"disabled"),U(R,"stroke",oe,"disabled")}A("Label",["legend","label"]).setAll({centerY:V.CI,marginLeft:5,paddingRight:0,paddingLeft:0,paddingTop:0,paddingBottom:0,populateText:!0}),U(A("Label",["legend","label"]).states.create("disabled",{}),"fill",oe,"disabled"),A("Label",["legend","value","label"]).setAll({centerY:V.CI,marginLeft:5,paddingRight:0,paddingLeft:0,paddingTop:0,paddingBottom:0,width:50,centerX:V.AQ,populateText:!0}),U(A("Label",["legend","value","label"]).states.create("disabled",{}),"fill",oe,"disabled"),A("HeatLegend").setAll({stepCount:1}),A("RoundedRectangle",["heatlegend","marker"]).setAll({cornerRadiusTR:0,cornerRadiusBR:0,cornerRadiusTL:0,cornerRadiusBL:0}),A("RoundedRectangle",["vertical","heatlegend","marker"]).setAll({height:V.AQ,width:15}),A("RoundedRectangle",["horizontal","heatlegend","marker"]).setAll({width:V.AQ,height:15}),A("HeatLegend",["vertical"]).setAll({height:V.AQ}),A("HeatLegend",["horizontal"]).setAll({width:V.AQ}),A("Label",["heatlegend","start"]).setAll({paddingLeft:5,paddingRight:5,paddingTop:5,paddingBottom:5}),A("Label",["heatlegend","end"]).setAll({paddingLeft:5,paddingRight:5,paddingTop:5,paddingBottom:5});{const R=A("Label");R.setAll({paddingTop:8,paddingBottom:8,paddingLeft:10,paddingRight:10,fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',fontSize:"1em",populateText:!1}),U(R,"fill",oe,"text")}A("RadialLabel").setAll({textType:"regular",centerY:V.CI,centerX:V.CI,inside:!1,radius:0,baseRadius:V.AQ,orientation:"auto",textAlign:"center"}),A("RoundedRectangle").setAll({cornerRadiusTL:8,cornerRadiusBL:8,cornerRadiusTR:8,cornerRadiusBR:8}),A("PointedRectangle").setAll({pointerBaseWidth:15,pointerLength:10,cornerRadius:8}),A("Slice").setAll({shiftRadius:0,dRadius:0,dInnerRadius:0});{const R=A("Tick");R.setAll({strokeOpacity:.15,isMeasured:!1,length:4.5,position:"absolute",crisp:!0}),U(R,"stroke",oe,"grid")}A("Bullet").setAll({locationX:.5,locationY:.5}),A("Tooltip").setAll({position:"absolute",getFillFromSprite:!0,getStrokeFromSprite:!1,autoTextColor:!0,paddingTop:9,paddingBottom:8,paddingLeft:10,paddingRight:10,marginBottom:5,pointerOrientation:"vertical",centerX:V.CI,centerY:V.CI,animationEasing:ne.out(ne.cubic),exportable:!1}),A("Polygon").setAll({animationEasing:ne.out(ne.cubic)}),A("PointedRectangle",["tooltip","background"]).setAll({strokeOpacity:.9,cornerRadius:4,pointerLength:4,pointerBaseWidth:8,fillOpacity:.9,stroke:Me.Il.fromHex(16777215)});{const R=A("Label",["tooltip"]);R.setAll({role:"tooltip",populateText:!0,paddingRight:0,paddingTop:0,paddingLeft:0,paddingBottom:0}),U(R,"fill",oe,"alternativeText")}A("Button").setAll({paddingTop:8,paddingBottom:8,paddingLeft:10,paddingRight:10,interactive:!0,layout:Z,interactiveChildren:!1,setStateOnChildren:!0,focusable:!0}),A("Button").states.create("hover",{}),A("Button").states.create("down",{stateAnimationDuration:0}),A("Button").states.create("active",{});{const R=A("RoundedRectangle",["button","background"]);U(R,"fill",oe,"primaryButton"),U(R,"stroke",oe,"primaryButtonStroke")}U(A("RoundedRectangle",["button","background"]).states.create("hover",{}),"fill",oe,"primaryButtonHover"),U(A("RoundedRectangle",["button","background"]).states.create("down",{stateAnimationDuration:0}),"fill",oe,"primaryButtonDown"),U(A("RoundedRectangle",["button","background"]).states.create("active",{}),"fill",oe,"primaryButtonActive"),U(A("Graphics",["button","icon"]),"stroke",oe,"primaryButtonText"),U(A("Label",["button"]),"fill",oe,"primaryButtonText"),A("Button",["zoom"]).setAll({paddingTop:18,paddingBottom:18,paddingLeft:12,paddingRight:12,centerX:46,centerY:-10,y:0,x:V.AQ,role:"button",ariaLabel:v.translate("Zoom Out"),layer:30});{const R=A("RoundedRectangle",["background","button","zoom"]);R.setAll({cornerRadiusBL:40,cornerRadiusBR:40,cornerRadiusTL:40,cornerRadiusTR:40}),U(R,"fill",oe,"primaryButton")}U(A("RoundedRectangle",["background","button","zoom"]).states.create("hover",{}),"fill",oe,"primaryButtonHover"),U(A("RoundedRectangle",["background","button","zoom"]).states.create("down",{stateAnimationDuration:0}),"fill",oe,"primaryButtonDown");{const R=A("Graphics",["icon","button","zoom"]);R.setAll({crisp:!0,strokeOpacity:.7,draw:ue=>{ue.moveTo(0,0),ue.lineTo(12,0)}}),U(R,"stroke",oe,"primaryButtonText")}A("Button",["resize"]).setAll({paddingTop:9,paddingBottom:9,paddingLeft:13,paddingRight:13,draggable:!0,centerX:V.CI,centerY:V.CI,position:"absolute",role:"slider",ariaValueMin:"0",ariaValueMax:"100",ariaLabel:v.translate("Use up and down arrows to move selection")});{const R=A("RoundedRectangle",["background","resize","button"]);R.setAll({cornerRadiusBL:40,cornerRadiusBR:40,cornerRadiusTL:40,cornerRadiusTR:40}),U(R,"fill",oe,"secondaryButton"),U(R,"stroke",oe,"secondaryButtonStroke")}U(A("RoundedRectangle",["background","resize","button"]).states.create("hover",{}),"fill",oe,"secondaryButtonHover"),U(A("RoundedRectangle",["background","resize","button"]).states.create("down",{stateAnimationDuration:0}),"fill",oe,"secondaryButtonDown");{const R=A("Graphics",["resize","button","icon"]);R.setAll({interactive:!1,crisp:!0,strokeOpacity:.5,draw:ue=>{ue.moveTo(0,.5),ue.lineTo(0,12.5),ue.moveTo(4,.5),ue.lineTo(4,12.5)}}),U(R,"stroke",oe,"secondaryButtonText")}A("Button",["resize","vertical"]).setAll({rotation:90,cursorOverStyle:"ns-resize"}),A("Button",["resize","horizontal"]).setAll({cursorOverStyle:"ew-resize"}),A("Button",["play"]).setAll({paddingTop:13,paddingBottom:13,paddingLeft:14,paddingRight:14,ariaLabel:v.translate("Play"),toggleKey:"active"});{const R=A("RoundedRectangle",["play","background"]);R.setAll({strokeOpacity:.5,cornerRadiusBL:100,cornerRadiusBR:100,cornerRadiusTL:100,cornerRadiusTR:100}),U(R,"fill",oe,"primaryButton")}{const R=A("Graphics",["play","icon"]);R.setAll({stateAnimationDuration:0,dx:1,draw:ue=>{ue.moveTo(0,-5),ue.lineTo(8,0),ue.lineTo(0,5),ue.lineTo(0,-5)}}),U(R,"fill",oe,"primaryButtonText")}A("Graphics",["play","icon"]).states.create("default",{stateAnimationDuration:0}),A("Graphics",["play","icon"]).states.create("active",{stateAnimationDuration:0,draw:R=>{R.moveTo(-4,-5),R.lineTo(-1,-5),R.lineTo(-1,5),R.lineTo(-4,5),R.lineTo(-4,-5),R.moveTo(4,-5),R.lineTo(1,-5),R.lineTo(1,5),R.lineTo(4,5),R.lineTo(4,-5)}}),A("Button",["switch"]).setAll({paddingTop:4,paddingBottom:4,paddingLeft:4,paddingRight:4,ariaLabel:v.translate("Press ENTER to toggle"),toggleKey:"active",width:40,height:24,layout:null});{const R=A("RoundedRectangle",["switch","background"]);R.setAll({strokeOpacity:.5,cornerRadiusBL:100,cornerRadiusBR:100,cornerRadiusTL:100,cornerRadiusTR:100}),U(R,"fill",oe,"primaryButton")}{const R=A("Circle",["switch","icon"]);R.setAll({radius:8,centerY:0,centerX:0,dx:0}),U(R,"fill",oe,"primaryButtonText")}A("Graphics",["switch","icon"]).states.create("active",{dx:16}),A("Scrollbar").setAll({start:0,end:1,layer:30,animationEasing:ne.out(ne.cubic)}),A("Scrollbar",["vertical"]).setAll({marginRight:13,marginLeft:13,minWidth:12,height:V.AQ}),A("Scrollbar",["horizontal"]).setAll({marginTop:13,marginBottom:13,minHeight:12,width:V.AQ}),this.rule("Button",["scrollbar"]).setAll({exportable:!1});{const R=A("RoundedRectangle",["scrollbar","main","background"]);R.setAll({cornerRadiusTL:8,cornerRadiusBL:8,cornerRadiusTR:8,cornerRadiusBR:8,fillOpacity:.8}),U(R,"fill",oe,"fill")}{const R=A("RoundedRectangle",["scrollbar","thumb"]);R.setAll({role:"slider",ariaLive:"polite",position:"absolute",draggable:!0}),U(R,"fill",oe,"secondaryButton")}U(A("RoundedRectangle",["scrollbar","thumb"]).states.create("hover",{}),"fill",oe,"secondaryButtonHover"),U(A("RoundedRectangle",["scrollbar","thumb"]).states.create("down",{stateAnimationDuration:0}),"fill",oe,"secondaryButtonDown"),A("RoundedRectangle",["scrollbar","thumb","vertical"]).setAll({x:V.CI,width:V.AQ,centerX:V.CI,ariaLabel:v.translate("Use up and down arrows to move selection")}),A("RoundedRectangle",["scrollbar","thumb","horizontal"]).setAll({y:V.CI,centerY:V.CI,height:V.AQ,ariaLabel:v.translate("Use left and right arrows to move selection")});{const R=A("PointedRectangle",["axis","tooltip","background"]);R.setAll({cornerRadius:0}),U(R,"fill",oe,"alternativeBackground")}A("Label",["axis","tooltip"]).setAll({role:void 0}),A("Label",["axis","tooltip","y"]).setAll({textAlign:"right"}),A("Label",["axis","tooltip","y","opposite"]).setAll({textAlign:"left"}),A("Label",["axis","tooltip","x"]).setAll({textAlign:"center"}),A("Tooltip",["categoryaxis"]).setAll({labelText:"{category}"}),A("Star").setAll({spikes:5,innerRadius:5,radius:10}),A("Tooltip",["stock"]).setAll({paddingTop:6,paddingBottom:5,paddingLeft:7,paddingRight:7}),A("PointedRectangle",["tooltip","stock","axis"]).setAll({pointerLength:0,pointerBaseWidth:0,cornerRadius:3}),A("Label",["tooltip","stock"]).setAll({fontSize:"0.8em"}),A("SpriteResizer").setAll({rotationStep:10}),A("Container",["resizer","grip"]).states.create("hover",{});{const R=A("RoundedRectangle",["resizer","grip"]);R.setAll({strokeOpacity:.7,strokeWidth:1,fillOpacity:1,width:12,height:12}),U(R,"fill",oe,"background"),U(R,"stroke",oe,"alternativeBackground")}{const R=A("RoundedRectangle",["resizer","grip","outline"]);R.setAll({strokeOpacity:0,fillOpacity:0,width:20,height:20}),R.states.create("hover",{fillOpacity:.3}),U(R,"fill",oe,"alternativeBackground")}A("RoundedRectangle",["resizer","grip","left"]).setAll({cornerRadiusBL:0,cornerRadiusBR:0,cornerRadiusTL:0,cornerRadiusTR:0}),A("RoundedRectangle",["resizer","grip","right"]).setAll({cornerRadiusBL:0,cornerRadiusBR:0,cornerRadiusTL:0,cornerRadiusTR:0});{const R=A("Rectangle",["resizer","rectangle"]);R.setAll({strokeDasharray:[2,2],strokeOpacity:.5,strokeWidth:1}),U(R,"stroke",oe,"alternativeBackground")}}}},638:(kt,He,I)=>{I.r(He),I.d(He,{ArrayDisposer:()=>fe.rk,Bullet:()=>k.g,Button:()=>q.z,CSVParser:()=>Ur,Chart:()=>ki.k,Circle:()=>J.C,CirclePattern:()=>Pr,Color:()=>We.Il,ColorSet:()=>Rr.U,Component:()=>ye.w,Container:()=>V.W,CounterDisposer:()=>fe.DM,DataItem:()=>ye.z,DataProcessor:()=>Tr,DateFormatter:()=>Ut,Disposer:()=>fe.ku,DurationFormatter:()=>wt,Ellipse:()=>K,Entity:()=>ue.JH,Gradient:()=>Ye,Graphics:()=>Pe.T,GridLayout:()=>U.M,HeatLegend:()=>ht,HorizontalLayout:()=>_e.G,InterfaceColors:()=>Se,JSONParser:()=>Gr,JsonData:()=>Wi.Q,Label:()=>Q._,Layout:()=>Ie.A,Legend:()=>qe,Line:()=>$t.x,LinePattern:()=>ar,LinearGradient:()=>Ue,ListData:()=>Wi.k,Modal:()=>x,MultiDisposer:()=>fe.FV,MutableValueDisposer:()=>fe.cx,NumberFormatter:()=>Fe.e,PathPattern:()=>Hi,Pattern:()=>wi.c,Percent:()=>Re.gG,Picture:()=>Wt,PicturePattern:()=>Xr.v,PointedRectangle:()=>st.i,Polygon:()=>ee,RadialGradient:()=>wr,RadialLabel:()=>ti.x,RadialText:()=>jt.f,Rectangle:()=>ge.A,RectanglePattern:()=>Ei,Root:()=>m,RoundedRectangle:()=>ie.c,Scrollbar:()=>pi.L,SerialChart:()=>ms.j,Series:()=>Ke.F,Slice:()=>nr,Slider:()=>mi,Sprite:()=>zt.j,SpriteResizer:()=>Mr,Star:()=>se,Template:()=>De.YS,Text:()=>Me.x,TextFormatter:()=>Ge.V,Theme:()=>_.Q,Tick:()=>bs.d,Timezone:()=>Ot,Tooltip:()=>Te.u,Triangle:()=>gt,VerticalLayout:()=>ne.Z,addLicense:()=>f.cP,array:()=>F,color:()=>We.$_,disposeAllRootElements:()=>f.UZ,ease:()=>ss,math:()=>ut,net:()=>Ne,object:()=>vt,p0:()=>Re.p0,p100:()=>Re.AQ,p50:()=>Re.CI,percent:()=>Re.aQ,ready:()=>v.ready,registry:()=>f.i_,time:()=>ci,type:()=>Ae,utils:()=>v});var Ne={};I.r(Ne),I.d(Ne,{load:()=>bi,readBlob:()=>hi});var V=I(9239),Me=I(683),_e=I(6623),ne=I(6053),U=I(680),fe=I(8362),F=I(3559),v=I(8261);class oe{constructor(){Object.defineProperty(this,"_observer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_targets",{enumerable:!0,configurable:!0,writable:!0,value:[]}),this._observer=new ResizeObserver(e=>{F.each(e,t=>{F.each(this._targets,s=>{s.target===t.target&&s.callback()})})})}addTarget(e,t){this._observer.observe(e,{box:"border-box"}),this._targets.push({target:e,callback:t})}removeTarget(e){this._observer.unobserve(e),F.keepIf(this._targets,t=>t.target!==e)}}class Z{constructor(){Object.defineProperty(this,"_timer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"_targets",{enumerable:!0,configurable:!0,writable:!0,value:[]})}addTarget(e,t){if(null===this._timer){let a=null;const d=()=>{const c=Date.now();(null===a||c>a+Z.delay)&&(a=c,F.each(this._targets,g=>{let L=g.target.getBoundingClientRect();(L.width!==g.size.width||L.height!==g.size.height)&&(g.size=L,g.callback())})),this._timer=0===this._targets.length?null:requestAnimationFrame(d)};this._timer=requestAnimationFrame(d)}this._targets.push({target:e,callback:t,size:{width:0,height:0,left:0,right:0,top:0,bottom:0,x:0,y:0}})}removeTarget(e){F.keepIf(this._targets,t=>t.target!==e),0===this._targets.length&&null!==this._timer&&(cancelAnimationFrame(this._timer),this._timer=null)}}Object.defineProperty(Z,"delay",{enumerable:!0,configurable:!0,writable:!0,value:200});let ae=null;class R{constructor(e,t){Object.defineProperty(this,"_sensor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_element",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_listener",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),this._sensor=function A(){return null===ae&&(ae=typeof ResizeObserver<"u"?new oe:new Z),ae}(),this._element=e,this._listener=v.onZoom(t),this._sensor.addTarget(e,t)}isDisposed(){return this._disposed}dispose(){this._disposed||(this._disposed=!0,this._sensor.removeTarget(this._element),this._listener.dispose())}get sensor(){return this._sensor}}var ue=I(4889);class Se extends ue.JH{}Object.defineProperty(Se,"className",{enumerable:!0,configurable:!0,writable:!0,value:"InterfaceColors"}),Object.defineProperty(Se,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ue.JH.classNames.concat([Se.className])});var Pe=I(3232),ge=I(3605),Te=I(9084),Fe=I(6722),Ge=I(398);function Ce(z,e){let t=0,s=0,a=1,d=0,c=0,g=0,L=0,S=0;return z.formatToParts(e).forEach(H=>{switch(H.type){case"year":t=+H.value;break;case"month":s=+H.value-1;break;case"day":a=+H.value;break;case"hour":d=+H.value;break;case"minute":c=+H.value;break;case"second":g=+H.value;break;case"fractionalSecond":L=+H.value;break;case"weekday":switch(H.value){case"Sun":S=0;break;case"Mon":S=1;break;case"Tue":S=2;break;case"Wed":S=3;break;case"Thu":S=4;break;case"Fri":S=5;break;case"Sat":S=6}}}),24===d&&(d=0),{year:t,month:s,day:a,hour:d,minute:c,second:g,millisecond:L,weekday:S}}function ot(z,e){const{year:t,month:s,day:a,hour:d,minute:c,second:g,millisecond:L}=Ce(z,e);return Date.UTC(t,s,a,d,c,g,L)}class Ot{constructor(e,t){if(Object.defineProperty(this,"_utc",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_dtf",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),!t)throw new Error("You cannot use `new Class()`, instead use `Class.new()`");this.name=e,this._utc=new Intl.DateTimeFormat("UTC",{hour12:!1,timeZone:"UTC",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",weekday:"short",fractionalSecondDigits:3}),this._dtf=new Intl.DateTimeFormat("UTC",{hour12:!1,timeZone:e,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",weekday:"short",fractionalSecondDigits:3})}static new(e){return new this(e,!0)}convertLocal(e){const t=this.offsetUTC(e),s=e.getTimezoneOffset(),a=new Date(e);a.setUTCMinutes(a.getUTCMinutes()-(t-s));const d=a.getTimezoneOffset();return s!=d&&a.setUTCMinutes(a.getUTCMinutes()+d-s),a}offsetUTC(e){return(ot(this._utc,e)-ot(this._dtf,e))/6e4}parseDate(e){return Ce(this._dtf,e)}}var Ae=I(2743);class Ut extends ue.JH{_setDefaults(){this._setDefault("capitalize",!0),this._setDefault("dateFormat","yyyy-MM-dd"),super._setDefaults()}_beforeChanged(){super._beforeChanged()}format(e,t){(typeof t>"u"||""===t)&&(t=this.get("dateFormat","yyyy-MM-dd"));let s,a=e;if(Ae.isObject(t))try{const g=this.get("intlLocales");return g?new Intl.DateTimeFormat(g,t).format(a):new Intl.DateTimeFormat(void 0,t).format(a)}catch{return"Invalid"}let d=this.parseFormat(t);const c=this._root.timezone;return c&&!this._root.utc&&(a=c.convertLocal(a)),Ae.isNumber(a.getTime())?(s=this.applyFormat(a,d),this.get("capitalize")&&(s=s.replace(/^.{1}/,s.substr(0,1).toUpperCase())),s):"Invalid date"}applyFormat(e,t){let a,d,c,g,L,S,H,j,s=t.template,G=e.getTime();this._root.utc?(a=e.getUTCFullYear(),d=e.getUTCMonth(),c=e.getUTCDay(),g=e.getUTCDate(),L=e.getUTCHours(),S=e.getUTCMinutes(),H=e.getUTCSeconds(),j=e.getUTCMilliseconds()):(a=e.getFullYear(),d=e.getMonth(),c=e.getDay(),g=e.getDate(),L=e.getHours(),S=e.getMinutes(),H=e.getSeconds(),j=e.getMilliseconds());for(let P=0,me=t.parts.length;P<me;P++){let T="";switch(t.parts[P]){case"G":T=this._t(a<0?"_era_bc":"_era_ad");break;case"yyyy":T=Math.abs(a).toString(),a<0&&(T+=this._t("_era_bc"));break;case"yyy":case"yy":case"y":T=Math.abs(a).toString().substr(-t.parts[P].length),a<0&&(T+=this._t("_era_bc"));break;case"YYYY":case"YYY":case"YY":case"Y":let he=v.getWeekYear(e,this._root.utc);T="YYYY"==t.parts[P]?Math.abs(he).toString():Math.abs(he).toString().substr(-t.parts[P].length),he<0&&(T+=this._t("_era_bc"));break;case"u":case"F":case"g":break;case"q":T=""+Math.ceil((e.getMonth()+1)/3);break;case"MMMMM":T=this._t(this._getMonth(d)).substr(0,1);break;case"MMMM":T=this._t(this._getMonth(d));break;case"MMM":T=this._t(this._getShortMonth(d));break;case"MM":T=v.padString(d+1,2,"0");break;case"M":T=(d+1).toString();break;case"ww":T=v.padString(v.getWeek(e,this._root.utc),2,"0");break;case"w":T=v.getWeek(e,this._root.utc).toString();break;case"W":T=v.getMonthWeek(e,this._root.utc).toString();break;case"dd":T=v.padString(g,2,"0");break;case"d":T=g.toString();break;case"DD":case"DDD":T=v.padString(v.getYearDay(e,this._root.utc).toString(),t.parts[P].length,"0");break;case"D":T=v.getYearDay(e,this._root.utc).toString();break;case"t":T=this._root.language.translateFunc("_dateOrd").call(this,g);break;case"E":T=(c||7).toString();break;case"EE":T=v.padString((c||7).toString(),2,"0");break;case"EEE":case"eee":T=this._t(this._getShortWeekday(c));break;case"EEEE":case"eeee":T=this._t(this._getWeekday(c));break;case"EEEEE":case"eeeee":T=this._t(this._getShortWeekday(c)).substr(0,1);break;case"e":case"ee":T=(c-(this._root.locale.firstDayOfWeek||1)+1).toString(),"ee"==t.parts[P]&&(T=v.padString(T,2,"0"));break;case"a":T=this._t(L>=12?"PM":"AM");break;case"aa":T=this._t(L>=12?"P.M.":"A.M.");break;case"aaa":T=this._t(L>=12?"P":"A");break;case"h":T=v.get12Hours(L).toString();break;case"hh":T=v.padString(v.get12Hours(L),2,"0");break;case"H":T=L.toString();break;case"HH":T=v.padString(L,2,"0");break;case"K":T=v.get12Hours(L,0).toString();break;case"KK":T=v.padString(v.get12Hours(L,0),2,"0");break;case"k":T=(L+1).toString();break;case"kk":T=v.padString(L+1,2,"0");break;case"m":T=S.toString();break;case"mm":T=v.padString(S,2,"0");break;case"s":T=H.toString();break;case"ss":T=v.padString(H,2,"0");break;case"S":case"SS":case"SSS":T=Math.round(j/1e3*Math.pow(10,t.parts[P].length)).toString();break;case"x":T=G.toString();break;case"n":case"nn":case"nnn":T=v.padString(j,t.parts[P].length,"0");break;case"z":T=v.getTimeZone(e,!1,!1,this._root.utc);break;case"zz":T=v.getTimeZone(e,!0,!1,this._root.utc);break;case"zzz":T=v.getTimeZone(e,!1,!0,this._root.utc);break;case"zzzz":T=v.getTimeZone(e,!0,!0,this._root.utc);break;case"Z":case"ZZ":let re=this._root.utc?"UTC":this._root.timezone;re instanceof Ot&&(re=re.name);const Ee=re?v.getTimezoneOffset(re):e.getTimezoneOffset();let ve=Math.abs(Ee)/60,ce=Math.floor(ve),Be=60*ve-60*ce;this._root.utc&&(ce=0,Be=0),"Z"==t.parts[P]?(T="GMT",T+=Ee>0?"-":"+",T+=v.padString(ce,2)+":"+v.padString(Be,2)):(T=Ee>0?"-":"+",T+=v.padString(ce,2)+v.padString(Be,2));break;case"i":T=e.toISOString();break;case"I":T=e.toUTCString()}s=s.replace(Ae.PLACEHOLDER,T)}return s}parseFormat(e){let t={template:"",parts:[]},s=Ge.V.chunk(e,!0);for(let a=0;a<s.length;a++){let d=s[a];if("value"===d.type){if(d.text.match(/^date$/i)){let g=this.get("dateFormat","yyyy-MM-dd");Ae.isString(g)||(g="yyyy-MM-dd"),d.text=g}let c=d.text.match(/G|yyyy|yyy|yy|y|YYYY|YYY|YY|Y|u|q|MMMMM|MMMM|MMM|MM|M|ww|w|W|dd|d|DDD|DD|D|F|g|EEEEE|EEEE|EEE|EE|E|eeeee|eeee|eee|ee|e|aaa|aa|a|hh|h|HH|H|KK|K|kk|k|mm|m|ss|s|SSS|SS|S|A|zzzz|zzz|zz|z|ZZ|Z|t|x|nnn|nn|n|i|I/g);if(c)for(let g=0;g<c.length;g++)t.parts.push(c[g]),d.text=d.text.replace(c[g],Ae.PLACEHOLDER)}t.template+=d.text}return t}_months(){return["January","February","March","April","May","June","July","August","September","October","November","December"]}_getMonth(e){return this._months()[e]}_shortMonths(){return["Jan","Feb","Mar","Apr","May(short)","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}_getShortMonth(e){return this._shortMonths()[e]}_weekdays(){return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}_getWeekday(e){return this._weekdays()[e]}_shortWeekdays(){return["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]}_getShortWeekday(e){return this._shortWeekdays()[e]}parse(e,t){if(e instanceof Date)return e;if(Ae.isNumber(e))return new Date(e);Ae.isString(e)||(e=e.toString());let s,a="";t=(t=v.cleanFormat(t)).substr(0,e.length);let d=this.parseFormat(t),c={year:-1,year3:-1,year2:-1,year1:-1,month:-1,monthShort:-1,monthLong:-1,weekdayShort:-1,weekdayLong:-1,day:-1,yearDay:-1,week:-1,hourBase0:-1,hour12Base0:-1,hourBase1:-1,hour12Base1:-1,minute:-1,second:-1,millisecond:-1,millisecondDigits:-1,am:-1,zone:-1,timestamp:-1,iso:-1},g={year:1970,month:0,day:1,hour:0,minute:0,second:0,millisecond:0,timestamp:null,offset:0,utc:this._root.utc},L=0,S=0;for(let G=0;G<d.parts.length;G++){switch(S=G+L+1,d.parts[G]){case"yyyy":case"YYYY":a+="([0-9]{4})",c.year=S;break;case"yyy":case"YYY":a+="([0-9]{3})",c.year3=S;break;case"yy":case"YY":a+="([0-9]{2})",c.year2=S;break;case"y":case"Y":a+="([0-9]{1})",c.year1=S;break;case"MMMM":a+="("+this.getStringList(this._months()).join("|")+")",c.monthLong=S;break;case"MMM":a+="("+this.getStringList(this._shortMonths()).join("|")+")",c.monthShort=S;break;case"MM":case"M":a+="([0-9]{2}|[0-9]{1})",c.month=S;break;case"ww":case"w":a+="([0-9]{2}|[0-9]{1})",c.week=S;break;case"dd":case"d":a+="([0-9]{2}|[0-9]{1})",c.day=S;break;case"DDD":case"DD":case"D":a+="([0-9]{3}|[0-9]{2}|[0-9]{1})",c.yearDay=S;break;case"dddd":a+="("+this.getStringList(this._weekdays()).join("|")+")",c.weekdayLong=S;break;case"ddd":a+="("+this.getStringList(this._shortWeekdays()).join("|")+")",c.weekdayShort=S;break;case"aaa":case"aa":case"a":a+="("+this.getStringList(["AM","PM","A.M.","P.M.","A","P"]).join("|")+")",c.am=S;break;case"hh":case"h":a+="([0-9]{2}|[0-9]{1})",c.hour12Base1=S;break;case"HH":case"H":a+="([0-9]{2}|[0-9]{1})",c.hourBase0=S;break;case"KK":case"K":a+="([0-9]{2}|[0-9]{1})",c.hour12Base0=S;break;case"kk":case"k":a+="([0-9]{2}|[0-9]{1})",c.hourBase1=S;break;case"mm":case"m":a+="([0-9]{2}|[0-9]{1})",c.minute=S;break;case"ss":case"s":a+="([0-9]{2}|[0-9]{1})",c.second=S;break;case"SSS":case"SS":case"S":a+="([0-9]{3}|[0-9]{2}|[0-9]{1})",c.millisecond=S,c.millisecondDigits=d.parts[G].length;break;case"nnn":case"nn":case"n":a+="([0-9]{3}|[0-9]{2}|[0-9]{1})",c.millisecond=S;break;case"x":a+="([0-9]{1,})",c.timestamp=S;break;case"Z":a+="GMT([-+]+[0-9]{2}:[0-9]{2})",c.zone=S;break;case"ZZ":a+="([\\-+]+[0-9]{2}[0-9]{2})",c.zone=S;break;case"i":a+="([0-9]{4})-?([0-9]{2})-?([0-9]{2})T?([0-9]{2}):?([0-9]{2}):?([0-9]{2})\\.?([0-9]{0,3})([zZ]|[+\\-][0-9]{2}:?[0-9]{2}|$)",c.iso=S,L+=7;break;case"G":case"YYYY":case"YYY":case"YY":case"Y":case"MMMMM":case"W":case"EEEEE":case"EEEE":case"EEE":case"EE":case"E":case"eeeee":case"eeee":case"eee":case"ee":case"e":case"zzzz":case"zzz":case"zz":case"z":case"t":L--}a+="[^0-9]*"}let H=new RegExp(a),j=e.match(H);if(j){if(c.year>-1&&(g.year=parseInt(j[c.year])),c.year3>-1){let G=parseInt(j[c.year3]);G+=1e3,g.year=G}if(c.year2>-1){let G=parseInt(j[c.year2]);G+=G>50?1e3:2e3,g.year=G}if(c.year1>-1){let G=parseInt(j[c.year1]);G=10*Math.floor((new Date).getFullYear()/10)+G,g.year=G}if(c.monthLong>-1&&(g.month=this.resolveMonth(j[c.monthLong])),c.monthShort>-1&&(g.month=this.resolveShortMonth(j[c.monthShort])),c.month>-1&&(g.month=parseInt(j[c.month])-1),c.week>-1&&-1===c.day&&(g.month=0,g.day=v.getDayFromWeek(parseInt(j[c.week]),g.year,1,this._root.utc)),c.day>-1&&(g.day=parseInt(j[c.day])),c.yearDay>-1&&(g.month=0,g.day=parseInt(j[c.yearDay])),c.hourBase0>-1&&(g.hour=parseInt(j[c.hourBase0])),c.hourBase1>-1&&(g.hour=parseInt(j[c.hourBase1])-1),c.hour12Base0>-1){let G=parseInt(j[c.hour12Base0]);11==G&&(G=0),c.am>-1&&!this.isAm(j[c.am])&&(G+=12),g.hour=G}if(c.hour12Base1>-1){let G=parseInt(j[c.hour12Base1]);12==G&&(G=0),c.am>-1&&!this.isAm(j[c.am])&&(G+=12),g.hour=G}if(c.minute>-1&&(g.minute=parseInt(j[c.minute])),c.second>-1&&(g.second=parseInt(j[c.second])),c.millisecond>-1){let G=parseInt(j[c.millisecond]);2==c.millisecondDigits?G*=10:1==c.millisecondDigits&&(G*=100),g.millisecond=G}if(c.timestamp>-1){g.timestamp=parseInt(j[c.timestamp]);const G=new Date(g.timestamp);g.year=G.getUTCFullYear(),g.month=G.getUTCMonth(),g.day=G.getUTCDate(),g.hour=G.getUTCHours(),g.minute=G.getUTCMinutes(),g.second=G.getUTCSeconds(),g.millisecond=G.getUTCMilliseconds()}c.zone>-1&&(g.offset=this.resolveTimezoneOffset(new Date(g.year,g.month,g.day),j[c.zone])),c.iso>-1&&(g.year=Ae.toNumber(j[c.iso+0]),g.month=Ae.toNumber(j[c.iso+1])-1,g.day=Ae.toNumber(j[c.iso+2]),g.hour=Ae.toNumber(j[c.iso+3]),g.minute=Ae.toNumber(j[c.iso+4]),g.second=Ae.toNumber(j[c.iso+5]),g.millisecond=Ae.toNumber(j[c.iso+6]),"Z"==j[c.iso+7]||"z"==j[c.iso+7]?g.utc=!0:""!=j[c.iso+7]&&(g.offset=this.resolveTimezoneOffset(new Date(g.year,g.month,g.day),j[c.iso+7]))),s=g.utc?new Date(Date.UTC(g.year,g.month,g.day,g.hour,g.minute,g.second,g.millisecond)):new Date(g.year,g.month,g.day,g.hour,g.minute+g.offset,g.second,g.millisecond)}else s=new Date(e);return s}resolveTimezoneOffset(e,t){if(t.match(/([+\-]?)([0-9]{2}):?([0-9]{2})/)){let a=t.match(/([+\-]?)([0-9]{2}):?([0-9]{2})/),d=a[1],g=a[3],L=60*parseInt(a[2])+parseInt(g);return"+"==d&&(L*=-1),L-(e||new Date).getTimezoneOffset()}return 0}resolveMonth(e){let t=this._months().indexOf(e);return t>-1||!this._root.language.isDefault()&&(t=this._root.language.translateAll(this._months()).indexOf(e),t>-1)?t:0}resolveShortMonth(e){let t=this._shortMonths().indexOf(e);return t>-1||(t=this._months().indexOf(e),t>-1)||this._root.language&&!this._root.language.isDefault()&&(t=this._root.language.translateAll(this._shortMonths()).indexOf(e),t>-1)?t:0}isAm(e){return this.getStringList(["AM","A.M.","A"]).indexOf(e.toUpperCase())>-1}getStringList(e){let t=[];for(let s=0;s<e.length;s++)t.push(v.escapeForRgex(this._root.language?this._t(e[s]):e[s]));return t}}var vt=I(8148);class wt extends ue.JH{constructor(){super(...arguments),Object.defineProperty(this,"_unitAliases",{enumerable:!0,configurable:!0,writable:!0,value:{Y:"y",D:"d",H:"h",K:"h",k:"h",n:"S"}})}_setDefaults(){const e="_duration_millisecond",t="_duration_second",s="_duration_minute",a="_duration_hour",d="_duration_day",c="_duration_week",g="_duration_month",H="_minute",j="_hour",G="_day",P="_week",me="_week",T="_year";this._setDefault("negativeBase",0),this._setDefault("baseUnit","second"),this._setDefault("durationFormats",{millisecond:{millisecond:this._t(e),second:this._t(e+"_second"),minute:this._t(e+H),hour:this._t(e+j),day:this._t(e+G),week:this._t(e+P),month:this._t(e+me),year:this._t(e+T)},second:{second:this._t(t),minute:this._t(t+H),hour:this._t(t+j),day:this._t(t+G),week:this._t(t+P),month:this._t(t+me),year:this._t(t+T)},minute:{minute:this._t(s),hour:this._t(s+j),day:this._t(s+G),week:this._t(s+P),month:this._t(s+me),year:this._t(s+T)},hour:{hour:this._t(a),day:this._t(a+G),week:this._t(a+P),month:this._t(a+me),year:this._t(a+T)},day:{day:this._t(d),week:this._t(d+P),month:this._t(d+me),year:this._t(d+T)},week:{week:this._t(c),month:this._t(c+me),year:this._t(c+T)},month:{month:this._t(g),year:this._t(g+T)},year:{year:this._t("_duration_year")}}),super._setDefaults()}_beforeChanged(){super._beforeChanged()}format(e,t,s){let a=s||this.get("baseUnit");(typeof t>"u"||""===t)&&(t=null!=this.get("durationFormat")?this.get("durationFormat"):this.getFormat(Ae.toNumber(e),void 0,a)),t=v.cleanFormat(t);let g,d=this.parseFormat(t,a),c=Number(e);g=c>this.get("negativeBase")?d.positive:c<this.get("negativeBase")?d.negative:d.zero;let L=this.applyFormat(c,g);return""!==g.color&&(L="["+g.color+"]"+L+"[/]"),L}parseFormat(e,t){let s=t||this.get("baseUnit"),a={positive:{color:"",template:"",parts:[],source:"",baseUnit:s,parsed:!1,absolute:!1},negative:{color:"",template:"",parts:[],source:"",baseUnit:s,parsed:!1,absolute:!1},zero:{color:"",template:"",parts:[],source:"",baseUnit:s,parsed:!1,absolute:!1}},d=(e=e.replace("||",Ae.PLACEHOLDER2)).split("|");return a.positive.source=d[0],typeof d[2]>"u"?a.zero=a.positive:a.zero.source=d[2],typeof d[1]>"u"?a.negative=a.positive:a.negative.source=d[1],vt.each(a,(c,g)=>{if(g.parsed)return;let L=g.source,S=[];S=g.source.match(/^\[([^\]]*)\]/),S&&S.length&&""!==S[0]&&(L=g.source.substr(S[0].length),g.color=S[1]);let H=Ge.V.chunk(L,!0);for(let j=0;j<H.length;j++){let G=H[j];if(G.text=G.text.replace(Ae.PLACEHOLDER2,"|"),"value"===G.type){G.text.match(/[yYMdDwhHKkmsSn]+a/)&&(g.absolute=!0,G.text=G.text.replace(/([yYMdDwhHKkmsSn]+)a/,"$1"));let P=G.text.match(/y+|Y+|M+|d+|D+|w+|h+|H+|K+|k+|m+|s+|S+|n+/g);if(P)for(let me=0;me<P.length;me++)null==P[me]&&(P[me]=this._unitAliases[P[me]]),g.parts.push(P[me]),G.text=G.text.replace(P[me],Ae.PLACEHOLDER)}g.template+=G.text}g.parsed=!0}),a}applyFormat(e,t){let s=!t.absolute&&e<this.get("negativeBase");e=Math.abs(e);let a=this.toTimeStamp(e,t.baseUnit),d=t.template;for(let c=0,g=t.parts.length;c<g;c++){let L=t.parts[c],S=this._toTimeUnit(L.substr(0,1)),H=L.length,j=Math.floor(a/this._getUnitValue(S));d=d.replace(Ae.PLACEHOLDER,v.padString(j,H,"0")),a-=j*this._getUnitValue(S)}return s&&(d="-"+d),d}toTimeStamp(e,t){return e*this._getUnitValue(t)}_toTimeUnit(e){switch(e){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year"}}getFormat(e,t,s){if(null!=this.get("durationFormat"))return this.get("durationFormat");if(s||(s=this.get("baseUnit")),null!=t&&e!=t){e=Math.abs(e),t=Math.abs(t);let a=this.getValueUnit(Math.max(e,t),s);return this.get("durationFormats")[s][a]}{let a=this.getValueUnit(e,s);return this.get("durationFormats")[s][a]}}getValueUnit(e,t){t||(t=this.get("baseUnit"));let s,a=this.getMilliseconds(e,t);return vt.eachContinue(this._getUnitValues(),(d,c)=>{if(d==t||s){if(a/c<=1)return s||(s=d),!1;s=d}return!0}),s}getMilliseconds(e,t){return t||(t=this.get("baseUnit")),e*this._getUnitValue(t)}_getUnitValue(e){return this._getUnitValues()[e]}_getUnitValues(){return{millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:2592e6,year:31536e6}}}var ke=I(7551);class _i extends ue.JH{_setDefaults(){this.setPrivate("defaultLocale",ke.default),super._setDefaults()}translate(e,t,...s){t||(t=this._root.locale||this.getPrivate("defaultLocale"));let a=e,d=t[e];if(null===d)a="";else if(null!=d)d&&(a=d);else if(t!==this.getPrivate("defaultLocale"))return this.translate(e,this.getPrivate("defaultLocale"),...s);if(s.length)for(let c=s.length,g=0;g<c;++g)a=a.split("%"+(g+1)).join(s[g]);return a}translateAny(e,t,...s){return this.translate(e,t,...s)}setTranslationAny(e,t,s){(s||this._root.locale)[e]=t}setTranslationsAny(e,t){vt.each(e,(s,a)=>{this.setTranslationAny(s,a,t)})}translateEmpty(e,t,...s){let a=this.translate(e,t,...s);return a==e?"":a}translateFunc(e,t){return this._root.locale[e]?this._root.locale[e]:t!==this.getPrivate("defaultLocale")?this.translateFunc(e,this.getPrivate("defaultLocale")):()=>""}translateAll(e,t){return this.isDefault()?e:F.map(e,s=>this.translate(s,t))}isDefault(){return this.getPrivate("defaultLocale")===this._root.locale}}var lt=I(3895),ai=I(2231),Ki=I(4686),We=I(796);class ji{constructor(e=1,t=0,s=0,a=1,d=0,c=0){Object.defineProperty(this,"a",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"b",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"c",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"d",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tx",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"ty",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.a=e,this.b=t,this.c=s,this.d=a,this.tx=d,this.ty=c}setTransform(e,t,s,a,d,c=1){this.a=Math.cos(d)*c,this.b=Math.sin(d)*c,this.c=-Math.sin(d)*c,this.d=Math.cos(d)*c,this.tx=e-(s*this.a+a*this.c),this.ty=t-(s*this.b+a*this.d)}apply(e){return{x:this.a*e.x+this.c*e.y+this.tx,y:this.b*e.x+this.d*e.y+this.ty}}applyInverse(e){const t=1/(this.a*this.d+this.c*-this.b);return{x:this.d*t*e.x+-this.c*t*e.y+(this.ty*this.c-this.tx*this.d)*t,y:this.a*t*e.y+-this.b*t*e.x+(-this.ty*this.a+this.tx*this.b)*t}}append(e){const t=this.a,s=this.b,a=this.c,d=this.d;this.a=e.a*t+e.b*a,this.b=e.a*s+e.b*d,this.c=e.c*t+e.d*a,this.d=e.c*s+e.d*d,this.tx=e.tx*t+e.ty*a+this.tx,this.ty=e.tx*s+e.ty*d+this.ty}prepend(e){const t=this.tx;if(1!==e.a||0!==e.b||0!==e.c||1!==e.d){const s=this.a,a=this.c;this.a=s*e.a+this.b*e.c,this.b=s*e.b+this.b*e.d,this.c=a*e.a+this.d*e.c,this.d=a*e.b+this.d*e.d}this.tx=t*e.a+this.ty*e.c+e.tx,this.ty=t*e.b+this.ty*e.d+e.ty}copyFrom(e){this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty}}var Re=I(7039),ut=I(9472),oi=2*Math.PI,Bi=function(e,t,s,a,d,c,g){var L=e.x,S=e.y;return{x:a*(L*=t)-d*(S*=s)+c,y:d*L+a*S+g}},Cr=function(e,t){var s=1.5707963267948966===t?.551915024494:-1.5707963267948966===t?-.551915024494:1.3333333333333333*Math.tan(t/4),a=Math.cos(e),d=Math.sin(e),c=Math.cos(e+t),g=Math.sin(e+t);return[{x:a-d*s,y:d+a*s},{x:c+g*s,y:g-c*s},{x:c,y:g}]},Zt=function(e,t,s,a){var c=e*s+t*a;return c>1&&(c=1),c<-1&&(c=-1),(e*a-t*s<0?-1:1)*Math.acos(c)};const Ii=function(e){var t=e.px,s=e.py,a=e.cx,d=e.cy,c=e.rx,g=e.ry,L=e.xAxisRotation,S=void 0===L?0:L,H=e.largeArcFlag,j=void 0===H?0:H,G=e.sweepFlag,P=void 0===G?0:G,me=[];if(0===c||0===g)return[];var T=Math.sin(S*oi/360),he=Math.cos(S*oi/360),re=he*(t-a)/2+T*(s-d)/2,Ee=-T*(t-a)/2+he*(s-d)/2;if(0===re&&0===Ee)return[];c=Math.abs(c),g=Math.abs(g);var ve=Math.pow(re,2)/Math.pow(c,2)+Math.pow(Ee,2)/Math.pow(g,2);ve>1&&(c*=Math.sqrt(ve),g*=Math.sqrt(ve));var ce=function(e,t,s,a,d,c,g,L,S,H,j,G){var P=Math.pow(d,2),me=Math.pow(c,2),T=Math.pow(j,2),he=Math.pow(G,2),re=P*me-P*he-me*T;re<0&&(re=0),re/=P*he+me*T;var Ee=(re=Math.sqrt(re)*(g===L?-1:1))*d/c*G,ve=re*-c/d*j,ce=H*Ee-S*ve+(e+s)/2,Be=S*Ee+H*ve+(t+a)/2,Ze=(j-Ee)/d,it=(G-ve)/c,ct=(-j-Ee)/d,pt=(-G-ve)/c,$e=Zt(1,0,Ze,it),rt=Zt(Ze,it,ct,pt);return 0===L&&rt>0&&(rt-=oi),1===L&&rt<0&&(rt+=oi),[ce,Be,$e,rt]}(t,s,a,d,c,g,j,P,T,he,re,Ee),Be=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function z(e,t){var s=[],a=!0,d=!1,c=void 0;try{for(var L,g=e[Symbol.iterator]();!(a=(L=g.next()).done)&&(s.push(L.value),!t||s.length!==t);a=!0);}catch(S){d=!0,c=S}finally{try{!a&&g.return&&g.return()}finally{if(d)throw c}}return s}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}(ce,4),Ze=Be[0],it=Be[1],ct=Be[2],pt=Be[3],$e=Math.abs(pt)/(oi/4);Math.abs(1-$e)<1e-7&&($e=1);var rt=Math.max(Math.ceil($e),1);pt/=rt;for(var mt=0;mt<rt;mt++)me.push(Cr(ct,pt)),ct+=pt;return me.map(function(je){var Qe=Bi(je[0],c,g,he,T,Ze,it),et=Qe.x,ii=Qe.y,Je=Bi(je[1],c,g,he,T,Ze,it),Tt=Je.x,Et=Je.y,Bt=Bi(je[2],c,g,he,T,Ze,it);return{x1:et,y1:ii,x2:Tt,y2:Et,x:Bt.x,y:Bt.y}})};function Qt(z,e,t){if(e!==t)throw new Error("Required "+t+" arguments for "+z+" but got "+e)}function Ht(z,e,t){if(e<t)throw new Error("Required at least "+t+" arguments for "+z+" but got "+e)}function ft(z,e,t){if(Ht(z,e,t),e%t!=0)throw new Error("Arguments for "+z+" must be in pairs of "+t)}function Ti(z){for(let e=0;e<z.length;e+=7){let t=e+3,s=z[t];if(s.length>1){const a=/^([01])([01])(.*)$/.exec(s);null!==a&&(z.splice(t,0,a[1]),++t,z.splice(t,0,a[2]),++t,a[3].length>0?z[t]=a[3]:z.splice(t,1))}if(++t,s=z[t],s.length>1){const a=/^([01])(.+)$/.exec(s);null!==a&&(z.splice(t,0,a[1]),++t,z[t]=a[2])}}}function vi(z){if(0===z||1===z)return z;throw new Error("Flag must be 0 or 1")}function er(z,e){for(;(!z.interactive||e(z))&&z._parent;)z=z._parent}function tr(z,e,t){return v.addEventListener(z,v.getRendererEvent(e),s=>{const a=v.getEventTarget(s);let d=s.touches;d?(0==d.length&&(d=s.changedTouches),t(F.copy(d),a)):t([s],a)})}function Dt(z){const e=document.createElement("canvas");e.width=1,e.height=1;const t=e.getContext("2d",{willReadFrequently:!0});t.drawImage(z,0,0,1,1);try{return t.getImageData(0,0,1,1),!1}catch{return console.warn('Image "'+z.src+'" is loaded from different host and is not covered by CORS policy. For more information about the implications read here: https://www.amcharts.com/docs/v5/concepts/cors'),!0}}function Mi(z){z.width=0,z.height=0,z.style.width="0px",z.style.height="0px"}class Or{constructor(){Object.defineProperty(this,"_x",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_y",{enumerable:!0,configurable:!0,writable:!0,value:0})}get x(){return this._x}get y(){return this._y}set x(e){this._x=e}set y(e){this._y=e}}class li extends fe.KK{constructor(e){super(),Object.defineProperty(this,"_layer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"mask",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"visible",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"exportable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"interactive",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"inactive",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"wheelable",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"cancelTouch",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"isMeasured",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"buttonMode",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"alpha",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"compoundAlpha",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"angle",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"scale",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"crisp",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"pivot",{enumerable:!0,configurable:!0,writable:!0,value:new Or}),Object.defineProperty(this,"filter",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cursorOverStyle",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_replacedCursorStyle",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_localMatrix",{enumerable:!0,configurable:!0,writable:!0,value:new ji}),Object.defineProperty(this,"_matrix",{enumerable:!0,configurable:!0,writable:!0,value:new ji}),Object.defineProperty(this,"_uMatrix",{enumerable:!0,configurable:!0,writable:!0,value:new ji}),Object.defineProperty(this,"_renderer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_parent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_localBounds",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_bounds",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_colorId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._renderer=e}_dispose(){this._renderer._removeObject(this),this.getLayer().dirty=!0}getCanvas(){return this.getLayer().view}getLayer(){let e=this;for(;;){if(e._layer)return e._layer;if(!e._parent)return this._renderer.defaultLayer;e=e._parent}}setLayer(e,t){null==e?this._layer=void 0:(this._layer=this._renderer.getLayer(e,!0),this._layer.visible=!0,this._layer.margin=t,t&&v.setInteractive(this._layer.view,!1),this._renderer._ghostLayer.setMargin(this._renderer.layers),this._parent&&this._parent.registerChildLayer(this._layer),this._layer.dirty=!0,this._renderer.resizeLayer(this._layer),this._renderer.resizeGhost())}markDirtyLayer(){this.getLayer().dirty=!0}clear(){this.invalidateBounds()}invalidateBounds(){this._localBounds=void 0}_addBounds(e){}_getColorId(){return void 0===this._colorId&&(this._colorId=this._renderer.paintId(this)),this._colorId}_isInteractive(){return 0==this.inactive&&(this.interactive||this._renderer._forceInteractive>0)}_isInteractiveMask(){return this._isInteractive()}contains(e){for(;;){if(e===this)return!0;if(!e._parent)return!1;e=e._parent}}toGlobal(e){return this._matrix.apply(e)}toLocal(e){return this._matrix.applyInverse(e)}getLocalMatrix(){return this._uMatrix.setTransform(0,0,this.pivot.x,this.pivot.y,this.angle*Math.PI/180,this.scale),this._uMatrix}getLocalBounds(){return this._localBounds||(this._localBounds={left:1e7,top:1e7,right:-1e7,bottom:-1e7},this._addBounds(this._localBounds)),this._localBounds}getAdjustedBounds(e){this._setMatrix();const t=this.getLocalMatrix(),s=t.apply({x:e.left,y:e.top}),a=t.apply({x:e.right,y:e.top}),d=t.apply({x:e.right,y:e.bottom}),c=t.apply({x:e.left,y:e.bottom});return{left:Math.min(s.x,a.x,d.x,c.x),top:Math.min(s.y,a.y,d.y,c.y),right:Math.max(s.x,a.x,d.x,c.x),bottom:Math.max(s.y,a.y,d.y,c.y)}}on(e,t,s){return this.interactive?this._renderer._addEvent(this,e,t,s):new fe.ku(()=>{})}_setMatrix(){this._localMatrix.setTransform(this.x,this.y,this.pivot.x,this.pivot.y,this.angle*Math.PI/180,this.scale),this._matrix.copyFrom(this._localMatrix),this._parent&&this._matrix.prepend(this._parent._matrix)}_transform(e,t){const s=this._matrix;let a=s.tx*t,d=s.ty*t;this.crisp&&(a=Math.floor(a)+.5,d=Math.floor(d)+.5),e.setTransform(s.a*t,s.b*t,s.c*t,s.d*t,a,d)}_transformMargin(e,t,s){const a=this._matrix;e.setTransform(a.a*t,a.b*t,a.c*t,a.d*t,(a.tx+s.left)*t,(a.ty+s.top)*t)}_transformLayer(e,t,s){s.margin?this._transformMargin(e,s.scale||t,s.margin):this._transform(e,s.scale||t)}render(e){if(this.visible&&(!1!==this.exportable||!this._renderer._omitTainted)){this._setMatrix();const t=this._renderer.resolution,s=this._renderer.layers,a=this._renderer._ghostLayer,d=a.context,c=this.mask;c&&c._setMatrix(),F.each(s,g=>{if(g){const L=g.context;L.save(),c&&(c._transformLayer(L,t,g),c._runPath(L),L.clip()),L.globalAlpha=this.compoundAlpha*this.alpha,this._transformLayer(L,t,g),this.filter&&(L.filter=this.filter)}}),d.save(),c&&this._isInteractiveMask()&&(c._transformMargin(d,t,a.margin),c._runPath(d),d.clip()),this._transformMargin(d,t,a.margin),this._render(e),d.restore(),F.each(s,g=>{g&&g.context.restore()})}}_render(e){!1===this.exportable&&((this._layer||e).tainted=!0)}hovering(){return this._renderer._hovering.has(this)}dragging(){return this._renderer._dragging.some(e=>e.value===this)}shouldCancelTouch(){const e=this._renderer;return!(e.tapToActivate&&!e._touchActive)&&(!!this.cancelTouch||!!this._parent&&this._parent.shouldCancelTouch())}}class hr extends li{constructor(){super(...arguments),Object.defineProperty(this,"interactiveChildren",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"_childLayers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_children",{enumerable:!0,configurable:!0,writable:!0,value:[]})}_isInteractiveMask(){return this.interactiveChildren||super._isInteractiveMask()}addChild(e){e._parent=this,this._children.push(e),e._layer&&this.registerChildLayer(e._layer)}addChildAt(e,t){e._parent=this,this._children.splice(t,0,e),e._layer&&this.registerChildLayer(e._layer)}removeChild(e){e._parent=void 0,F.removeFirst(this._children,e)}_render(e){super._render(e);const t=this._renderer;this.interactive&&this.interactiveChildren&&++t._forceInteractive;const s=this._layer||e;F.each(this._children,a=>{a.compoundAlpha=this.compoundAlpha*this.alpha,a.render(s)}),this.interactive&&this.interactiveChildren&&--t._forceInteractive}registerChildLayer(e){this._childLayers||(this._childLayers=[]),F.pushOne(this._childLayers,e),this._parent&&this._parent.registerChildLayer(e)}markDirtyLayer(e=!1){super.markDirtyLayer(),e&&this._childLayers&&F.each(this._childLayers,t=>t.dirty=!0)}_dispose(){super._dispose(),this._childLayers&&F.each(this._childLayers,e=>{e.dirty=!0})}}function bt(z,e){z.left=Math.min(z.left,e.x),z.top=Math.min(z.top,e.y),z.right=Math.max(z.right,e.x),z.bottom=Math.max(z.bottom,e.y)}class dt{colorize(e,t){}path(e){}addBounds(e){}}class Di extends dt{colorize(e,t){e.beginPath()}}class Lt extends dt{constructor(e){super(),Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,writable:!0,value:e})}colorize(e,t){e.fillStyle=void 0!==t?t:this.color}}class Ar extends dt{constructor(e){super(),Object.defineProperty(this,"clearShadow",{enumerable:!0,configurable:!0,writable:!0,value:e})}colorize(e,t){e.fill(),this.clearShadow&&(e.shadowColor="",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}}class ir extends dt{colorize(e,t){e.stroke()}}class cr extends dt{constructor(e,t,s){super(),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"lineJoin",{enumerable:!0,configurable:!0,writable:!0,value:s})}colorize(e,t){e.strokeStyle=void 0!==t?t:this.color,e.lineWidth=this.width,this.lineJoin&&(e.lineJoin=this.lineJoin)}}class Yi extends dt{constructor(e){super(),Object.defineProperty(this,"dash",{enumerable:!0,configurable:!0,writable:!0,value:e})}colorize(e,t){e.setLineDash(this.dash)}}class kr extends dt{constructor(e){super(),Object.defineProperty(this,"dashOffset",{enumerable:!0,configurable:!0,writable:!0,value:e})}colorize(e,t){e.lineDashOffset=this.dashOffset}}class Fi extends dt{constructor(e,t,s,a){super(),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,writable:!0,value:a})}path(e){e.rect(this.x,this.y,this.width,this.height)}addBounds(e){const t=this.x,s=this.y,a=t+this.width,d=s+this.height;bt(e,{x:t,y:s}),bt(e,{x:a,y:s}),bt(e,{x:t,y:d}),bt(e,{x:a,y:d})}}class Si extends dt{constructor(e,t,s){super(),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"radius",{enumerable:!0,configurable:!0,writable:!0,value:s})}path(e){e.moveTo(this.x+this.radius,this.y),e.arc(this.x,this.y,this.radius,0,2*Math.PI)}addBounds(e){bt(e,{x:this.x-this.radius,y:this.y-this.radius}),bt(e,{x:this.x+this.radius,y:this.y+this.radius})}}class dr extends dt{constructor(e,t,s,a){super(),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"radiusX",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.defineProperty(this,"radiusY",{enumerable:!0,configurable:!0,writable:!0,value:a})}path(e){e.ellipse(0,0,this.radiusX,this.radiusY,0,0,2*Math.PI)}addBounds(e){bt(e,{x:this.x-this.radiusX,y:this.y-this.radiusY}),bt(e,{x:this.x+this.radiusX,y:this.y+this.radiusY})}}class rr extends dt{constructor(e,t,s,a,d,c){super(),Object.defineProperty(this,"cx",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"cy",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"radius",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.defineProperty(this,"startAngle",{enumerable:!0,configurable:!0,writable:!0,value:a}),Object.defineProperty(this,"endAngle",{enumerable:!0,configurable:!0,writable:!0,value:d}),Object.defineProperty(this,"anticlockwise",{enumerable:!0,configurable:!0,writable:!0,value:c})}path(e){this.radius>0&&e.arc(this.cx,this.cy,this.radius,this.startAngle,this.endAngle,this.anticlockwise)}addBounds(e){let t=ut.getArcBounds(this.cx,this.cy,this.startAngle*ut.DEGREES,this.endAngle*ut.DEGREES,this.radius);bt(e,{x:t.left,y:t.top}),bt(e,{x:t.right,y:t.bottom})}}class fr extends dt{constructor(e,t,s,a,d){super(),Object.defineProperty(this,"x1",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"y1",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"x2",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.defineProperty(this,"y2",{enumerable:!0,configurable:!0,writable:!0,value:a}),Object.defineProperty(this,"radius",{enumerable:!0,configurable:!0,writable:!0,value:d})}path(e){this.radius>0&&e.arcTo(this.x1,this.y1,this.x2,this.y2,this.radius)}addBounds(e){}}class gr extends dt{constructor(e,t){super(),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:t})}path(e){e.lineTo(this.x,this.y)}addBounds(e){bt(e,{x:this.x,y:this.y})}}class pr extends dt{constructor(e,t){super(),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:t})}path(e){e.moveTo(this.x,this.y)}addBounds(e){bt(e,{x:this.x,y:this.y})}}class mr extends dt{path(e){e.closePath()}}class zi extends dt{constructor(e,t,s,a,d,c){super(),Object.defineProperty(this,"cpX",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"cpY",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"cpX2",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.defineProperty(this,"cpY2",{enumerable:!0,configurable:!0,writable:!0,value:a}),Object.defineProperty(this,"toX",{enumerable:!0,configurable:!0,writable:!0,value:d}),Object.defineProperty(this,"toY",{enumerable:!0,configurable:!0,writable:!0,value:c})}path(e){e.bezierCurveTo(this.cpX,this.cpY,this.cpX2,this.cpY2,this.toX,this.toY)}addBounds(e){bt(e,{x:this.cpX,y:this.cpY}),bt(e,{x:this.cpX2,y:this.cpY2}),bt(e,{x:this.toX,y:this.toY})}}class Xi extends dt{constructor(e,t,s,a){super(),Object.defineProperty(this,"cpX",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"cpY",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"toX",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.defineProperty(this,"toY",{enumerable:!0,configurable:!0,writable:!0,value:a})}path(e){e.quadraticCurveTo(this.cpX,this.cpY,this.toX,this.toY)}addBounds(e){bt(e,{x:this.cpX,y:this.cpY}),bt(e,{x:this.toX,y:this.toY})}}class Gi extends dt{constructor(e,t,s,a,d){super(),Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"blur",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"offsetX",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.defineProperty(this,"offsetY",{enumerable:!0,configurable:!0,writable:!0,value:a}),Object.defineProperty(this,"opacity",{enumerable:!0,configurable:!0,writable:!0,value:d})}colorize(e,t){this.opacity&&(e.fillStyle=this.color),e.shadowColor=this.color,e.shadowBlur=this.blur,e.shadowOffsetX=this.offsetX,e.shadowOffsetY=this.offsetY}}class br extends dt{constructor(e,t,s,a,d){super(),Object.defineProperty(this,"image",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:a}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:d})}path(e){e.drawImage(this.image,this.x,this.y,this.width,this.height)}addBounds(e){bt(e,{x:this.x,y:this.y}),bt(e,{x:this.width,y:this.height})}}class Ui extends li{constructor(){super(...arguments),Object.defineProperty(this,"_operations",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"blendMode",{enumerable:!0,configurable:!0,writable:!0,value:Ki.b.NORMAL}),Object.defineProperty(this,"_hasShadows",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_fillAlpha",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_strokeAlpha",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}clear(){super.clear(),this._operations.length=0}_pushOp(e){this._operations.push(e)}beginFill(e,t=1){this._fillAlpha=t,e?e instanceof We.Il?this._pushOp(new Lt(e.toCSS(t))):(this.isMeasured=!0,this._pushOp(new Lt(e))):this._pushOp(new Lt("rgba(0, 0, 0, "+t+")"))}endFill(){this._pushOp(new Ar(this._hasShadows))}endStroke(){this._pushOp(new ir)}beginPath(){this._pushOp(new Di)}lineStyle(e=0,t,s=1,a){this._strokeAlpha=s,this._pushOp(new cr(e,t?t instanceof We.Il?t.toCSS(s):t:"rgba(0, 0, 0, "+s+")",a))}setLineDash(e){this._pushOp(new Yi(e||[]))}setLineDashOffset(e=0){this._pushOp(new kr(e))}drawRect(e,t,s,a){this._pushOp(new Fi(e,t,s,a))}drawCircle(e,t,s){this._pushOp(new Si(e,t,s))}drawEllipse(e,t,s,a){this._pushOp(new dr(e,t,s,a))}arc(e,t,s,a,d,c=!1){this._pushOp(new rr(e,t,s,a,d,c))}arcTo(e,t,s,a,d){this._pushOp(new fr(e,t,s,a,d))}lineTo(e,t){this._pushOp(new gr(e,t))}moveTo(e,t){this._pushOp(new pr(e,t))}bezierCurveTo(e,t,s,a,d,c){this._pushOp(new zi(e,t,s,a,d,c))}quadraticCurveTo(e,t,s,a){this._pushOp(new Xi(e,t,s,a))}closePath(){this._pushOp(new mr)}shadow(e,t=0,s=0,a=0,d){this._hasShadows=!0,this._pushOp(new Gi(e.toCSS(d||this._fillAlpha||this._strokeAlpha),t,s,a))}image(e,t,s,a,d){this._pushOp(new br(e,t,s,a,d))}svgPath(e){let t=0,s=0,a=null,d=null,c=null,g=null;const L=/([MmZzLlHhVvCcSsQqTtAa])([^MmZzLlHhVvCcSsQqTtAa]*)/g,S=/[\u0009\u0020\u000A\u000C\u000D]*([\+\-]?[0-9]*\.?[0-9]+(?:[eE][\+\-]?[0-9]+)?)[\u0009\u0020\u000A\u000C\u000D]*,?/g;let H;for(;null!==(H=L.exec(e));){const j=H[1],G=H[2],P=[];for(;null!==(H=S.exec(G));)P.push(H[1]);switch("S"!==j&&"s"!==j&&"C"!==j&&"c"!==j&&(a=null,d=null),"Q"!==j&&"q"!==j&&"T"!==j&&"t"!==j&&(c=null,g=null),j){case"M":ft(j,P.length,2),t=+P[0],s=+P[1],this.moveTo(t,s);for(let T=2;T<P.length;T+=2)t=+P[T],s=+P[T+1],this.lineTo(t,s);break;case"m":ft(j,P.length,2),t+=+P[0],s+=+P[1],this.moveTo(t,s);for(let T=2;T<P.length;T+=2)t+=+P[T],s+=+P[T+1],this.lineTo(t,s);break;case"L":ft(j,P.length,2);for(let T=0;T<P.length;T+=2)t=+P[T],s=+P[T+1],this.lineTo(t,s);break;case"l":ft(j,P.length,2);for(let T=0;T<P.length;T+=2)t+=+P[T],s+=+P[T+1],this.lineTo(t,s);break;case"H":Ht(j,P.length,1);for(let T=0;T<P.length;++T)t=+P[T],this.lineTo(t,s);break;case"h":Ht(j,P.length,1);for(let T=0;T<P.length;++T)t+=+P[T],this.lineTo(t,s);break;case"V":Ht(j,P.length,1);for(let T=0;T<P.length;++T)s=+P[T],this.lineTo(t,s);break;case"v":Ht(j,P.length,1);for(let T=0;T<P.length;++T)s+=+P[T],this.lineTo(t,s);break;case"C":ft(j,P.length,6);for(let T=0;T<P.length;T+=6)a=+P[T+2],d=+P[T+3],t=+P[T+4],s=+P[T+5],this.bezierCurveTo(+P[T],+P[T+1],a,d,t,s);break;case"c":ft(j,P.length,6);for(let T=0;T<P.length;T+=6){const he=+P[T]+t,re=+P[T+1]+s;a=+P[T+2]+t,d=+P[T+3]+s,t+=+P[T+4],s+=+P[T+5],this.bezierCurveTo(he,re,a,d,t,s)}break;case"S":ft(j,P.length,4),(null===a||null===d)&&(a=t,d=s);for(let T=0;T<P.length;T+=4){const he=2*t-a,re=2*s-d;a=+P[T],d=+P[T+1],t=+P[T+2],s=+P[T+3],this.bezierCurveTo(he,re,a,d,t,s)}break;case"s":ft(j,P.length,4),(null===a||null===d)&&(a=t,d=s);for(let T=0;T<P.length;T+=4){const he=2*t-a,re=2*s-d;a=+P[T]+t,d=+P[T+1]+s,t+=+P[T+2],s+=+P[T+3],this.bezierCurveTo(he,re,a,d,t,s)}break;case"Q":ft(j,P.length,4);for(let T=0;T<P.length;T+=4)c=+P[T],g=+P[T+1],t=+P[T+2],s=+P[T+3],this.quadraticCurveTo(c,g,t,s);break;case"q":ft(j,P.length,4);for(let T=0;T<P.length;T+=4)c=+P[T]+t,g=+P[T+1]+s,t+=+P[T+2],s+=+P[T+3],this.quadraticCurveTo(c,g,t,s);break;case"T":ft(j,P.length,2),(null===c||null===g)&&(c=t,g=s);for(let T=0;T<P.length;T+=2)c=2*t-c,g=2*s-g,t=+P[T],s=+P[T+1],this.quadraticCurveTo(c,g,t,s);break;case"t":ft(j,P.length,2),(null===c||null===g)&&(c=t,g=s);for(let T=0;T<P.length;T+=2)c=2*t-c,g=2*s-g,t+=+P[T],s+=+P[T+1],this.quadraticCurveTo(c,g,t,s);break;case"A":case"a":const me="a"===j;Ti(P),ft(j,P.length,7);for(let T=0;T<P.length;T+=7){let he=+P[T+5],re=+P[T+6];me&&(he+=t,re+=s);const Ee=Ii({px:t,py:s,rx:+P[T],ry:+P[T+1],xAxisRotation:+P[T+2],largeArcFlag:vi(+P[T+3]),sweepFlag:vi(+P[T+4]),cx:he,cy:re});F.each(Ee,ve=>{this.bezierCurveTo(ve.x1,ve.y1,ve.x2,ve.y2,ve.x,ve.y),t=ve.x,s=ve.y})}break;case"Z":case"z":Qt(j,P.length,0),this.closePath()}}}_runPath(e){e.beginPath(),F.each(this._operations,t=>{t.path(e)})}_render(e){super._render(e);const t=this._layer||e,s=t.dirty,a=this._isInteractive();if(s||a){const d=t.context,c=this._renderer._ghostLayer.context;let g;s&&(d.globalCompositeOperation=this.blendMode,d.beginPath()),a&&(c.beginPath(),g=this._getColorId()),F.each(this._operations,L=>{s&&(L.path(d),L.colorize(d,void 0)),a&&(L.path(c),L.colorize(c,g))})}}renderDetached(e){if(this.visible){this._setMatrix(),e.save();const t=this.mask;t&&(t._setMatrix(),t._transform(e,1),t._runPath(e),e.clip()),e.globalAlpha=this.compoundAlpha*this.alpha,this._transform(e,1),this.filter&&(e.filter=this.filter),e.globalCompositeOperation=this.blendMode,e.beginPath(),F.each(this._operations,s=>{s.path(e),s.colorize(e,void 0)}),e.restore()}}_addBounds(e){this.visible&&this.isMeasured&&F.each(this._operations,t=>{t.addBounds(e)})}}class gi extends li{constructor(e,t,s){super(e),Object.defineProperty(this,"text",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"style",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"resolution",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"textVisible",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"_textInfo",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_originalScale",{enumerable:!0,configurable:!0,writable:!0,value:1}),this.text=t,this.style=s}invalidateBounds(){super.invalidateBounds(),this._textInfo=void 0}_shared(e){this.style.textAlign&&(e.textAlign=this.style.textAlign),this.style.direction&&(e.direction=this.style.direction),this.style.textBaseline&&(e.textBaseline=this.style.textBaseline)}_prerender(e,t=!1,s=!1){super._render(e);const a=e.context,d=this._renderer._ghostLayer.context,c=this.style;let g=this._getFontStyle(void 0,s);a.font=g,this._isInteractive()&&!t&&(d.font=g),c.fill&&(a.fillStyle=c.fill instanceof We.Il?c.fill.toCSS(null!=c.fillOpacity?c.fillOpacity:1):c.fill),c.shadowColor&&(e.context.shadowColor=c.shadowColor.toCSS(c.shadowOpacity||1)),c.shadowBlur&&(e.context.shadowBlur=c.shadowBlur),c.shadowOffsetX&&(e.context.shadowOffsetX=c.shadowOffsetX),c.shadowOffsetY&&(e.context.shadowOffsetY=c.shadowOffsetY),this._shared(a),this._isInteractive()&&!t&&(d.fillStyle=this._getColorId(),this._shared(d))}_getFontStyle(e,t=!1){const s=this.style;let a=[];return e&&e.fontVariant?a.push(e.fontVariant):s.fontVariant&&a.push(s.fontVariant),t||(e&&e.fontWeight?a.push(e.fontWeight):s.fontWeight&&a.push(s.fontWeight)),e&&e.fontStyle?a.push(e.fontStyle):s.fontStyle&&a.push(s.fontStyle),e&&e.fontSize?(Ae.isNumber(e.fontSize)&&(e.fontSize=e.fontSize+"px"),a.push(e.fontSize)):s.fontSize&&(Ae.isNumber(s.fontSize)&&(s.fontSize=s.fontSize+"px"),a.push(s.fontSize)),e&&e.fontFamily?a.push(e.fontFamily):s.fontFamily?a.push(s.fontFamily):a.length&&a.push("Arial"),a.join(" ")}_render(e){const t=this._layer||e;if(this._textInfo||this._measure(t),this.textVisible){const s=this._isInteractive(),a=t.context,d=t.dirty,c=this._renderer._ghostLayer.context;a.save(),c.save(),this._prerender(t),F.each(this._textInfo,(g,L)=>{F.each(g.textChunks,(S,H)=>{if(S.style&&(a.save(),c.save(),a.font=S.style,this._isInteractive()&&(c.font=S.style)),S.fill&&(a.save(),a.fillStyle=S.fill.toCSS()),d&&a.fillText(S.text,S.offsetX,g.offsetY+S.offsetY),"underline"==S.textDecoration||"line-through"==S.textDecoration){let T,j=1,G=1,P=S.height,me=S.offsetX;switch(this.style.textAlign){case"right":case"end":me-=S.width;break;case"center":me-=S.width/2}if(S.style)switch(Ge.V.getTextStyle(S.style).fontWeight){case"bolder":case"bold":case"700":case"800":case"900":j=2}P&&(G=P/20),T="line-through"==S.textDecoration?j+g.offsetY+S.offsetY-S.height/2:j+1.5*G+g.offsetY+S.offsetY,a.save(),a.beginPath(),S.fill?a.strokeStyle=S.fill.toCSS():this.style.fill&&this.style.fill instanceof We.Il&&(a.strokeStyle=this.style.fill.toCSS()),a.lineWidth=j*G,a.moveTo(me,T),a.lineTo(me+S.width,T),a.stroke(),a.restore()}s&&this.interactive&&c.fillText(S.text,S.offsetX,g.offsetY+S.offsetY),S.fill&&a.restore(),S.style&&(a.restore(),c.restore())})}),a.restore(),c.restore()}}_addBounds(e){if(this.visible&&this.isMeasured){const t=this._measure(this.getLayer());bt(e,{x:t.left,y:t.top}),bt(e,{x:t.right,y:t.bottom})}}_ignoreFontWeight(){return/apple/i.test(navigator.vendor)}_measure(e){const t=e.context,s=this._renderer._ghostLayer.context,a="rtl"==this.style.direction;this._textInfo=[];const d=this.style.oversizedBehavior,c=this.style.maxWidth,g=Ae.isNumber(c)&&"truncate"==d,L=Ae.isNumber(c)&&("wrap"==d||"wrap-no-break"==d);t.save(),s.save(),this._prerender(e,!0,this._ignoreFontWeight());const S="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",H=this.text.toString().replace(/\r/g,"").split(/\n/);let T,j=!0,G=0,P=0,me=0;F.each(H,(re,Ee)=>{let ve;for(ve=""==re?[{type:"value",text:""}]:Ge.V.chunk(re,!1,this.style.ignoreFormatting);ve.length>0;){let ce={offsetY:me,ascent:0,width:0,height:0,left:0,right:0,textChunks:[]};const Be=this._measureText(S,t);ce.height=Be.actualBoundingBoxAscent+Be.actualBoundingBoxDescent,ce.ascent=Be.actualBoundingBoxAscent;let it,pt,$e,Qe,ct=this.style.textDecoration,rt=!1,mt=!0,je=[];F.eachContinue(ve,(et,ii)=>{if("format"==et.type)if("[/]"==et.text)j||(t.restore(),s.restore(),j=!0),pt=void 0,T=void 0,$e=void 0,ct=this.style.textDecoration,Qe=void 0,it=et.text;else{j||(t.restore(),s.restore());let Je=Ge.V.getTextStyle(et.text);const Tt=this._getFontStyle(Je);t.save(),s.save(),t.font=Tt,T=Tt,it=et.text,Je.textDecoration&&(ct=Je.textDecoration),Je.fill&&(pt=Je.fill),Je.width&&($e=Ae.toNumber(Je.width)),Je.verticalAlign&&(Qe=Je.verticalAlign),j=!1;const Et=this._measureText(S,t),Bt=Et.actualBoundingBoxAscent+Et.actualBoundingBoxDescent;Bt>ce.height&&(ce.height=Bt),Et.actualBoundingBoxAscent>ce.ascent&&(ce.ascent=Et.actualBoundingBoxAscent)}else if("value"==et.type&&!rt){const Je=this._measureText(et.text,t);let Tt=Je.actualBoundingBoxLeft+Je.actualBoundingBoxRight;if(g){let Rt=mt||this.style.breakWords||!1;const Vt=this.style.ellipsis||"",Ri=this._measureText(Vt,t);ce.width+Tt>c&&(et.text=this._truncateText(t,et.text,c-ce.width-(Ri.actualBoundingBoxLeft+Ri.actualBoundingBoxRight),Rt),et.text+=Vt,rt=!0)}else if(L&&ce.width+Tt>c){const Vt=this._truncateText(t,et.text,c-ce.width,!1,mt&&"wrap-no-break"!=this.style.oversizedBehavior);if(""==Vt)return this.textVisible=!0,!1;je=ve.slice(ii+1),v.trim(Vt)!=v.trim(et.text)&&(je.unshift({type:"value",text:et.text.substr(Vt.length)}),it&&je.unshift({type:"format",text:it})),et.text=v.trim(Vt),ve=[],rt=!0}let Et=1,Bt=1;if(T&&$e&&$e>Tt){const Rt=Tt/$e;switch(this.style.textAlign){case"right":case"end":Et=Rt;break;case"center":Et=Rt,Bt=Rt;break;default:Bt=Rt}Tt=$e}const qt=Je.actualBoundingBoxAscent+Je.actualBoundingBoxDescent;qt>ce.height&&(ce.height=qt),Je.actualBoundingBoxAscent>ce.ascent&&(ce.ascent=Je.actualBoundingBoxAscent),ce.width+=Tt,ce.left+=Je.actualBoundingBoxLeft/Et,ce.right+=Je.actualBoundingBoxRight/Bt,ce.textChunks.push({style:T,fill:pt,text:et.text,width:Tt,height:qt,left:Je.actualBoundingBoxLeft,right:Je.actualBoundingBoxRight,ascent:Je.actualBoundingBoxAscent,offsetX:0,offsetY:0,textDecoration:ct,verticalAlign:Qe}),mt=!1}return!0}),this.style.lineHeight instanceof Re.gG?(ce.height*=this.style.lineHeight.value,ce.ascent*=this.style.lineHeight.value):(ce.height*=this.style.lineHeight||1.2,ce.ascent*=this.style.lineHeight||1.2),G<ce.left&&(G=ce.left),P<ce.right&&(P=ce.right),this._textInfo.push(ce),me+=ce.height,ve=je||[]}}),j||(t.restore(),s.restore()),F.each(this._textInfo,(re,Ee)=>{let ve=0;F.each(re.textChunks,ce=>{if(ce.offsetX=ve+ce.left-re.left,ce.offsetY+=re.height-re.height*(this.style.baselineRatio||.19),ve+=ce.width,ce.verticalAlign)switch(ce.verticalAlign){case"super":ce.offsetY-=re.height/2-ce.height/2;break;case"sub":ce.offsetY+=ce.height/2}})});const he={left:a?-P:-G,top:0,right:a?G:P,bottom:me};if("none"!==d){const re=this._fitRatio(he);if(re<1)if("fit"==d)Ae.isNumber(this.style.minScale)&&re<this.style.minScale?(this.textVisible=!1,he.left=0,he.top=0,he.right=0,he.bottom=0):((!this._originalScale||1==this._originalScale)&&(this._originalScale=this.scale),this.scale=re,this.textVisible=!0);else if("hide"==d)this.textVisible=!1,he.left=0,he.top=0,he.right=0,he.bottom=0;else{switch(this.style.textAlign){case"right":case"end":he.left=-c,he.right=0;break;case"center":he.left=-c/2,he.right=c/2;break;default:he.left=0,he.right=c}this.scale=this._originalScale||1,this._originalScale=void 0,this.textVisible=!0}else this.scale=this._originalScale||1,this._originalScale=void 0,this.textVisible=!0}return t.restore(),s.restore(),he}_fitRatio(e){const t=this.style.maxWidth,s=this.style.maxHeight;return Ae.isNumber(t)||Ae.isNumber(s)?Math.min(t/(e.right-e.left)||1,s/(e.bottom-e.top)||1):1}_truncateText(e,t,s,a=!1,d=!0){let c;do{if(a)t=t.slice(0,-1);else{let L=t.replace(/[^,;:!?\\\/\s\u200b]+[,;:!?\\\/\s\u200b]*$/g,"");if(""==L&&d)a=!0;else{if(""==L)return t;t=L}}const g=this._measureText(t,e);c=g.actualBoundingBoxLeft+g.actualBoundingBoxRight}while(c>s&&""!=t);return t}_measureText(e,t){let s=t.measureText(e),a={};if(null==s.actualBoundingBoxAscent){const c=document.createElement("div");c.innerText=e,c.style.visibility="hidden",c.style.position="absolute",c.style.top="-1000000px;",c.style.fontFamily=this.style.fontFamily||"",c.style.fontSize=this.style.fontSize+"",document.body.appendChild(c);const g=c.getBoundingClientRect();document.body.removeChild(c);const L=g.height,S=s.width;a={actualBoundingBoxAscent:L,actualBoundingBoxDescent:0,actualBoundingBoxLeft:0,actualBoundingBoxRight:S,fontBoundingBoxAscent:L,fontBoundingBoxDescent:0,width:S}}else a={actualBoundingBoxAscent:s.actualBoundingBoxAscent,actualBoundingBoxDescent:s.actualBoundingBoxDescent,actualBoundingBoxLeft:s.actualBoundingBoxLeft,actualBoundingBoxRight:s.actualBoundingBoxRight,fontBoundingBoxAscent:s.actualBoundingBoxAscent,fontBoundingBoxDescent:s.actualBoundingBoxDescent,width:s.width};const d=s.width;switch(this.style.textAlign){case"right":case"end":a.actualBoundingBoxLeft=d,a.actualBoundingBoxRight=0;break;case"center":a.actualBoundingBoxLeft=d/2,a.actualBoundingBoxRight=d/2;break;default:a.actualBoundingBoxLeft=0,a.actualBoundingBoxRight=d}return a}}class Ci{constructor(){Object.defineProperty(this,"fill",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fillOpacity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"textAlign",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fontFamily",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fontWeight",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fontVariant",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"textDecoration",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowColor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowBlur",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowOffsetX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowOffsetY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowOpacity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"lineHeight",{enumerable:!0,configurable:!0,writable:!0,value:(0,Re.aQ)(120)}),Object.defineProperty(this,"baselineRatio",{enumerable:!0,configurable:!0,writable:!0,value:.19}),Object.defineProperty(this,"direction",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"textBaseline",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"oversizedBehavior",{enumerable:!0,configurable:!0,writable:!0,value:"none"}),Object.defineProperty(this,"breakWords",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"ellipsis",{enumerable:!0,configurable:!0,writable:!0,value:"\u2026"}),Object.defineProperty(this,"maxWidth",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxHeight",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"minScale",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"ignoreFormatting",{enumerable:!0,configurable:!0,writable:!0,value:!1})}}class yr extends gi{constructor(){super(...arguments),Object.defineProperty(this,"textType",{enumerable:!0,configurable:!0,writable:!0,value:"circular"}),Object.defineProperty(this,"radius",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"startAngle",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"inside",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"orientation",{enumerable:!0,configurable:!0,writable:!0,value:"auto"}),Object.defineProperty(this,"kerning",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_textReversed",{enumerable:!0,configurable:!0,writable:!0,value:!1})}_render(e){"circular"===this.textType?this._renderCircular(e):super._render(e)}_renderCircular(e){if(this.textVisible){const t=this._layer||e;this._prerender(t);const s=this._isInteractive(),a=t.context,d=t.dirty,c=this._renderer._ghostLayer.context;a.save(),s&&c.save(),this._textInfo||this._measure(t);let g=this.radius||0,L=this.startAngle||0,S=0,H=this.orientation,j="auto"==H?"auto":"inward"==H;const G=this.inside,P=this.style.textAlign||"left",me=this.kerning||0;let T="left"==P?1:-1;const he=!this._textReversed;if("auto"==j){let re=0,Ee=0;F.each(this._textInfo,(ve,ce)=>{const Be=L+ve.width/(g-ve.height)/2*-T;Be>re&&(re=Be)}),Ee="left"==P?(re+S/2)*ut.DEGREES:"right"==P?(re-S/2)*ut.DEGREES:L*ut.DEGREES,Ee=ut.normalizeAngle(Ee),j=Ee>=270||Ee<=90}1==j&&he&&(this._textInfo.reverse(),this._textReversed=!0),F.each(this._textInfo,(re,Ee)=>{const ve=re.height;G||(g+=ve),(-1==T&&j||1==T&&!j)&&he&&re.textChunks.reverse();let ce=L;S=0,"center"==P&&(ce+=re.width/(g-ve)/2*-T,S=ce-L),ce+=Math.PI*(j?0:1),a.save(),s&&c.save(),a.rotate(ce),s&&c.rotate(ce);let Be=0;F.each(re.textChunks,(Ze,it)=>{const ct=Ze.text,pt=Ze.width;Be=pt/2/(g-ve)*T,a.rotate(Be),s&&c.rotate(Be),Ze.style&&(a.save(),c.save(),a.font=Ze.style,s&&(c.font=Ze.style)),Ze.fill&&(a.save(),a.fillStyle=Ze.fill.toCSS()),a.textBaseline="middle",a.textAlign="center",s&&(c.textBaseline="middle",c.textAlign="center"),d&&a.fillText(ct,0,(j?1:-1)*(0-g+ve/2)),s&&c.fillText(ct,0,(j?1:-1)*(0-g+ve/2)),Ze.fill&&a.restore(),Ze.style&&(a.restore(),c.restore()),Be=(pt/2+me)/(g-ve)*T,a.rotate(Be),s&&c.rotate(Be)}),a.restore(),s&&c.restore(),G&&(g-=ve)}),a.restore(),s&&c.restore()}}_measure(e){return"circular"===this.textType?this._measureCircular(e):super._measure(e)}_measureCircular(e){const t=e.context,s=this._renderer._ghostLayer.context,a="rtl"==this.style.direction,d=this.style.oversizedBehavior,c=this.style.maxWidth,g=Ae.isNumber(c)&&"truncate"==d,L=this.style.ellipsis||"";let S;this.textVisible=!0,this._textInfo=[],this._textReversed=!1,t.save(),s.save(),this._prerender(e,!0);const H=this.text.toString().replace(/\r/g,"").split(/\n/);let j=!0,G=0,P=0;return F.each(H,(me,T)=>{let Ee,ve,ce,he=Ge.V.chunk(me,!1,this.style.ignoreFormatting),re={offsetY:P,ascent:0,width:0,height:0,left:0,right:0,textChunks:[]};F.each(he,(Be,Ze)=>{if("format"==Be.type){if("[/]"==Be.text)j||(t.restore(),s.restore(),j=!0),ve=void 0,Ee=void 0,ce=void 0;else{let it=Ge.V.getTextStyle(Be.text);const ct=this._getFontStyle(it);t.save(),s.save(),t.font=ct,Ee=ct,it.fill&&(ve=it.fill),it.width&&(ce=Ae.toNumber(it.width)),j=!1}g&&(S=this._measureText(L,t))}else if("value"==Be.type){const it=Be.text.match(/./gu)||[];a&&it.reverse();for(let ct=0;ct<it.length;ct++){const pt=it[ct],$e=this._measureText(pt,t);let rt=$e.width;Ee&&ce&&ce>rt&&(rt=ce);const mt=$e.actualBoundingBoxAscent+$e.actualBoundingBoxDescent;if(mt>re.height&&(re.height=mt),$e.actualBoundingBoxAscent>re.ascent&&(re.ascent=$e.actualBoundingBoxAscent),re.width+=rt,re.left+=$e.actualBoundingBoxLeft,re.right+=$e.actualBoundingBoxRight,re.textChunks.push({style:Ee,fill:ve,text:pt,width:rt,height:mt+$e.actualBoundingBoxDescent,left:$e.actualBoundingBoxLeft,right:$e.actualBoundingBoxRight,ascent:$e.actualBoundingBoxAscent,offsetX:0,offsetY:mt,textDecoration:void 0}),G+=rt,g){S||(S=this._measureText(L,t));const je=S.actualBoundingBoxLeft+S.actualBoundingBoxRight;if(G+=je,G+je>c){1==re.textChunks.length?this.textVisible=!1:(re.width+=je,re.left+=S.actualBoundingBoxLeft,re.right+=S.actualBoundingBoxRight,re.textChunks.push({style:Ee,fill:ve,text:L,width:je,height:mt+S.actualBoundingBoxDescent,left:S.actualBoundingBoxLeft,right:S.actualBoundingBoxRight,ascent:S.actualBoundingBoxAscent,offsetX:0,offsetY:mt,textDecoration:void 0}));break}}if(a)break}}}),re.height*=this.style.lineHeight instanceof Re.gG?this.style.lineHeight.value:this.style.lineHeight||1.2,this._textInfo.push(re),P+=re.height}),j||(t.restore(),s.restore()),"hide"==d&&G>c&&(this.textVisible=!1),F.each(this._textInfo,me=>{F.each(me.textChunks,T=>{T.offsetY+=Math.round((me.height-T.height+(me.ascent-T.ascent))/2)})}),t.restore(),s.restore(),{left:0,top:0,right:0,bottom:0}}}class Oi extends li{constructor(e,t){super(e),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"image",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tainted",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowColor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowBlur",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowOffsetX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowOffsetY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowOpacity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_imageMask",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.image=t}_dispose(){super._dispose(),this._imageMask&&Mi(this._imageMask)}getLocalBounds(){if(!this._localBounds){let e=0,t=0;this.width&&(e=this.width),this.height&&(t=this.height),this._localBounds={left:0,top:0,right:e,bottom:t},this._addBounds(this._localBounds)}return this._localBounds}_render(e){if(super._render(e),this.image){const t=this._layer||e;if(void 0===this.tainted&&(this.tainted=Dt(this.image),t.tainted=!0),this.tainted&&this._renderer._omitTainted)return;if(t.dirty&&(this.shadowColor&&(t.context.shadowColor=this.shadowColor.toCSS(this.shadowOpacity||1)),this.shadowBlur&&(t.context.shadowBlur=this.shadowBlur),this.shadowOffsetX&&(t.context.shadowOffsetX=this.shadowOffsetX),this.shadowOffsetY&&(t.context.shadowOffsetY=this.shadowOffsetY),t.context.drawImage(this.image,0,0,this.width||this.image.naturalWidth,this.height||this.image.naturalHeight)),this.interactive&&this._isInteractive()){const s=this._getMask(this.image);this._renderer._ghostLayer.context.drawImage(s,0,0)}}}clear(){super.clear(),this.image=void 0,this._imageMask=void 0}_getMask(e){if(void 0===this._imageMask){const t=this.width||e.naturalWidth,s=this.height||e.naturalHeight,a=document.createElement("canvas");a.width=t,a.height=s;const d=a.getContext("2d");d.imageSmoothingEnabled=!1,d.fillStyle=this._getColorId(),d.fillRect(0,0,t,s),Dt(e)||(d.globalCompositeOperation="destination-in",d.drawImage(e,0,0,t,s)),this._imageMask=a}return this._imageMask}}class Ai{constructor(e,t,s,a){Object.defineProperty(this,"event",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"originalPoint",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"point",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.defineProperty(this,"bbox",{enumerable:!0,configurable:!0,writable:!0,value:a}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"simulated",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"native",{enumerable:!0,configurable:!0,writable:!0,value:!0}),this.id=v.supports("touchevents")&&e instanceof Touch?e.identifier:null}}class W extends fe.rk{constructor(e){if(super(),Object.defineProperty(this,"view",{enumerable:!0,configurable:!0,writable:!0,value:document.createElement("div")}),Object.defineProperty(this,"_layerDom",{enumerable:!0,configurable:!0,writable:!0,value:document.createElement("div")}),Object.defineProperty(this,"layers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_dirtyLayers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"defaultLayer",{enumerable:!0,configurable:!0,writable:!0,value:this.getLayer(0)}),Object.defineProperty(this,"_ghostLayer",{enumerable:!0,configurable:!0,writable:!0,value:new i}),Object.defineProperty(this,"_patternCanvas",{enumerable:!0,configurable:!0,writable:!0,value:document.createElement("canvas")}),Object.defineProperty(this,"_patternContext",{enumerable:!0,configurable:!0,writable:!0,value:this._patternCanvas.getContext("2d")}),Object.defineProperty(this,"_domWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_domHeight",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_canvasWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_canvasHeight",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"resolution",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"interactionsEnabled",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"_listeners",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_events",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_colorId",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_colorMap",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_forceInteractive",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_omitTainted",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_hovering",{enumerable:!0,configurable:!0,writable:!0,value:new Set}),Object.defineProperty(this,"_dragging",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_mousedown",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_lastPointerMoveEvent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tapToActivate",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"tapToActivateTimeout",{enumerable:!0,configurable:!0,writable:!0,value:3e3}),Object.defineProperty(this,"_touchActive",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_touchActiveTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.resolution=null==e?window.devicePixelRatio:e,this.view.style.position="absolute",this.view.setAttribute("aria-hidden","true"),this.view.appendChild(this._layerDom),this._disposers.push(new fe.ku(()=>{vt.each(this._events,(t,s)=>{s.disposer.dispose()}),F.each(this.layers,t=>{Mi(t.view),t.exportableView&&Mi(t.exportableView)}),Mi(this._ghostLayer.view),Mi(this._patternCanvas)})),this._disposers.push(v.onZoom(()=>{null==e&&(this.resolution=window.devicePixelRatio)})),v.supports("touchevents")){const t=s=>{0!==this._dragging.length&&F.eachContinue(this._dragging,a=>!a.value.shouldCancelTouch()||(s.preventDefault(),!1)),this._touchActiveTimeout&&this._delayTouchDeactivate()};this._disposers.push(v.addEventListener(window,"touchstart",t,{passive:!1})),this._disposers.push(v.addEventListener(this.view,"touchstart",t,{passive:!1})),this._disposers.push(v.addEventListener(this.view,"touchmove",()=>{this._touchActiveTimeout&&this._delayTouchDeactivate()},{passive:!0})),this._disposers.push(v.addEventListener(window,"click",s=>{this._touchActive=!1},{passive:!0})),this._disposers.push(v.addEventListener(this.view,"click",s=>{window.setTimeout(()=>{this._touchActive=!0,this._delayTouchDeactivate()},100)},{passive:!0}))}v.supports("wheelevents")&&this._disposers.push(v.addEventListener(this.view,"wheel",t=>{let s=!1;this._hovering.forEach(a=>{if(a.wheelable)return s=!0,!1}),s&&t.preventDefault()},{passive:!1}))}_delayTouchDeactivate(){this._touchActiveTimeout&&clearTimeout(this._touchActiveTimeout),this.tapToActivateTimeout>0&&(this._touchActiveTimeout=window.setTimeout(()=>{this._touchActive=!1},this.tapToActivateTimeout))}get debugGhostView(){return!!this._ghostLayer.view.parentNode}set debugGhostView(e){e?this._ghostLayer.view.parentNode||this.view.appendChild(this._ghostLayer.view):this._ghostLayer.view.parentNode&&this._ghostLayer.view.parentNode.removeChild(this._ghostLayer.view)}createLinearGradient(e,t,s,a){return this.defaultLayer.context.createLinearGradient(e,t,s,a)}createRadialGradient(e,t,s,a,d,c){return this.defaultLayer.context.createRadialGradient(e,t,s,a,d,c)}createPattern(e,t,s,a,d){return this._patternCanvas.width=a,this._patternCanvas.height=d,this._patternContext.clearRect(0,0,a,d),t.renderDetached(this._patternContext),e.renderDetached(this._patternContext),this._patternContext.createPattern(this._patternCanvas,s)}makeContainer(){return new hr(this)}makeGraphics(){return new Ui(this)}makeText(e,t){return new gi(this,e,t)}makeTextStyle(){return new Ci}makeRadialText(e,t){return new yr(this,e,t)}makePicture(e){return new Oi(this,e)}resizeLayer(e){e.resize(this._canvasWidth,this._canvasHeight,this._domWidth,this._domHeight,this.resolution)}resizeGhost(){this._ghostLayer.resize(this._canvasWidth,this._canvasHeight,this._domWidth,this._domHeight,this.resolution)}resize(e,t,s,a){this._canvasWidth=e,this._canvasHeight=t,this._domWidth=s,this._domHeight=a,F.each(this.layers,d=>{d&&(d.dirty=!0,this.resizeLayer(d))}),this.resizeGhost(),this.view.style.width=s+"px",this.view.style.height=a+"px"}createDetachedLayer(e=!1){const t=document.createElement("canvas"),s=t.getContext("2d",{willReadFrequently:e}),a=new n(t,s);return t.style.position="absolute",t.style.top="0px",t.style.left="0px",a}getLayerByOrder(e){const t=this.layers,s=t.length;for(let a=0;a<s;a++){const d=t[a];if(d.order==e)return d}}getLayer(e,t=!0){let s=this.getLayerByOrder(e);if(s)return s;const a=this.createDetachedLayer(99==e);a.order=e,a.visible=t,a.visible&&this.resizeLayer(a);const d=this.layers;d.push(a),d.sort((S,H)=>S.order>H.order?1:S.order<H.order?-1:0);const c=d.length;let L;for(let S=F.indexOf(d,a)+1;S<c;S++)if(d[S].visible){L=d[S];break}return a.visible&&(void 0===L?this._layerDom.appendChild(a.view):this._layerDom.insertBefore(a.view,L.view)),a}render(e){if(this._dirtyLayers.length=0,F.each(this.layers,t=>{t&&t.dirty&&t.visible&&(this._dirtyLayers.push(t),t.clear())}),this._ghostLayer.clear(),e.render(this.defaultLayer),this._ghostLayer.context.restore(),F.each(this.layers,t=>{if(t){const s=t.context;s.beginPath(),s.moveTo(0,0),s.stroke()}}),F.each(this._dirtyLayers,t=>{t.context.restore(),t.dirty=!1}),this._hovering.size&&this._lastPointerMoveEvent){const{events:t,target:s,native:a}=this._lastPointerMoveEvent;F.each(t,d=>{this._dispatchGlobalMousemove(d,s,a)})}}paintId(e){const t=function qi(z){const e=[0,0,0];for(let t=0;t<24;t++)e[t%3]<<=1,e[t%3]|=1&z,z>>=1;return(0|e[2])+(e[1]<<8)+(e[0]<<16)}(++this._colorId),s=We.Il.fromHex(t).toCSS();return this._colorMap[s]=e,s}_removeObject(e){void 0!==e._colorId&&delete this._colorMap[e._colorId]}_adjustBoundingBox(e){const t=this._ghostLayer.margin;return new DOMRect(e.left-t.left,e.top-t.top,e.width+t.left+t.right,e.height+t.top+t.bottom)}getEvent(e,t=!0){const s=this.view.getBoundingClientRect(),a={x:e.clientX||0,y:e.clientY||0};return new Ai(e,a,{x:a.x-(t?s.left:0),y:a.y-(t?s.top:0)},this._adjustBoundingBox(s))}_getHitTarget(e,t,s){if(0===t.width||0===t.height||e.x<t.left||e.x>t.right||e.y<t.top||e.y>t.bottom||!s||!this._layerDom.contains(s))return;const a=this._ghostLayer.getImageData(e,t);if(0===a.data[0]&&0===a.data[1]&&0===a.data[2])return!1;const d=We.Il.fromRGB(a.data[0],a.data[1],a.data[2]).toCSS();return this._colorMap[d]}_withEvents(e,t){const s=this._events[e];if(void 0!==s){s.dispatching=!0;try{t(s)}finally{s.dispatching=!1,s.cleanup&&(s.cleanup=!1,F.keepIf(s.callbacks,a=>!a.disposed),0===s.callbacks.length&&(s.disposer.dispose(),delete this._events[e]))}}}_dispatchEventAll(e,t){this.interactionsEnabled&&this._withEvents(e,s=>{F.each(s.callbacks,a=>{a.disposed||a.callback.call(a.context,t)})})}_dispatchEvent(e,t,s){if(!this.interactionsEnabled)return!1;let a=!1;return this._withEvents(e,d=>{F.each(d.callbacks,c=>{!c.disposed&&c.object===t&&(c.callback.call(c.context,s),a=!0)})}),a}_dispatchMousedown(e,t){const s=e.button;if(0!=s&&2!=s&&1!=s&&void 0!==s)return;const a=this.getEvent(e),d=this._getHitTarget(a.originalPoint,a.bbox,t);if(d){const c=a.id;let g=!1;er(d,L=>{const S={id:c,value:L};return this._mousedown.push(S),!g&&this._dispatchEvent("pointerdown",L,a)&&(g=!0,this._dragging.some(j=>j.value===L&&j.id===c)||this._dragging.push(S)),!0})}}_dispatchGlobalMousemove(e,t,s){const a=this.getEvent(e),d=this._getHitTarget(a.originalPoint,a.bbox,t);a.native=s,d?(this._hovering.forEach(c=>{c.contains(d)||(this._hovering.delete(c),c.cursorOverStyle&&v.setStyle(document.body,"cursor",c._replacedCursorStyle),this._dispatchEvent("pointerout",c,a))}),a.native&&er(d,c=>(this._hovering.has(c)||(this._hovering.add(c),c.cursorOverStyle&&(c._replacedCursorStyle=v.getStyle(document.body,"cursor"),v.setStyle(document.body,"cursor",c.cursorOverStyle)),this._dispatchEvent("pointerover",c,a)),!0))):(this._hovering.forEach(c=>{c.cursorOverStyle&&v.setStyle(document.body,"cursor",c._replacedCursorStyle),this._dispatchEvent("pointerout",c,a)}),this._hovering.clear()),this._dispatchEventAll("globalpointermove",a)}_dispatchGlobalMouseup(e,t){const s=this.getEvent(e);s.native=t,this._dispatchEventAll("globalpointerup",s)}_dispatchDragMove(e){if(0!==this._dragging.length){const t=this.getEvent(e),s=t.id;this._dragging.forEach(a=>{a.id===s&&this._dispatchEvent("pointermove",a.value,t)})}}_dispatchDragEnd(e,t){const s=e.button;let a;if(0==s||void 0===s)a="click";else if(2==s)a="rightclick";else{if(1!=s)return;a="middleclick"}const d=this.getEvent(e),c=d.id;if(0!==this._mousedown.length){const g=this._getHitTarget(d.originalPoint,d.bbox,t);g&&this._mousedown.forEach(L=>{L.id===c&&L.value.contains(g)&&this._dispatchEvent(a,L.value,d)}),this._mousedown.length=0}0!==this._dragging.length&&(this._dragging.forEach(g=>{g.id===c&&this._dispatchEvent("pointerup",g.value,d)}),this._dragging.length=0)}_dispatchDoubleClick(e,t){const s=this.getEvent(e),a=this._getHitTarget(s.originalPoint,s.bbox,t);a&&er(a,d=>!this._dispatchEvent("dblclick",d,s))}_dispatchWheel(e,t){const s=this.getEvent(e),a=this._getHitTarget(s.originalPoint,s.bbox,t);a&&er(a,d=>!this._dispatchEvent("wheel",d,s))}_makeSharedEvent(e,t){if(void 0===this._listeners[e]){const s=t();this._listeners[e]=new fe.DM(()=>{delete this._listeners[e],s.dispose()})}return this._listeners[e].increment()}_onPointerEvent(e,t){let s=!1,a=null;function d(){a=null,s=!1}return new fe.FV([new fe.ku(()=>{null!==a&&clearTimeout(a),d()}),v.addEventListener(this.view,v.getRendererEvent(e),c=>{s=!0,null!==a&&clearTimeout(a),a=window.setTimeout(d,0)}),tr(window,e,(c,g)=>{null!==a&&(clearTimeout(a),a=null),t(c,g,s),s=!1})])}_initEvent(e){switch(e){case"globalpointermove":case"pointerover":case"pointerout":return this._makeSharedEvent("pointermove",()=>{const t=(s,a,d)=>{this._lastPointerMoveEvent={events:s,target:a,native:d},F.each(s,c=>{this._dispatchGlobalMousemove(c,a,d)})};return new fe.FV([this._onPointerEvent("pointerdown",t),this._onPointerEvent("pointermove",t)])});case"globalpointerup":return this._makeSharedEvent("pointerup",()=>{const t=this._onPointerEvent("pointerup",(a,d,c)=>{F.each(a,g=>{this._dispatchGlobalMouseup(g,c)}),this._lastPointerMoveEvent={events:a,target:d,native:c}}),s=this._onPointerEvent("pointercancel",(a,d,c)=>{F.each(a,g=>{this._dispatchGlobalMouseup(g,c)}),this._lastPointerMoveEvent={events:a,target:d,native:c}});return new fe.ku(()=>{t.dispose(),s.dispose()})});case"click":case"rightclick":case"middleclick":case"pointerdown":case"pointermove":case"pointerup":return this._makeSharedEvent("pointerdown",()=>{const t=this._onPointerEvent("pointerdown",(c,g)=>{F.each(c,L=>{this._dispatchMousedown(L,g)})}),s=this._onPointerEvent("pointermove",c=>{F.each(c,g=>{this._dispatchDragMove(g)})}),a=this._onPointerEvent("pointerup",(c,g)=>{F.each(c,L=>{this._dispatchDragEnd(L,g)})}),d=this._onPointerEvent("pointercancel",(c,g)=>{F.each(c,L=>{this._dispatchDragEnd(L,g)})});return new fe.ku(()=>{t.dispose(),s.dispose(),a.dispose(),d.dispose()})});case"dblclick":return this._makeSharedEvent("dblclick",()=>this._onPointerEvent("dblclick",(t,s)=>{F.each(t,a=>{this._dispatchDoubleClick(a,s)})}));case"wheel":return this._makeSharedEvent("wheel",()=>v.addEventListener(window,v.getRendererEvent("wheel"),t=>{this._dispatchWheel(t,v.getEventTarget(t))},{passive:!1}))}}_addEvent(e,t,s,a){let d=this._events[t];void 0===d&&(d=this._events[t]={disposer:this._initEvent(t),callbacks:[],dispatching:!1,cleanup:!1});const c={object:e,context:a,callback:s,disposed:!1};return d.callbacks.push(c),new fe.ku(()=>{c.disposed=!0,d.dispatching?d.cleanup=!0:(F.removeFirst(d.callbacks,c),0===d.callbacks.length&&(d.disposer.dispose(),delete this._events[t]))})}getCanvas(e,t){this.render(e),t||(t={});let s=this.resolution,a=Math.floor(this._canvasWidth*this.resolution),d=Math.floor(this._canvasHeight*this.resolution);if(t.minWidth&&t.minWidth>a){let P=t.minWidth/a;P>s&&(s=P*this.resolution)}if(t.minHeight&&t.minHeight>d){let P=t.minHeight/d;P>s&&(s=P*this.resolution)}if(t.maxWidth&&t.maxWidth<a){let P=t.maxWidth/a;P<s&&(s=P*this.resolution)}if(t.maxHeight&&t.maxHeight>d){let P=t.maxHeight/d;P<s&&(s=P*this.resolution)}t.maintainPixelRatio&&(s/=this.resolution);const c=[];let g=!1;const L=document.createElement("canvas");s!=this.resolution&&(g=!0,a=a*s/this.resolution,d=d*s/this.resolution),L.width=a,L.height=d,L.style.position="fixed",L.style.top="-10000px",this.view.appendChild(L),c.push(L);const S=L.getContext("2d");let H=0,j=0,G=!1;return F.each(this.layers,P=>{if(P&&P.visible&&(P.tainted||g)){G=!0,P.exportableView=P.view,P.exportableContext=P.context,P.view=document.createElement("canvas"),P.view.style.position="fixed",P.view.style.top="-10000px",this.view.appendChild(P.view),c.push(P.view);let me=0,T=0;P.margin&&(me+=P.margin.left||0+P.margin.right||0,T+=P.margin.top||0+P.margin.bottom||0),P.view.width=a+me,P.view.height=d+T,P.context=P.view.getContext("2d"),P.dirty=!0,P.scale=s}}),G&&(this._omitTainted=!0,this.render(e),this._omitTainted=!1),F.each(this.layers,P=>{if(P&&P.visible){let me=0,T=0;P.margin&&(me=-(P.margin.left||0)*this.resolution,T=-(P.margin.top||0)*this.resolution),S.drawImage(P.view,me,T),P.exportableView&&(P.view=P.exportableView,P.exportableView=void 0),P.exportableContext&&(P.context=P.exportableContext,P.exportableContext=void 0),H<P.view.clientWidth&&(H=P.view.clientWidth),j<P.view.clientHeight&&(j=P.view.clientHeight),P.scale=void 0}}),L.style.width=H+"px",L.style.height=j+"px",F.each(c,P=>{P.style.position="",P.style.top="",this.view.removeChild(P)}),L}}class i{constructor(){Object.defineProperty(this,"view",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"context",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"margin",{enumerable:!0,configurable:!0,writable:!0,value:{left:0,right:0,top:0,bottom:0}}),Object.defineProperty(this,"_width",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_height",{enumerable:!0,configurable:!0,writable:!0,value:0}),this.view=document.createElement("canvas"),this.context=this.view.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.context.imageSmoothingEnabled=!1,this.view.style.position="absolute",this.view.style.top="0px",this.view.style.left="0px"}resize(e,t,s,a,d){e+=this.margin.left+this.margin.right,t+=this.margin.top+this.margin.bottom,s+=this.margin.left+this.margin.right,a+=this.margin.top+this.margin.bottom,this.view.style.left=-this.margin.left+"px",this.view.style.top=-this.margin.top+"px",this._width=Math.floor(e*d),this._height=Math.floor(t*d),this.view.width=this._width,this.view.style.width=s+"px",this.view.height=this._height,this.view.style.height=a+"px"}getImageData(e,t){return this.context.getImageData(Math.round((e.x-t.left)/t.width*this._width),Math.round((e.y-t.top)/t.height*this._height),1,1)}setMargin(e){this.margin.left=0,this.margin.right=0,this.margin.top=0,this.margin.bottom=0,F.each(e,t=>{t.margin&&(this.margin.left=Math.max(this.margin.left,t.margin.left),this.margin.right=Math.max(this.margin.right,t.margin.right),this.margin.top=Math.max(this.margin.top,t.margin.top),this.margin.bottom=Math.max(this.margin.bottom,t.margin.bottom))})}clear(){this.context.save(),this.context.fillStyle="#000",this.context.fillRect(0,0,this._width,this._height)}}class n{constructor(e,t){Object.defineProperty(this,"view",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"context",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tainted",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"margin",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"order",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"visible",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"scale",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"dirty",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"exportableView",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"exportableContext",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_width",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_height",{enumerable:!0,configurable:!0,writable:!0,value:0}),this.view=e,this.context=t}resize(e,t,s,a,d){null!=this.width&&(e=this.width,s=this.width),null!=this.height&&(t=this.height,a=this.height),this.margin?(e+=this.margin.left+this.margin.right,t+=this.margin.top+this.margin.bottom,s+=this.margin.left+this.margin.right,a+=this.margin.top+this.margin.bottom,this.view.style.left=-this.margin.left+"px",this.view.style.top=-this.margin.top+"px"):(this.view.style.left="0px",this.view.style.top="0px"),this._width=Math.floor(e*d),this._height=Math.floor(t*d),this.view.width=this._width,this.view.style.width=s+"px",this.view.height=this._height,this.view.style.height=a+"px"}clear(){this.context.save(),this.context.clearRect(0,0,this._width,this._height)}}var l=I(8018),f=I(5411),b=I(4178);function M(z,e){null==z?requestAnimationFrame(e):setTimeout(()=>{requestAnimationFrame(e)},1e3/z)}class m{constructor(e,t={},s){if(Object.defineProperty(this,"dom",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_inner",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_isDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_isDirtyParents",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dirty",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_dirtyParents",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_dirtyBounds",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_dirtyPositions",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_ticker",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"_tickers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_updateTick",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:new lt.p}),Object.defineProperty(this,"animationTime",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"_animations",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_renderer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_rootContainer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"container",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tooltipContainer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipContainerSettings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltip",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"language",{enumerable:!0,configurable:!0,writable:!0,value:_i.new(this,{})}),Object.defineProperty(this,"locale",{enumerable:!0,configurable:!0,writable:!0,value:ke.default}),Object.defineProperty(this,"utc",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"timezone",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fps",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"numberFormatter",{enumerable:!0,configurable:!0,writable:!0,value:Fe.e.new(this,{})}),Object.defineProperty(this,"dateFormatter",{enumerable:!0,configurable:!0,writable:!0,value:Ut.new(this,{})}),Object.defineProperty(this,"durationFormatter",{enumerable:!0,configurable:!0,writable:!0,value:wt.new(this,{})}),Object.defineProperty(this,"tabindex",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_tabindexes",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_a11yD",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_focusElementDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_focusElementContainer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_focusedSprite",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_isShift",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_keyboardDragPoint",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipElementContainer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_readerAlertElement",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_logo",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipDiv",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"nonce",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"interfaceColors",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"verticalLayout",{enumerable:!0,configurable:!0,writable:!0,value:ne.Z.new(this,{})}),Object.defineProperty(this,"horizontalLayout",{enumerable:!0,configurable:!0,writable:!0,value:_e.G.new(this,{})}),Object.defineProperty(this,"gridLayout",{enumerable:!0,configurable:!0,writable:!0,value:U.M.new(this,{})}),Object.defineProperty(this,"_paused",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"autoResize",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"_fontHash",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"_isDisposed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_disposers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_resizeSensorDisposer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltips",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_htmlElementContainer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_htmlEnabledContainers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),!s)throw new Error("You cannot use `new Class()`, instead use `Class.new()`");let a,d;if(this._settings=t,0==t.accessible&&(this._a11yD=!0),null==t.useSafeResolution&&(t.useSafeResolution=!0),t.useSafeResolution&&(a=v.getSafeResolution()),this._renderer=new W(a),d=e instanceof HTMLElement?e:document.getElementById(e),F.each(f.i_.rootElements,L=>{if(L.dom===d)throw new Error("You cannot have multiple Roots on the same DOM node")}),this.interfaceColors=Se.new(this,{}),null===d)throw new Error("Could not find HTML element with id `"+e+"`");this.dom=d;let c=document.createElement("div");c.style.position="relative",c.style.height="100%",d.appendChild(c);const g=t.tooltipContainerBounds;g&&(this._tooltipContainerSettings=g),this._inner=c,this._updateComputedStyles(),f.i_.rootElements.push(this)}static new(e,t){const s=new m(e,t,!0);return s._init(),s}moveDOM(e){let t;if(t=e instanceof HTMLElement?e:document.getElementById(e),t){for(;this.dom.childNodes.length>0;)t.appendChild(this.dom.childNodes[0]);this.dom=t,this._initResizeSensor(),this.resize()}}_handleLogo(){this._logo&&(this.dom.offsetWidth<=150||this.dom.offsetHeight<=60?this._logo.hide():this._logo.show())}_showBranding(){if(!this._logo){const e=this.tooltipContainer.children.push(V.W.new(this,{interactive:!0,interactiveChildren:!1,position:"absolute",setStateOnChildren:!0,paddingTop:9,paddingRight:9,paddingBottom:9,paddingLeft:9,scale:.6,y:(0,Re.aQ)(100),centerY:Re.AQ,tooltipText:"Created using amCharts 5",tooltipX:Re.AQ,cursorOverStyle:"pointer",background:ge.A.new(this,{fill:(0,We.$_)(4671320),fillOpacity:0,tooltipY:5})})),t=Te.u.new(this,{pointerOrientation:"horizontal",paddingTop:4,paddingRight:7,paddingBottom:4,paddingLeft:7});t.label.setAll({fontSize:12}),t.get("background").setAll({fill:this.interfaceColors.get("background"),stroke:this.interfaceColors.get("grid"),strokeOpacity:.3}),e.set("tooltip",t),e.events.on("click",()=>{window.open("https://www.amcharts.com/","_blank")}),e.states.create("hover",{}),e.children.push(Pe.T.new(this,{stroke:(0,We.$_)(13421772),strokeWidth:3,svgPath:"M5 25 L13 25h13.6c3.4 0 6 0 10.3-4.3s5.2-12 8.6-12c3.4 0 4.3 8.6 7.7 8.6M83.4 25H79.8c-3.4 0-6 0-10.3-4.3s-5.2-12-8.6-12-4.3 8.6-7.7 8.6"})).states.create("hover",{stroke:(0,We.$_)(3976191)}),e.children.push(Pe.T.new(this,{stroke:(0,We.$_)(8947848),strokeWidth:3,svgPath:"M83.4 25h-31C37 25 39.5 4.4 28.4 4.4S18.9 24.2 4.3 25H0"})).states.create("hover",{stroke:(0,We.$_)(4671320)}),this._logo=e,this._handleLogo()}}_getRealSize(){return this.dom.getBoundingClientRect()}_getCalculatedSize(e){return this._settings.calculateSize?this._settings.calculateSize(e):{width:e.width,height:e.height}}_init(){const e=this._settings;!1!==e.accessible&&(e.focusable&&(this._inner.setAttribute("focusable","true"),this._inner.setAttribute("tabindex",this.tabindex+"")),e.ariaLabel&&this._inner.setAttribute("aria-label",e.ariaLabel));const t=this._renderer,s=this._getRealSize(),a=this._getCalculatedSize(s),d=Math.floor(a.width),c=Math.floor(a.height),g=Math.floor(s.width),L=Math.floor(s.height),S=V.W.new(this,{visible:!0,width:g,height:L});this._rootContainer=S,this._rootContainer._defaultThemes.push(ai.X.new(this));const H=S.children.push(V.W.new(this,{visible:!0,width:Re.AQ,height:Re.AQ}));this.container=H,t.resize(g,L,d,c),this._inner.appendChild(t.view),this._initResizeSensor();const j=document.createElement("div");if(this._htmlElementContainer=j,j.className="am5-html-container",j.style.position="absolute",j.style.pointerEvents="none",this._tooltipContainerSettings||(j.style.overflow="hidden"),this._inner.appendChild(j),!0!==this._a11yD){const G=document.createElement("div");G.className="am5-reader-container",G.setAttribute("role","alert"),G.style.position="absolute",G.style.width="1px",G.style.height="1px",G.style.overflow="hidden",G.style.clip="rect(1px, 1px, 1px, 1px)",this._readerAlertElement=G,this._inner.appendChild(this._readerAlertElement);const P=document.createElement("div");P.className="am5-focus-container",P.style.position="absolute",P.style.pointerEvents="none",P.style.top="0px",P.style.left="0px",P.style.overflow="hidden",P.style.width=d+"px",P.style.height=c+"px",P.setAttribute("role","graphics-document"),v.setInteractive(P,!1),this._focusElementContainer=P,this._inner.appendChild(this._focusElementContainer);const me=document.createElement("div");this._tooltipElementContainer=me,me.className="am5-tooltip-container",this._inner.appendChild(me),v.supports("keyboardevents")&&(this._disposers.push(v.addEventListener(window,"keydown",T=>{16==T.keyCode?this._isShift=!0:9==T.keyCode&&(this._isShift=T.shiftKey)})),this._disposers.push(v.addEventListener(window,"keyup",T=>{16==T.keyCode&&(this._isShift=!1)})),this._disposers.push(v.addEventListener(P,"keydown",T=>{const he=this._focusedSprite;if(he){27==T.keyCode&&(v.blur(),this._focusedSprite=void 0);let re=0,Ee=0;switch(T.keyCode){case 13:T.preventDefault();const ve=t.getEvent(new MouseEvent("click"));return void he.events.dispatch("click",{type:"click",originalEvent:ve.event,point:ve.point,simulated:!0,target:he});case 37:re=-6;break;case 39:re=6;break;case 38:Ee=-6;break;case 40:Ee=6;break;default:return}if(0!=re||0!=Ee){if(T.preventDefault(),!he.isDragging()){this._keyboardDragPoint={x:0,y:0};const Be=t.getEvent(new MouseEvent("mousedown",{clientX:0,clientY:0}));he.events.isEnabled("pointerdown")&&he.events.dispatch("pointerdown",{type:"pointerdown",originalEvent:Be.event,point:Be.point,simulated:!0,target:he})}const ve=this._keyboardDragPoint;ve.x+=re,ve.y+=Ee;const ce=t.getEvent(new MouseEvent("mousemove",{clientX:ve.x,clientY:ve.y}),!1);he.events.isEnabled("globalpointermove")&&he.events.dispatch("globalpointermove",{type:"globalpointermove",originalEvent:ce.event,point:ce.point,simulated:!0,target:he})}}})),this._disposers.push(v.addEventListener(P,"keyup",T=>{if(this._focusedSprite){const he=this._focusedSprite,re=T.keyCode;switch(re){case 37:case 39:case 38:case 40:if(he.isDragging()){const Ee=this._keyboardDragPoint,ve=t.getEvent(new MouseEvent("mouseup",{clientX:Ee.x,clientY:Ee.y}));return he.events.isEnabled("globalpointerup")&&he.events.dispatch("globalpointerup",{type:"globalpointerup",originalEvent:ve.event,point:ve.point,simulated:!0,target:he}),void(this._keyboardDragPoint=void 0)}if(he.get("focusableGroup")){const Ee=he.get("focusableGroup"),ve=this._tabindexes.filter(Ze=>Ze.get("focusableGroup")==Ee&&!1!==Ze.getPrivate("focusable"));let ce=ve.indexOf(he);const Be=ve.length-1;ce+=39==re||40==re?1:-1,ce<0?ce=Be:ce>Be&&(ce=0),v.focus(ve[ce].getPrivate("focusElement").dom)}}}})))}this._startTicker(),this.setThemes([]),this._addTooltip(),this._hasLicense()||this._showBranding()}_initResizeSensor(){this._resizeSensorDisposer&&this._resizeSensorDisposer.dispose(),this._resizeSensorDisposer=new R(this.dom,()=>{this.autoResize&&this.resize()}),this._disposers.push(this._resizeSensorDisposer)}resize(){const e=this._getRealSize(),t=this._getCalculatedSize(e),s=Math.floor(t.width),a=Math.floor(t.height);if(s>0&&a>0){const d=Math.floor(e.width),c=Math.floor(e.height),g=this._htmlElementContainer;if(g.style.width=s+"px",g.style.height=a+"px",!0!==this._a11yD){const S=this._focusElementContainer;S.style.width=s+"px",S.style.height=a+"px"}this._renderer.resize(d,c,s,a);const L=this._rootContainer;L.setPrivate("width",d),L.setPrivate("height",c),this._render(),this._handleLogo()}}_render(){this._renderer.render(this._rootContainer._display),this._focusElementDirty&&(this._updateCurrentFocus(),this._focusElementDirty=!1)}_runTickers(e){F.each(this._tickers,t=>{t(e)})}_runAnimations(e){F.keepIf(this._animations,t=>t._runAnimation(e))}_runDirties(){let e={};for(;this._isDirtyParents;)this._isDirtyParents=!1,vt.keys(this._dirtyParents).forEach(c=>{const g=this._dirtyParents[c];delete this._dirtyParents[c],g.isDisposed()||(e[g.uid]=g,g._prepareChildren())});vt.keys(e).forEach(c=>{e[c]._updateChildren()});const t=[];vt.keys(this._dirty).forEach(c=>{const g=this._dirty[c];g.isDisposed()?delete this._dirty[g.uid]:(t.push(g),g._beforeChanged())}),t.forEach(c=>{c._changed(),delete this._dirty[c.uid],c._clearDirty()}),this._isDirty=!1;const s={},a=[];vt.keys(this._dirtyBounds).forEach(c=>{const g=this._dirtyBounds[c];delete this._dirtyBounds[c],g.isDisposed()||(s[g.uid]=g.depth(),a.push(g))}),this._positionHTMLElements(),a.sort((c,g)=>b.qu(s[g.uid],s[c.uid])),a.forEach(c=>{c._updateBounds()});const d=this._dirtyPositions;vt.keys(d).forEach(c=>{const g=d[c];delete d[c],g.isDisposed()||g._updatePosition()}),t.forEach(c=>{c._afterChanged()})}_renderFrame(e){return!this._updateTick||(this.events.isEnabled("framestarted")&&this.events.dispatch("framestarted",{type:"framestarted",target:this,timestamp:e}),this._checkComputedStyles(),this._runTickers(e),this._runAnimations(e),this._runDirties(),this._render(),this._positionHTMLElements(),this.events.isEnabled("frameended")&&this.events.dispatch("frameended",{type:"frameended",target:this,timestamp:e}),0===this._tickers.length&&0===this._animations.length&&!this._isDirty)}_runTicker(e,t){this.isDisposed()||(this.animationTime=e,this._renderFrame(e)?(this._ticker=null,this.animationTime=null):this._paused||t||M(this.fps,this._ticker))}_runTickerNow(e=1e4){if(!this.isDisposed()){const t=performance.now()+e;for(;;){const s=performance.now();if(s>=t){this.animationTime=null;break}if(this.animationTime=s,this._renderFrame(s)){this.animationTime=null;break}}}}_startTicker(){null===this._ticker&&(this.animationTime=null,this._ticker=e=>{this._runTicker(e)},M(this.fps,this._ticker))}get updateTick(){return this._updateTick}set updateTick(e){this._updateTick=e,e&&this._startTicker()}_addDirtyEntity(e){void 0===this._dirty[e.uid]&&(this._isDirty=!0,this._dirty[e.uid]=e,this._startTicker())}_addDirtyParent(e){void 0===this._dirtyParents[e.uid]&&(this._isDirty=!0,this._isDirtyParents=!0,this._dirtyParents[e.uid]=e,this._startTicker())}_addDirtyBounds(e){void 0===this._dirtyBounds[e.uid]&&(this._isDirty=!0,this._dirtyBounds[e.uid]=e,this._startTicker())}_addDirtyPosition(e){void 0===this._dirtyPositions[e.uid]&&(this._isDirty=!0,this._dirtyPositions[e.uid]=e,this._startTicker())}_addAnimation(e){-1===this._animations.indexOf(e)&&(this._animations.push(e),this._startTicker())}_markDirty(){this._isDirty=!0}_markDirtyRedraw(){this.events.once("frameended",()=>{this._isDirty=!0,this._startTicker()})}eachFrame(e){return this._tickers.push(e),this._startTicker(),new fe.ku(()=>{F.removeFirst(this._tickers,e)})}markDirtyGlobal(e){e||(e=this.container),e.walkChildren(t=>{t instanceof V.W&&this.markDirtyGlobal(t),t.markDirty(),t.markDirtyBounds()})}width(){return Math.floor(this._getCalculatedSize(this._getRealSize()).width)}height(){return Math.floor(this._getCalculatedSize(this._getRealSize()).height)}dispose(){this._isDisposed||(this._isDisposed=!0,this._rootContainer.dispose(),this._renderer.dispose(),this.horizontalLayout.dispose(),this.verticalLayout.dispose(),this.interfaceColors.dispose(),F.each(this._disposers,e=>{e.dispose()}),this._inner&&v.removeElement(this._inner),F.remove(f.i_.rootElements,this))}isDisposed(){return this._isDisposed}readerAlert(e){!0!==this._a11yD&&(this._readerAlertElement.innerHTML=v.stripTags(e))}setThemes(e){this._rootContainer.set("themes",e);const t=this.tooltipContainer;t&&t._applyThemes();const s=this.interfaceColors;s&&s._applyThemes()}_addTooltip(){if(!this.tooltipContainer){const e=this._tooltipContainerSettings,t=this._rootContainer.children.push(V.W.new(this,{position:"absolute",isMeasured:!1,width:Re.AQ,height:Re.AQ,layer:e?35:30,layerMargin:e||void 0}));this.tooltipContainer=t;const s=Te.u.new(this,{});this.container.set("tooltip",s),s.hide(0),this._tooltip=s}}_registerTabindexOrder(e){1!=this._a11yD&&(e.get("focusable")?F.pushOne(this._tabindexes,e):F.remove(this._tabindexes,e),this._invalidateTabindexes())}_unregisterTabindexOrder(e){1!=this._a11yD&&(F.remove(this._tabindexes,e),this._invalidateTabindexes())}_invalidateTabindexes(){if(1==this._a11yD)return;this._tabindexes.sort((t,s)=>{const a=t.get("tabindexOrder",0),d=s.get("tabindexOrder",0);return a==d?0:a>d?1:-1});const e=[];F.each(this._tabindexes,(t,s)=>{t.getPrivate("focusElement")?this._moveFocusElement(s,t):this._makeFocusElement(s,t);const a=t.get("focusableGroup");a&&!1!==t.getPrivate("focusable")&&(-1!==e.indexOf(a)?t.getPrivate("focusElement").dom.setAttribute("tabindex","-1"):e.push(a))})}_updateCurrentFocus(){1!=this._a11yD&&this._focusedSprite&&(this._decorateFocusElement(this._focusedSprite),this._positionFocusElement(this._focusedSprite))}_decorateFocusElement(e,t){if(1==this._a11yD||(t||(t=e.getPrivate("focusElement").dom),!t))return;e.get("visible")&&"tooltip"!=e.get("role")&&!e.isHidden()&&!1!==e.getPrivate("focusable")?"-1"!=t.getAttribute("tabindex")&&t.setAttribute("tabindex",""+this.tabindex):t.removeAttribute("tabindex");const s=e.get("role");s?t.setAttribute("role",s):t.removeAttribute("role");const a=e.get("ariaLabel");if(a){const P=(0,l.q)(e,a);t.setAttribute("aria-label",P)}else t.removeAttribute("aria-label");const d=e.get("ariaLive");d?t.setAttribute("aria-live",d):t.removeAttribute("aria-live");const c=e.get("ariaChecked");null!=c?t.setAttribute("aria-checked",c?"true":"false"):t.removeAttribute("aria-checked"),e.get("ariaHidden")?t.setAttribute("aria-hidden","hidden"):t.removeAttribute("aria-hidden");const g=e.get("ariaOrientation");g?t.setAttribute("aria-orientation",g):t.removeAttribute("aria-orientation");const L=e.get("ariaValueNow");L?t.setAttribute("aria-valuenow",L):t.removeAttribute("aria-valuenow");const S=e.get("ariaValueMin");S?t.setAttribute("aria-valuemin",S):t.removeAttribute("aria-valuemin");const H=e.get("ariaValueMax");H?t.setAttribute("aria-valuemax",H):t.removeAttribute("aria-valuemax");const j=e.get("ariaValueText");j?t.setAttribute("aria-valuetext",j):t.removeAttribute("aria-valuetext");const G=e.get("ariaControls");G?t.setAttribute("aria-controls",G):t.removeAttribute("aria-controls")}_makeFocusElement(e,t){if(t.getPrivate("focusElement")||1==this._a11yD)return;const s=document.createElement("div");"tooltip"!=t.get("role")&&(s.tabIndex=this.tabindex),s.style.position="absolute",v.setInteractive(s,!1);const a=[];t.setPrivate("focusElement",{dom:s,disposers:a}),this._decorateFocusElement(t),a.push(v.addEventListener(s,"focus",d=>{this._handleFocus(d,e)})),a.push(v.addEventListener(s,"blur",d=>{this._handleBlur(d,e)})),this._moveFocusElement(e,t)}_removeFocusElement(e){if(1==this._a11yD)return;F.remove(this._tabindexes,e);const t=e.getPrivate("focusElement");t&&(this._focusElementContainer.removeChild(t.dom),F.each(t.disposers,a=>{a.dispose()}))}_hideFocusElement(e){1!=this._a11yD&&(e.getPrivate("focusElement").dom.style.display="none")}_moveFocusElement(e,t){if(1==this._a11yD)return;const s=this._focusElementContainer,a=t.getPrivate("focusElement").dom;if(a===this._focusElementContainer.children[e])return;const d=this._focusElementContainer.children[e+1];d?s.insertBefore(a,d):s.append(a)}_positionFocusElement(e){if(1==this._a11yD)return;const t=e.globalBounds();let s=t.right==t.left?e.width():t.right-t.left,a=t.top==t.bottom?e.height():t.bottom-t.top,d=t.left-2,c=t.top-2;s<0&&(d+=s,s=Math.abs(s)),a<0&&(c+=a,a=Math.abs(a));const g=e.getPrivate("focusElement").dom;g.style.top=c+"px",g.style.left=d+"px",g.style.width=s+4+"px",g.style.height=a+4+"px"}_handleFocus(e,t){if(1==this._a11yD)return;const s=this._tabindexes[t];s.isVisibleDeep()?(this._positionFocusElement(s),this._focusedSprite=s,s.events.isEnabled("focus")&&s.events.dispatch("focus",{type:"focus",originalEvent:e,target:s})):this._focusNext(e.target,this._isShift?-1:1)}_focusNext(e,t){if(1==this._a11yD)return;const s=Array.from(document.querySelectorAll(["a[href]","area[href]","button:not([disabled])","details","input:not([disabled])","iframe:not([disabled])","select:not([disabled])","textarea:not([disabled])",'[contentEditable=""]','[contentEditable="true"]','[contentEditable="TRUE"]','[tabindex]:not([tabindex^="-"])'].join(",")));let a=s.indexOf(e)+t;a<0?a=s.length-1:a>=s.length&&(a=0),s[a].focus()}_handleBlur(e,t){if(1==this._a11yD)return;const s=this._focusedSprite;s&&s.events.isEnabled("blur")&&s.events.dispatch("blur",{type:"blur",originalEvent:e,target:s}),this._focusedSprite=void 0}updateTooltip(e){if(1==this._a11yD)return;const t=v.stripTags(e._getText());let s=e.getPrivate("tooltipElement");"tooltip"==e.get("role")&&""!=t?(s||(s=this._makeTooltipElement(e)),s.innerHTML!=t&&(s.innerHTML=t)):s&&(s.remove(),e.removePrivate("tooltipElement"))}_makeTooltipElement(e){const t=this._tooltipElementContainer,s=document.createElement("div");return s.style.position="absolute",s.style.width="1px",s.style.height="1px",s.style.overflow="hidden",s.style.clip="rect(1px, 1px, 1px, 1px)",v.setInteractive(s,!1),this._decorateFocusElement(e,s),t.append(s),e.setPrivate("tooltipElement",s),s}_removeTooltipElement(e){if(1==this._a11yD)return;const t=e.getPrivate("tooltipElement");if(t){const s=t.parentElement;s&&s.removeChild(t)}}_invalidateAccessibility(e){if(1==this._a11yD)return;this._focusElementDirty=!0;const t=e.getPrivate("focusElement");e.get("focusable")?t&&(this._decorateFocusElement(e),this._positionFocusElement(e)):t&&this._removeFocusElement(e)}focused(e){return this._focusedSprite===e}documentPointToRoot(e){const t=this.dom.getBoundingClientRect();return{x:e.x-t.left,y:e.y-t.top}}rootPointToDocument(e){const t=this.dom.getBoundingClientRect();return{x:e.x+t.left,y:e.y+t.top}}addDisposer(e){return this._disposers.push(e),e}_updateComputedStyles(){const e=window.getComputedStyle(this.dom);let t="";vt.each(e,(a,d)=>{Ae.isString(a)&&a.match(/^font/)&&(t+=d)});const s=t!=this._fontHash;return s&&(this._fontHash=t),s}_checkComputedStyles(){this._updateComputedStyles()&&this._invalidateLabelBounds(this.container)}_invalidateLabelBounds(e){e instanceof V.W?e.children.each(t=>{this._invalidateLabelBounds(t)}):e instanceof Me.x&&e.markDirtyBounds()}_hasLicense(){for(let e=0;e<f.i_.licenses.length;e++)if(f.i_.licenses[e].match(/^AM5C.{5,}/i))return!0;return!1}_licenseApplied(){this._logo&&this._logo.set("forceHidden",!0)}get debugGhostView(){return this._renderer.debugGhostView}set debugGhostView(e){this._renderer.debugGhostView=e}set tapToActivate(e){this._renderer.tapToActivate=e}get tapToActivate(){return this._renderer.tapToActivate}set tapToActivateTimeout(e){this._renderer.tapToActivateTimeout=e}get tapToActivateTimeout(){return this._renderer.tapToActivateTimeout}_makeHTMLElement(e){const t=this._htmlElementContainer,s=document.createElement("div");return e.setPrivate("htmlElement",s),s.style.position="absolute",s.style.overflow="auto",s.style.boxSizing="border-box",v.setInteractive(s,e.get("interactive",!1)),e.events.isEnabled("click")&&(v.setInteractive(s,!0),this._disposers.push(v.addEventListener(s,"click",a=>{const d=this._renderer.getEvent(a);e.events.dispatch("click",{type:"click",originalEvent:d.event,point:d.point,simulated:!1,target:e})}))),this._positionHTMLElement(e),t.append(s),F.pushOne(this._htmlEnabledContainers,e),s}_positionHTMLElements(){F.each(this._htmlEnabledContainers,e=>{this._positionHTMLElement(e)})}_positionHTMLElement(e){const t=e.getPrivate("htmlElement");if(t){F.each(["paddingTop","paddingRight","paddingBottom","paddingLeft","minWidth","minHeight","maxWidth","maxHeight"],j=>{const G=e.get(j);t.style[j]=G?G+"px":""});const a=e.compositeOpacity();setTimeout(()=>{t.style.opacity=a+""},10);const d=e.isVisibleDeep();d&&(t.style.display="block");const c=e.globalBounds();t.style.top=c.top+"px",t.style.left=c.left+"px";const g=e.get("width"),L=e.get("height");let S=0,H=0;if(g&&(S=e.width()),L&&(H=e.height()),g&&L)e.removePrivate("minWidth"),e.removePrivate("minHeight");else{t.style.position="fixed",t.style.width="",t.style.height="";const j=t.getBoundingClientRect();t.style.position="absolute",S=j.width,H=j.height,e._adjustedLocalBounds={left:0,right:0,top:0,bottom:0},e.setPrivate("minWidth",S),e.setPrivate("minHeight",H)}S>0&&(t.style.minWidth=S+"px"),H>0&&(t.style.minHeight=H+"px"),(!d||0==a)&&(t.style.display="none")}}_setHTMLContent(e,t){let s=e.getPrivate("htmlElement");s||(s=this._makeHTMLElement(e)),s.innerHTML!=t&&(s.innerHTML=t)}_removeHTMLContent(e){let t=e.getPrivate("htmlElement");t&&this._htmlElementContainer.removeChild(t),F.remove(this._htmlEnabledContainers,e)}}var _=I(5013);let D;class x extends ue.JH{_afterNew(){super._afterNewApplyThemes(),this._setRawDefault("deactivateRoot",!0),function C(z,e,t){const s=e.interfaceColors,a=s.get("secondaryButton").toCSS(),d=s.get("text").toCSS(),c=s.get("alternativeBackground").toCSS(.45);if(!D){const g=new fe.FV([new v.StyleRule(z,".am5-modal",{width:"100%",height:"100%",position:"absolute","z-index":"100000",top:"0",left:"0"}),new v.StyleRule(z,".am5-modal-curtain",{top:"0",left:"0",width:"100%",height:"100%",position:"absolute",background:s.get("background").toCSS(.5),"z-index":"100"}),new v.StyleRule(z,".am5-modal-wrapper",{top:"0",left:"0",width:"100%",height:"100%",position:"absolute","text-align":"center","white-space":"nowrap",background:s.get("background").toCSS(.5),"z-index":"101"}),new v.StyleRule(z,".am5-modal-wrapper:before",{content:"''",display:"inline-block",height:"100%","vertical-align":"middle","margin-right":"-0.25em"}),new v.StyleRule(z,".am5-modal-content",{display:"inline-block",padding:"1.2em","vertical-align":"middle","text-align":"left","white-space":"normal",background:s.get("background").toCSS(),"border-radius":"4px","-webkit-box-shadow":"0px 0px 36px 0px "+c,"box-shadow":"0px 0px 36px 0px "+c,color:d}),new v.StyleRule(z,".am5-modal-content h1",{"font-size":"1em",margin:"0 0 0.5em 0"}),new v.StyleRule(z,".am5-modal-table",{display:"table",margin:"1em 0"}),new v.StyleRule(z,".am5-modal-table-row",{display:"table-row"}),new v.StyleRule(z,".am5-modal-table-heading",{display:"table-heading",padding:"3px 10px 3px 0"}),new v.StyleRule(z,".am5-modal-table-cell",{display:"table-cell",padding:"3px 0 3px 0"}),new v.StyleRule(z,".am5-modal-table-cell > *",{"vertical-align":"middle"}),new v.StyleRule(z,".am5-modal-content input[type=text], .am5-modal-content input[type=number], .am5-modal-content select",{border:"1px solid "+a,"border-radius":"4px",padding:"3px 5px",margin:"2px"}),new v.StyleRule(z,".am5-modal-input-narrow",{width:"50px"}),new v.StyleRule(z,".am5-modal-button",{"font-weight":"400",color:s.get("secondaryButtonText").toCSS(),"line-height":"1.5","text-align":"center","text-decoration":"none","vertical-align":"middle",cursor:"pointer",padding:"0.2em 0.8em","font-size":"1em","border-radius":"0.25em",margin:"0 0.25em 0 0",border:"1px solid "+s.get("secondaryButtonStroke").toCSS(),background:s.get("secondaryButton").toCSS()}),new v.StyleRule(z,".am5-modal-button:hover",{background:s.get("secondaryButtonHover").toCSS()}),new v.StyleRule(z,".am5-modal-button.am5-modal-primary",{color:s.get("primaryButtonText").toCSS(),border:"1px solid "+s.get("primaryButtonStroke").toCSS(),background:s.get("primaryButton").toCSS()}),new v.StyleRule(z,".am5-modal-button.am5-modal-primary:hover",{background:s.get("primaryButtonHover").toCSS()})]);D=new fe.DM(()=>{D=void 0,g.dispose()})}D.increment()}(v.getShadowRoot(this._root.dom),this._root);const e=document.createElement("div");e.className="am5-modal",e.style.display="none",this.root._inner.appendChild(e),this.setPrivate("container",e);const t=document.createElement("div");t.className="am5-modal-curtain",e.appendChild(t),this.setPrivate("curtain",t),this._disposers.push(v.addEventListener(t,"click",()=>{this.cancel()}));const s=document.createElement("div");s.className="am5-modal-wrapper",e.appendChild(s),this.setPrivate("wrapper",s);const a=document.createElement("div");a.className="am5-modal-content",s.appendChild(a),this.setPrivate("content",a);const d=this.get("content");d&&(a.innerHTML=d),v.supports("keyboardevents")&&this._disposers.push(v.addEventListener(document,"keydown",c=>{this.isOpen()&&27==c.keyCode&&this.cancel()}))}_beforeChanged(){super._beforeChanged(),this.isDirty("content")&&(this.getPrivate("content").innerHTML=this.get("content",""))}isOpen(){return"none"!=this.getPrivate("container").style.display}open(){this.getPrivate("container").style.display="block",this.get("deactivateRoot")&&this.setTimeout(()=>{this._root._renderer.interactionsEnabled=!1},10),this.events.dispatch("opened",{type:"opened",target:this})}close(){this.getPrivate("container").style.display="none",this.get("deactivateRoot")&&(this._root._renderer.interactionsEnabled=!0),this.events.dispatch("closed",{type:"closed",target:this})}cancel(){this.getPrivate("container").style.display="none",this.get("deactivateRoot")&&(this._root._renderer.interactionsEnabled=!0),this.events.dispatch("cancelled",{type:"cancelled",target:this})}dispose(){super.dispose(),this.root.dom.removeChild(this.getPrivate("container"))}}Object.defineProperty(x,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Modal"}),Object.defineProperty(x,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ue.JH.classNames.concat([x.className])});var k=I(6095),q=I(4618),J=I(1578);class ee extends Pe.T{constructor(){super(...arguments),Object.defineProperty(this,"morphAnimation",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_beforeChanged(){if(super._beforeChanged(),this.isDirty("coordinates")){const e=[],t=this.get("coordinates");t&&F.each(t,s=>{e.push({x:s[0],y:s[1]})}),this.set("points",e)}if(this.isPrivateDirty("points")&&(this._clear=!0),this.isDirty("points")){this._clear=!0;const e=this.get("points"),t=this._prevSettings.points;if(t){if(e){let g=F.copy(e),L=F.copy(t),S=g.length,H=L.length;if(S>H){let j=F.copy(g);for(let G=0;G<S;G++){let P=Math.floor(G/S*H);j[G]={x:L[P].x,y:L[P].y}}L=j}else if(H>S){let j=F.copy(L);for(let G=0;G<H;G++){let P=Math.floor(G/H*S);j[G]={x:g[P].x,y:g[P].y}}g=j}this.setPrivateRaw("previousPoints",L),this.setPrivateRaw("points",g),this.morphAnimation=this.animatePrivate({key:"morphProgress",from:0,to:1,duration:this.get("animationDuration",0),easing:this.get("animationEasing")})}}else this.setPrivateRaw("previousPoints",e),this.setPrivateRaw("points",e);let s=1/0,a=-1/0,d=1/0,c=-1/0;if(e)for(let g=1,L=e.length;g<L;g++){const S=e[g];s=Math.min(s,S.x),a=Math.max(a,S.x),d=Math.min(d,S.y),c=Math.max(c,S.y)}this.setPrivate("minX",s),this.setPrivate("maxX",a),this.setPrivate("minY",d),this.setPrivate("maxY",d)}this.isPrivateDirty("morphProgress")&&(this._clear=!0)}_changed(){super._changed(),this._clear&&this._draw()}_draw(){const e=this.getPrivate("previousPoints"),t=this.getPrivate("points"),s=this.getPrivate("morphProgress",1);if(t&&e){const a=t[0],d=e[0];a&&this._display.moveTo(d.x+(a.x-d.x)*s,d.y+(a.y-d.y)*s);for(let c=1,g=t.length;c<g;c++){const L=t[c],S=e[c];this._display.lineTo(S.x+(L.x-S.x)*s,S.y+(L.y-S.y)*s)}this._display.closePath()}}_updateSize(){this.markDirty(),this._clear=!0}}Object.defineProperty(ee,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Polygon"}),Object.defineProperty(ee,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Pe.T.classNames.concat([ee.className])});class K extends Pe.T{_beforeChanged(){super._beforeChanged(),(this.isDirty("radiusX")||this.isDirty("radiusY")||this.isDirty("rotation"))&&(this._clear=!0)}_changed(){super._changed(),this._clear&&this._display.drawEllipse(0,0,Math.abs(this.get("radiusX")),Math.abs(this.get("radiusY")))}}Object.defineProperty(K,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Ellipse"}),Object.defineProperty(K,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Pe.T.classNames.concat([K.className])});class se extends Pe.T{_beforeChanged(){super._beforeChanged(),(this.isDirty("radius")||this.isDirty("innerRadius")||this.isDirty("spikes"))&&(this._clear=!0)}_changed(){if(super._changed(),this._clear){const e=this._display,t=this.get("radius",0),s=v.relativeToValue(this.get("innerRadius",0),t),a=this.get("spikes",0),d=Math.PI/a;let c=Math.PI/2*3;e.moveTo(0,-t);for(let g=0;g<a;g++)e.lineTo(Math.cos(c)*t,Math.sin(c)*t),c+=d,e.lineTo(Math.cos(c)*s,Math.sin(c)*s),c+=d;e.lineTo(0,-t),e.closePath()}}}Object.defineProperty(se,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Star"}),Object.defineProperty(se,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Pe.T.classNames.concat([se.className])});var ye=I(7313),Q=I(1262),ie=I(867),De=I(1371),pe=I(434);class Ye extends ue.JH{_afterNew(){super._afterNewApplyThemes()}getFill(e){return{addColorStop:(t,s)=>{}}}_changed(){super._changed()}getBounds(e){const t=this.get("target");if(t){let s=t.globalBounds();const a=e.toLocal({x:s.left,y:s.top}),d=e.toLocal({x:s.right,y:s.top}),c=e.toLocal({x:s.right,y:s.bottom}),g=e.toLocal({x:s.left,y:s.bottom});return{left:Math.min(a.x,d.x,c.x,g.x),top:Math.min(a.y,d.y,c.y,g.y),right:Math.max(a.x,d.x,c.x,g.x),bottom:Math.max(a.y,d.y,c.y,g.y)}}return e._display.getLocalBounds()}}Object.defineProperty(Ye,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Gradient"}),Object.defineProperty(Ye,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ue.JH.classNames.concat([Ye.className])});class Ue extends Ye{getFill(e){const t=this.get("rotation",0);let s=this.getBounds(e),a=s.left||0,d=s.right||0,c=s.top||0,g=s.bottom||0,L=ut.cos(t),S=ut.sin(t),G=Math.max(L*(d-a),S*(g-c));const P=this._root._renderer.createLinearGradient(a,c,a+G*L,c+G*S),me=this.get("stops");if(me){let T=0;F.each(me,he=>{let re=he.offset;Ae.isNumber(re)||(re=T/(me.length-1));let Ee=he.opacity;Ae.isNumber(Ee)||(Ee=1);let ve=he.color;if(ve){const ce=he.lighten;ce&&(ve=We.Il.lighten(ve,ce));const Be=he.brighten;Be&&(ve=We.Il.brighten(ve,Be)),P.addColorStop(re,"rgba("+ve.r+","+ve.g+","+ve.b+","+Ee+")")}T++})}return P}}Object.defineProperty(Ue,"className",{enumerable:!0,configurable:!0,writable:!0,value:"LinearGradient"}),Object.defineProperty(Ue,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Ye.classNames.concat([Ue.className])});class ht extends V.W{constructor(){super(...arguments),Object.defineProperty(this,"labelContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(V.W.new(this._root,{}))}),Object.defineProperty(this,"markerContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(V.W.new(this._root,{}))}),Object.defineProperty(this,"startLabel",{enumerable:!0,configurable:!0,writable:!0,value:this.labelContainer.children.push(Q._.new(this._root,{themeTags:["start"]}))}),Object.defineProperty(this,"endLabel",{enumerable:!0,configurable:!0,writable:!0,value:this.labelContainer.children.push(Q._.new(this._root,{themeTags:["end"]}))}),Object.defineProperty(this,"markers",{enumerable:!0,configurable:!0,writable:!0,value:new pe.o(De.YS.new({}),()=>ie.c._new(this._root,{themeTags:v.mergeTags(this.markers.template.get("themeTags",[]),[this.get("orientation"),"heatlegend","marker"])},[this.markers.template]))})}_afterNew(){this._settings.themeTags=v.mergeTags(this._settings.themeTags,["heatlegend",this._settings.orientation]),super._afterNew(),this.set("tooltip",Te.u.new(this._root,{themeTags:["heatlegend"]}))}makeMarker(){const e=this.markers.make();return e.states.create("disabled",{}),e}showValue(e,t,s){const a=this.getTooltip();if(a&&Ae.isNumber(e)){const d=this.get("startValue",0),g=(e-d)/(this.get("endValue",1)-d),L=this.get("startColor"),S=this.get("endColor");let H;t||(t=this.getNumberFormatter().format(e)),s||(s=We.Il.interpolate(g,L,S)),a.label.set("text",t),H="vertical"==this.get("orientation")?this.markerContainer.toGlobal({x:0,y:this.innerHeight()*(1-g)}):this.markerContainer.toGlobal({x:this.innerWidth()*g,y:0});let j=a.get("background");j&&j.set("fill",We.Il.interpolate(g,L,S)),a.set("pointTo",H),a.show()}}_prepareChildren(){super._prepareChildren();const e=this.labelContainer,t=this.get("orientation"),s=this.startLabel,a=this.endLabel,d=this.getTooltip();if(this.isDirty("orientation")&&("vertical"==t?(this.markerContainer.setAll({layout:this._root.verticalLayout,height:Re.AQ}),this.set("layout",this._root.horizontalLayout),s.setAll({y:Re.AQ,x:void 0,centerY:Re.AQ,centerX:Re.AQ}),a.setAll({y:0,x:void 0,centerY:0,centerX:Re.AQ}),e.setAll({height:Re.AQ,width:void 0}),d&&d.set("pointerOrientation","horizontal")):(this.markerContainer.setAll({layout:this._root.horizontalLayout,width:Re.AQ}),this.set("layout",this._root.verticalLayout),s.setAll({x:0,y:void 0,centerX:0,centerY:0}),a.setAll({x:Re.AQ,y:void 0,centerX:Re.AQ,centerY:0}),e.setAll({width:Re.AQ,height:void 0}),d&&d.set("pointerOrientation","vertical"))),this.isDirty("stepCount")){const c=this.get("stepCount",1),g=this.get("startColor"),L=this.get("endColor");if(this.markerContainer.children.clear(),c>1)for(let S=0;S<c;S++){const H=this.makeMarker();"vertical"==t?this.markerContainer.children.moveValue(H,0):this.markerContainer.children.push(H),g&&L&&H.set("fill",We.Il.interpolate(S/c,g,L))}else if(1==c){const S=this.makeMarker();this.markerContainer.children.push(S);const H=Ue.new(this._root,{stops:[{color:g},{color:L}]});if("vertical"==t){H.set("rotation",90);let j=H.get("stops");j&&j.reverse()}else H.set("rotation",0);g&&L&&S.set("fillGradient",H)}}(this.isDirty("startText")||this.isDirty("startValue"))&&s.set("text",this.get("startText",this.getNumberFormatter().format(this.get("startValue",0)))),(this.isDirty("endText")||this.isDirty("endValue"))&&a.set("text",this.get("endText",this.getNumberFormatter().format(this.get("endValue",1))))}}Object.defineProperty(ht,"className",{enumerable:!0,configurable:!0,writable:!0,value:"HeatLegend"}),Object.defineProperty(ht,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:V.W.classNames.concat([ht.className])});var Ie=I(7591),Ke=I(3164);class qe extends Ke.F{constructor(){super(...arguments),Object.defineProperty(this,"itemContainers",{enumerable:!0,configurable:!0,writable:!0,value:new pe.o(De.YS.new({}),()=>V.W._new(this._root,{themeTags:v.mergeTags(this.itemContainers.template.get("themeTags",[]),["legend","item"]),themeTagsSelf:v.mergeTags(this.itemContainers.template.get("themeTagsSelf",[]),["itemcontainer"]),background:ie.c.new(this._root,{themeTags:v.mergeTags(this.itemContainers.template.get("themeTags",[]),["legend","item","background"]),themeTagsSelf:v.mergeTags(this.itemContainers.template.get("themeTagsSelf",[]),["itemcontainer"])})},[this.itemContainers.template]))}),Object.defineProperty(this,"markers",{enumerable:!0,configurable:!0,writable:!0,value:new pe.o(De.YS.new({}),()=>V.W._new(this._root,{themeTags:v.mergeTags(this.markers.template.get("themeTags",[]),["legend","marker"])},[this.markers.template]))}),Object.defineProperty(this,"labels",{enumerable:!0,configurable:!0,writable:!0,value:new pe.o(De.YS.new({}),()=>Q._._new(this._root,{themeTags:v.mergeTags(this.labels.template.get("themeTags",[]),["legend","label"])},[this.labels.template]))}),Object.defineProperty(this,"valueLabels",{enumerable:!0,configurable:!0,writable:!0,value:new pe.o(De.YS.new({}),()=>Q._._new(this._root,{themeTags:v.mergeTags(this.valueLabels.template.get("themeTags",[]),["legend","label","value"])},[this.valueLabels.template]))}),Object.defineProperty(this,"markerRectangles",{enumerable:!0,configurable:!0,writable:!0,value:new pe.o(De.YS.new({}),()=>ie.c._new(this._root,{themeTags:v.mergeTags(this.markerRectangles.template.get("themeTags",[]),["legend","marker","rectangle"])},[this.markerRectangles.template]))})}_afterNew(){this._settings.themeTags=v.mergeTags(this._settings.themeTags,["legend"]),this.fields.push("name","stroke","fill"),super._afterNew()}makeItemContainer(e){const t=this.children.push(this.itemContainers.make());return t._setDataItem(e),this.itemContainers.push(t),t.states.create("disabled",{}),t}makeMarker(){const e=this.markers.make();return this.markers.push(e),e.states.create("disabled",{}),e}makeLabel(){const e=this.labels.make();return e.states.create("disabled",{}),e}makeValueLabel(){const e=this.valueLabels.make();return e.states.create("disabled",{}),e}makeMarkerRectangle(){const e=this.markerRectangles.make();return e.states.create("disabled",{}),e}processDataItem(e){super.processDataItem(e);const t=this.makeItemContainer(e),s=this.get("nameField"),a=this.get("fillField"),d=this.get("strokeField");if(t){const c=this.get("clickTarget","itemContainer"),g=e.dataContext;g&&g.set&&g.set("legendDataItem",e),t._setDataItem(e),e.set("itemContainer",t);const L=this.makeMarker();if(L){t.children.push(L),L._setDataItem(e),e.set("marker",L);const j=this.get("useDefaultMarker"),G=L.children.push(this.makeMarkerRectangle());let P=e.get("fill"),me=e.get("stroke");e.set("markerRectangle",G),g&&g.get&&(P=g.get(a,P),me=g.get(d,me)),me||(me=P),j?g.on&&(g.on(a,()=>{G.set("fill",g.get(a))}),g.on(d,()=>{G.set("stroke",g.get(d))})):g&&g.createLegendMarker&&g.createLegendMarker(),G.setAll({fill:P,stroke:me});const T=g.component;T&&T.updateLegendMarker&&T.updateLegendMarker(g)}const S=this.makeLabel();if(S){t.children.push(S),S._setDataItem(e),e.set("label",S),S.text.on("text",()=>{t.setRaw("ariaLabel",S.text._getText()+("none"!==this.get("clickTarget")?"; "+this._t("Press ENTER to toggle"):"")),t.markDirtyAccessibility()}),g&&g.get&&e.set("name",g.get(s));let j=e.get("name");j&&S.set("text",j)}const H=this.makeValueLabel();if(H&&(t.children.push(H),H._setDataItem(e),e.set("valueLabel",H)),g&&g.show&&(g.on("visible",j=>{t.set("disabled",!j)}),g.get("visible")||t.set("disabled",!0),"none"!=c)){let j=t;"marker"==c&&(j=L),this._addClickEvents(j,g,e)}this.children.values.sort((j,G)=>{const P=j.dataItem.dataContext,me=G.dataItem.dataContext;if(P&&me){const T=this.data.indexOf(P),he=this.data.indexOf(me);if(T>he)return 1;if(T<he)return-1}return 0}),g&&g.updateLegendValue&&g.updateLegendValue()}}_addClickEvents(e,t,s){e.set("cursorOverStyle","pointer"),e.events.on("pointerover",()=>{const a=t.component;a&&a.hoverDataItem&&a.hoverDataItem(t)}),e.events.on("pointerout",()=>{const a=t.component;a&&a.hoverDataItem&&a.unhoverDataItem(t)}),e.events.on("click",()=>{const a=s.get("label").text._getText();t.show&&t.isHidden&&(t.isHidden()||!1===t.get("visible"))?(t.show(),e.set("disabled",!1),this._root.readerAlert(this._t("%1 shown",this._root.locale,a))):t.hide&&(t.hide(),e.set("disabled",!0),this._root.readerAlert(this._t("%1 hidden",this._root.locale,a)))})}disposeDataItem(e){super.disposeDataItem(e);const t=e.dataContext;t&&t.get&&t.get("legendDataItem")==e&&t.set("legendDataItem",void 0);let s=e.get("itemContainer");s&&(this.itemContainers.removeValue(s),s.dispose());let a=e.get("marker");a&&(this.markers.removeValue(a),a.dispose());let d=e.get("markerRectangle");d&&(this.markerRectangles.removeValue(d),d.dispose());let c=e.get("label");c&&(this.labels.removeValue(c),c.dispose());let g=e.get("valueLabel");g&&(this.valueLabels.removeValue(g),g.dispose())}}Object.defineProperty(qe,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Legend"}),Object.defineProperty(qe,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Ke.F.classNames.concat([qe.className])});var $t=I(6606),zt=I(6290);class Wt extends zt.j{constructor(){super(...arguments),Object.defineProperty(this,"_display",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makePicture(void 0)})}_changed(){if(super._changed(),this.isDirty("width")){const e=this.get("width");this._display.width=Ae.isNumber(e)?e:void 0}if(this.isDirty("height")){const e=this.get("height");this._display.height=Ae.isNumber(e)?e:void 0}if(this.isDirty("shadowColor")){this._display.clear();const e=this.get("shadowColor");this._display.shadowColor=e??void 0}this.isDirty("shadowBlur")&&(this._display.clear(),this._display.shadowBlur=this.get("shadowBlur")),this.isDirty("shadowOffsetX")&&(this._display.clear(),this._display.shadowOffsetX=this.get("shadowOffsetX")),this.isDirty("shadowOffsetY")&&(this._display.clear(),this._display.shadowOffsetY=this.get("shadowOffsetY")),this.isDirty("shadowOpacity")&&(this._display.clear(),this._display.shadowOpacity=this.get("shadowOpacity")),(this.isDirty("src")||this.isDirty("cors"))&&(this._display.clear(),this._load())}_load(){const e=this.get("src");if(e){let t="loaded";const s=new Image;s.crossOrigin=this.get("cors","anonymous"),s.src=e,s.decode().then(()=>{this._display.image=s,this._updateSize()}).catch(a=>{t="loaderror"}),this.events.isEnabled(t)&&this.events.dispatch(t,{type:t,target:this})}}_updateSize(){super._updateSize();const e=this._display.image;if(e){let t=this.getPrivate("width",this.get("width")),s=this.getPrivate("height",this.get("height"));const a=e.width&&e.height?e.width/e.height:0;Ae.isNumber(t)&&Ae.isNumber(s)?(this._display.width=t,this._display.height=s):Ae.isNumber(t)&&a?s=t/a:Ae.isNumber(s)&&a?t=s*a:(t=e.width,s=e.height),Ae.isNumber(t)&&(this._display.width=t),Ae.isNumber(s)&&(this._display.height=s),this.markDirtyBounds(),this.markDirty()}}}Object.defineProperty(Wt,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Picture"}),Object.defineProperty(Wt,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:zt.j.classNames.concat([Wt.className])});var st=I(7707),ti=I(9005),jt=I(8490);class gt extends Pe.T{_beforeChanged(){super._beforeChanged(),(this.isDirty("width")||this.isDirty("height")||this.isPrivateDirty("width")||this.isPrivateDirty("height"))&&(this._clear=!0)}_changed(){super._changed(),this._clear&&!this.get("draw")&&this._draw()}_draw(){const e=this.width(),t=this.height(),s=this._display;s.moveTo(-e/2,t/2),s.lineTo(0,-t/2),s.lineTo(e/2,t/2),s.lineTo(-e/2,t/2),s.closePath()}_updateSize(){this.markDirty(),this._clear=!0}}Object.defineProperty(gt,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Triangle"}),Object.defineProperty(gt,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Pe.T.classNames.concat([gt.className])});var pi=I(4248);class mi extends pi.L{_afterNew(){this._addOrientationClass(),super._afterNew(),this.endGrip.setPrivate("visible",!1),this.thumb.setPrivate("visible",!1)}updateGrips(){super.updateGrips();const e=this.startGrip;this.endGrip.setAll({x:e.x(),y:e.y()}),this.setRaw("end",this.get("start"))}}Object.defineProperty(mi,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Slider"}),Object.defineProperty(mi,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:pi.L.classNames.concat([mi.className])});var Jt=I(6979);const Kt=Math.abs,xt=Math.atan2,ui=Math.cos,Pt=Math.max,_r=Math.min,Xt=Math.sin,sr=Math.sqrt,Gt=1e-12,xi=Math.PI,vr=xi/2,Ir=2*xi;function es(z){return z>=1?vr:z<=-1?-vr:Math.asin(z)}var Er=I(5831);function ts(z){return z.innerRadius}function is(z){return z.outerRadius}function ps(z){return z.startAngle}function Yr(z){return z.endAngle}function Fr(z){return z&&z.padAngle}function xr(z,e,t,s,a,d,c){var g=z-t,L=e-s,S=(c?d:-d)/sr(g*g+L*L),H=S*L,j=-S*g,G=z+H,P=e+j,me=t+H,T=s+j,he=(G+me)/2,re=(P+T)/2,Ee=me-G,ve=T-P,ce=Ee*Ee+ve*ve,Be=a-d,Ze=G*T-me*P,it=(ve<0?-1:1)*sr(Pt(0,Be*Be*ce-Ze*Ze)),ct=(Ze*ve-Ee*it)/ce,pt=(-Ze*Ee-ve*it)/ce,$e=(Ze*ve+Ee*it)/ce,rt=(-Ze*Ee+ve*it)/ce,mt=ct-he,je=pt-re,Qe=$e-he,et=rt-re;return mt*mt+je*je>Qe*Qe+et*et&&(ct=$e,pt=rt),{cx:ct,cy:pt,x01:-H,y01:-j,x11:ct*(a/Be-1),y11:pt*(a/Be-1)}}function zr(){var z=ts,e=is,t=(0,Jt.Z)(0),s=null,a=ps,d=Yr,c=Fr,g=null,L=(0,Er.d)(S);function S(){var H,j,G=+z.apply(this,arguments),P=+e.apply(this,arguments),me=a.apply(this,arguments)-vr,T=d.apply(this,arguments)-vr,he=Kt(T-me),re=T>me;if(g||(g=H=L()),P<G&&(j=P,P=G,G=j),P>Gt)if(he>Ir-Gt)g.moveTo(P*ui(me),P*Xt(me)),g.arc(0,0,P,me,T,!re),G>Gt&&(g.moveTo(G*ui(T),G*Xt(T)),g.arc(0,0,G,T,me,re));else{var je,Qe,Ee=me,ve=T,ce=me,Be=T,Ze=he,it=he,ct=c.apply(this,arguments)/2,pt=ct>Gt&&(s?+s.apply(this,arguments):sr(G*G+P*P)),$e=_r(Kt(P-G)/2,+t.apply(this,arguments)),rt=$e,mt=$e;if(pt>Gt){var et=es(pt/G*Xt(ct)),ii=es(pt/P*Xt(ct));(Ze-=2*et)>Gt?(ce+=et*=re?1:-1,Be-=et):(Ze=0,ce=Be=(me+T)/2),(it-=2*ii)>Gt?(Ee+=ii*=re?1:-1,ve-=ii):(it=0,Ee=ve=(me+T)/2)}var Je=P*ui(Ee),Tt=P*Xt(Ee),Et=G*ui(Be),Bt=G*Xt(Be);if($e>Gt){var ei,qt=P*ui(ve),Rt=P*Xt(ve),Vt=G*ui(ce),Ri=G*Xt(ce);if(he<xi)if(ei=function rs(z,e,t,s,a,d,c,g){var L=t-z,S=s-e,H=c-a,j=g-d,G=j*L-H*S;if(!(G*G<Gt))return[z+(G=(H*(e-d)-j*(z-a))/G)*L,e+G*S]}(Je,Tt,Vt,Ri,qt,Rt,Et,Bt)){var Vi=Je-ei[0],Lr=Tt-ei[1],jr=qt-ei[0],Nt=Rt-ei[1],It=1/Xt(function qr(z){return z>1?0:z<-1?xi:Math.acos(z)}((Vi*jr+Lr*Nt)/(sr(Vi*Vi+Lr*Lr)*sr(jr*jr+Nt*Nt)))/2),Yt=sr(ei[0]*ei[0]+ei[1]*ei[1]);rt=_r($e,(G-Yt)/(It-1)),mt=_r($e,(P-Yt)/(It+1))}else rt=mt=0}it>Gt?mt>Gt?(je=xr(Vt,Ri,Je,Tt,P,mt,re),Qe=xr(qt,Rt,Et,Bt,P,mt,re),g.moveTo(je.cx+je.x01,je.cy+je.y01),mt<$e?g.arc(je.cx,je.cy,mt,xt(je.y01,je.x01),xt(Qe.y01,Qe.x01),!re):(g.arc(je.cx,je.cy,mt,xt(je.y01,je.x01),xt(je.y11,je.x11),!re),g.arc(0,0,P,xt(je.cy+je.y11,je.cx+je.x11),xt(Qe.cy+Qe.y11,Qe.cx+Qe.x11),!re),g.arc(Qe.cx,Qe.cy,mt,xt(Qe.y11,Qe.x11),xt(Qe.y01,Qe.x01),!re))):(g.moveTo(Je,Tt),g.arc(0,0,P,Ee,ve,!re)):g.moveTo(Je,Tt),G>Gt&&Ze>Gt?rt>Gt?(je=xr(Et,Bt,qt,Rt,G,-rt,re),Qe=xr(Je,Tt,Vt,Ri,G,-rt,re),g.lineTo(je.cx+je.x01,je.cy+je.y01),rt<$e?g.arc(je.cx,je.cy,rt,xt(je.y01,je.x01),xt(Qe.y01,Qe.x01),!re):(g.arc(je.cx,je.cy,rt,xt(je.y01,je.x01),xt(je.y11,je.x11),!re),g.arc(0,0,G,xt(je.cy+je.y11,je.cx+je.x11),xt(Qe.cy+Qe.y11,Qe.cx+Qe.x11),re),g.arc(Qe.cx,Qe.cy,rt,xt(Qe.y11,Qe.x11),xt(Qe.y01,Qe.x01),!re))):g.arc(0,0,G,Be,ce,re):g.lineTo(Et,Bt)}else g.moveTo(0,0);if(g.closePath(),H)return g=null,H+""||null}return S.centroid=function(){var H=(+z.apply(this,arguments)+ +e.apply(this,arguments))/2,j=(+a.apply(this,arguments)+ +d.apply(this,arguments))/2-xi/2;return[ui(j)*H,Xt(j)*H]},S.innerRadius=function(H){return arguments.length?(z="function"==typeof H?H:(0,Jt.Z)(+H),S):z},S.outerRadius=function(H){return arguments.length?(e="function"==typeof H?H:(0,Jt.Z)(+H),S):e},S.cornerRadius=function(H){return arguments.length?(t="function"==typeof H?H:(0,Jt.Z)(+H),S):t},S.padRadius=function(H){return arguments.length?(s=null==H?null:"function"==typeof H?H:(0,Jt.Z)(+H),S):s},S.startAngle=function(H){return arguments.length?(a="function"==typeof H?H:(0,Jt.Z)(+H),S):a},S.endAngle=function(H){return arguments.length?(d="function"==typeof H?H:(0,Jt.Z)(+H),S):d},S.padAngle=function(H){return arguments.length?(c="function"==typeof H?H:(0,Jt.Z)(+H),S):c},S.context=function(H){return arguments.length?(g=H??null,S):g},S}class nr extends Pe.T{constructor(){super(...arguments),Object.defineProperty(this,"ix",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"iy",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_generator",{enumerable:!0,configurable:!0,writable:!0,value:zr()})}_getTooltipPoint(){let e=this.get("tooltipX"),t=this.get("tooltipY"),s=0,a=0;Ae.isNumber(e)&&(s=e),Ae.isNumber(t)&&(a=t);let d=this.get("radius",0),c=this.get("innerRadius",0);return d+=this.get("dRadius",0),c+=this.get("dInnerRadius",0),c<0&&(c=d+c),e instanceof Re.gG&&(s=this.ix*(c+(d-c)*e.value)),t instanceof Re.gG&&(a=this.iy*(c+(d-c)*t.value)),this.get("arc")>=360&&0==c&&(s=0,a=0),{x:s,y:a}}_beforeChanged(){super._beforeChanged(),(this.isDirty("radius")||this.isDirty("arc")||this.isDirty("innerRadius")||this.isDirty("startAngle")||this.isDirty("dRadius")||this.isDirty("dInnerRadius")||this.isDirty("cornerRadius"))&&(this._clear=!0)}_changed(){if(super._changed(),this._clear){let e=this.get("startAngle",0),t=this.get("arc",0);const s=this._generator;t<0&&(e+=t,t*=-1),t>.1&&s.cornerRadius(this.get("cornerRadius",0)),s.context(this._display);let a=this.get("radius",0),d=this.get("innerRadius",0);a+=this.get("dRadius",0),d+=this.get("dInnerRadius",0),d<0&&(d=a+d),s({innerRadius:d,outerRadius:a,startAngle:(e+90)*ut.RADIANS,endAngle:(e+t+90)*ut.RADIANS});let L=e+t/2;this.ix=ut.cos(L),this.iy=ut.sin(L)}if(this.isDirty("shiftRadius")){const e=this.get("shiftRadius",0);this.setRaw("dx",this.ix*e),this.setRaw("dy",this.iy*e),this.markDirtyPosition()}}}Object.defineProperty(nr,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Slice"}),Object.defineProperty(nr,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Pe.T.classNames.concat([nr.className])});var ki=I(6288),ms=I(3704),bs=I(9879);class wr extends Ye{getFill(e){const t=this.getBounds(e);let s=0,a=0;const S=(t.right||0)-(t.left||0),H=(t.bottom||0)-(t.top||0);let j=e.get("radius");Ae.isNumber(j)?(s=0,a=0):(j=Math.min(S,H)/2,s=S/2,a=H/2);let G=this.get("x"),P=this.get("y");null!=G&&(s=v.relativeToValue(G,S)),null!=P&&(a=v.relativeToValue(P,H));const me=this._root._renderer.createRadialGradient(s,a,0,s,a,j),T=this.get("stops");if(T){let he=0;F.each(T,re=>{let Ee=re.offset;Ae.isNumber(Ee)||(Ee=he/(T.length-1));let ve=re.opacity;Ae.isNumber(ve)||(ve=1);let ce=re.color;if(ce){const Be=re.lighten;Be&&(ce=We.Il.lighten(ce,Be));const Ze=re.brighten;Ze&&(ce=We.Il.brighten(ce,Ze)),me.addColorStop(Ee,"rgba("+ce.r+","+ce.g+","+ce.b+","+ve+")")}he++})}return me}}Object.defineProperty(wr,"className",{enumerable:!0,configurable:!0,writable:!0,value:"RadialGradient"}),Object.defineProperty(wr,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Ye.classNames.concat([wr.className])});var wi=I(4555);class Pr extends wi.c{_beforeChanged(){super._beforeChanged(),this.isDirty("gap")&&(this._clear=!0)}_draw(){super._draw();const e=this.get("checkered",!1),t=this.get("centered",!0),s=this.get("gap",0),a=this.get("rotation",0);let d=this.get("width",100),c=this.get("height",100),g=this.get("radius",3),L=2*g+s,S=2*g+s,H=Math.round(d/L),j=Math.round(c/S);L=d/H,S=c/j,0!=a&&(this._display.x=L*ut.cos(a),this._display.y=S*ut.sin(a));const G=this.get("color"),P=this.get("colorOpacity");(G||P)&&this._display.beginFill(G,P);for(let me=0==a?0:2*-j;me<2*j;me++)for(let T=0==a?0:2*-H;T<2*H;T++)if(!e||1!=(1&me)&&1!=(1&T)||1==(1&me)&&1==(1&T)){let he=T*L,re=me*S;t&&(he+=L+s/2,re+=S+s/2),this._display.drawCircle(he-g,re-g,g)}e?(d=d/2-2*s,c=c/2-2*s):(d-=s,c-=s),(G||P)&&this._display.endFill()}}Object.defineProperty(Pr,"className",{enumerable:!0,configurable:!0,writable:!0,value:"CirclePattern"}),Object.defineProperty(Pr,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:wi.c.classNames.concat([Pr.className])});class ar extends wi.c{_beforeChanged(){super._beforeChanged(),this.isDirty("gap")&&(this._clear=!0)}_draw(){super._draw();const e=this.get("width",100),t=this.get("height",100),s=this.get("gap",0),a=this.get("strokeWidth",1);if(s){let g=s+a,L=t/g;for(let S=-L;S<2*L;S++){const H=Math.round(S*g-g/2)+.5;this._display.moveTo(-e,H),this._display.lineTo(2*e,H)}}else this._display.moveTo(0,0),this._display.lineTo(e,0);this._display.lineStyle(a,this.get("color"),this.get("colorOpacity"));let d=this.get("strokeDasharray");Ae.isNumber(d)&&(d=d<.5?[0]:[d]),this._display.setLineDash(d);const c=this.get("strokeDashoffset");c&&this._display.setLineDashOffset(c),this._display.endStroke()}}Object.defineProperty(ar,"className",{enumerable:!0,configurable:!0,writable:!0,value:"LinePattern"}),Object.defineProperty(ar,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:wi.c.classNames.concat([ar.className])});var Xr=I(1701);class Ei extends wi.c{_beforeChanged(){super._beforeChanged(),this.isDirty("gap")&&(this._clear=!0)}_draw(){super._draw();const e=this.get("checkered",!1),t=this.get("centered",!0),s=this.get("gap",0),a=this.get("rotation",0);let d=this.get("width",100),c=this.get("height",100),g=this.get("maxWidth",5),L=this.get("maxHeight",5),S=g+s,H=L+s,j=Math.round(d/S),G=Math.round(c/H);S=d/j,H=c/G,0!=a&&(this._display.x=S/2*ut.cos(a),this._display.y=-H/2*ut.sin(a));for(let T=0==a?0:2*-G;T<2*G;T++)for(let he=0==a?0:2*-j;he<2*j;he++)if(!e||1!=(1&T)&&1!=(1&he)||1==(1&T)&&1==(1&he)){let re=he*S,Ee=T*H;t&&(re+=(S-g)/2,Ee+=(H-L)/2),this._display.drawRect(re,Ee,g,L)}e?(d=d/2-2*s,c=c/2-2*s):(d-=s,c-=s);const P=this.get("color"),me=this.get("colorOpacity");(P||me)&&(this._display.beginFill(P,me),this._display.endFill())}}Object.defineProperty(Ei,"className",{enumerable:!0,configurable:!0,writable:!0,value:"RectanglePattern"}),Object.defineProperty(Ei,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:wi.c.classNames.concat([Ei.className])});class Hi extends wi.c{_beforeChanged(){super._beforeChanged(),this.isDirty("svgPath")&&(this._clear=!0)}_draw(){super._draw();const e=this.get("svgPath");null!=e&&this._display.svgPath(e);const t=this.get("color"),s=this.get("colorOpacity");(t||s)&&(this._display.beginFill(t,s),this._display.endFill())}}Object.defineProperty(Hi,"className",{enumerable:!0,configurable:!0,writable:!0,value:"PathPattern"}),Object.defineProperty(Hi,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:wi.c.classNames.concat([Hi.className])});var Rr=I(2661),Wi=I(1171);class Gr{static parse(e,t){t=this._applyDefaults(t);try{if(Ae.isString(e)){let s=JSON.parse(e);return t.reverse&&Ae.isArray(s)&&s.reverse(),s}if(Ae.isArray(e)||Ae.isObject(e))return e;throw"Unable to parse JSON data"}catch{return}}static _applyDefaults(e){const t={};return e||(e={}),vt.each({reverse:!1},(a,d)=>{t[a]=e[a]||d}),t}}class Ur{static parse(e,t){t=this._applyDefaults(t);let c,g,L,s=this.CSVToArray(e,t.delimiter),a=[],d=[];for(g=0;g<t.skipRows;g++)s.shift();if(t.useColumnNames){d=s.shift();for(let S=0;S<d.length;S++)c=null!=d[S]?d[S].replace(/^\s+|\s+$/gm,""):"",""===c&&(c="col"+S),d[S]=c}for(;L=t.reverse?s.pop():s.shift(),L;){if(t.skipEmpty&&1===L.length&&""===L[0])continue;let S={};for(g=0;g<L.length;g++)c=void 0===d[g]?"col"+g:d[g],S[c]=L[g];a.push(S)}return a}static CSVToArray(e,t){t=t||",";let s=new RegExp("(\\"+t+'|\\r?\\n|\\r|^)(?:"([^"]*(?:""[^"]*)*)"|([^"\\'+t+"\\r\\n]*))","gi"),a=[[]],d=null;for(;d=s.exec(e),d;){let g,c=d[1];c.length&&c!==t&&a.push([]),g=d[2]?d[2].replace(new RegExp('""',"g"),'"'):d[3],a[a.length-1].push(g)}return a}static _applyDefaults(e){const t={};return e||(e={}),vt.each({delimiter:",",reverse:!1,skipRows:0,skipEmpty:!0,useColumnNames:!1},(a,d)=>{t[a]=e[a]||d}),t}}class Tr extends ue.JH{constructor(){super(...arguments),Object.defineProperty(this,"_checkDates",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_checkNumbers",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_checkColors",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_checkEmpty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_checkDeep",{enumerable:!0,configurable:!0,writable:!0,value:!1})}_afterNew(){super._afterNew(),this._checkFeatures(),this.on("dateFields",()=>this._checkFeatures()),this.on("dateFormat",()=>this._checkFeatures()),this.on("numericFields",()=>this._checkFeatures()),this.on("colorFields",()=>this._checkFeatures()),this.on("emptyAs",()=>this._checkFeatures())}_checkFeatures(){(this.isDirty("dateFields")||this.isDirty("dateFormat"))&&(this._checkDates=this.get("dateFields")&&this.get("dateFields").length>0),this.isDirty("numericFields")&&(this._checkNumbers=this.get("numericFields")&&this.get("numericFields").length>0),this.isDirty("colorFields")&&(this._checkColors=this.get("colorFields")&&this.get("colorFields").length>0),this.isDirty("emptyAs")&&(this._checkEmpty=null!=this.get("emptyAs")),this._checkDeepFeatures()}_checkDeepFeatures(){const e=[];F.each(["dateFields","numericFields","colorFields"],t=>{F.each(this.get(t,[]),s=>{const a=s.split(".");for(a.pop();a.length>0;)e.push(a.join(".")),a.pop()})}),this._checkDeep=e.length>0,this.setPrivate("deepFields",e)}processMany(e){Ae.isArray(e)&&(this._checkDates||this._checkNumbers||this._checkColors||this._checkEmpty)&&F.each(e,t=>{this.processRow(t)})}processRow(e,t=""){vt.each(e,(s,a)=>{const d=t+s;this._checkEmpty&&(e[s]=this._maybeToEmpty(e[s])),this._checkNumbers&&(e[s]=this._maybeToNumber(d,e[s])),this._checkDates&&(e[s]=this._maybeToDate(d,e[s])),this._checkColors&&(e[s]=this._maybeToColor(d,e[s])),this._checkDeep&&-1!==this.getPrivate("deepFields",[]).indexOf(d)&&Ae.isObject(e[s])&&this.processRow(e[s],d+".")})}_maybeToNumber(e,t){return-1!==this.get("numericFields").indexOf(e)?Ae.toNumber(t):t}_maybeToDate(e,t){return-1!==this.get("dateFields").indexOf(e)?this._root.dateFormatter.parse(t,this.get("dateFormat","")).getTime():t}_maybeToEmpty(e){return null!=e&&""!=e||null==this.get("emptyAs")?e:this.get("emptyAs")}_maybeToColor(e,t){return-1!==this.get("colorFields").indexOf(e)?We.Il.fromAny(t):t}}class Mr extends V.W{constructor(){super(...arguments),Object.defineProperty(this,"rectangle",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(ge.A.new(this._root,{themeTags:["rectangle"],fillOpacity:0,fill:(0,We.$_)(16777215)}))}),Object.defineProperty(this,"gripL",{enumerable:!0,configurable:!0,writable:!0,value:this._createGrip("left")}),Object.defineProperty(this,"gripR",{enumerable:!0,configurable:!0,writable:!0,value:this._createGrip("right")}),Object.defineProperty(this,"gripT",{enumerable:!0,configurable:!0,writable:!0,value:this._createGrip("top")}),Object.defineProperty(this,"gripB",{enumerable:!0,configurable:!0,writable:!0,value:this._createGrip("bottom")}),Object.defineProperty(this,"_is",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_ix",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_iw",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_positionDP",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_isHover",{enumerable:!0,configurable:!0,writable:!0,value:!1})}_afterNew(){super._afterNew(),this.addTag("resizer"),this.set("visible",!1),this.gripL.events.on("dragged",e=>{this._resize(e.target,-1)}),this.gripR.events.on("dragged",e=>{this._resize(e.target,1)}),this.gripL.events.on("dragstart",e=>{this._resizeStart(e.target)}),this.gripR.events.on("dragstart",e=>{this._resizeStart(e.target)}),this.gripT.events.on("dragged",e=>{this._rotate(e,90)}),this.gripB.events.on("dragged",e=>{this._rotate(e,-90)}),this.gripT.events.on("dragstart",e=>{this._resizeStart(e.target)}),this.gripB.events.on("dragstart",e=>{this._resizeStart(e.target)})}_resizeStart(e){const t=this.get("sprite");t&&(this._is=t.get("scale",1),this._ix=e.x(),this._iw=this.width()/2)}_resize(e,t){const s=this.get("sprite"),a=this.get("spriteTemplate");if(s){const d=Math.max(.01,this._is*(1+t*(e.x()-this._ix)/this._iw));a?a.set("scale",d):s.set("scale",d),s.states.lookup("default").set("scale",d),this._updatePositions()}}_rotate(e,t){const s=this.get("sprite"),a=this.get("spriteTemplate");if(s){const d=this.parent;if(d){const c=this.get("rotationStep",10);let g=Math.round((ut.getAngle({x:this.x(),y:this.y()},d.toLocal(e.point))+t)/c)*c;a?a.set("rotation",g):s.set("rotation",g),s.states.lookup("default").set("rotation",g),this._updatePositions()}}}_createGrip(e){const t=this.children.push(V.W.new(this._root,{themeTags:["grip",e],setStateOnChildren:!0,draggable:!0}));return t.children.push(ie.c.new(this._root,{themeTags:["outline"],centerX:Re.CI,centerY:Re.CI})),t.children.push(ie.c.new(this._root,{centerX:Re.CI,centerY:Re.CI})),t}_updateChildren(){if(super._updateChildren(),this.isDirty("sprite")){const e=this.get("sprite");if(e){this.show(0),this.setPrivate("visible",!0),this._updatePositions();const t=e.parent;t&&t.children.moveValue(this,0),this._positionDP=e.events.on("positionchanged",()=>{this._updatePositions()})}else this.hide(0),this.setPrivate("visible",!1),this._positionDP&&this._positionDP.dispose()}(this.isDirty("width")||this.isDirty("height")||this.isDirty("rotation"))&&this._updatePositions()}_updatePositions(){const e=this.get("sprite");if(e){let t=e.localBounds(),s=e.get("scale",1),a=20,d=(t.right-t.left)*s+a,c=(t.bottom-t.top)*s+a,g=e.get("rotation",0);const L=this.rectangle;let S=e.get("centerX",Re.CI),H=e.get("centerY",Re.CI),j=0;S instanceof Re.gG&&(j=S.value);let G=0;H instanceof Re.gG&&(G=H.value),L.setAll({centerX:S,centerY:H,width:d,height:c}),this.setAll({x:e.x()+a*(j-.5)*ut.cos(g)-a*(G-.5)*ut.sin(g),y:e.y()+a*(G-.5)*ut.cos(g)+a*(j-.5)*ut.sin(g),width:d,height:c,rotation:g}),this.gripT.setAll({x:(.5-j)*d,y:-G*c}),this.gripB.setAll({x:(.5-j)*d,y:(1-G)*c}),this.gripL.setAll({x:-j*d,y:(.5-G)*c}),this.gripR.setAll({x:(1-j)*d,y:(.5-G)*c}),this.rectangle.setAll({width:d,height:c})}}}Object.defineProperty(Mr,"className",{enumerable:!0,configurable:!0,writable:!0,value:"SpriteResizer"}),Object.defineProperty(Mr,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:V.W.classNames.concat([Mr.className])});var ss=I(5770);function bi(z,e,t){return new Promise((s,a)=>{let d=null!=t&&"blob"==t.responseType,c=new XMLHttpRequest;if(c.onload=()=>{if(200===c.status){let g,L;if(d)return L=c.response,void hi(L).then(H=>{let j={xhr:c,error:!1,response:H,blob:L,type:c.getResponseHeader("Content-Type"),target:e};s(j)});g=c.responseText||c.response;let S={xhr:c,error:!1,response:g,blob:L,type:c.getResponseHeader("Content-Type"),target:e};s(S)}else a({xhr:c,error:!0,type:c.getResponseHeader("Content-Type"),target:e})},c.onerror=()=>{a({xhr:c,error:!0,type:c.getResponseHeader("Content-Type"),target:e})},c.open("GET",z,!0),t&&t.withCredentials&&(c.withCredentials=!0),null!=t){if(null!=t.requestHeaders)for(let g=0;g<t.requestHeaders.length;g++){let L=t.requestHeaders[g];c.setRequestHeader(L.key,L.value)}null!=t.responseType&&(c.responseType=t.responseType)}c.send()})}function hi(z){return new Promise((e,t)=>{const s=new FileReader;s.onload=a=>{e(s.result)},s.onerror=a=>{t(a)},s.readAsText(z)})}var ci=I(1445)},6109:(kt,He,I)=>{I.r(He),I.d(He,{default:()=>Ne});const Ne={_decimalSeparator:",",_thousandSeparator:".",_percentPrefix:null,_percentSuffix:"%",_big_number_suffix_3:"K",_big_number_suffix_6:"Mio",_big_number_suffix_9:"Mrd",_big_number_suffix_12:"Bio",_big_number_suffix_15:"Brd",_big_number_suffix_18:"Trill",_big_number_suffix_21:"Trd",_big_number_suffix_24:"Y",_small_number_suffix_3:"m",_small_number_suffix_6:"\u03bc",_small_number_suffix_9:"n",_small_number_suffix_12:"p",_small_number_suffix_15:"f",_small_number_suffix_18:"a",_small_number_suffix_21:"z",_small_number_suffix_24:"y",_byte_suffix_B:"B",_byte_suffix_KB:"KB",_byte_suffix_MB:"MB",_byte_suffix_GB:"GB",_byte_suffix_TB:"TB",_byte_suffix_PB:"PB",_date_millisecond:"mm:ss SSS",_date_millisecond_full:"HH:mm:ss SSS",_date_second:"HH:mm:ss",_date_second_full:"HH:mm:ss",_date_minute:"HH:mm",_date_minute_full:"HH:mm - dd. MMM, yyyy",_date_hour:"HH:mm",_date_hour_full:"HH:mm - dd. MMM, yyyy",_date_day:"dd. MMM",_date_day_full:"dd. MMM, yyyy",_date_week:"ww",_date_week_full:"dd. MMM, yyyy",_date_month:"MMM",_date_month_full:"MMM, yyyy",_date_year:"yyyy",_duration_millisecond:"SSS",_duration_second:"ss",_duration_minute:"mm",_duration_hour:"hh",_duration_day:"dd",_duration_week:"ww",_duration_month:"MM",_duration_year:"yyyy",_era_ad:"v. Chr.",_era_bc:"n. Chr.",A:"",P:"",AM:"",PM:"","A.M.":"","P.M.":"",January:"Januar",February:"Februar",March:"M\xe4rz",April:"April",May:"Mai",June:"Juni",July:"Juli",August:"August",September:"September",October:"Oktober",November:"November",December:"Dezember",Jan:"Jan.",Feb:"Febr.",Mar:"M\xe4rz",Apr:"Apr.","May(short)":"Mai",Jun:"Juni",Jul:"Juli",Aug:"Aug.",Sep:"Sept.",Oct:"Okt.",Nov:"Nov.",Dec:"Dez.",Sunday:"Sonntag",Monday:"Montag",Tuesday:"Dienstag",Wednesday:"Mittwoch",Thursday:"Donnerstag",Friday:"Freitag",Saturday:"Samstag",Sun:"So.",Mon:"Mo.",Tue:"Di.",Wed:"Mi.",Thu:"Do.",Fri:"Fr.",Sat:"Sa.",_dateOrd:function(V){return V+"."},"Zoom Out":"Herauszoomen",Play:"Abspielen",Stop:"Stop",Legend:"Legende","Press ENTER to toggle":"Klicken, tippen oder ENTER dr\xfccken zum Umschalten",Loading:"Wird geladen",Home:"Home",Chart:"Diagramm","Serial chart":"Seriendiagramm","X/Y chart":"X-Y-Diagramm","Pie chart":"Kreisdiagramm","Gauge chart":"Messdiagramm","Radar chart":"Netzdiagramm","Sankey diagram":"Sankey-Diagramm","Chord diagram":"","Flow diagram":"Flussdiagramm","TreeMap chart":"Baumdiagramm",Series:"Serie","Candlestick Series":"Kerzendiagramm","Column Series":"Balkendiagramm","Line Series":"Liniendiagramm","Pie Slice Series":"Kreisdiagramm","X/Y Series":"Punktdiagramm",Map:"Karte","Press ENTER to zoom in":"Dr\xfccke ENTER zum Hereinzoomen","Press ENTER to zoom out":"Dr\xfccke ENTER zum Herauszoomen","Use arrow keys to zoom in and out":"Benutze die Pfeiltasten zum Zoomen","Use plus and minus keys on your keyboard to zoom in and out":"Benutze Plus- und Minustasten zum Zoomen",Export:"Export",Image:"Bild",Data:"Daten",Print:"Drucken","Press ENTER to open":"Zum \xd6ffnen klicken, tippen oder ENTER dr\xfccken","Press ENTER to print.":"Zum Drucken klicken, tippen oder ENTER dr\xfccken.","Press ENTER to export as %1.":"Klicken, tippen oder ENTER dr\xfccken um als %1 zu exportieren","(Press ESC to close this message)":"ESC dr\xfccken um diese Nachricht zu schlie\xdfen","Image Export Complete":"Bildexport komplett","Export operation took longer than expected. Something might have gone wrong.":"Der Export dauert l\xe4nger als geplant. Vielleicht ist etwas schiefgelaufen.","Saved from":"Gespeichert von",PNG:"",JPG:"",GIF:"",SVG:"",PDF:"",JSON:"",CSV:"",XLSX:"",HTML:"","Use TAB to select grip buttons or left and right arrows to change selection":"TAB nutzen, um Ankerpunkte auszuw\xe4hlen oder linke und rechte Pfeiltaste um die Auswahl zu \xe4ndern","Use left and right arrows to move selection":"Linke und rechte Pfeiltaste nutzen um die Auswahl zu verschieben","Use left and right arrows to move left selection":"Linke und rechte Pfeiltaste nutzen um die linke Auswahl zu verschieben","Use left and right arrows to move right selection":"Linke und rechte Pfeiltaste nutzen um die rechte Auswahl zu verschieben","Use TAB select grip buttons or up and down arrows to change selection":"TAB nutzen, um Ankerpunkte auszuw\xe4hlen oder Pfeiltaste nach oben und unten dr\xfccken, um die Auswahl zu \xe4ndern","Use up and down arrows to move selection":"Pfeiltaste nach oben und unten dr\xfccken, um die Auswahl zu verschieben","Use up and down arrows to move lower selection":"Pfeiltaste nach oben und unten dr\xfccken, um die untere Auswahl zu verschieben","Use up and down arrows to move upper selection":"Pfeiltaste nach oben und unten dr\xfccken, um die obere Auswahl zu verschieben","From %1 to %2":"Von %1 bis %2","From %1":"Von %1","To %1":"Bis %1","No parser available for file: %1":"Kein Parser f\xfcr Datei %1 verf\xfcgbar","Error parsing file: %1":"Fehler beim Parsen von Datei %1","Unable to load file: %1":"Datei %1 konnte nicht geladen werden","Invalid date":"Kein Datum"}},7551:(kt,He,I)=>{I.r(He),I.d(He,{default:()=>Ne});const Ne={firstDayOfWeek:1,_decimalSeparator:".",_thousandSeparator:",",_percentPrefix:null,_percentSuffix:"%",_big_number_suffix_3:"k",_big_number_suffix_6:"M",_big_number_suffix_9:"G",_big_number_suffix_12:"T",_big_number_suffix_15:"P",_big_number_suffix_18:"E",_big_number_suffix_21:"Z",_big_number_suffix_24:"Y",_small_number_suffix_3:"m",_small_number_suffix_6:"\u03bc",_small_number_suffix_9:"n",_small_number_suffix_12:"p",_small_number_suffix_15:"f",_small_number_suffix_18:"a",_small_number_suffix_21:"z",_small_number_suffix_24:"y",_byte_suffix_B:"B",_byte_suffix_KB:"KB",_byte_suffix_MB:"MB",_byte_suffix_GB:"GB",_byte_suffix_TB:"TB",_byte_suffix_PB:"PB",_date:"yyyy-MM-dd",_date_millisecond:"mm:ss SSS",_date_millisecond_full:"HH:mm:ss SSS",_date_second:"HH:mm:ss",_date_second_full:"HH:mm:ss",_date_minute:"HH:mm",_date_minute_full:"HH:mm - MMM dd, yyyy",_date_hour:"HH:mm",_date_hour_full:"HH:mm - MMM dd, yyyy",_date_day:"MMM dd",_date_day_full:"MMM dd, yyyy",_date_week:"ww",_date_week_full:"MMM dd, yyyy",_date_month:"MMM",_date_month_full:"MMM, yyyy",_date_year:"yyyy",_duration_millisecond:"SSS",_duration_millisecond_second:"ss.SSS",_duration_millisecond_minute:"mm:ss SSS",_duration_millisecond_hour:"hh:mm:ss SSS",_duration_millisecond_day:"d'd' mm:ss SSS",_duration_millisecond_week:"d'd' mm:ss SSS",_duration_millisecond_month:"M'm' dd'd' mm:ss SSS",_duration_millisecond_year:"y'y' MM'm' dd'd' mm:ss SSS",_duration_second:"ss",_duration_second_minute:"mm:ss",_duration_second_hour:"hh:mm:ss",_duration_second_day:"d'd' hh:mm:ss",_duration_second_week:"d'd' hh:mm:ss",_duration_second_month:"M'm' dd'd' hh:mm:ss",_duration_second_year:"y'y' MM'm' dd'd' hh:mm:ss",_duration_minute:"mm",_duration_minute_hour:"hh:mm",_duration_minute_day:"d'd' hh:mm",_duration_minute_week:"d'd' hh:mm",_duration_minute_month:"M'm' dd'd' hh:mm",_duration_minute_year:"y'y' MM'm' dd'd' hh:mm",_duration_hour:"hh'h'",_duration_hour_day:"d'd' hh'h'",_duration_hour_week:"d'd' hh'h'",_duration_hour_month:"M'm' dd'd' hh'h'",_duration_hour_year:"y'y' MM'm' dd'd' hh'h'",_duration_day:"d'd'",_duration_day_week:"d'd'",_duration_day_month:"M'm' dd'd'",_duration_day_year:"y'y' MM'm' dd'd'",_duration_week:"w'w'",_duration_week_month:"w'w'",_duration_week_year:"w'w'",_duration_month:"M'm'",_duration_month_year:"y'y' MM'm'",_duration_year:"y'y'",_era_ad:"AD",_era_bc:"BC",A:"",P:"",AM:"",PM:"","A.M.":"","P.M.":"",January:"",February:"",March:"",April:"",May:"",June:"",July:"",August:"",September:"",October:"",November:"",December:"",Jan:"",Feb:"",Mar:"",Apr:"","May(short)":"May",Jun:"",Jul:"",Aug:"",Sep:"",Oct:"",Nov:"",Dec:"",Sunday:"",Monday:"",Tuesday:"",Wednesday:"",Thursday:"",Friday:"",Saturday:"",Sun:"",Mon:"",Tue:"",Wed:"",Thu:"",Fri:"",Sat:"",_dateOrd:function(V){let Me="th";if(V<11||V>13)switch(V%10){case 1:Me="st";break;case 2:Me="nd";break;case 3:Me="rd"}return Me},"Zoom Out":"",Play:"",Stop:"",Legend:"","Press ENTER to toggle":"",Loading:"",Home:"",Chart:"","Serial chart":"","X/Y chart":"","Pie chart":"","Gauge chart":"","Radar chart":"","Sankey diagram":"","Flow diagram":"","Chord diagram":"","TreeMap chart":"","Force directed tree":"","Sliced chart":"",Series:"","Candlestick Series":"","OHLC Series":"","Column Series":"","Line Series":"","Pie Slice Series":"","Funnel Series":"","Pyramid Series":"","X/Y Series":"",Map:"","Press ENTER to zoom in":"","Press ENTER to zoom out":"","Use arrow keys to zoom in and out":"","Use plus and minus keys on your keyboard to zoom in and out":"",Export:"",Image:"",Data:"",Print:"","Press ENTER or use arrow keys to navigate":"","Press ENTER to open":"","Press ENTER to print.":"","Press ENTER to export as %1.":"","(Press ESC to close this message)":"","Image Export Complete":"","Export operation took longer than expected. Something might have gone wrong.":"","Saved from":"",PNG:"",JPG:"",GIF:"",SVG:"",PDF:"",JSON:"",CSV:"",XLSX:"",HTML:"","Use TAB to select grip buttons or left and right arrows to change selection":"","Use left and right arrows to move selection":"","Use left and right arrows to move left selection":"","Use left and right arrows to move right selection":"","Use TAB select grip buttons or up and down arrows to change selection":"","Use up and down arrows to move selection":"","Use up and down arrows to move lower selection":"","Use up and down arrows to move upper selection":"","From %1 to %2":"","From %1":"","To %1":"","No parser available for file: %1":"","Error parsing file: %1":"","Unable to load file: %1":"","Invalid date":"",Close:"",Minimize:""}},5637:(kt,He,I)=>{I.r(He),I.d(He,{default:()=>Ne});const Ne={_decimalSeparator:".",_thousandSeparator:",",_percentPrefix:null,_percentSuffix:"%",_date_millisecond:"mm:ss SSS",_date_millisecond_full:"HH:mm:ss SSS",_date_second:"hh:mm:ss a",_date_second_full:"hh:mm:ss a",_date_minute:"hh:mm a",_date_minute_full:"hh:mm a - MMM dd, yyyy",_date_hour:"hh:mm a",_date_hour_full:"hh:mm a - MMM dd, yyyy",_date_day:"MMM dd",_date_day_full:"MMM dd, yyyy",_date_week:"ww",_date_week_full:"MMM dd, yyyy",_date_month:"MMM",_date_month_full:"MMM, yyyy",_date_year:"yyyy",_duration_millisecond:"SSS",_duration_second:"ss",_duration_minute:"mm",_duration_hour:"hh",_duration_day:"dd",_duration_week:"ww",_duration_month:"MM",_duration_year:"yyyy",_era_ad:"AD",_era_bc:"BC",A:"",P:"",AM:"",PM:"","A.M.":"","P.M.":"",January:"",February:"",March:"",April:"",May:"",June:"",July:"",August:"",September:"",October:"",November:"",December:"",Jan:"",Feb:"",Mar:"",Apr:"","May(short)":"May",Jun:"",Jul:"",Aug:"",Sep:"",Oct:"",Nov:"",Dec:"",Sunday:"",Monday:"",Tuesday:"",Wednesday:"",Thursday:"",Friday:"",Saturday:"",Sun:"",Mon:"",Tue:"",Wed:"",Thu:"",Fri:"",Sat:"",_dateOrd:function(V){let Me="th";if(V<11||V>13)switch(V%10){case 1:Me="st";break;case 2:Me="nd";break;case 3:Me="rd"}return Me},Play:"",Stop:"","Zoom Out":"",Legend:"","Press ENTER to toggle":"",Loading:"",Home:"",Chart:"","Serial chart":"","X/Y chart":"","Pie chart":"","Gauge chart":"","Radar chart":"","Sankey diagram":"","Chord diagram":"","Flow diagram":"","TreeMap chart":"",Series:"","Candlestick Series":"","Column Series":"","Line Series":"","Pie Slice Series":"","X/Y Series":"",Map:"","Press ENTER to zoom in":"","Press ENTER to zoom out":"","Use arrow keys to zoom in and out":"","Use plus and minus keys on your keyboard to zoom in and out":"",Export:"",Image:"",Data:"",Print:"","Press ENTER to open":"","Press ENTER to print.":"","Press ENTER to export as %1.":"","(Press ESC to close this message)":"","Image Export Complete":"","Export operation took longer than expected. Something might have gone wrong.":"","Saved from":"",PNG:"",JPG:"",GIF:"",SVG:"",PDF:"",JSON:"",CSV:"",XLSX:"",HTML:"","Use TAB to select grip buttons or left and right arrows to change selection":"","Use left and right arrows to move selection":"","Use left and right arrows to move left selection":"","Use left and right arrows to move right selection":"","Use TAB select grip buttons or up and down arrows to change selection":"","Use up and down arrows to move selection":"","Use up and down arrows to move lower selection":"","Use up and down arrows to move upper selection":"","From %1 to %2":"","From %1":"","To %1":"","No parser available for file: %1":"","Error parsing file: %1":"","Unable to load file: %1":"","Invalid date":""}},2593:(kt,He,I)=>{I.r(He),I.d(He,{DefaultTheme:()=>ts,GraticuleSeries:()=>Yi,MapChart:()=>us,MapLine:()=>li,MapLineSeries:()=>dt,MapPointSeries:()=>hs,MapPolygon:()=>Vr,MapPolygonSeries:()=>cs,MapSeries:()=>_e,ZoomControl:()=>ds,geoAlbersUsa:()=>xn,geoEqualEarth:()=>Pn,geoEquirectangular:()=>pn,geoMercator:()=>qr,geoNaturalEarth1:()=>Tn,geoOrthographic:()=>gn,getGeoArea:()=>on,getGeoBounds:()=>ls,getGeoCentroid:()=>os,getGeoCircle:()=>an,getGeoRectangle:()=>ln,normalizeGeoPoint:()=>un});var Ne=I(3164),V=I(3559),Me=I(8148);class _e extends Ne.F{constructor(){super(...arguments),Object.defineProperty(this,"_types",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_geometries",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_geoJSONparsed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_excluded",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_notIncluded",{enumerable:!0,configurable:!0,writable:!0,value:[]})}_afterNew(){this.fields.push("geometry","geometryType"),this._setRawDefault("geometryField","geometry"),this._setRawDefault("geometryTypeField","geometryType"),this._setRawDefault("idField","id"),this.on("geoJSON",r=>{let o=this._prevSettings.geoJSON;o&&o!=r&&this.data.clear()}),super._afterNew()}_handleDirties(){const r=this.get("geoJSON");let o=this._prevSettings.geoJSON;o&&o!=r&&(this._prevSettings.geoJSON=void 0,this._geoJSONparsed=!1),this._geoJSONparsed||(this._parseGeoJSON(),this._geoJSONparsed=!0)}_prepareChildren(){if(super._prepareChildren(),this._valuesDirty&&this._handleDirties(),this.isDirty("geoJSON")||this.isDirty("include")||this.isDirty("exclude")){this._handleDirties();const r=this.chart,o=this.get("exclude");o&&(r&&(r._centerLocation=null),V.each(o,p=>{const y=this.getDataItemById(p);y&&this._excludeDataItem(y)})),(!o||0==o.length)&&(V.each(this._excluded,p=>{this._unexcludeDataItem(p)}),this._excluded=[]);const u=this.get("include");u&&(r&&(r._centerLocation=null),V.each(this.dataItems,p=>{const y=p.get("id");y&&-1==u.indexOf(y)?this._notIncludeDataItem(p):this._unNotIncludeDataItem(p)})),u||(V.each(this._notIncluded,p=>{this._unNotIncludeDataItem(p)}),this._notIncluded=[])}}_excludeDataItem(r){this._removeGeometry(r.get("geometry")),V.move(this._excluded,r)}_unexcludeDataItem(r){this._addGeometry(r.get("geometry"),this)}_notIncludeDataItem(r){this._removeGeometry(r.get("geometry")),V.move(this._notIncluded,r)}_unNotIncludeDataItem(r){this._addGeometry(r.get("geometry"),this)}checkInclude(r,o,u){if(o){if(0==o.length)return!1;if(-1==o.indexOf(r))return!1}return!(u&&u.length>0&&-1!=u.indexOf(r))}_parseGeoJSON(){const r=this.get("geoJSON");if(r){let o;"FeatureCollection"==r.type?o=r.features:"Feature"==r.type?o=[r]:-1!=["Point","LineString","Polygon","MultiPoint","MultiLineString","MultiPolygon"].indexOf(r.type)?o=[{geometry:r}]:console.log("nothing found in geoJSON");const u=this.get("geodataNames");if(o){const y=this.get("idField","id");for(let w=0,O=o.length;w<O;w++){let B=o[w],N=B.geometry;if(N){let E=N.type,X=B[y];if(u&&u[X]&&(B.properties.name=u[X]),-1!=this._types.indexOf(E)){let Y,$;null!=X&&(Y=V.find(this.dataItems,te=>te.get("id")==X)),Y&&($=Y.dataContext),Y?$.geometry||($.geometry=N,$.geometryType=E,Y.set("geometry",N),Y.set("geometryType",E),this.processDataItem(Y)):($={geometry:N,geometryType:E,madeFromGeoData:!0},$[y]=X,this.data.push($)),Me.softCopyProperties(B.properties,$)}}}}const p="geodataprocessed";this.events.isEnabled(p)&&this.events.dispatch(p,{type:p,target:this})}}_placeBulletsContainer(r){this.children.moveValue(this.bulletsContainer)}_removeBulletsContainer(){}projection(){const r=this.chart;if(r)return r.get("projection")}geoPath(){const r=this.chart;if(r)return r.getPrivate("geoPath")}_addGeometry(r,o){if(r&&o.get("affectsBounds",!0)){this._geometries.push(r);const u=this.chart;u&&u.markDirtyGeometries()}}_removeGeometry(r){if(r){V.remove(this._geometries,r);const o=this.chart;o&&o.markDirtyGeometries()}}_dispose(){super._dispose();const r=this.chart;r&&r.series.removeValue(this)}_onDataClear(){super._onDataClear(),this._geoJSONparsed=!1}}Object.defineProperty(_e,"className",{enumerable:!0,configurable:!0,writable:!0,value:"MapSeries"}),Object.defineProperty(_e,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Ne.F.classNames.concat([_e.className])});var ne=I(2743),U=I(7039),fe=I(3232);class F{constructor(){this._partials=new Float64Array(32),this._n=0}add(r){const o=this._partials;let u=0;for(let p=0;p<this._n&&p<32;p++){const y=o[p],w=r+y,O=Math.abs(r)<Math.abs(y)?r-(w-y):y-(w-r);O&&(o[u++]=O),r=w}return o[u]=r,this._n=u+1,this}valueOf(){const r=this._partials;let u,p,y,o=this._n,w=0;if(o>0){for(w=r[--o];o>0&&(u=w,p=r[--o],w=u+p,y=p-(w-u),!y););o>0&&(y<0&&r[o-1]<0||y>0&&r[o-1]>0)&&(p=2*y,u=w+p,p==u-w&&(w=u))}return w}}var Z=1e-6,ae=1e-12,A=Math.PI,R=A/2,ue=A/4,Se=2*A,Pe=180/A,ge=A/180,Te=Math.abs,Fe=Math.atan,Ge=Math.atan2,Ce=Math.cos,ot=Math.ceil,Ot=Math.exp,Ut=(Math,Math.hypot),vt=Math.log,ke=(Math,Math.sin),_i=Math.sign||function(h){return h>0?1:h<0?-1:0},lt=Math.sqrt,ai=Math.tan;function We(h){return h>1?R:h<-1?-R:Math.asin(h)}function ji(h){return(h=ke(h/2))*h}function Re(){}function ut(h,r){h&&oi.hasOwnProperty(h.type)&&oi[h.type](h,r)}var lr={Feature:function(h,r){ut(h.geometry,r)},FeatureCollection:function(h,r){for(var o=h.features,u=-1,p=o.length;++u<p;)ut(o[u].geometry,r)}},oi={Sphere:function(h,r){r.sphere()},Point:function(h,r){r.point((h=h.coordinates)[0],h[1],h[2])},MultiPoint:function(h,r){for(var o=h.coordinates,u=-1,p=o.length;++u<p;)r.point((h=o[u])[0],h[1],h[2])},LineString:function(h,r){Bi(h.coordinates,r,0)},MultiLineString:function(h,r){for(var o=h.coordinates,u=-1,p=o.length;++u<p;)Bi(o[u],r,0)},Polygon:function(h,r){Cr(h.coordinates,r)},MultiPolygon:function(h,r){for(var o=h.coordinates,u=-1,p=o.length;++u<p;)Cr(o[u],r)},GeometryCollection:function(h,r){for(var o=h.geometries,u=-1,p=o.length;++u<p;)ut(o[u],r)}};function Bi(h,r,o){var y,u=-1,p=h.length-o;for(r.lineStart();++u<p;)r.point((y=h[u])[0],y[1],y[2]);r.lineEnd()}function Cr(h,r){var o=-1,u=h.length;for(r.polygonStart();++o<u;)Bi(h[o],r,1);r.polygonEnd()}function Zt(h,r){h&&lr.hasOwnProperty(h.type)?lr[h.type](h,r):ut(h,r)}var ur,Ni,Ii,Qt,Ht={sphere:Re,point:Re,lineStart:function ft(){Ht.point=vi,Ht.lineEnd=Ti},lineEnd:Re,polygonStart:Re,polygonEnd:Re};function Ti(){Ht.point=Ht.lineEnd=Re}function vi(h,r){Ni=h*=ge,Ii=ke(r*=ge),Qt=Ce(r),Ht.point=qi}function qi(h,r){h*=ge;var o=ke(r*=ge),u=Ce(r),p=Te(h-Ni),y=Ce(p),O=u*ke(p),B=Qt*o-Ii*u*y,N=Ii*o+Qt*u*y;ur.add(Ge(lt(O*O+B*B),N)),Ni=h,Ii=o,Qt=u}function er(h){return ur=new F,Zt(h,Ht),+ur}var tr=[null,null],Dt={type:"LineString",coordinates:tr};function Mi(h,r){return tr[0]=h,tr[1]=r,er(Dt)}class li extends fe.T{constructor(){super(...arguments),Object.defineProperty(this,"_projectionDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1})}_beforeChanged(){if(super._beforeChanged(),this._projectionDirty||this.isDirty("geometry")||this.isDirty("precision")){const r=this.get("geometry");if(r){const u=this.getPrivate("series");if(u){const p=u.chart;if(p){const y=p.get("projection");let w=null;y&&y.clipAngle&&(w=y.clipAngle(),y.precision(this.get("precision",.5)));const O=this.dataItem,B=p.getPrivate("geoPath");if(B&&O)if(this._clear=!0,"straight"==O.get("lineType",u.get("lineType"))){const N=this.get("geometry");if(N){let E=N.coordinates;if(E){let X;"LineString"==N.type?X=[E]:"MultiLineString"==N.type&&(X=E),this.set("draw",Y=>{for(let $=0;$<X.length;$++){let te=X[$];if(te.length>0){const le=te[0],de=p.convert({longitude:le[0],latitude:le[1]});Y.lineTo(de.x,de.y);for(let xe=0;xe<te.length;xe++){const Oe=te[xe],be=p.convert({longitude:Oe[0],latitude:Oe[1]});Y.lineTo(be.x,be.y)}}}})}}}else this.set("draw",N=>{y&&!1===u.get("clipBack")&&y.clipAngle(180),B.context(this._display),B(r),B.context(null),y&&y.clipAngle&&y.clipAngle(w)})}}}const o="linechanged";this.events.isEnabled(o)&&this.events.dispatch(o,{type:o,target:this})}}markDirtyProjection(){this.markDirty(),this._projectionDirty=!0}_clearDirty(){super._clearDirty(),this._projectionDirty=!1}_getTooltipPoint(){let r=this.get("tooltipX"),o=this.get("tooltipY"),u=0,p=0;if(ne.isNumber(r)&&(u=r),ne.isNumber(o)&&(p=o),r instanceof U.gG){const y=this.positionToGeoPoint(r.value),w=this.getPrivate("series");if(w){const O=w.chart;if(O){const B=O.convert(y);u=B.x,p=B.y}}}return{x:u,y:p}}positionToGeoPoint(r){const o=this.get("geometry"),u=this.getPrivate("series"),p=u.chart,y=this.dataItem;if(o&&u&&p&&y){const w=y.get("lineType",u.get("lineType"));let N,Y,$,O=er(o),B=0,E=0,X=0,te=o.coordinates;if(te){let le;"LineString"==o.type?le=[te]:"MultiLineString"==o.type&&(le=te);for(let de=0;de<le.length;de++){let xe=le[de];if(xe.length>1){for(let Oe=1;Oe<xe.length;Oe++)if(Y=xe[Oe-1],$=xe[Oe],E=B/O,N=Mi(Y,$),B+=N,X=B/O,E<=r&&X>r){de=le.length;break}}else 1==xe.length&&(Y=xe[0],$=xe[0],E=0,X=1)}if(Y&&$){let xe,de=(r-E)/(X-E);if("straight"==w){let Oe=p.convert({longitude:Y[0],latitude:Y[1]}),be=p.convert({longitude:$[0],latitude:$[1]});return p.invert({x:Oe.x+(be.x-Oe.x)*de,y:Oe.y+(be.y-Oe.y)*de})}return xe=function Or(h,r){var o=h[0]*ge,u=h[1]*ge,p=r[0]*ge,y=r[1]*ge,w=Ce(u),O=ke(u),B=Ce(y),N=ke(y),E=w*Ce(o),X=w*ke(o),Y=B*Ce(p),$=B*ke(p),te=2*We(lt(ji(y-u)+w*B*ji(p-o))),le=ke(te),de=te?function(xe){var Oe=ke(xe*=te)/le,be=ke(te-xe)/le,Le=be*E+Oe*Y,ze=be*X+Oe*$,Xe=be*O+Oe*N;return[Ge(ze,Le)*Pe,Ge(Xe,lt(Le*Le+ze*ze))*Pe]}:function(){return[o*Pe,u*Pe]};return de.distance=te,de}(Y,$)(de),{longitude:xe[0],latitude:xe[1]}}}}return{longitude:0,latitude:0}}}Object.defineProperty(li,"className",{enumerable:!0,configurable:!0,writable:!0,value:"MapLine"}),Object.defineProperty(li,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:fe.T.classNames.concat([li.className])});var hr=I(434),bt=I(1371);class dt extends _e{constructor(){super(...arguments),Object.defineProperty(this,"mapLines",{enumerable:!0,configurable:!0,writable:!0,value:new hr.o(bt.YS.new({}),()=>li._new(this._root,{},[this.mapLines.template]))}),Object.defineProperty(this,"_types",{enumerable:!0,configurable:!0,writable:!0,value:["LineString","MultiLineString"]})}_afterNew(){this.fields.push("lineType"),this._setRawDefault("lineTypeField","lineType"),super._afterNew()}makeMapLine(r){const o=this.children.push(this.mapLines.make());return o._setDataItem(r),this.mapLines.push(o),o}markDirtyProjection(){V.each(this.dataItems,r=>{let o=r.get("mapLine");o&&o.markDirtyProjection()})}_prepareChildren(){super._prepareChildren(),this.isDirty("stroke")&&this.mapLines.template.set("stroke",this.get("stroke"))}processDataItem(r){super.processDataItem(r);let o=r.get("mapLine");o||(o=this.makeMapLine(r)),this._handlePointsToConnect(r),r.on("pointsToConnect",()=>{this._handlePointsToConnect(r)}),r.set("mapLine",o),this._addGeometry(r.get("geometry"),this),o.setPrivate("series",this)}_handlePointsToConnect(r){const o=r.get("pointsToConnect");o&&(V.each(o,u=>{u.on("geometry",()=>{this.markDirtyValues(r)}),u.on("longitude",()=>{this.markDirtyValues(r)}),u.on("latitude",()=>{this.markDirtyValues(r)})}),this.markDirtyValues(r))}markDirtyValues(r){if(super.markDirtyValues(),r){const o=r.get("mapLine");if(o){const u=r.get("pointsToConnect");if(u){let p=[];V.each(u,w=>{const O=w.get("longitude"),B=w.get("latitude");if(null!=O&&null!=B)p.push([O,B]);else{const N=w.get("geometry");if(N){const E=N.coordinates;E&&p.push([E[0],E[1]])}}});let y={type:"LineString",coordinates:p};r.setRaw("geometry",y),o.set("geometry",y)}else o.set("geometry",r.get("geometry"))}}}disposeDataItem(r){super.disposeDataItem(r);const o=r.get("mapLine");o&&(this.mapLines.removeValue(o),o.dispose())}_excludeDataItem(r){super._excludeDataItem(r);const o=r.get("mapLine");o&&o.setPrivate("visible",!1)}_unexcludeDataItem(r){super._unexcludeDataItem(r);const o=r.get("mapLine");o&&o.setPrivate("visible",!0)}_notIncludeDataItem(r){super._notIncludeDataItem(r);const o=r.get("mapLine");o&&o.setPrivate("visible",!1)}_unNotIncludeDataItem(r){super._unNotIncludeDataItem(r);const o=r.get("mapLine");o&&o.setPrivate("visible",!0)}}function Di(h,r,o){h=+h,r=+r,o=(p=arguments.length)<2?(r=h,h=0,1):p<3?1:+o;for(var u=-1,p=0|Math.max(0,Math.ceil((r-h)/o)),y=new Array(p);++u<p;)y[u]=h+u*o;return y}function Lt(h,r,o){var u=Di(h,r-Z,o).concat(r);return function(p){return u.map(function(y){return[p,y]})}}function Ar(h,r,o){var u=Di(h,r-Z,o).concat(r);return function(p){return u.map(function(y){return[y,p]})}}Object.defineProperty(dt,"className",{enumerable:!0,configurable:!0,writable:!0,value:"MapLineSeries"}),Object.defineProperty(dt,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:_e.classNames.concat([dt.className])});class Yi extends dt{constructor(){super(...arguments),Object.defineProperty(this,"_dataItem",{enumerable:!0,configurable:!0,writable:!0,value:this.makeDataItem({})})}_afterNew(){super._afterNew(),this.dataItems.push(this._dataItem),this._generate()}_updateChildren(){if(super._updateChildren(),this.isDirty("step")&&this._generate(),this.isDirty("clipExtent")&&this.get("clipExtent")){const r=this.chart;r&&r.events.on("geoboundschanged",()=>{this._generate()}),this._generate()}}_generate(){let r=function ir(){var h,r,o,u,p,y,w,O,Y,$,te,le,B=10,N=B,E=90,X=360,de=2.5;function xe(){return{type:"MultiLineString",coordinates:Oe()}}function Oe(){return Di(ot(u/E)*E,o,E).map(te).concat(Di(ot(O/X)*X,w,X).map(le)).concat(Di(ot(r/B)*B,h,B).filter(function(be){return Te(be%E)>Z}).map(Y)).concat(Di(ot(y/N)*N,p,N).filter(function(be){return Te(be%X)>Z}).map($))}return xe.lines=function(){return Oe().map(function(be){return{type:"LineString",coordinates:be}})},xe.outline=function(){return{type:"Polygon",coordinates:[te(u).concat(le(w).slice(1),te(o).reverse().slice(1),le(O).reverse().slice(1))]}},xe.extent=function(be){return arguments.length?xe.extentMajor(be).extentMinor(be):xe.extentMinor()},xe.extentMajor=function(be){return arguments.length?(O=+be[0][1],w=+be[1][1],(u=+be[0][0])>(o=+be[1][0])&&(be=u,u=o,o=be),O>w&&(be=O,O=w,w=be),xe.precision(de)):[[u,O],[o,w]]},xe.extentMinor=function(be){return arguments.length?(y=+be[0][1],p=+be[1][1],(r=+be[0][0])>(h=+be[1][0])&&(be=r,r=h,h=be),y>p&&(be=y,y=p,p=be),xe.precision(de)):[[r,y],[h,p]]},xe.step=function(be){return arguments.length?xe.stepMajor(be).stepMinor(be):xe.stepMinor()},xe.stepMajor=function(be){return arguments.length?(E=+be[0],X=+be[1],xe):[E,X]},xe.stepMinor=function(be){return arguments.length?(B=+be[0],N=+be[1],xe):[B,N]},xe.precision=function(be){return arguments.length?(de=+be,Y=Lt(y,p,90),$=Ar(r,h,de),te=Lt(O,w,90),le=Ar(u,o,de),xe):de},xe.extentMajor([[-180,-90+Z],[180,90-Z]]).extentMinor([[-180,-80-Z],[180,80+Z]])}();if(r){if(this.get("clipExtent")){const u=this.chart;if(u){const p=u.geoBounds();p&&r.extent([[p.left,p.bottom],[p.right,p.top]])}}const o=this.get("step",10);r.stepMinor([360,360]),r.stepMajor([o,o]),this._dataItem.set("geometry",r())}}}Object.defineProperty(Yi,"className",{enumerable:!0,configurable:!0,writable:!0,value:"GraticuleSeries"}),Object.defineProperty(Yi,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:dt.classNames.concat([Yi.className])});var kr=I(5013),Fi=I(2231);function Si(h,r){function o(u,p){return u=h(u,p),r(u[0],u[1])}return h.invert&&r.invert&&(o.invert=function(u,p){return(u=r.invert(u,p))&&h.invert(u[0],u[1])}),o}function dr(h,r){return Te(h)>A&&(h-=Math.round(h/Se)*Se),[h,r]}function rr(h,r,o){return(h%=Se)?r||o?Si(gr(h),pr(r,o)):gr(h):r||o?pr(r,o):dr}function fr(h){return function(r,o){return Te(r+=h)>A&&(r-=Math.round(r/Se)*Se),[r,o]}}function gr(h){var r=fr(h);return r.invert=fr(-h),r}function pr(h,r){var o=Ce(h),u=ke(h),p=Ce(r),y=ke(r);function w(O,B){var N=Ce(B),E=Ce(O)*N,X=ke(O)*N,Y=ke(B),$=Y*o+E*u;return[Ge(X*p-$*y,E*o-Y*u),We($*p+X*y)]}return w.invert=function(O,B){var N=Ce(B),E=Ce(O)*N,X=ke(O)*N,Y=ke(B),$=Y*p-X*y;return[Ge(X*p+Y*y,E*o+$*u),We($*o-E*u)]},w}function zi(){var r,h=[];return{point:function(o,u,p){r.push([o,u,p])},lineStart:function(){h.push(r=[])},lineEnd:Re,rejoin:function(){h.length>1&&h.push(h.pop().concat(h.shift()))},result:function(){var o=h;return h=[],r=null,o}}}function Xi(h,r){return Te(h[0]-r[0])<Z&&Te(h[1]-r[1])<Z}function Gi(h,r,o,u){this.x=h,this.z=r,this.o=o,this.e=u,this.v=!1,this.n=this.p=null}function br(h,r,o,u,p){var O,B,y=[],w=[];if(h.forEach(function(te){if(!((le=te.length-1)<=0)){var le,Oe,de=te[0],xe=te[le];if(Xi(de,xe)){if(!de[2]&&!xe[2]){for(p.lineStart(),O=0;O<le;++O)p.point((de=te[O])[0],de[1]);return void p.lineEnd()}xe[0]+=2*Z}y.push(Oe=new Gi(de,te,null,!0)),w.push(Oe.o=new Gi(de,null,Oe,!1)),y.push(Oe=new Gi(xe,te,null,!1)),w.push(Oe.o=new Gi(xe,null,Oe,!0))}}),y.length){for(w.sort(r),Ui(y),Ui(w),O=0,B=w.length;O<B;++O)w[O].e=o=!o;for(var E,X,N=y[0];;){for(var Y=N,$=!0;Y.v;)if((Y=Y.n)===N)return;E=Y.z,p.lineStart();do{if(Y.v=Y.o.v=!0,Y.e){if($)for(O=0,B=E.length;O<B;++O)p.point((X=E[O])[0],X[1]);else u(Y.x,Y.n.x,1,p);Y=Y.n}else{if($)for(O=(E=Y.p.z).length-1;O>=0;--O)p.point((X=E[O])[0],X[1]);else u(Y.x,Y.p.x,-1,p);Y=Y.p}E=(Y=Y.o).z,$=!$}while(!Y.v);p.lineEnd()}}}function Ui(h){if(r=h.length){for(var r,p,o=0,u=h[0];++o<r;)u.n=p=h[o],p.p=u,u=p;u.n=p=h[0],p.p=u}}function gi(h){return[Ge(h[1],h[0]),We(h[2])]}function Ci(h){var r=h[0],o=h[1],u=Ce(o);return[u*Ce(r),u*ke(r),ke(o)]}function yr(h,r){return h[0]*r[0]+h[1]*r[1]+h[2]*r[2]}function Oi(h,r){return[h[1]*r[2]-h[2]*r[1],h[2]*r[0]-h[0]*r[2],h[0]*r[1]-h[1]*r[0]]}function Ai(h,r){h[0]+=r[0],h[1]+=r[1],h[2]+=r[2]}function W(h,r){return[h[0]*r,h[1]*r,h[2]*r]}function i(h){var r=lt(h[0]*h[0]+h[1]*h[1]+h[2]*h[2]);h[0]/=r,h[1]/=r,h[2]/=r}function n(h){return Te(h[0])<=A?h[0]:_i(h[0])*((Te(h[0])+A)%Se-A)}function b(h){return Array.from(function*f(h){for(const r of h)yield*r}(h))}function M(h,r,o,u){return function(p){var N,E,X,y=r(p),w=zi(),O=r(w),B=!1,Y={point:$,lineStart:le,lineEnd:de,polygonStart:function(){Y.point=xe,Y.lineStart=Oe,Y.lineEnd=be,E=[],N=[]},polygonEnd:function(){Y.point=$,Y.lineStart=le,Y.lineEnd=de,E=b(E);var Le=function l(h,r){var o=n(r),u=r[1],p=ke(u),y=[ke(o),-Ce(o),0],w=0,O=0,B=new F;1===p?u=R+Z:-1===p&&(u=-R-Z);for(var N=0,E=h.length;N<E;++N)if(Y=(X=h[N]).length)for(var X,Y,$=X[Y-1],te=n($),le=$[1]/2+ue,de=ke(le),xe=Ce(le),Oe=0;Oe<Y;++Oe,te=Le,de=Xe,xe=yt,$=be){var be=X[Oe],Le=n(be),ze=be[1]/2+ue,Xe=ke(ze),yt=Ce(ze),nt=Le-te,at=nt>=0?1:-1,Mt=at*nt,Ve=Mt>A,si=de*Xe;if(B.add(Ge(si*at*ke(Mt),xe*yt+si*Ce(Mt))),w+=Ve?nt+at*Se:nt,Ve^te>=o^Le>=o){var At=Oi(Ci($),Ci(be));i(At);var _t=Oi(y,At);i(_t);var we=(Ve^nt>=0?-1:1)*We(_t[2]);(u>we||u===we&&(At[0]||At[1]))&&(O+=Ve^nt>=0?1:-1)}}return(w<-Z||w<Z&&B<-ae)^1&O}(N,u);E.length?(B||(p.polygonStart(),B=!0),br(E,_,Le,o,p)):Le&&(B||(p.polygonStart(),B=!0),p.lineStart(),o(null,null,1,p),p.lineEnd()),B&&(p.polygonEnd(),B=!1),E=N=null},sphere:function(){p.polygonStart(),p.lineStart(),o(null,null,1,p),p.lineEnd(),p.polygonEnd()}};function $(Le,ze){h(Le,ze)&&p.point(Le,ze)}function te(Le,ze){y.point(Le,ze)}function le(){Y.point=te,y.lineStart()}function de(){Y.point=$,y.lineEnd()}function xe(Le,ze){X.push([Le,ze]),O.point(Le,ze)}function Oe(){O.lineStart(),X=[]}function be(){xe(X[0][0],X[0][1]),O.lineEnd();var Xe,nt,at,Mt,Le=O.clean(),ze=w.result(),yt=ze.length;if(X.pop(),N.push(X),X=null,yt){if(1&Le){if((nt=(at=ze[0]).length-1)>0){for(B||(p.polygonStart(),B=!0),p.lineStart(),Xe=0;Xe<nt;++Xe)p.point((Mt=at[Xe])[0],Mt[1]);p.lineEnd()}return}yt>1&&2&Le&&ze.push(ze.pop().concat(ze.shift())),E.push(ze.filter(m))}}return Y}}function m(h){return h.length>1}function _(h,r){return((h=h.x)[0]<0?h[1]-R-Z:R-h[1])-((r=r.x)[0]<0?r[1]-R-Z:R-r[1])}dr.invert=dr;const D=M(function(){return!0},function C(h){var p,r=NaN,o=NaN,u=NaN;return{lineStart:function(){h.lineStart(),p=1},point:function(y,w){var O=y>0?A:-A,B=Te(y-r);Te(B-A)<Z?(h.point(r,o=(o+w)/2>0?R:-R),h.point(u,o),h.lineEnd(),h.lineStart(),h.point(O,o),h.point(y,o),p=0):u!==O&&B>=A&&(Te(r-u)<Z&&(r-=u*Z),Te(y-O)<Z&&(y-=O*Z),o=function x(h,r,o,u){var p,y,w=ke(h-o);return Te(w)>Z?Fe((ke(r)*(y=Ce(u))*ke(o)-ke(u)*(p=Ce(r))*ke(h))/(p*y*w)):(r+u)/2}(r,o,y,w),h.point(u,o),h.lineEnd(),h.lineStart(),h.point(O,o),p=0),h.point(r=y,o=w),u=O},lineEnd:function(){h.lineEnd(),r=o=NaN},clean:function(){return 2-p}}},function k(h,r,o,u){var p;if(null==h)u.point(-A,p=o*R),u.point(0,p),u.point(A,p),u.point(A,0),u.point(A,-p),u.point(0,-p),u.point(-A,-p),u.point(-A,0),u.point(-A,p);else if(Te(h[0]-r[0])>Z){var y=h[0]<r[0]?A:-A;u.point(-y,p=o*y/2),u.point(0,p),u.point(y,p)}else u.point(r[0],r[1])},[-A,-R]);function q(h){return function(){return h}}function J(h,r,o,u,p,y){if(o){var w=Ce(r),O=ke(r),B=u*o;null==p?(p=r+u*Se,y=r-B/2):(p=ee(w,p),y=ee(w,y),(u>0?p<y:p>y)&&(p+=u*Se));for(var N,E=p;u>0?E>y:E<y;E-=B)N=gi([w,-O*Ce(E),-O*ke(E)]),h.point(N[0],N[1])}}function ee(h,r){(r=Ci(r))[0]-=h,i(r);var o=function Ki(h){return h>1?0:h<-1?A:Math.acos(h)}(-r[1]);return((-r[2]<0?-o:o)+Se-Z)%Se}var Q=1e9,ie=-Q;const pe=h=>h;function Ue(h){return function(r){var o=new ht;for(var u in h)o[u]=h[u];return o.stream=r,o}}function ht(){}ht.prototype={constructor:ht,point:function(h,r){this.stream.point(h,r)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Ie=1/0,Ke=Ie,qe=-Ie,$t=qe;const st={point:function Wt(h,r){h<Ie&&(Ie=h),h>qe&&(qe=h),r<Ke&&(Ke=r),r>$t&&($t=r)},lineStart:Re,lineEnd:Re,polygonStart:Re,polygonEnd:Re,result:function(){var h=[[Ie,Ke],[qe,$t]];return qe=$t=-(Ke=Ie=1/0),h}};function ti(h,r,o){var u=h.clipExtent&&h.clipExtent();return h.scale(150).translate([0,0]),null!=u&&h.clipExtent(null),Zt(o,h.stream(st)),r(st.result()),null!=u&&h.clipExtent(u),h}function jt(h,r,o){return ti(h,function(u){var p=r[1][0]-r[0][0],y=r[1][1]-r[0][1],w=Math.min(p/(u[1][0]-u[0][0]),y/(u[1][1]-u[0][1])),O=+r[0][0]+(p-w*(u[1][0]+u[0][0]))/2,B=+r[0][1]+(y-w*(u[1][1]+u[0][1]))/2;h.scale(150*w).translate([O,B])},o)}function gt(h,r,o){return jt(h,[[0,0],r],o)}function pi(h,r,o){return ti(h,function(u){var p=+r,y=p/(u[1][0]-u[0][0]),w=(p-y*(u[1][0]+u[0][0]))/2,O=-y*u[0][1];h.scale(150*y).translate([w,O])},o)}function mi(h,r,o){return ti(h,function(u){var p=+r,y=p/(u[1][1]-u[0][1]),w=-y*u[0][0],O=(p-y*(u[1][1]+u[0][1]))/2;h.scale(150*y).translate([w,O])},o)}var Jt=16,Kt=Ce(30*ge);function xt(h,r){return+r?function Pt(h,r){function o(u,p,y,w,O,B,N,E,X,Y,$,te,le,de){var xe=N-u,Oe=E-p,be=xe*xe+Oe*Oe;if(be>4*r&&le--){var Le=w+Y,ze=O+$,Xe=B+te,yt=lt(Le*Le+ze*ze+Xe*Xe),nt=We(Xe/=yt),at=Te(Te(Xe)-1)<Z||Te(y-X)<Z?(y+X)/2:Ge(ze,Le),Mt=h(at,nt),Ve=Mt[0],si=Mt[1],At=Ve-u,_t=si-p,we=Oe*At-xe*_t;(we*we/be>r||Te((xe*At+Oe*_t)/be-.5)>.3||w*Y+O*$+B*te<Kt)&&(o(u,p,y,w,O,B,Ve,si,at,Le/=yt,ze/=yt,Xe,le,de),de.point(Ve,si),o(Ve,si,at,Le,ze,Xe,N,E,X,Y,$,te,le,de))}}return function(u){var p,y,w,O,B,N,E,X,Y,$,te,le,de={point:xe,lineStart:Oe,lineEnd:Le,polygonStart:function(){u.polygonStart(),de.lineStart=ze},polygonEnd:function(){u.polygonEnd(),de.lineStart=Oe}};function xe(nt,at){nt=h(nt,at),u.point(nt[0],nt[1])}function Oe(){X=NaN,de.point=be,u.lineStart()}function be(nt,at){var Mt=Ci([nt,at]),Ve=h(nt,at);o(X,Y,E,$,te,le,X=Ve[0],Y=Ve[1],E=nt,$=Mt[0],te=Mt[1],le=Mt[2],Jt,u),u.point(X,Y)}function Le(){de.point=xe,u.lineEnd()}function ze(){Oe(),de.point=Xe,de.lineEnd=yt}function Xe(nt,at){be(p=nt,at),y=X,w=Y,O=$,B=te,N=le,de.point=be}function yt(){o(X,Y,E,$,te,le,y,w,p,O,B,N,Jt,u),de.lineEnd=Le,Le()}return de}}(h,r):function ui(h){return Ue({point:function(r,o){r=h(r,o),this.stream.point(r[0],r[1])}})}(h)}var _r=Ue({point:function(h,r){this.stream.point(h*ge,r*ge)}});function Gt(h,r,o,u,p,y){if(!y)return function sr(h,r,o,u,p){function y(w,O){return[r+h*(w*=u),o-h*(O*=p)]}return y.invert=function(w,O){return[(w-r)/h*u,(o-O)/h*p]},y}(h,r,o,u,p);var w=Ce(y),O=ke(y),B=w*h,N=O*h,E=w/h,X=O/h,Y=(O*o-w*r)/h,$=(O*r+w*o)/h;function te(le,de){return[B*(le*=u)-N*(de*=p)+r,o-N*le-B*de]}return te.invert=function(le,de){return[u*(E*le-X*de+Y),p*($-X*le-E*de)]},te}function xi(h){return vr(function(){return h})()}function vr(h){var r,E,xe,Oe,be,Xe,yt,nt,at,Mt,o=150,u=480,p=250,y=0,w=0,O=0,B=0,N=0,X=0,Y=1,$=1,te=null,le=D,de=null,Le=pe,ze=.5;function Ve(we){return nt(we[0]*ge,we[1]*ge)}function si(we){return(we=nt.invert(we[0],we[1]))&&[we[0]*Pe,we[1]*Pe]}function At(){var we=Gt(o,0,0,Y,$,X).apply(null,r(y,w)),tt=Gt(o,u-we[0],p-we[1],Y,$,X);return E=rr(O,B,N),yt=Si(r,tt),nt=Si(E,yt),Xe=xt(yt,ze),_t()}function _t(){return at=Mt=null,Ve}return Ve.stream=function(we){return at&&Mt===we?at:at=_r(function Xt(h){return Ue({point:function(r,o){var u=h(r,o);return this.stream.point(u[0],u[1])}})}(E)(le(Xe(Le(Mt=we)))))},Ve.preclip=function(we){return arguments.length?(le=we,te=void 0,_t()):le},Ve.postclip=function(we){return arguments.length?(Le=we,de=xe=Oe=be=null,_t()):Le},Ve.clipAngle=function(we){return arguments.length?(le=+we?function se(h){var r=Ce(h),o=6*ge,u=r>0,p=Te(r)>Z;function w(E,X){return Ce(E)*Ce(X)>r}function B(E,X,Y){var le=[1,0,0],de=Oi(Ci(E),Ci(X)),xe=yr(de,de),Oe=de[0],be=xe-Oe*Oe;if(!be)return!Y&&E;var Le=r*xe/be,ze=-r*Oe/be,Xe=Oi(le,de),yt=W(le,Le);Ai(yt,W(de,ze));var at=Xe,Mt=yr(yt,at),Ve=yr(at,at),si=Mt*Mt-Ve*(yr(yt,yt)-1);if(!(si<0)){var At=lt(si),_t=W(at,(-Mt-At)/Ve);if(Ai(_t,yt),_t=gi(_t),!Y)return _t;var yi,we=E[0],tt=X[0],Ft=E[1],ni=X[1];tt<we&&(yi=we,we=tt,tt=yi);var Kr=tt-we,$i=Te(Kr-A)<Z;if(!$i&&ni<Ft&&(yi=Ft,Ft=ni,ni=yi),$i||Kr<Z?$i?Ft+ni>0^_t[1]<(Te(_t[0]-we)<Z?Ft:ni):Ft<=_t[1]&&_t[1]<=ni:Kr>A^(we<=_t[0]&&_t[0]<=tt)){var Ji=W(at,(-Mt+At)/Ve);return Ai(Ji,yt),[_t,gi(Ji)]}}}function N(E,X){var Y=u?h:A-h,$=0;return E<-Y?$|=1:E>Y&&($|=2),X<-Y?$|=4:X>Y&&($|=8),$}return M(w,function O(E){var X,Y,$,te,le;return{lineStart:function(){te=$=!1,le=1},point:function(de,xe){var be,Oe=[de,xe],Le=w(de,xe),ze=u?Le?0:N(de,xe):Le?N(de+(de<0?A:-A),xe):0;if(!X&&(te=$=Le)&&E.lineStart(),Le!==$&&(!(be=B(X,Oe))||Xi(X,be)||Xi(Oe,be))&&(Oe[2]=1),Le!==$)le=0,Le?(E.lineStart(),be=B(Oe,X),E.point(be[0],be[1])):(be=B(X,Oe),E.point(be[0],be[1],2),E.lineEnd()),X=be;else if(p&&X&&u^Le){var Xe;!(ze&Y)&&(Xe=B(Oe,X,!0))&&(le=0,u?(E.lineStart(),E.point(Xe[0][0],Xe[0][1]),E.point(Xe[1][0],Xe[1][1]),E.lineEnd()):(E.point(Xe[1][0],Xe[1][1]),E.lineEnd(),E.lineStart(),E.point(Xe[0][0],Xe[0][1],3)))}Le&&(!X||!Xi(X,Oe))&&E.point(Oe[0],Oe[1]),X=Oe,$=Le,Y=ze},lineEnd:function(){$&&E.lineEnd(),X=null},clean:function(){return le|(te&&$)<<1}}},function y(E,X,Y,$){J($,h,o,Y,E,X)},u?[0,-h]:[-A,h-A])}(te=we*ge):(te=null,D),_t()):te*Pe},Ve.clipExtent=function(we){return arguments.length?(Le=null==we?(de=xe=Oe=be=null,pe):function De(h,r,o,u){function p(N,E){return h<=N&&N<=o&&r<=E&&E<=u}function y(N,E,X,Y){var $=0,te=0;if(null==N||($=w(N,X))!==(te=w(E,X))||B(N,E)<0^X>0)do{Y.point(0===$||3===$?h:o,$>1?u:r)}while(($=($+X+4)%4)!==te);else Y.point(E[0],E[1])}function w(N,E){return Te(N[0]-h)<Z?E>0?0:3:Te(N[0]-o)<Z?E>0?2:1:Te(N[1]-r)<Z?E>0?1:0:E>0?3:2}function O(N,E){return B(N.x,E.x)}function B(N,E){var X=w(N,1),Y=w(E,1);return X!==Y?X-Y:0===X?E[1]-N[1]:1===X?N[0]-E[0]:2===X?N[1]-E[1]:E[0]-N[0]}return function(N){var Y,$,te,le,de,xe,Oe,be,Le,ze,Xe,E=N,X=zi(),yt={point:nt,lineStart:function si(){yt.point=_t,$&&$.push(te=[]),ze=!0,Le=!1,Oe=be=NaN},lineEnd:function At(){Y&&(_t(le,de),xe&&Le&&X.rejoin(),Y.push(X.result())),yt.point=nt,Le&&E.lineEnd()},polygonStart:function Mt(){E=X,Y=[],$=[],Xe=!0},polygonEnd:function Ve(){var we=function at(){for(var we=0,tt=0,Ft=$.length;tt<Ft;++tt)for(var Sr,Ji,ni=$[tt],yi=1,Kr=ni.length,$i=ni[0],gs=$i[0],Nr=$i[1];yi<Kr;++yi)Sr=gs,Ji=Nr,gs=($i=ni[yi])[0],Nr=$i[1],Ji<=u?Nr>u&&(gs-Sr)*(u-Ji)>(Nr-Ji)*(h-Sr)&&++we:Nr<=u&&(gs-Sr)*(u-Ji)<(Nr-Ji)*(h-Sr)&&--we;return we}(),tt=Xe&&we,Ft=(Y=b(Y)).length;(tt||Ft)&&(N.polygonStart(),tt&&(N.lineStart(),y(null,null,1,N),N.lineEnd()),Ft&&br(Y,O,we,y,N),N.polygonEnd()),E=N,Y=$=te=null}};function nt(we,tt){p(we,tt)&&E.point(we,tt)}function _t(we,tt){var Ft=p(we,tt);if($&&te.push([we,tt]),ze)le=we,de=tt,xe=Ft,ze=!1,Ft&&(E.lineStart(),E.point(we,tt));else if(Ft&&Le)E.point(we,tt);else{var ni=[Oe=Math.max(ie,Math.min(Q,Oe)),be=Math.max(ie,Math.min(Q,be))],yi=[we=Math.max(ie,Math.min(Q,we)),tt=Math.max(ie,Math.min(Q,tt))];!function ye(h,r,o,u,p,y){var te,w=h[0],O=h[1],E=0,X=1,Y=r[0]-w,$=r[1]-O;if(te=o-w,Y||!(te>0)){if(te/=Y,Y<0){if(te<E)return;te<X&&(X=te)}else if(Y>0){if(te>X)return;te>E&&(E=te)}if(te=p-w,Y||!(te<0)){if(te/=Y,Y<0){if(te>X)return;te>E&&(E=te)}else if(Y>0){if(te<E)return;te<X&&(X=te)}if(te=u-O,$||!(te>0)){if(te/=$,$<0){if(te<E)return;te<X&&(X=te)}else if($>0){if(te>X)return;te>E&&(E=te)}if(te=y-O,$||!(te<0)){if(te/=$,$<0){if(te>X)return;te>E&&(E=te)}else if($>0){if(te<E)return;te<X&&(X=te)}return E>0&&(h[0]=w+E*Y,h[1]=O+E*$),X<1&&(r[0]=w+X*Y,r[1]=O+X*$),!0}}}}}(ni,yi,h,r,o,u)?Ft&&(E.lineStart(),E.point(we,tt),Xe=!1):(Le||(E.lineStart(),E.point(ni[0],ni[1])),E.point(yi[0],yi[1]),Ft||E.lineEnd(),Xe=!1)}Oe=we,be=tt,Le=Ft}return yt}}(de=+we[0][0],xe=+we[0][1],Oe=+we[1][0],be=+we[1][1]),_t()):null==de?null:[[de,xe],[Oe,be]]},Ve.scale=function(we){return arguments.length?(o=+we,At()):o},Ve.translate=function(we){return arguments.length?(u=+we[0],p=+we[1],At()):[u,p]},Ve.center=function(we){return arguments.length?(y=we[0]%360*ge,w=we[1]%360*ge,At()):[y*Pe,w*Pe]},Ve.rotate=function(we){return arguments.length?(O=we[0]%360*ge,B=we[1]%360*ge,N=we.length>2?we[2]%360*ge:0,At()):[O*Pe,B*Pe,N*Pe]},Ve.angle=function(we){return arguments.length?(X=we%360*ge,At()):X*Pe},Ve.reflectX=function(we){return arguments.length?(Y=we?-1:1,At()):Y<0},Ve.reflectY=function(we){return arguments.length?($=we?-1:1,At()):$<0},Ve.precision=function(we){return arguments.length?(Xe=xt(yt,ze=we*we),_t()):lt(ze)},Ve.fitExtent=function(we,tt){return jt(Ve,we,tt)},Ve.fitSize=function(we,tt){return gt(Ve,we,tt)},Ve.fitWidth=function(we,tt){return pi(Ve,we,tt)},Ve.fitHeight=function(we,tt){return mi(Ve,we,tt)},function(){return r=h.apply(this,arguments),Ve.invert=r.invert&&si,At()}}function Ir(h,r){return[h,vt(ai((R+r)/2))]}function qr(){return function es(h){var O,B,N,r=xi(h),o=r.center,u=r.scale,p=r.translate,y=r.clipExtent,w=null;function E(){var X=A*u(),Y=r(function mr(h){function r(o){return(o=h(o[0]*ge,o[1]*ge))[0]*=Pe,o[1]*=Pe,o}return h=rr(h[0]*ge,h[1]*ge,h.length>2?h[2]*ge:0),r.invert=function(o){return(o=h.invert(o[0]*ge,o[1]*ge))[0]*=Pe,o[1]*=Pe,o},r}(r.rotate()).invert([0,0]));return y(null==w?[[Y[0]-X,Y[1]-X],[Y[0]+X,Y[1]+X]]:h===Ir?[[Math.max(Y[0]-X,w),O],[Math.min(Y[0]+X,B),N]]:[[w,Math.max(Y[1]-X,O)],[B,Math.min(Y[1]+X,N)]])}return r.scale=function(X){return arguments.length?(u(X),E()):u()},r.translate=function(X){return arguments.length?(p(X),E()):p()},r.center=function(X){return arguments.length?(o(X),E()):o()},r.clipExtent=function(X){return arguments.length?(null==X?w=O=B=N=null:(w=+X[0][0],O=+X[0][1],B=+X[1][0],N=+X[1][1]),E()):null==w?null:[[w,O],[B,N]]},E()}(Ir).scale(961/Se)}Ir.invert=function(h,r){return[h,2*Fe(Ot(r))-R]};var Er=I(5770);class ts extends kr.Q{setupDefaultRules(){super.setupDefaultRules();const r=this._root.interfaceColors,o=this.rule.bind(this);o("MapChart").setAll({projection:qr(),panX:"translateX",panY:"translateY",pinchZoom:!0,zoomStep:2,zoomLevel:1,rotationX:0,rotationY:0,rotationZ:0,maxZoomLevel:32,minZoomLevel:1,wheelY:"zoom",wheelX:"none",animationEasing:Er.out(Er.cubic),wheelEasing:Er.out(Er.cubic),wheelDuration:0,wheelSensitivity:1,maxPanOut:.4,centerMapOnZoomOut:!0});{const u=o("MapLine");u.setAll({precision:.5,role:"figure"}),(0,Fi.v)(u,"stroke",r,"grid")}o("MapPolygonSeries").setAll({affectsBounds:!0}),o("MapPointSeries").setAll({affectsBounds:!1,clipFront:!1,clipBack:!0,autoScale:!1}),o("MapLineSeries").setAll({affectsBounds:!1});{const u=o("MapPolygon");u.setAll({precision:.5,isMeasured:!1,role:"figure",fillOpacity:1,position:"absolute",strokeWidth:.2,strokeOpacity:1}),(0,Fi.v)(u,"fill",r,"primaryButton"),(0,Fi.v)(u,"stroke",r,"background")}o("Button",["zoomcontrol"]).setAll({marginTop:1,marginBottom:1}),o("Graphics",["map","button","plus","icon"]).setAll({x:U.CI,y:U.CI,draw:u=>{u.moveTo(-4,0),u.lineTo(4,0),u.moveTo(0,-4),u.lineTo(0,4)}}),o("Graphics",["map","button","minus","icon"]).setAll({x:U.CI,y:U.CI,draw:u=>{u.moveTo(-4,0),u.lineTo(4,0)}}),o("GraticuleSeries").setAll({step:10}),o("ZoomControl").setAll({x:U.AQ,centerX:U.AQ,y:U.AQ,centerY:U.AQ,paddingRight:10,paddingBottom:10})}}var rs,xr,zr,nr,is=I(3704),ps=I(3605),Yr=new F,Fr=new F,ki={point:Re,lineStart:Re,lineEnd:Re,polygonStart:function(){ki.lineStart=ms,ki.lineEnd=wi},polygonEnd:function(){ki.lineStart=ki.lineEnd=ki.point=Re,Yr.add(Te(Fr)),Fr=new F},result:function(){var h=Yr/2;return Yr=new F,h}};function ms(){ki.point=bs}function bs(h,r){ki.point=wr,rs=zr=h,xr=nr=r}function wr(h,r){Fr.add(nr*h-zr*r),zr=h,nr=r}function wi(){wr(rs,xr)}const Pr=ki;var Mr,ss,bi,hi,ar=0,Xr=0,Ei=0,Hi=0,Rr=0,Wi=0,Gr=0,Ur=0,Tr=0,ci={point:z,lineStart:e,lineEnd:a,polygonStart:function(){ci.lineStart=d,ci.lineEnd=c},polygonEnd:function(){ci.point=z,ci.lineStart=e,ci.lineEnd=a},result:function(){var h=Tr?[Gr/Tr,Ur/Tr]:Wi?[Hi/Wi,Rr/Wi]:Ei?[ar/Ei,Xr/Ei]:[NaN,NaN];return ar=Xr=Ei=Hi=Rr=Wi=Gr=Ur=Tr=0,h}};function z(h,r){ar+=h,Xr+=r,++Ei}function e(){ci.point=t}function t(h,r){ci.point=s,z(bi=h,hi=r)}function s(h,r){var o=h-bi,u=r-hi,p=lt(o*o+u*u);Hi+=p*(bi+h)/2,Rr+=p*(hi+r)/2,Wi+=p,z(bi=h,hi=r)}function a(){ci.point=z}function d(){ci.point=g}function c(){L(Mr,ss)}function g(h,r){ci.point=L,z(Mr=bi=h,ss=hi=r)}function L(h,r){var o=h-bi,u=r-hi,p=lt(o*o+u*u);Hi+=p*(bi+h)/2,Rr+=p*(hi+r)/2,Wi+=p,Gr+=(p=hi*h-bi*r)*(bi+h),Ur+=p*(hi+r),Tr+=3*p,z(bi=h,hi=r)}const S=ci;function H(h){this._context=h}H.prototype={_radius:4.5,pointRadius:function(h){return this._radius=h,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(h,r){switch(this._point){case 0:this._context.moveTo(h,r),this._point=1;break;case 1:this._context.lineTo(h,r);break;default:this._context.moveTo(h+this._radius,r),this._context.arc(h,r,this._radius,0,Se)}},result:Re};var G,P,me,T,he,j=new F,re={point:Re,lineStart:function(){re.point=Ee},lineEnd:function(){G&&ve(P,me),re.point=Re},polygonStart:function(){G=!0},polygonEnd:function(){G=null},result:function(){var h=+j;return j=new F,h}};function Ee(h,r){re.point=ve,P=T=h,me=he=r}function ve(h,r){j.add(lt((T-=h)*T+(he-=r)*he)),T=h,he=r}const ce=re;let Be,Ze,it,ct;class pt{constructor(r){this._append=null==r?$e:function rt(h){const r=Math.floor(h);if(!(r>=0))throw new RangeError(`invalid digits: ${h}`);if(r>15)return $e;if(r!==Be){const o=10**r;Be=r,Ze=function(p){let y=1;this._+=p[0];for(const w=p.length;y<w;++y)this._+=Math.round(arguments[y]*o)/o+p[y]}}return Ze}(r),this._radius=4.5,this._=""}pointRadius(r){return this._radius=+r,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){0===this._line&&(this._+="Z"),this._point=NaN}point(r,o){switch(this._point){case 0:this._append`M${r},${o}`,this._point=1;break;case 1:this._append`L${r},${o}`;break;default:if(this._append`M${r},${o}`,this._radius!==it||this._append!==Ze){const u=this._radius,p=this._;this._="",this._append`m0,${u}a${u},${u} 0 1,1 0,${-2*u}a${u},${u} 0 1,1 0,${2*u}z`,it=u,Ze=this._append,ct=this._,this._=p}this._+=ct}}result(){const r=this._;return this._="",r.length?r:null}}function $e(h){let r=1;this._+=h[0];for(const o=h.length;r<o;++r)this._+=arguments[r]+h[r]}var ii,Je,Tt,Et,Bt,qt,Rt,Vt,Ri,ei,Vi,Lr,jr,Nt,It,Yt,je=I(796),Qe=I(5411),et=I(9472),Pi={sphere:Re,point:ys,lineStart:Ss,lineEnd:Cs,polygonStart:function(){Pi.lineStart=Zs,Pi.lineEnd=Qs},polygonEnd:function(){Pi.lineStart=Ss,Pi.lineEnd=Cs}};function ys(h,r){h*=ge;var o=Ce(r*=ge);Hr(o*Ce(h),o*ke(h),ke(r))}function Hr(h,r,o){++ii,Tt+=(h-Tt)/ii,Et+=(r-Et)/ii,Bt+=(o-Bt)/ii}function Ss(){Pi.point=Ws}function Ws(h,r){h*=ge;var o=Ce(r*=ge);Nt=o*Ce(h),It=o*ke(h),Yt=ke(r),Pi.point=Vs,Hr(Nt,It,Yt)}function Vs(h,r){h*=ge;var o=Ce(r*=ge),u=o*Ce(h),p=o*ke(h),y=ke(r),w=Ge(lt((w=It*y-Yt*p)*w+(w=Yt*u-Nt*y)*w+(w=Nt*p-It*u)*w),Nt*u+It*p+Yt*y);Je+=w,qt+=w*(Nt+(Nt=u)),Rt+=w*(It+(It=p)),Vt+=w*(Yt+(Yt=y)),Hr(Nt,It,Yt)}function Cs(){Pi.point=ys}function Zs(){Pi.point=$s}function Qs(){Os(Lr,jr),Pi.point=ys}function $s(h,r){Lr=h,jr=r,h*=ge,r*=ge,Pi.point=Os;var o=Ce(r);Nt=o*Ce(h),It=o*ke(h),Yt=ke(r),Hr(Nt,It,Yt)}function Os(h,r){h*=ge;var o=Ce(r*=ge),u=o*Ce(h),p=o*ke(h),y=ke(r),w=It*y-Yt*p,O=Yt*u-Nt*y,B=Nt*p-It*u,N=Ut(w,O,B),E=We(N),X=N&&-E/N;Ri.add(X*w),ei.add(X*O),Vi.add(X*B),Je+=E,qt+=E*(Nt+(Nt=u)),Rt+=E*(It+(It=p)),Vt+=E*(Yt+(Yt=y)),Hr(Nt,It,Yt)}var As,ks,_s,vs,xs,ns=new F,as=new F,Li={point:Re,lineStart:Re,lineEnd:Re,polygonStart:function(){ns=new F,Li.lineStart=Ks,Li.lineEnd=qs},polygonEnd:function(){var h=+ns;as.add(h<0?Se+h:h),this.lineStart=this.lineEnd=this.point=Re},sphere:function(){as.add(Se)}};function Ks(){Li.point=en}function qs(){Es(As,ks)}function en(h,r){Li.point=Es,As=h,ks=r,_s=h*=ge,vs=Ce(r=(r*=ge)/2+ue),xs=ke(r)}function Es(h,r){var o=(h*=ge)-_s,u=o>=0?1:-1,p=u*o,y=Ce(r=(r*=ge)/2+ue),w=ke(r),O=xs*w,B=vs*y+O*Ce(p),N=O*u*ke(p);ns.add(Ge(N,B)),_s=h,vs=y,xs=w}function Rs(h){return as=new F,Zt(h,Li),2*as}var St,ri,Ct,di,Dr,Ls,js,Br,Wr,or,Zi,Qi={point:ws,lineStart:Ns,lineEnd:Is,polygonStart:function(){Qi.point=Ys,Qi.lineStart=tn,Qi.lineEnd=rn,Wr=new F,Li.polygonStart()},polygonEnd:function(){Li.polygonEnd(),Qi.point=ws,Qi.lineStart=Ns,Qi.lineEnd=Is,ns<0?(St=-(Ct=180),ri=-(di=90)):Wr>Z?di=90:Wr<-Z&&(ri=-90),Zi[0]=St,Zi[1]=Ct},sphere:function(){St=-(Ct=180),ri=-(di=90)}};function ws(h,r){or.push(Zi=[St=h,Ct=h]),r<ri&&(ri=r),r>di&&(di=r)}function Bs(h,r){var o=Ci([h*ge,r*ge]);if(Br){var u=Oi(Br,o),y=Oi([u[1],-u[0],0],u);i(y),y=gi(y);var N,w=h-Dr,O=w>0?1:-1,B=y[0]*Pe*O,E=Te(w)>180;E^(O*Dr<B&&B<O*h)?(N=y[1]*Pe)>di&&(di=N):E^(O*Dr<(B=(B+360)%360-180)&&B<O*h)?(N=-y[1]*Pe)<ri&&(ri=N):(r<ri&&(ri=r),r>di&&(di=r)),E?h<Dr?fi(St,h)>fi(St,Ct)&&(Ct=h):fi(h,Ct)>fi(St,Ct)&&(St=h):Ct>=St?(h<St&&(St=h),h>Ct&&(Ct=h)):h>Dr?fi(St,h)>fi(St,Ct)&&(Ct=h):fi(h,Ct)>fi(St,Ct)&&(St=h)}else or.push(Zi=[St=h,Ct=h]);r<ri&&(ri=r),r>di&&(di=r),Br=o,Dr=h}function Ns(){Qi.point=Bs}function Is(){Zi[0]=St,Zi[1]=Ct,Qi.point=ws,Br=null}function Ys(h,r){if(Br){var o=h-Dr;Wr.add(Te(o)>180?o+(o>0?360:-360):o)}else Ls=h,js=r;Li.point(h,r),Bs(h,r)}function tn(){Li.lineStart()}function rn(){Ys(Ls,js),Li.lineEnd(),Te(Wr)>Z&&(St=-(Ct=180)),Zi[0]=St,Zi[1]=Ct,Br=null}function fi(h,r){return(r-=h)<0?r+360:r}function sn(h,r){return h[0]-r[0]}function Fs(h,r){return h[0]<=h[1]?h[0]<=r&&r<=h[1]:r<h[0]||h[1]<r}function an(h,r){return function K(){var u,p,h=q([0,0]),r=q(90),o=q(6),y={point:function w(B,N){u.push(B=p(B,N)),B[0]*=Pe,B[1]*=Pe}};function O(){var B=h.apply(this,arguments),N=r.apply(this,arguments)*ge,E=o.apply(this,arguments)*ge;return u=[],p=rr(-B[0]*ge,-B[1]*ge,0).invert,J(y,N,E,1),B={type:"Polygon",coordinates:[u]},u=p=null,B}return O.center=function(B){return arguments.length?(h="function"==typeof B?B:q([+B[0],+B[1]]),O):h},O.radius=function(B){return arguments.length?(r="function"==typeof B?B:q(+B),O):r},O.precision=function(B){return arguments.length?(o="function"==typeof B?B:q(+B),O):o},O}().center([h.longitude,h.latitude]).radius(r)()}function os(h){const r=function Js(h){ii=Je=Tt=Et=Bt=qt=Rt=Vt=0,Ri=new F,ei=new F,Vi=new F,Zt(h,Pi);var r=+Ri,o=+ei,u=+Vi,p=Ut(r,o,u);return p<ae&&(r=qt,o=Rt,u=Vt,Je<Z&&(r=Tt,o=Et,u=Bt),(p=Ut(r,o,u))<ae)?[NaN,NaN]:[Ge(o,r)*Pe,We(u/p)*Pe]}(h);return{longitude:r[0],latitude:r[1]}}function on(h){return Rs(h)}function ls(h){const r=function nn(h){var r,o,u,p,y,w,O;if(di=Ct=-(St=ri=1/0),or=[],Zt(h,Qi),o=or.length){for(or.sort(sn),r=1,y=[u=or[0]];r<o;++r)Fs(u,(p=or[r])[0])||Fs(u,p[1])?(fi(u[0],p[1])>fi(u[0],u[1])&&(u[1]=p[1]),fi(p[0],u[1])>fi(u[0],u[1])&&(u[0]=p[0])):y.push(u=p);for(w=-1/0,r=0,u=y[o=y.length-1];r<=o;u=p,++r)(O=fi(u[1],(p=y[r])[0]))>w&&(w=O,St=p[0],Ct=u[1])}return or=Zi=null,St===1/0||ri===1/0?[[NaN,NaN],[NaN,NaN]]:[[St,ri],[Ct,di]]}(h);if(r){const o={left:r[0][0],right:r[1][0],top:r[1][1],bottom:r[0][1]};return o.right<o.left&&(o.right=180,o.left=-180),o}return{left:0,right:0,top:0,bottom:0}}function ln(h,r,o,u){let p=[];u<=-180&&(u=-179.9999),o<=-90&&(o=-89.9999),h>=90&&(h=89.9999),r>=180&&(r=179.9999);let y=Math.min(90,(r-u)/Math.ceil((r-u)/90)),w=(h-o)/Math.ceil((h-o)/90);for(let O=u;O<r;O+=y){let B=[];p.push([B]),O+y>r&&(y=r-O);for(let N=O;N<=O+y;N+=5)B.push([N,h]);for(let N=h;N>=o;N-=w)B.push([O+y,N]);for(let N=O+y;N>=O;N-=5)B.push([N,o]);for(let N=o;N<=h;N+=w)B.push([O,N])}return{type:"MultiPolygon",coordinates:p}}function un(h){let r=Ps(h.longitude),o=Math.asin(Math.sin(h.latitude*et.RADIANS))*et.DEGREES,u=Ps(h.latitude);return Math.abs(u)>90&&(r=Ps(r+180)),h.longitude=r,h.latitude=o,h}function Ps(h){return(h%=360)>180&&(h-=360),h<-180&&(h+=360),h}var Ts=I(8261);class us extends is.j{constructor(){super(...arguments),Object.defineProperty(this,"_downTranslateX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downTranslateY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downRotationX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downRotationY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downRotationZ",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_pLat",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_pLon",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_movePoints",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_downZoomLevel",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_doubleDownDistance",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_dirtyGeometries",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_geometryColection",{enumerable:!0,configurable:!0,writable:!0,value:{type:"GeometryCollection",geometries:[]}}),Object.defineProperty(this,"_centerLocation",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"_za",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_rxa",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_rya",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_txa",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tya",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_mapBounds",{enumerable:!0,configurable:!0,writable:!0,value:[[0,0],[0,0]]}),Object.defineProperty(this,"_geoCentroid",{enumerable:!0,configurable:!0,writable:!0,value:{longitude:0,latitude:0}}),Object.defineProperty(this,"_geoBounds",{enumerable:!0,configurable:!0,writable:!0,value:{left:0,right:0,top:0,bottom:0}}),Object.defineProperty(this,"_prevGeoBounds",{enumerable:!0,configurable:!0,writable:!0,value:{left:0,right:0,top:0,bottom:0}}),Object.defineProperty(this,"_dispatchBounds",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_wheelDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_pw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_ph",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_mapFitted",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_centerX",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_centerY",{enumerable:!0,configurable:!0,writable:!0,value:0})}_makeGeoPath(){const r=this.get("projection"),o=function mt(h,r){let p,y,o=3,u=4.5;function w(O){return O&&("function"==typeof u&&y.pointRadius(+u.apply(this,arguments)),Zt(O,p(y))),y.result()}return w.area=function(O){return Zt(O,p(Pr)),Pr.result()},w.measure=function(O){return Zt(O,p(ce)),ce.result()},w.bounds=function(O){return Zt(O,p(st)),st.result()},w.centroid=function(O){return Zt(O,p(S)),S.result()},w.projection=function(O){return arguments.length?(p=null==O?(h=null,pe):(h=O).stream,w):h},w.context=function(O){return arguments.length?(y=null==O?(r=null,new pt(o)):new H(r=O),"function"!=typeof u&&y.pointRadius(u),w):r},w.pointRadius=function(O){return arguments.length?(u="function"==typeof O?O:(y.pointRadius(+O),+O),w):u},w.digits=function(O){if(!arguments.length)return o;if(null==O)o=null;else{const B=Math.floor(O);if(!(B>=0))throw new RangeError(`invalid digits: ${O}`);o=B}return null===r&&(y=new pt(o)),w},w.projection(h).digits(o).context(r)}();o.projection(r),this.setPrivateRaw("geoPath",o)}geoPoint(){return this.invert(this.seriesContainer.toGlobal({x:this.width()/2,y:this.height()/2}))}geoCentroid(){return this._geoCentroid}geoBounds(){return this._geoBounds}_handleSetWheel(){const r=this.get("wheelX"),o=this.get("wheelY"),u=this.chartContainer;"none"!=r||"none"!=o?(this._wheelDp&&this._wheelDp.dispose(),this._wheelDp=u.events.on("wheel",p=>{const y=this.get("wheelEasing"),w=this.get("wheelSensitivity",1),O=this.get("wheelDuration",0),B=p.originalEvent;if(!Ts.isLocalEvent(B,this))return;B.preventDefault();const N=u._display.toLocal(p.point);"zoom"==o?this._handleWheelZoom(B.deltaY,N):"rotateY"==o?this._handleWheelRotateY(B.deltaY/5*w,O,y):"rotateX"==o&&this._handleWheelRotateX(B.deltaY/5*w,O,y),"zoom"==r?this._handleWheelZoom(B.deltaX,N):"rotateY"==r?this._handleWheelRotateY(B.deltaX/5*w,O,y):"rotateX"==r&&this._handleWheelRotateX(B.deltaX/5*w,O,y)}),this._disposers.push(this._wheelDp)):this._wheelDp&&this._wheelDp.dispose()}_prepareChildren(){super._prepareChildren();const r=this.get("projection"),o=this.innerWidth(),u=this.innerHeight(),p=this._geometryColection.geometries;if(this.isDirty("projection")){this._makeGeoPath(),this.markDirtyProjection(),this._fitMap(),r.scale(this.getPrivate("mapScale")*this.get("zoomLevel",1)),r.rotate&&r.rotate([this.get("rotationX",0),this.get("rotationY",0),this.get("rotationZ",0)]);let y=this._prevSettings.projection;if(y&&y!=r){let w=o/2,O=u/2;if(y.invert){let B=y.invert([w,O]);if(B){let N=r(B);if(N){let E=r.translate(),X=w-(N[0]-E[0]),Y=O-(N[1]-E[1]);r.translate([X,Y]),this.setRaw("translateX",X),this.setRaw("translateY",Y)}}}}}if((this.isDirty("wheelX")||this.isDirty("wheelY"))&&this._handleSetWheel(),this._dirtyGeometries&&(this._geometryColection.geometries=[],this.series.each(y=>{V.pushAll(this._geometryColection.geometries,y._geometries)}),this._fitMap()),0!=p.length&&(o!=this._pw||u!=this._ph||this._dirtyGeometries)&&o>0&&u>0){let y=o/2,w=u/2;r.fitSize([o,u],this._geometryColection);const O=r.scale();if(this.setPrivateRaw("mapScale",O),r.scale(O*this.get("zoomLevel",1)),this._centerLocation){let N=r(this._centerLocation);if(N){let E=r.translate(),X=y-(N[0]-E[0]),Y=w-(N[1]-E[1]);r.translate([X,Y]),this.setRaw("translateX",X),this.setRaw("translateY",Y),this._centerX=E[0],this._centerY=E[1]}}this.markDirtyProjection();const B=this.getPrivate("geoPath");this._mapBounds=B.bounds(this._geometryColection)}if(this._pw=o,this._ph=u,this.isDirty("zoomControl")){const y=this._prevSettings.zoomControl,w=this.get("zoomControl");w!==y&&(this._disposeProperty("zoomControl"),y&&y.dispose(),w&&(w.setPrivate("chart",this),this.children.push(w)),this.setRaw("zoomControl",w))}this.isDirty("zoomLevel")&&(r.scale(this.getPrivate("mapScale")*this.get("zoomLevel",1)),this.markDirtyProjection(),this.series.each(y=>{y.isType("MapPointSeries")&&y.get("autoScale")&&V.each(y.dataItems,w=>{const O=w.bullets;O&&V.each(O,B=>{const N=B.get("sprite");N&&N.set("scale",this.get("zoomLevel"))})})})),(this.isDirty("translateX")||this.isDirty("translateY"))&&(r.translate([this.get("translateX",this.width()/2),this.get("translateY",this.height()/2)]),this.markDirtyProjection()),r.rotate&&(this.isDirty("rotationX")||this.isDirty("rotationY")||this.isDirty("rotationZ"))&&(r.rotate([this.get("rotationX",0),this.get("rotationY",0),this.get("rotationZ",0)]),this.markDirtyProjection()),(this.isDirty("pinchZoom")||this.get("panX")||this.get("panY"))&&this._setUpTouch()}_fitMap(){const r=this.get("projection");let o=this.innerWidth(),u=this.innerHeight();if(o>0&&u>0){r.fitSize([o,u],this._geometryColection),this.setPrivateRaw("mapScale",r.scale());const p=r.translate();this.setRaw("translateX",p[0]),this.setRaw("translateY",p[1]),this._centerX=p[0],this._centerY=p[1];const y=this.getPrivate("geoPath");this._mapBounds=y.bounds(this._geometryColection),this._geoCentroid=os(this._geometryColection);const w=ls(this._geometryColection);if(this._geoBounds=w,this._geometryColection.geometries.length>0){w.left=et.round(this._geoBounds.left,3),w.right=et.round(this._geoBounds.right,3),w.top=et.round(this._geoBounds.top,3),w.bottom=et.round(this._geoBounds.bottom,3);const O=this._prevGeoBounds;O&&!Ts.sameBounds(w,O)&&(this._dispatchBounds=!0,this._prevGeoBounds=w)}this._mapFitted=!0}}homeGeoPoint(){let r=this.get("homeGeoPoint");if(!r){const u=this.getPrivate("geoPath").bounds(this._geometryColection),p=u[0][0],y=u[0][1];r=this.invert({x:p+(u[1][0]-p)/2,y:y+(u[1][1]-y)/2})}return r}goHome(r){this.zoomToGeoPoint(this.homeGeoPoint(),this.get("homeZoomLevel",1),!0,r,this.get("homeRotationX"),this.get("homeRotationY"))}_updateChildren(){const r=this.get("projection");if(r.invert){let o=this.innerWidth(),u=this.innerHeight();o>0&&u>0&&(this._centerLocation=r.invert([this.innerWidth()/2,this.innerHeight()/2]))}super._updateChildren()}_afterChanged(){if(super._afterChanged(),this._dispatchBounds){this._dispatchBounds=!1;const r="geoboundschanged";this.events.isEnabled(r)&&this.events.dispatch(r,{type:r,target:this})}}_setUpTouch(){this.chartContainer._display.cancelTouch||(this.chartContainer._display.cancelTouch=!!(this.get("pinchZoom")||this.get("panX")||this.get("panY")))}markDirtyGeometries(){this._dirtyGeometries=!0,this.markDirty()}markDirtyProjection(){this.series.each(r=>{r.markDirtyProjection()})}_afterNew(){this._defaultThemes.push(ts.new(this._root)),this._settings.themeTags=Ts.mergeTags(this._settings.themeTags,["map"]),this.children.push(this.bulletsContainer),super._afterNew(),this._makeGeoPath(),this.chartContainer.children.push(this.seriesContainer),null==this.get("translateX")&&this.set("translateX",this.width()/2),null==this.get("translateY")&&this.set("translateY",this.height()/2),this.chartContainer.set("interactive",!0),this.chartContainer.set("interactiveChildren",!1),this.chartContainer.set("background",ps.A.new(this._root,{themeTags:["map","background"],fill:je.Il.fromHex(0),fillOpacity:0})),this._disposers.push(this.chartContainer.events.on("pointerdown",o=>{this._handleChartDown(o)})),this._disposers.push(this.chartContainer.events.on("globalpointerup",o=>{this._handleChartUp(o)})),this._disposers.push(this.chartContainer.events.on("globalpointermove",o=>{this._handleChartMove(o)}));let r=!1;for(let o=0;o<Qe.i_.licenses.length;o++)Qe.i_.licenses[o].match(/^AM5M.{5,}/i)&&(r=!0);r||this._root._showBranding(),this._setUpTouch()}_handleChartDown(r){this._downZoomLevel=this.get("zoomLevel",1);let o=Me.keys(this.chartContainer._downPoints).length;if(1==o){const u=this.chartContainer._downPoints[1];u&&u.x==r.point.x&&u.y==r.point.y&&(o=0)}if(o>0){this._downTranslateX=this.get("translateX"),this._downTranslateY=this.get("translateY"),this._downRotationX=this.get("rotationX"),this._downRotationY=this.get("rotationY"),this._downRotationZ=this.get("rotationZ");const u=this.chartContainer._getDownPointId();if(u){let p=this._movePoints[u];p&&(this.chartContainer._downPoints[u]=p)}}else if(0==o){let u=this.chartContainer.get("background");if(u&&u.events.enableType("click"),this.get("panX")||this.get("panY")){this._za&&this._za.stop(),this._txa&&this._txa.stop(),this._tya&&this._tya.stop(),this._rxa&&this._rxa.stop(),this._rya&&this._rya.stop();const p=this.chartContainer._display.toLocal(r.point);this._downTranslateX=this.get("translateX"),this._downTranslateY=this.get("translateY"),this._downRotationX=this.get("rotationX"),this._downRotationY=this.get("rotationY"),this._downRotationZ=this.get("rotationZ");let y=this.get("projection");if(y.invert){let w=y.invert([p.x,p.y]),O=y.invert([p.x+1,p.y+1]);w&&O&&(this._pLon=Math.abs(O[0]-w[0]),this._pLat=Math.abs(O[1]-w[1]))}}}}invert(r){let o=this.get("projection");if(o.invert){const u=o.invert([r.x,r.y]);if(u)return{longitude:u[0],latitude:u[1]}}return{longitude:0,latitude:0}}convert(r,o,u){let y,p=this.get("projection");if(p.rotate||(o=void 0,u=void 0),null!=o||null!=u){null==o&&(o=0),null==u&&(u=0);let w=p.rotate();p.rotate([o,u,0]),y=p([r.longitude,r.latitude]),p.rotate(w)}else y=p([r.longitude,r.latitude]);return y?{x:y[0],y:y[1]}:{x:0,y:0}}_handleChartUp(r){this.chartContainer._downPoints={}}_handlePinch(){const r=this.chartContainer;let o=0,u=[],p=[];if(Me.each(r._downPoints,(y,w)=>{u[o]=w;let O=this._movePoints[y];O&&(p[o]=O),o++}),u.length>1&&p.length>1){const y=r._display;let w=u[0],O=u[1],B=p[0],N=p[1];if(w&&O&&B&&N){w=y.toLocal(w),O=y.toLocal(O),B=y.toLocal(B),N=y.toLocal(N);let E=Math.hypot(O.x-w.x,O.y-w.y),Y=Math.hypot(N.x-B.x,N.y-B.y)/E*this._downZoomLevel;Y=et.fitToRange(Y,this.get("minZoomLevel",1),this.get("maxZoomLevel",32));let $={x:B.x+(N.x-B.x)/2,y:B.y+(N.y-B.y)/2},te={x:w.x+(O.x-w.x)/2,y:w.y+(O.y-w.y)/2},xe=this._downZoomLevel,Oe=$.x-(-(this._downTranslateX||0)+te.x)/xe*Y,be=$.y-(-(this._downTranslateY||0)+te.y)/xe*Y;this.set("zoomLevel",Y),this.set("translateX",Oe),this.set("translateY",be)}}}_handleChartMove(r){const o=this.chartContainer;let u=o._getDownPoint();const p=o._getDownPointId(),w=r.originalEvent.pointerId;if(this.get("pinchZoom")&&w&&(this._movePoints[w]=r.point,Me.keys(o._downPoints).length>1))this._handlePinch();else if((!p||!w||w==p)&&u){const O=this.get("panX"),B=this.get("panY");if("none"!=O||"none"!=B){const N=o._display;let E=N.toLocal(r.point);u=N.toLocal(u);let X=this._downTranslateX,Y=this._downTranslateY;if(Math.hypot(u.x-E.x,u.y-E.y)>5){let $=o.get("background");if($&&$.events.disableType("click"),ne.isNumber(X)&&ne.isNumber(Y)){let te=this.get("projection");const le=this.get("zoomLevel",1),de=this.get("maxPanOut",.4),xe=this._mapBounds,Oe=this.width(),be=this.height(),Le=xe[1][0]-xe[0][0],ze=xe[1][1]-xe[0][1];if("translateX"==O){X+=E.x-u.x;const Xe=Oe/2-(Oe/2-this._centerX)*le;X=Math.min(X,Xe+Le*de*le),X=Math.max(X,Xe-Le*de*le)}if("translateY"==B){Y+=E.y-u.y;const Xe=be/2-(be/2-this._centerY)*le;Y=Math.min(Y,Xe+ze*de*le),Y=Math.max(Y,Xe-ze*de*le)}if(this.set("translateX",X),this.set("translateY",Y),te.invert){let Xe=te.invert([u.x,u.y]);location&&Xe&&("rotateX"==O&&this.set("rotationX",this._downRotationX-(u.x-E.x)*this._pLon),"rotateY"==B&&this.set("rotationY",this._downRotationY+(u.y-E.y)*this._pLat))}}}}}}_handleWheelRotateY(r,o,u){this._rya=this.animate({key:"rotationY",to:this.get("rotationY",0)-r,duration:o,easing:u})}_handleWheelRotateX(r,o,u){this._rxa=this.animate({key:"rotationX",to:this.get("rotationX",0)-r,duration:o,easing:u})}_handleWheelZoom(r,o){let u=this.get("zoomStep",2),p=this.get("zoomLevel",1),y=p;r>0?y=p/u:r<0&&(y=p*u),y!=p&&this.zoomToPoint(o,y)}zoomToGeoBounds(r,o,u,p){r.right<r.left&&(r.right=180,r.left=-180);const w=this.getPrivate("geoPath").bounds(this._geometryColection);let O=this.convert({longitude:r.left,latitude:r.top},u,p),B=this.convert({longitude:r.right,latitude:r.bottom},u,p);O.y<w[0][1]&&(O.y=w[0][1]),B.y>w[1][1]&&(B.y=w[1][1]);let N=this.get("zoomLevel",1),E_left=O.x,E_right=B.x,E_top=O.y,E_bottom=B.y,X=this.seriesContainer,Y=.9*Math.min(X.innerWidth()/(E_right-E_left)*N,X.innerHeight()/(E_bottom-E_top)*N),le=this.invert({x:E_left+(E_right-E_left)/2,y:E_top+(E_bottom-E_top)/2});return(null!=u||null!=p)&&this.rotate(u,p),this.zoomToGeoPoint(le,Y,!0,o)}zoomToPoint(r,o,u,p){o&&(o=et.fitToRange(o,this.get("minZoomLevel",1),this.get("maxZoomLevel",32))),ne.isNumber(p)||(p=this.get("animationDuration",0));const y=this.get("animationEasing"),w=this.get("zoomLevel",1);this.get("centerMapOnZoomOut")&&o==this.get("homeZoomLevel",1)&&(r=this.convert(this.homeGeoPoint()),u=!0);let O=r.x,B=r.y,N=this.get("translateX",0),E=this.get("translateY",0),X=O,Y=B;u&&(X=this.width()/2,Y=this.height()/2);let te=Y-(B-E)/w*o;return this._txa=this.animate({key:"translateX",to:X-(O-N)/w*o,duration:p,easing:y}),this._tya=this.animate({key:"translateY",to:te,duration:p,easing:y}),this._za=this.animate({key:"zoomLevel",to:o,duration:p,easing:y}),w!=o&&this._root.readerAlert(this._t("Zoom level changed to %1",this._root.locale,ne.numberToString(o))),this._za}zoomToGeoPoint(r,o,u,p,y,w){let O=this.convert(r,y,w);if((null!=y||null!=w)&&this.rotate(y,w,p),O)return this.zoomToPoint(O,o,u,p)}rotate(r,o,u){if(this.get("projection").rotate){ne.isNumber(u)||(u=this.get("animationDuration",0));const y=this.get("animationEasing");null!=r&&this.animate({key:"rotationX",to:r,duration:u,easing:y}),null!=o&&this.animate({key:"rotationY",to:o,duration:u,easing:y})}}zoomIn(){return this.zoomToPoint({x:this.width()/2,y:this.height()/2},this.get("zoomLevel",1)*this.get("zoomStep",2))}zoomOut(){return this.zoomToPoint({x:this.width()/2,y:this.height()/2},this.get("zoomLevel",1)/this.get("zoomStep",2))}_clearDirty(){super._clearDirty(),this._dirtyGeometries=!1,this._mapFitted=!1}getArea(r){const o=this.getPrivate("geoPath"),u=r.get("geometry");return u?o.area(u):0}}Object.defineProperty(us,"className",{enumerable:!0,configurable:!0,writable:!0,value:"MapChart"}),Object.defineProperty(us,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:is.j.classNames.concat([us.className])});class hs extends _e{constructor(){super(...arguments),Object.defineProperty(this,"_types",{enumerable:!0,configurable:!0,writable:!0,value:["Point","MultiPoint"]}),Object.defineProperty(this,"_lineChangedDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_afterNew(){this.fields.push("polygonId","lineId","longitude","latitude","fixed"),super._afterNew()}markDirtyProjection(){this.markDirty()}markDirtyValues(r){super.markDirtyValues(),r&&this._positionBullets(r)}processDataItem(r){super.processDataItem(r);let o=r.get("geometry");if(o){if("Point"==o.type){const u=o.coordinates;u&&(r.set("longitude",u[0]),r.set("latitude",u[1]))}else if("MultiPoint"==o.type){const u=o.coordinates;u&&u[0]&&(r.set("longitude",u[0][0]),r.set("latitude",u[0][1]))}}else o={type:"Point",coordinates:[r.get("longitude",0),r.get("latitude",0)]},r.set("geometry",o);this._addGeometry(o,this)}_makeBullets(r){r.bullets=[],this.bullets.each(o=>{const u=r.get("geometry");if(u)if("Point"==u.type)this._setBulletParent(this._makeBullet(r,o));else if(u.type="MultiPoint"){let p=0;V.each(u.coordinates,()=>{this._setBulletParent(this._makeBullet(r,o,p)),p++})}})}_setBulletParent(r){if(r){const o=r.get("sprite"),u=this.chart;if(o&&u){const p=o.dataItem;p&&(p.get("fixed")?o.parent!=u.bulletsContainer&&u.bulletsContainer.children.moveValue(o):o.parent!=this.bulletsContainer&&this.bulletsContainer.children.moveValue(o))}}}_positionBullet(r){const o=r.get("sprite");if(o){const u=o.dataItem;if(u&&u.get("fixed"))return;const p=u.get("latitude"),y=u.get("longitude"),w=u.get("lineDataItem"),O=u.get("fixed"),B=this.chart;let N;if(w)N=w.get("mapLine");else{const le=u.get("lineId");le&&B&&B.series.each(de=>{if(de.isType("MapLineSeries")){let xe=de.getDataItemById(le);xe&&(u.set("lineDataItem",xe),N=xe.get("mapLine"))}})}this._lineChangedDp&&this._lineChangedDp.dispose(),N&&(this._lineChangedDp=N.events.on("linechanged",()=>{this._positionBullets(u)}));const E=u.get("polygonDataItem");let X;if(E)X=E.get("mapPolygon");else{const le=u.get("polygonId");le&&B&&B.series.each(de=>{if(de.isType("MapPolygonSeries")){let xe=de.getDataItemById(le);xe&&(u.set("polygonDataItem",xe),X=xe.get("mapPolygon"))}})}const Y=u.get("positionOnLine");let $,te;if(X){let le=X.visualCentroid();$=[le.longitude,le.latitude],u.setRaw("longitude",le.longitude),u.setRaw("latitude",le.latitude)}else if(N&&ne.isNumber(Y)){let le=N.positionToGeoPoint(Y);if($=[le.longitude,le.latitude],u.get("autoRotate",r.get("autoRotate"))&&B){const de=N.positionToGeoPoint(Y-.002),xe=N.positionToGeoPoint(Y+.002),Oe=B.convert(de),be=B.convert(xe);te=et.getAngle(Oe,be)}u.setRaw("longitude",le.longitude),u.setRaw("latitude",le.latitude)}else if(ne.isNumber(y)&&ne.isNumber(p))$=[y,p];else{const le=u.get("geometry");le&&("Point"==le.type?this._positionBulletReal(r,le,le.coordinates,te):"MultiPoint"==le.type&&($=le.coordinates[r._index||0]))}!O&&$&&this._positionBulletReal(r,{type:"Point",coordinates:$},$,te)}}_positionBulletReal(r,o,u,p){const y=r.get("sprite"),w=this.chart;if(w){const O=w.get("projection"),B=w.getPrivate("geoPath"),N=y.dataItem,E=O(u);E&&y.setAll({x:E[0],y:E[1]});let X=!0;B(o)?this.get("clipFront")&&(X=!1):this.get("clipBack")&&(X=!1),y.setPrivate("visible",X),N&&null!=p&&N.get("autoRotate",r.get("autoRotate"))&&y.set("rotation",p+N.get("autoRotateAngle",r.get("autoRotateAngle",0)))}}zoomToDataItem(r,o,u){const p=this.chart;if(p){const y=r.get("longitude",0),w=r.get("latitude",0);return u?p.zoomToGeoPoint({longitude:y,latitude:w},o,!0,void 0,-y,-w):p.zoomToGeoPoint({longitude:y,latitude:w},o,!0)}}disposeDataItem(r){const o=this.chart;o&&o.series.each(u=>{u.isType("MapLineSeries")&&V.each(u.dataItems,p=>{const y=p.get("pointsToConnect");y&&V.each(y,w=>{w==r&&(V.remove(y,w),u.markDirtyValues(p))})})}),super.disposeDataItem(r)}_excludeDataItem(r){super._excludeDataItem(r);const o=r.bullets;o&&V.each(o,u=>{const p=u.get("sprite");p&&p.setPrivate("visible",!1)})}_unexcludeDataItem(r){super._unexcludeDataItem(r);const o=r.bullets;o&&V.each(o,u=>{const p=u.get("sprite");p&&p.setPrivate("visible",!0)})}_notIncludeDataItem(r){super._notIncludeDataItem(r);const o=r.bullets;o&&V.each(o,u=>{const p=u.get("sprite");p&&p.setPrivate("visible",!1)})}_unNotIncludeDataItem(r){super._unNotIncludeDataItem(r);const o=r.bullets;o&&V.each(o,u=>{const p=u.get("sprite");p&&p.setPrivate("visible",!0)})}}Object.defineProperty(hs,"className",{enumerable:!0,configurable:!0,writable:!0,value:"MapPointSeries"}),Object.defineProperty(hs,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:_e.classNames.concat([hs.className])});var hn=I(1783),cn=I.n(hn);class Vr extends fe.T{constructor(){super(...arguments),Object.defineProperty(this,"_projectionDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"series",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_beforeChanged(){if(super._beforeChanged(),this._projectionDirty||this.isDirty("geometry")||this.isDirty("precision")){const r=this.get("geometry");if(r){const o=this.series;if(o){const u=o.projection();u&&u.precision(this.get("precision",.5));const p=o.geoPath();p&&(this._clear=!0,this.set("draw",y=>{p.context(this._display),p(r),p.context(null)}),this.isHover()&&this.showTooltip())}}}}markDirtyProjection(){this.markDirty(),this._projectionDirty=!0}_clearDirty(){super._clearDirty(),this._projectionDirty=!1}geoCentroid(){const r=this.get("geometry");return r?os(r):{latitude:0,longitude:0}}visualCentroid(){let r=0,o=[];const u=this.get("geometry");if(u){if("Polygon"==u.type)o=u.coordinates;else if("MultiPolygon"==u.type)for(let y=0;y<u.coordinates.length;y++){let w=u.coordinates[y],O=Rs({type:"Polygon",coordinates:w});O>r&&(o=w,r=O)}let p=cn()(o);return{longitude:p[0],latitude:p[1]}}return{longitude:0,latitude:0}}_getTooltipPoint(){const r=this.series;if(r){const o=r.projection();if(o){const u=this.visualCentroid(),p=o([u.longitude,u.latitude]);if(p)return{x:p[0],y:p[1]}}}return{x:0,y:0}}}Object.defineProperty(Vr,"className",{enumerable:!0,configurable:!0,writable:!0,value:"MapPolygon"}),Object.defineProperty(Vr,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:fe.T.classNames.concat([Vr.className])});class cs extends _e{constructor(){super(...arguments),Object.defineProperty(this,"mapPolygons",{enumerable:!0,configurable:!0,writable:!0,value:new hr.o(bt.YS.new({}),()=>Vr._new(this._root,{},[this.mapPolygons.template]))}),Object.defineProperty(this,"_types",{enumerable:!0,configurable:!0,writable:!0,value:["Polygon","MultiPolygon"]})}makeMapPolygon(r){const o=this.children.push(this.mapPolygons.make());return o._setDataItem(r),this.mapPolygons.push(o),o}markDirtyProjection(){V.each(this.dataItems,r=>{let o=r.get("mapPolygon");o&&o.markDirtyProjection()})}_prepareChildren(){super._prepareChildren(),this.isDirty("fill")&&this.mapPolygons.template.set("fill",this.get("fill")),this.isDirty("stroke")&&this.mapPolygons.template.set("stroke",this.get("stroke"))}processDataItem(r){super.processDataItem(r);let o=r.get("mapPolygon");o||(o=this.makeMapPolygon(r)),r.set("mapPolygon",o);let u=r.get("geometry");if(u){if(this.get("reverseGeodata")&&u.coordinates)for(let y=0;y<u.coordinates.length;y++)if("MultiPolygon"==u.type)for(let w=0;w<u.coordinates[y].length;w++)u.coordinates[y][w].reverse();else u.coordinates[y].reverse();o.set("geometry",u)}o.series=this,this._addGeometry(r.get("geometry"),this)}disposeDataItem(r){super.disposeDataItem(r);const o=r.get("mapPolygon");o&&(this.mapPolygons.removeValue(o),o.dispose()),this._removeGeometry(r.get("geometry"))}_excludeDataItem(r){super._excludeDataItem(r);const o=r.get("mapPolygon");o&&o.setPrivate("visible",!1)}_unexcludeDataItem(r){super._unexcludeDataItem(r);const o=r.get("mapPolygon");o&&o.setPrivate("visible",!0)}_notIncludeDataItem(r){super._notIncludeDataItem(r);const o=r.get("mapPolygon");o&&o.setPrivate("visible",!1)}_unNotIncludeDataItem(r){super._unNotIncludeDataItem(r);const o=r.get("mapPolygon");o&&o.setPrivate("visible",!0)}markDirtyValues(r){if(super.markDirtyValues(),r){const o=r.get("mapPolygon");o&&o.set("geometry",r.get("geometry"))}}zoomToDataItem(r,o){const u=r.get("mapPolygon");if(u){const p=u.get("geometry"),y=this.chart;if(p&&y){if(o){const w=os(p);return y.rotate(-w.longitude,-w.latitude),y.zoomToGeoBounds(ls(p),void 0,-w.longitude,-w.latitude)}return y.zoomToGeoBounds(ls(p))}}}}Object.defineProperty(cs,"className",{enumerable:!0,configurable:!0,writable:!0,value:"MapPolygonSeries"}),Object.defineProperty(cs,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:_e.classNames.concat([cs.className])});var zs=I(9239),Xs=I(4618),dn=I(8362);class ds extends zs.W{constructor(){super(...arguments),Object.defineProperty(this,"plusButton",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(Xs.z.new(this._root,{width:36,height:36,themeTags:["plus"]}))}),Object.defineProperty(this,"minusButton",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(Xs.z.new(this._root,{width:36,height:36,themeTags:["minus"]}))}),Object.defineProperty(this,"_disposer",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_afterNew(){super._afterNew(),this.set("position","absolute"),this.set("layout",this._root.verticalLayout),this.set("themeTags",["zoomcontrol"]),this.plusButton.setAll({icon:fe.T.new(this._root,{themeTags:["icon"]}),layout:void 0}),this.minusButton.setAll({icon:fe.T.new(this._root,{themeTags:["icon"]}),layout:void 0})}_prepareChildren(){if(super._prepareChildren(),this.isPrivateDirty("chart")){const r=this.getPrivate("chart"),o=this._prevPrivateSettings.chart;r&&(this._disposer=new dn.FV([this.plusButton.events.on("click",()=>{r.zoomIn()}),this.minusButton.events.on("click",()=>{r.zoomOut()})])),o&&this._disposer&&this._disposer.dispose()}}}function Gs(h,r){return[Ce(r)*ke(h),ke(r)]}function gn(){return xi(Gs).scale(249.5).clipAngle(90+Z)}function Ms(h,r){return[h,r]}function pn(){return xi(Ms).scale(152.63)}function yn(h,r){var o=ke(h),u=(o+ke(r))/2;if(Te(u)<Z)return function bn(h){var r=Ce(h);function o(u,p){return[u*r,ke(p)/r]}return o.invert=function(u,p){return[u/r,We(p*r)]},o}(h);var p=1+o*(2*u-o),y=lt(p)/u;function w(O,B){var N=lt(p-2*u*ke(B))/u;return[N*ke(O*=u),y-N*Ce(O)]}return w.invert=function(O,B){var N=y-B,E=Ge(O,Te(N))*_i(N);return N*u<0&&(E-=A*_i(O)*_i(N)),[E/u,We((p-(O*O+N*N)*u*u)/(2*u))]},w}function Ds(){return function mn(h){var r=0,o=A/3,u=vr(h),p=u(r,o);return p.parallels=function(y){return arguments.length?u(r=y[0]*ge,o=y[1]*ge):[r*Pe,o*Pe]},p}(yn).scale(155.424).center([0,33.6442])}function xn(){var h,r,u,y,O,B,o=function _n(){return Ds().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}(),p=Ds().rotate([154,0]).center([-2,58.5]).parallels([55,65]),w=Ds().rotate([157,0]).center([-3,19.9]).parallels([8,18]),N={point:function(Y,$){B=[Y,$]}};function E(Y){var $=Y[0],te=Y[1];return B=null,u.point($,te),B||(y.point($,te),B)||(O.point($,te),B)}function X(){return h=r=null,E}return E.invert=function(Y){var $=o.scale(),te=o.translate(),le=(Y[0]-te[0])/$,de=(Y[1]-te[1])/$;return(de>=.12&&de<.234&&le>=-.425&&le<-.214?p:de>=.166&&de<.234&&le>=-.214&&le<-.115?w:o).invert(Y)},E.stream=function(Y){return h&&r===Y?h:h=function vn(h){var r=h.length;return{point:function(o,u){for(var p=-1;++p<r;)h[p].point(o,u)},sphere:function(){for(var o=-1;++o<r;)h[o].sphere()},lineStart:function(){for(var o=-1;++o<r;)h[o].lineStart()},lineEnd:function(){for(var o=-1;++o<r;)h[o].lineEnd()},polygonStart:function(){for(var o=-1;++o<r;)h[o].polygonStart()},polygonEnd:function(){for(var o=-1;++o<r;)h[o].polygonEnd()}}}([o.stream(r=Y),p.stream(Y),w.stream(Y)])},E.precision=function(Y){return arguments.length?(o.precision(Y),p.precision(Y),w.precision(Y),X()):o.precision()},E.scale=function(Y){return arguments.length?(o.scale(Y),p.scale(.35*Y),w.scale(Y),E.translate(o.translate())):o.scale()},E.translate=function(Y){if(!arguments.length)return o.translate();var $=o.scale(),te=+Y[0],le=+Y[1];return u=o.translate(Y).clipExtent([[te-.455*$,le-.238*$],[te+.455*$,le+.238*$]]).stream(N),y=p.translate([te-.307*$,le+.201*$]).clipExtent([[te-.425*$+Z,le+.12*$+Z],[te-.214*$-Z,le+.234*$-Z]]).stream(N),O=w.translate([te-.205*$,le+.212*$]).clipExtent([[te-.214*$+Z,le+.166*$+Z],[te-.115*$-Z,le+.234*$-Z]]).stream(N),X()},E.fitExtent=function(Y,$){return jt(E,Y,$)},E.fitSize=function(Y,$){return gt(E,Y,$)},E.fitWidth=function(Y,$){return pi(E,Y,$)},E.fitHeight=function(Y,$){return mi(E,Y,$)},E.scale(1070)}Object.defineProperty(ds,"className",{enumerable:!0,configurable:!0,writable:!0,value:"ZoomControl"}),Object.defineProperty(ds,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:zs.W.classNames.concat([ds.className])}),Gs.invert=function fn(h){return function(r,o){var u=lt(r*r+o*o),p=h(u),y=ke(p),w=Ce(p);return[Ge(r*y,u*w),We(u&&o*y/u)]}}(We),Ms.invert=Ms;var Zr=1.340264,Qr=-.081106,$r=893e-6,Jr=.003796,fs=lt(3)/2;function Us(h,r){var o=We(fs*ke(r)),u=o*o,p=u*u*u;return[h*Ce(o)/(fs*(Zr+3*Qr*u+p*(7*$r+9*Jr*u))),o*(Zr+Qr*u+p*($r+Jr*u))]}function Pn(){return xi(Us).scale(177.158)}function Hs(h,r){var o=r*r,u=o*o;return[h*(.8707-.131979*o+u*(u*(.003971*o-.001529*u)-.013791)),r*(1.007226+o*(.015085+u*(.028874*o-.044475-.005916*u)))]}function Tn(){return xi(Hs).scale(175.295)}Us.invert=function(h,r){for(var w,o=r,u=o*o,p=u*u*u,y=0;y<12&&(p=(u=(o-=w=(o*(Zr+Qr*u+p*($r+Jr*u))-r)/(Zr+3*Qr*u+p*(7*$r+9*Jr*u)))*o)*u*u,!(Te(w)<ae));++y);return[fs*h*(Zr+3*Qr*u+p*(7*$r+9*Jr*u))/Ce(o),We(ke(o)/fs)]},Hs.invert=function(h,r){var p,o=r,u=25;do{var y=o*o,w=y*y;o-=p=(o*(1.007226+y*(.015085+w*(.028874*y-.044475-.005916*w)))-r)/(1.007226+y*(.045255+w*(.259866*y-.311325-.005916*11*w)))}while(Te(p)>Z&&--u>0);return[h/(.8707+(y=o*o)*(y*(y*y*y*(.003971-.001529*y)-.013791)-.131979)),o]}},2677:(kt,He,I)=>{I.r(He),I.d(He,{Axis:()=>Ut.R,AxisBullet:()=>Re,AxisLabel:()=>ut.k,AxisLabelRadial:()=>oi,AxisRenderer:()=>Cr.Y,AxisRendererX:()=>Zt.n,AxisRendererY:()=>ur.j,AxisTick:()=>Bi.T,BaseColumnSeries:()=>Ae.d,Candlestick:()=>Qt,CandlestickSeries:()=>Ti,CategoryAxis:()=>vt.$,CategoryDateAxis:()=>wt,ColumnSeries:()=>Ht.d,DateAxis:()=>ai,DefaultTheme:()=>oe,DurationAxis:()=>We,GaplessDateAxis:()=>Ki,Grid:()=>ot.r,LineSeries:()=>Lt,OHLC:()=>vi,OHLCSeries:()=>qi,SmoothedXLineSeries:()=>zi,SmoothedXYLineSeries:()=>Ui,SmoothedYLineSeries:()=>Si,StepLineSeries:()=>Ai,ValueAxis:()=>lt,XYChart:()=>Fe,XYChartScrollbar:()=>Ce,XYCursor:()=>Ot,XYSeries:()=>Ni.o});var Ne=I(5013),V=I(7039),Me=I(2661),_e=I(2231),ne=I(1445),U=I(2743),fe=I(9472),F=I(8148),v=I(3559);class oe extends Ne.Q{setupDefaultRules(){super.setupDefaultRules();const i=this._root.interfaceColors,n=this._root.language,l=this.rule.bind(this);l("XYChart").setAll({colors:Me.U.new(this._root,{}),paddingLeft:20,paddingRight:20,paddingTop:16,paddingBottom:16,panX:!1,panY:!1,wheelStep:.25,arrangeTooltips:!0,pinchZoomX:!1,pinchZoomY:!1}),l("XYSeries").setAll({legendLabelText:"{name}"}),l("XYChart",["scrollbar","chart"]).setAll({paddingBottom:0,paddingLeft:0,paddingTop:0,paddingRight:0,colors:Me.U.new(this._root,{saturation:0})});{const _=l("Graphics",["scrollbar","overlay"]);_.setAll({fillOpacity:.5}),(0,_e.v)(_,"fill",i,"background")}l("RoundedRectangle",["xy","scrollbar","thumb"]).setAll({cornerRadiusTR:0,cornerRadiusTL:0,cornerRadiusBR:0,cornerRadiusBL:0,fillOpacity:0,focusable:!0}),l("RoundedRectangle",["xy","scrollbar","thumb"]).states.create("hover",{fillOpacity:.4}),l("RoundedRectangle",["xy","scrollbar","chart","background"]).setAll({cornerRadiusTL:0,cornerRadiusBL:0,cornerRadiusTR:0,cornerRadiusBR:0}),l("RoundedRectangle",["xy","scrollbar","chart","background","resize","button"]).setAll({cornerRadiusBL:40,cornerRadiusBR:40,cornerRadiusTL:40,cornerRadiusTR:40}),l("AxisRendererX",["xy","chart","scrollbar"]).setAll({strokeOpacity:0,inside:!0}),l("AxisRendererY",["xy","chart","scrollbar"]).setAll({strokeOpacity:0,inside:!0,minGridDistance:5}),l("AxisLabel",["xy","scrollbar","x"]).setAll({opacity:.5,centerY:V.AQ,minPosition:.01,maxPosition:.99,fontSize:"0.8em"}),l("AxisLabel",["category"]).setAll({text:"{category}",populateText:!0}),l("AxisLabel",["x"]).setAll({centerY:0}),l("AxisLabel",["x","inside"]).setAll({centerY:V.AQ}),l("AxisLabel",["x","inside","opposite"]).setAll({centerY:0}),l("AxisLabel",["x","opposite"]).setAll({centerY:V.AQ}),l("AxisLabel",["y"]).setAll({centerX:V.AQ}),l("AxisLabel",["y","inside"]).setAll({centerX:0}),l("AxisLabel",["y","inside","opposite"]).setAll({centerX:V.AQ}),l("AxisLabel",["y","opposite"]).setAll({centerX:0}),l("AxisLabel",["xy","scrollbar","y"]).setAll({visible:!1}),l("Grid",["xy","scrollbar","y"]).setAll({visible:!1}),l("Grid",["xy","scrollbar","x"]).setAll({opacity:.5}),l("XYCursor").setAll({behavior:"none",layer:30,exportable:!1,snapToSeriesBy:"xy",moveThreshold:1});{const _=l("Grid",["cursor","x"]);_.setAll({strokeOpacity:.8,strokeDasharray:[2,2],ariaLabel:n.translate("Use left and right arrows to move selection")}),(0,_e.v)(_,"stroke",i,"alternativeBackground")}{const _=l("Grid",["cursor","y"]);_.setAll({strokeOpacity:.8,strokeDasharray:[2,2],ariaLabel:n.translate("Use up and down arrows to move selection")}),(0,_e.v)(_,"stroke",i,"alternativeBackground")}{const _=l("Graphics",["cursor","selection"]);_.setAll({fillOpacity:.15}),(0,_e.v)(_,"fill",i,"alternativeBackground")}l("Axis").setAll({start:0,end:1,minZoomCount:1,maxZoomCount:1/0,maxZoomFactor:1e3,maxDeviation:.1,snapTooltip:!0,tooltipLocation:.5,panX:!0,panY:!0,zoomX:!0,zoomY:!0,fixAxisSize:!0}),l("AxisLabel").setAll({location:.5,multiLocation:0,centerX:V.CI,centerY:V.CI,paddingTop:3,paddingBottom:3,paddingLeft:5,paddingRight:5}),l("Container",["axis","header"]).setAll({layer:30}),l("Rectangle",["axis","header","background"]).setAll({crisp:!0});{const _=l("AxisRenderer");_.setAll({crisp:!0,strokeOpacity:0}),(0,_e.v)(_,"stroke",i,"grid")}l("AxisRendererX").setAll({minGridDistance:120,opposite:!1,inversed:!1,cellStartLocation:0,cellEndLocation:1,width:V.AQ}),l("AxisRendererY").setAll({minGridDistance:40,opposite:!1,inversed:!1,cellStartLocation:0,cellEndLocation:1,height:V.AQ});{const _=l("Rectangle",["axis","thumb"]);_.setAll({fillOpacity:0}),(0,_e.v)(_,"fill",i,"alternativeBackground"),_.states.create("hover",{fillOpacity:.1})}l("Rectangle",["axis","thumb","x"]).setAll({cursorOverStyle:"ew-resize"}),l("Rectangle",["axis","thumb","y"]).setAll({cursorOverStyle:"ns-resize"});{const _=l("Grid");_.setAll({location:0,strokeOpacity:.15,crisp:!0}),(0,_e.v)(_,"stroke",i,"grid")}l("Grid",["base"]).setAll({strokeOpacity:.3});{const _=l("Graphics",["axis","fill"]);_.setAll({visible:!1,isMeasured:!1,position:"absolute",fillOpacity:.05}),(0,_e.v)(_,"fill",i,"alternativeBackground")}l("Graphics",["axis","fill","range"]).setAll({isMeasured:!0}),l("Graphics",["series","fill","range"]).setAll({visible:!1,isMeasured:!0}),l("Grid",["series","range"]).setAll({visible:!1}),l("AxisTick",["series","range"]).setAll({visible:!1}),l("AxisLabel",["series","range"]).setAll({visible:!1});{const _=l("AxisTick");_.setAll({location:.5,multiLocation:0,strokeOpacity:1,isMeasured:!1,position:"absolute",visible:!1}),(0,_e.v)(_,"stroke",i,"grid")}l("CategoryAxis").setAll({startLocation:0,endLocation:1,fillRule:(_,D)=>{const C=_.get("axisFill");C&&(U.isNumber(D)&&D%2!=0?C.setPrivate("visible",!1):C.setPrivate("visible",!0))}});const f=[{timeUnit:"millisecond",count:1},{timeUnit:"millisecond",count:5},{timeUnit:"millisecond",count:10},{timeUnit:"millisecond",count:50},{timeUnit:"millisecond",count:100},{timeUnit:"millisecond",count:500},{timeUnit:"second",count:1},{timeUnit:"second",count:5},{timeUnit:"second",count:10},{timeUnit:"second",count:30},{timeUnit:"minute",count:1},{timeUnit:"minute",count:5},{timeUnit:"minute",count:10},{timeUnit:"minute",count:15},{timeUnit:"minute",count:30},{timeUnit:"hour",count:1},{timeUnit:"hour",count:3},{timeUnit:"hour",count:6},{timeUnit:"hour",count:12},{timeUnit:"day",count:1},{timeUnit:"day",count:2},{timeUnit:"day",count:3},{timeUnit:"day",count:4},{timeUnit:"day",count:5},{timeUnit:"week",count:1},{timeUnit:"month",count:1},{timeUnit:"month",count:2},{timeUnit:"month",count:3},{timeUnit:"month",count:6},{timeUnit:"year",count:1},{timeUnit:"year",count:2},{timeUnit:"year",count:5},{timeUnit:"year",count:10},{timeUnit:"year",count:50},{timeUnit:"year",count:100},{timeUnit:"year",count:200},{timeUnit:"year",count:500},{timeUnit:"year",count:1e3},{timeUnit:"year",count:2e3},{timeUnit:"year",count:5e3},{timeUnit:"year",count:1e4},{timeUnit:"year",count:1e5}],b={millisecond:n.translate("_date_millisecond"),second:n.translate("_date_second"),minute:n.translate("_date_minute"),hour:n.translate("_date_hour"),day:n.translate("_date_day"),week:n.translate("_date_day"),month:n.translate("_date_month"),year:n.translate("_date_year")},M={millisecond:n.translate("_date_millisecond"),second:n.translate("_date_second"),minute:n.translate("_date_minute"),hour:n.translate("_date_day"),day:n.translate("_date_day"),week:n.translate("_date_day"),month:n.translate("_date_month")+" "+n.translate("_date_year"),year:n.translate("_date_year")},m={millisecond:n.translate("_date_millisecond_full"),second:n.translate("_date_second_full"),minute:n.translate("_date_minute_full"),hour:n.translate("_date_hour_full"),day:n.translate("_date_day_full"),week:n.translate("_date_week_full"),month:n.translate("_date_month_full"),year:n.translate("_date_year")};l("CategoryDateAxis").setAll({markUnitChange:!0,gridIntervals:v.copy(f),dateFormats:F.copy(b),periodChangeDateFormats:F.copy(M)}),l("DateAxis").setAll({maxZoomFactor:null,strictMinMax:!0,startLocation:0,endLocation:1,markUnitChange:!0,groupData:!1,groupCount:500,gridIntervals:v.copy(f),dateFormats:F.copy(b),periodChangeDateFormats:F.copy(M),tooltipDateFormats:m,groupIntervals:[{timeUnit:"millisecond",count:1},{timeUnit:"millisecond",count:10},{timeUnit:"millisecond",count:100},{timeUnit:"second",count:1},{timeUnit:"second",count:10},{timeUnit:"minute",count:1},{timeUnit:"minute",count:10},{timeUnit:"hour",count:1},{timeUnit:"day",count:1},{timeUnit:"week",count:1},{timeUnit:"month",count:1},{timeUnit:"year",count:1}],fillRule:_=>{const D=_.get("axisFill");if(D){const C=_.component,x=_.get("value"),k=_.get("endValue"),q=C.intervalDuration(),J=C.getPrivate("baseInterval"),ee=C.getPrivate("gridInterval",J);let K=C.getPrivate("min",0);if(K=ne.round(new Date(K),ee.timeUnit,ee.count,this._root.locale.firstDayOfWeek,this._root.utc,void 0,this._root.timezone).getTime(),null!=x&&null!=k){const se=Math.round(Math.round((x-K)/q))/2;se==Math.round(se)?D.setPrivate("visible",!0):D.setPrivate("visible",!1)}}}}),l("GaplessDateAxis").setAll({fillRule:_=>{const D=_.get("axisFill");if(D){const C=_.get("index");let x=!1;(!U.isNumber(C)||C%2==0)&&(x=!0),D.setPrivate("visible",x)}}}),l("ValueAxis").setAll({baseValue:0,logarithmic:!1,strictMinMax:!1,autoZoom:!0,fillRule:_=>{const D=_.get("axisFill");if(D){const C=_.component,x=_.get("value"),k=C.getPrivate("step");U.isNumber(x)&&U.isNumber(k)&&(fe.round(x/k/2,5)==Math.round(x/k/2)?D.setPrivate("visible",!1):D.setPrivate("visible",!0))}}}),l("DurationAxis").setAll({baseUnit:"second"}),l("XYSeries").setAll({maskBullets:!0,stackToNegative:!0,locationX:.5,locationY:.5,snapTooltip:!1,openValueXGrouped:"open",openValueYGrouped:"open",valueXGrouped:"close",valueYGrouped:"close",seriesTooltipTarget:"series"}),l("BaseColumnSeries").setAll({adjustBulletPosition:!0}),l("ColumnSeries").setAll({clustered:!0}),l("RoundedRectangle",["series","column"]).setAll({position:"absolute",isMeasured:!1,width:(0,V.aQ)(70),height:(0,V.aQ)(70),strokeWidth:1,strokeOpacity:1,cornerRadiusBL:0,cornerRadiusTL:0,cornerRadiusBR:0,cornerRadiusTR:0,fillOpacity:1,role:"figure"}),l("LineSeries").setAll({connect:!0,autoGapCount:1.1,stackToNegative:!1}),l("Graphics",["series","stroke"]).setAll({position:"absolute",strokeWidth:1,strokeOpacity:1,isMeasured:!1}),l("Graphics",["series","fill"]).setAll({visible:!1,fillOpacity:0,position:"absolute",strokeWidth:0,strokeOpacity:0,isMeasured:!1}),l("Graphics",["line","series","legend","marker","stroke"]).setAll({draw:(_,D)=>{const C=D.parent;if(C){const x=C.height(),k=C.width();_.moveTo(0,x/2),_.lineTo(k,x/2)}}});{const _=l("Graphics",["line","series","legend","marker","stroke"]).states.create("disabled",{});(0,_e.v)(_,"stroke",i,"disabled")}l("Graphics",["line","series","legend","marker","fill"]).setAll({draw:(_,D)=>{const C=D.parent;if(C){const x=C.height(),k=C.width();_.moveTo(0,0),_.lineTo(k,0),_.lineTo(k,x),_.lineTo(0,x),_.lineTo(0,0)}}});{const _=l("Graphics",["line","series","legend","marker","fill"]).states.create("disabled",{});(0,_e.v)(_,"stroke",i,"disabled")}l("SmoothedXYLineSeries").setAll({tension:.5}),l("SmoothedXLineSeries").setAll({tension:.5}),l("SmoothedYLineSeries").setAll({tension:.5}),l("Candlestick").setAll({position:"absolute",isMeasured:!1,width:(0,V.aQ)(50),height:(0,V.aQ)(50),strokeWidth:1,strokeOpacity:1,cornerRadiusBL:0,cornerRadiusTL:0,cornerRadiusBR:0,cornerRadiusTR:0,fillOpacity:1,role:"figure"}),l("OHLC").setAll({width:(0,V.aQ)(80),height:(0,V.aQ)(80)}),l("CandlestickSeries").setAll({lowValueXGrouped:"low",lowValueYGrouped:"low",highValueXGrouped:"high",highValueYGrouped:"high",openValueXGrouped:"open",openValueYGrouped:"open",valueXGrouped:"close",valueYGrouped:"close"});{const _=l("Rectangle",["column","autocolor"]).states.create("riseFromOpen",{});(0,_e.v)(_,"fill",i,"positive"),(0,_e.v)(_,"stroke",i,"positive")}{const _=l("Rectangle",["column","autocolor"]).states.create("dropFromOpen",{});(0,_e.v)(_,"fill",i,"negative"),(0,_e.v)(_,"stroke",i,"negative")}l("Rectangle",["column","autocolor","pro"]).states.create("riseFromOpen",{fillOpacity:0}),l("Rectangle",["column","autocolor","pro"]).states.create("dropFromOpen",{fillOpacity:1});{const _=l("Rectangle",["column","autocolor","pro"]).states.create("riseFromPrevious",{});(0,_e.v)(_,"fill",i,"positive"),(0,_e.v)(_,"stroke",i,"positive")}{const _=l("Rectangle",["column","autocolor","pro"]).states.create("dropFromPrevious",{});(0,_e.v)(_,"fill",i,"negative"),(0,_e.v)(_,"stroke",i,"negative")}}}var Z=I(9239),ae=I(3605),A=I(3704),R=I(434),ue=I(796),Se=I(4618),Pe=I(3232),ge=I(4178),Te=I(8261);class Fe extends A.j{constructor(){super(...arguments),Object.defineProperty(this,"xAxes",{enumerable:!0,configurable:!0,writable:!0,value:new R.dn}),Object.defineProperty(this,"yAxes",{enumerable:!0,configurable:!0,writable:!0,value:new R.dn}),Object.defineProperty(this,"topAxesContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.chartContainer.children.push(Z.W.new(this._root,{width:V.AQ,layout:this._root.verticalLayout}))}),Object.defineProperty(this,"yAxesAndPlotContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.chartContainer.children.push(Z.W.new(this._root,{width:V.AQ,height:V.AQ,layout:this._root.horizontalLayout}))}),Object.defineProperty(this,"bottomAxesContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.chartContainer.children.push(Z.W.new(this._root,{width:V.AQ,layout:this._root.verticalLayout}))}),Object.defineProperty(this,"leftAxesContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.yAxesAndPlotContainer.children.push(Z.W.new(this._root,{height:V.AQ,layout:this._root.horizontalLayout}))}),Object.defineProperty(this,"plotsContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.yAxesAndPlotContainer.children.push(Z.W.new(this._root,{width:V.AQ,height:V.AQ,maskContent:!1}))}),Object.defineProperty(this,"plotContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.plotsContainer.children.push(Z.W.new(this._root,{width:V.AQ,height:V.AQ}))}),Object.defineProperty(this,"topPlotContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.plotsContainer.children.push(Z.W.new(this._root,{width:V.AQ,height:V.AQ}))}),Object.defineProperty(this,"gridContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.plotContainer.children.push(Z.W.new(this._root,{width:V.AQ,height:V.AQ,isMeasured:!1}))}),Object.defineProperty(this,"topGridContainer",{enumerable:!0,configurable:!0,writable:!0,value:Z.W.new(this._root,{width:V.AQ,height:V.AQ,isMeasured:!1})}),Object.defineProperty(this,"rightAxesContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.yAxesAndPlotContainer.children.push(Z.W.new(this._root,{height:V.AQ,layout:this._root.horizontalLayout}))}),Object.defineProperty(this,"axisHeadersContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.plotContainer.children.push(Z.W.new(this._root,{}))}),Object.defineProperty(this,"zoomOutButton",{enumerable:!0,configurable:!0,writable:!0,value:this.topPlotContainer.children.push(Se.z.new(this._root,{themeTags:["zoom"],icon:Pe.T.new(this._root,{themeTags:["button","icon"]})}))}),Object.defineProperty(this,"_movePoint",{enumerable:!0,configurable:!0,writable:!0,value:{x:0,y:0}}),Object.defineProperty(this,"_wheelDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_otherCharts",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_movePoints",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_downStartX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downEndX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downStartY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downEndY",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_afterNew(){this._defaultThemes.push(oe.new(this._root)),super._afterNew(),this._disposers.push(this.xAxes),this._disposers.push(this.yAxes);const i=this._root;let n=this._root.verticalLayout;const l=this.zoomOutButton;l.events.on("click",()=>{this.zoomOut()}),l.set("opacity",0),l.states.lookup("default").set("opacity",1),this.chartContainer.set("layout",n);const f=this.plotContainer;f.children.push(this.seriesContainer),this._disposers.push(this._processAxis(this.xAxes,this.bottomAxesContainer)),this._disposers.push(this._processAxis(this.yAxes,this.leftAxesContainer)),f.children.push(this.topGridContainer),f.children.push(this.bulletsContainer),f.set("interactive",!0),f.set("interactiveChildren",!1),f.set("background",ae.A.new(i,{themeTags:["xy","background"],fill:ue.Il.fromHex(0),fillOpacity:0})),this._disposers.push(f.events.on("pointerdown",b=>{this._handlePlotDown(b.originalEvent)})),this._disposers.push(f.events.on("globalpointerup",b=>{this._handlePlotUp(b.originalEvent)})),this._disposers.push(f.events.on("globalpointermove",b=>{this._handlePlotMove(b.originalEvent)})),this._maskGrid(),this._setUpTouch()}_beforeChanged(){super._beforeChanged(),(this.isDirty("pinchZoomX")||this.isDirty("pinchZoomY")||this.get("panX")||this.get("panY"))&&this._setUpTouch()}_setUpTouch(){this.plotContainer._display.cancelTouch||(this.plotContainer._display.cancelTouch=!!(this.get("pinchZoomX")||this.get("pinchZoomY")||this.get("panX")||this.get("panY")))}_maskGrid(){this.gridContainer.set("maskContent",!0),this.topGridContainer.set("maskContent",!0)}_removeSeries(i){i._unstack(),i._posXDp&&i._posXDp.dispose(),i._posYDp&&i._posYDp.dispose(),i.set("baseAxis",void 0);const n=i.get("xAxis");n&&(v.remove(n.series,i),n.markDirtyExtremes());const l=i.get("yAxis");l&&(v.remove(l.series,i),l.markDirtyExtremes());const f=this.get("cursor");if(f){const b=f.get("snapToSeries");b&&v.remove(b,i)}super._removeSeries(i)}handleWheel(i){const n=this.get("wheelX"),l=this.get("wheelY"),f=this.plotContainer,b=i.originalEvent;if(!Te.isLocalEvent(b,this))return;b.preventDefault();const M=f.toLocal(this._root.documentPointToRoot({x:b.clientX,y:b.clientY})),m=this.get("wheelStep",.2),_=b.deltaY/100,D=b.deltaX/100,C=this.get("wheelZoomPositionX"),x=this.get("wheelZoomPositionY");("zoomX"===n||"zoomXY"===n)&&0!=D&&this.xAxes.each(k=>{if(k.get("zoomX")){let q=k.get("start"),J=k.get("end"),ee=k.fixPosition(M.x/f.width());null!=C&&(ee=C);let K=q-m*(J-q)*D*ee,se=J+m*(J-q)*D*(1-ee);1/(se-K)<k.getPrivate("maxZoomFactor",1/0)/k.get("minZoomCount",1)&&this._handleWheelAnimation(k.zoom(K,se))}}),("zoomX"===l||"zoomXY"===l)&&0!=_&&this.xAxes.each(k=>{if(k.get("zoomX")){let q=k.get("start"),J=k.get("end"),ee=k.fixPosition(M.x/f.width());null!=C&&(ee=C);let K=q-m*(J-q)*_*ee,se=J+m*(J-q)*_*(1-ee);1/(se-K)<k.getPrivate("maxZoomFactor",1/0)/k.get("minZoomCount",1)&&this._handleWheelAnimation(k.zoom(K,se))}}),("zoomY"===n||"zoomXY"===n)&&0!=D&&this.yAxes.each(k=>{if(k.get("zoomY")){let q=k.get("start"),J=k.get("end"),ee=k.fixPosition(M.y/f.height());null!=x&&(ee=x);let K=q-m*(J-q)*D*ee,se=J+m*(J-q)*D*(1-ee);1/(se-K)<k.getPrivate("maxZoomFactor",1/0)/k.get("minZoomCount",1)&&this._handleWheelAnimation(k.zoom(K,se))}}),("zoomY"===l||"zoomXY"===l)&&0!=_&&this.yAxes.each(k=>{if(k.get("zoomY")){let q=k.get("start"),J=k.get("end"),ee=k.fixPosition(M.y/f.height());null!=x&&(ee=x);let K=q-m*(J-q)*_*ee,se=J+m*(J-q)*_*(1-ee);1/(se-K)<k.getPrivate("maxZoomFactor",1/0)/k.get("minZoomCount",1)&&this._handleWheelAnimation(k.zoom(K,se))}}),("panX"===n||"panXY"===n)&&0!=D&&this.xAxes.each(k=>{if(k.get("panX")){let q=k.get("start"),J=k.get("end"),ee=this._getWheelSign(k)*m*(J-q)*D,K=q+ee,se=J+ee,ye=this._fixWheel(K,se);K=ye[0],se=ye[1],this._handleWheelAnimation(k.zoom(K,se))}}),("panX"===l||"panXY"===l)&&0!=_&&this.xAxes.each(k=>{if(k.get("panX")){let q=k.get("start"),J=k.get("end"),ee=this._getWheelSign(k)*m*(J-q)*_,K=q+ee,se=J+ee,ye=this._fixWheel(K,se);K=ye[0],se=ye[1],this._handleWheelAnimation(k.zoom(K,se))}}),("panY"===n||"panXY"===n)&&0!=D&&this.yAxes.each(k=>{if(k.get("panY")){let q=k.get("start"),J=k.get("end"),ee=this._getWheelSign(k)*m*(J-q)*D,K=q+ee,se=J+ee,ye=this._fixWheel(K,se);K=ye[0],se=ye[1],this._handleWheelAnimation(k.zoom(K,se))}}),("panY"===l||"panXY"===l)&&0!=_&&this.yAxes.each(k=>{if(k.get("panY")){let q=k.get("start"),J=k.get("end"),ee=this._getWheelSign(k)*m*(J-q)*_,K=q-ee,se=J-ee,ye=this._fixWheel(K,se);K=ye[0],se=ye[1],this._handleWheelAnimation(k.zoom(K,se))}})}_handleSetWheel(){const i=this.get("wheelX"),n=this.get("wheelY");"none"!==i||"none"!==n?(this._wheelDp=this.plotContainer.events.on("wheel",f=>{this.handleWheel(f)}),this._disposers.push(this._wheelDp)):this._wheelDp&&this._wheelDp.dispose()}_getWheelSign(i){let n=1;return i.get("renderer").get("inversed")&&(n=-1),n}_fixWheel(i,n){const l=n-i;return i<0&&(n=(i=0)+l),n>1&&(i=(n=1)-l),[i,n]}_handlePlotDown(i){if(2==i.button)return;const n=this.plotContainer;let l=n.toLocal(this._root.documentPointToRoot({x:i.clientX,y:i.clientY}));if((this.get("pinchZoomX")||this.get("pinchZoomY"))&&i.pointerId&&F.keys(n._downPoints).length>0){const M=this.xAxes.getIndex(0),m=this.yAxes.getIndex(0);M&&(this._downStartX=M.get("start",0),this._downEndX=M.get("end",1)),m&&(this._downStartY=m.get("start",0),this._downEndY=m.get("end",1))}if((this.get("panX")||this.get("panY"))&&l.x>=0&&l.y>=0&&l.x<=n.width()&&l.y<=this.height()){this._downPoint={x:i.clientX,y:i.clientY};const f=this.get("panX"),b=this.get("panY");f&&this.xAxes.each(m=>{m._panStart=m.get("start"),m._panEnd=m.get("end")}),b&&this.yAxes.each(m=>{m._panStart=m.get("start"),m._panEnd=m.get("end")});const M="panstarted";this.events.isEnabled(M)&&this.events.dispatch(M,{type:M,target:this,originalEvent:i})}}_handleWheelAnimation(i){i?i.events.on("stopped",()=>{this._dispatchWheelAnimation()}):this._dispatchWheelAnimation()}_dispatchWheelAnimation(){const i="wheelended";this.events.isEnabled(i)&&this.events.dispatch(i,{type:i,target:this})}_handlePlotUp(i){const n=this._downPoint;if(n&&(this.get("panX")||this.get("panY"))){let l=this.plotContainer.toLocal(this._root.documentPointToRoot({x:i.clientX,y:i.clientY}));if(l.x==n.x&&l.y==n.y){const b="pancancelled";this.events.isEnabled(b)&&this.events.dispatch(b,{type:b,target:this,originalEvent:i})}const f="panended";this.events.isEnabled(f)&&this.events.dispatch(f,{type:f,target:this,originalEvent:i})}this._downPoint=void 0,this.xAxes.each(l=>{l._isPanning=!1}),this.yAxes.each(l=>{l._isPanning=!1})}_handlePlotMove(i){const n=this.plotContainer;if(this.get("pinchZoomX")||this.get("pinchZoomY")){const b=i.pointerId;if(b&&(this._movePoints[b]=this._root.documentPointToRoot({x:i.clientX,y:i.clientY}),F.keys(n._downPoints).length>1))return void this._handlePinch()}let l=this._downPoint;if(l){l=n.toLocal(this._root.documentPointToRoot(l));let f=n.toLocal(this._root.documentPointToRoot({x:i.clientX,y:i.clientY}));const b=this.get("panX"),M=this.get("panY");if(b){let m=this.get("scrollbarX");m&&m.events.disableType("rangechanged"),this.xAxes.each(_=>{if(_.get("panX")){_._isPanning=!0;let D=_._panStart,C=_._panEnd,k=(C-D)*(l.x-f.x)/n.width();_.get("renderer").get("inversed")&&(k*=-1);let q=D+k,J=C+k;J-q<1+2*_.get("maxDeviation",1)&&(_.set("start",q),_.set("end",J))}}),m&&m.events.enableType("rangechanged")}if(M){let m=this.get("scrollbarY");m&&m.events.disableType("rangechanged"),this.yAxes.each(_=>{if(_.get("panY")){_._isPanning=!0;let D=_._panStart,C=_._panEnd,k=(C-D)*(l.y-f.y)/n.height();_.get("renderer").get("inversed")&&(k*=-1);let q=D-k,J=C-k;J-q<1+2*_.get("maxDeviation",1)&&(_.set("start",q),_.set("end",J))}}),m&&m.events.enableType("rangechanged")}}}_handlePinch(){const i=this.plotContainer;let n=0,l=[],f=[];if(F.each(i._downPoints,(b,M)=>{l[n]=M;let m=this._movePoints[b];m&&(f[n]=m),n++}),l.length>1&&f.length>1){const b=i.width(),M=i.height();let m=l[0],_=l[1],D=f[0],C=f[1];if(m&&_&&D&&C){if(D=i.toLocal(D),C=i.toLocal(C),m=i.toLocal(m),_=i.toLocal(_),this.get("pinchZoomX")){const x=this._downStartX,k=this._downEndX;if(null!=x&&null!=k){m.x>_.x&&([m,_]=[_,m],[D,C]=[C,D]);let q=x+m.x/b*(k-x),J=x+_.x/b*(k-x),ee=x+D.x/b*(k-x),K=x+C.x/b*(k-x),Q=Math.max(.001,J-q)/Math.max(.001,K-ee),ie=x*Q+q-ee*Q,De=k*Q+J-K*Q;this.xAxes.each(pe=>{let Ye=pe.fixPosition(ie),Ue=pe.fixPosition(De);pe.zoom(Ye,Ue,0)})}}if(this.get("pinchZoomY")){const x=this._downStartY,k=this._downEndY;if(null!=x&&null!=k){m.y<_.y&&([m,_]=[_,m],[D,C]=[C,D]);let q=x+(1-m.y/M)*(k-x),J=x+(1-_.y/M)*(k-x),ee=x+(1-D.y/M)*(k-x),K=x+(1-C.y/M)*(k-x),Q=Math.max(.001,J-q)/Math.max(.001,K-ee),ie=x*Q+q-ee*Q,De=k*Q+J-K*Q;this.yAxes.each(pe=>{let Ye=pe.fixPosition(ie),Ue=pe.fixPosition(De);pe.zoom(Ye,Ue,0)})}}}}}_handleCursorPosition(){const i=this.get("cursor");if(i){const n=i.getPrivate("point");let l=i.get("snapToSeries");if(i._downPoint&&(l=void 0),l&&n){const f=i.get("snapToSeriesBy"),b=[];v.each(l,_=>{if(!_.isHidden()&&!_.isHiding())if("x!"!=f&&"y!"!=f){const D=_.startIndex(),C=_.endIndex();for(let x=D;x<C;x++){const k=_.dataItems[x];k&&!k.isHidden()&&b.push(k)}}else{const D=_.get("tooltipDataItem");D&&b.push(D)}});let m,M=1/0;if(v.each(b,_=>{const D=_.get("point");if(D){let C=0;C="x"==f||"x!"==f?Math.abs(n.x-D.x):"y"==f||"y!"==f?Math.abs(n.y-D.y):Math.hypot(n.x-D.x,n.y-D.y),C<M&&(M=C,m=_)}}),v.each(l,_=>{const D=_.get("tooltip");D&&D._setDataItem(void 0)}),m){let _=m.component;_.showDataItemTooltip(m);const D=m.get("point");D&&i.handleMove(_.toGlobal({x:D.x-_.x(),y:D.y-_.y()}),!0)}}}}_updateCursor(){let i=this.get("cursor");i&&i.handleMove()}_addCursor(i){this.plotContainer.children.push(i)}_prepareChildren(){if(super._prepareChildren(),this.series.each(i=>{this._colorize(i)}),(this.isDirty("wheelX")||this.isDirty("wheelY"))&&this._handleSetWheel(),this.isDirty("cursor")){const i=this._prevSettings.cursor,n=this.get("cursor");n!==i&&(this._disposeProperty("cursor"),i&&i.dispose(),n&&(n._setChart(this),this._addCursor(n),this._pushPropertyDisposer("cursor",n.events.on("selectended",()=>{this._handleCursorSelectEnd()}))),this._prevSettings.cursor=n)}if(this.isDirty("scrollbarX")){const i=this._prevSettings.scrollbarX,n=this.get("scrollbarX");n!==i&&(this._disposeProperty("scrollbarX"),i&&i.dispose(),n&&(n.parent||this.topAxesContainer.children.push(n),this._pushPropertyDisposer("scrollbarX",n.events.on("rangechanged",l=>{this._handleScrollbar(this.xAxes,l.start,l.end,l.grip)})),n.setPrivate("positionTextFunction",l=>{const f=this.xAxes.getIndex(0);return f&&f.getTooltipText(l,!1)||""})),this._prevSettings.scrollbarX=n)}if(this.isDirty("scrollbarY")){const i=this._prevSettings.scrollbarY,n=this.get("scrollbarY");n!==i&&(this._disposeProperty("scrollbarY"),i&&i.dispose(),n&&(n.parent||this.rightAxesContainer.children.push(n),this._pushPropertyDisposer("scrollbarY",n.events.on("rangechanged",l=>{this._handleScrollbar(this.yAxes,l.start,l.end,l.grip)})),n.setPrivate("positionTextFunction",l=>{const f=this.yAxes.getIndex(0);return f&&f.getTooltipText(l,!1)||""})),this._prevSettings.scrollbarY=n)}this._handleZoomOut()}_processSeries(i){super._processSeries(i);const n=i.get("xAxis"),l=i.get("yAxis");v.move(n.series,i),v.move(l.series,i),i._posXDp=i.addDisposer(n.events.on("positionchanged",()=>{i._fixPosition()})),i._posXDp=i.addDisposer(l.events.on("positionchanged",()=>{i._fixPosition()})),i.get("baseAxis")||(l.isType("CategoryAxis")||l.isType("DateAxis")?i.set("baseAxis",l):i.set("baseAxis",n)),i.get("stacked")&&(i._markDirtyKey("stacked"),v.each(i.dataItems,f=>{f.set("stackToItemY",void 0),f.set("stackToItemX",void 0)})),i._markDirtyAxes(),l.markDirtyExtremes(),n.markDirtyExtremes(),this._colorize(i)}_colorize(i){const n=this.get("colors");if(n&&null==i.get("fill")){const l=n.next();i._setSoft("stroke",l),i._setSoft("fill",l)}}_handleCursorSelectEnd(){const i=this.get("cursor"),n=i.get("behavior"),l=i.getPrivate("downPositionX",0),f=i.getPrivate("downPositionY",0),b=i.getPrivate("positionX",.5),M=i.getPrivate("positionY",.5);this.xAxes.each(m=>{if("zoomX"===n||"zoomXY"===n){let _=m.toAxisPosition(l),D=m.toAxisPosition(b);m.zoom(_,D)}m.setPrivate("updateScrollbar",!0)}),this.yAxes.each(m=>{if("zoomY"===n||"zoomXY"===n){let _=m.toAxisPosition(f),D=m.toAxisPosition(M);m.zoom(_,D)}m.setPrivate("updateScrollbar",!0)})}_handleScrollbar(i,n,l,f){i.each(b=>{let M=b.fixPosition(n),m=b.fixPosition(l),_=b.zoom(M,m,void 0,f);const D="updateScrollbar";b.setPrivateRaw(D,!1),_?_.events.on("stopped",()=>{b.setPrivateRaw(D,!0)}):b.setPrivateRaw(D,!0)})}_processAxis(i,n){return i.events.onAll(l=>{if("clear"===l.type)v.each(l.oldValues,f=>{this._removeAxis(f)});else if("push"===l.type)n.children.push(l.newValue),l.newValue.processChart(this);else if("setIndex"===l.type)n.children.setIndex(l.index,l.newValue),l.newValue.processChart(this);else if("insertIndex"===l.type)n.children.insertIndex(l.index,l.newValue),l.newValue.processChart(this);else if("removeIndex"===l.type)this._removeAxis(l.oldValue);else{if("moveIndex"!==l.type)throw new Error("Unknown IListEvent type");n.children.moveValue(l.value,l.newIndex),l.value.processChart(this)}})}_removeAxis(i){if(!i.isDisposed()){const n=i.parent;n&&n.children.removeValue(i);const l=i.gridContainer,f=l.parent;f&&f.children.removeValue(l);const b=i.topGridContainer,M=b.parent;M&&M.children.removeValue(b)}}_updateChartLayout(){const i=this.leftAxesContainer.width(),n=this.rightAxesContainer.width(),l=this.bottomAxesContainer;l.set("paddingLeft",i),l.set("paddingRight",n);const f=this.topAxesContainer;f.set("paddingLeft",i),f.set("paddingRight",n)}processAxis(i){}_handleAxisSelection(i,n){let l=i.fixPosition(i.get("start",0)),f=i.fixPosition(i.get("end",1));if(l>f&&([l,f]=[f,l]),-1!=this.xAxes.indexOf(i)){if(n||i.getPrivate("updateScrollbar")){let b=this.get("scrollbarX");b&&(!b.getPrivate("isBusy")||n)&&(b.setRaw("start",l),b.setRaw("end",f),b.updateGrips())}}else if(-1!=this.yAxes.indexOf(i)&&(n||i.getPrivate("updateScrollbar"))){let b=this.get("scrollbarY");b&&(!b.getPrivate("isBusy")||n)&&(b.setRaw("start",l),b.setRaw("end",f),b.updateGrips())}this._handleZoomOut()}_handleZoomOut(){let i=this.zoomOutButton;if(i&&i.parent){let n=!1;this.xAxes.each(l=>{(0!=l.get("start")||1!=l.get("end"))&&(n=!0)}),this.yAxes.each(l=>{(0!=l.get("start")||1!=l.get("end"))&&(n=!0)}),n?i.isHidden()&&i.show():i.hide()}}inPlot(i){const n=this.plotContainer,l=this.getPrivate("otherCharts",this._otherCharts),f=n.toGlobal(i);if(i.x>=-.5&&i.y>=-.5&&i.x<=n.width()+.5&&i.y<=n.height()+.5)return!0;if(l)for(let b=l.length-1;b>=0;b--){const M=l[b];if(M!=this){const m=M.plotContainer,_=this._root.rootPointToDocument(f),D=M._root.documentPointToRoot(_),C=m.toLocal(D);if(C.x>=-.1&&C.y>=-.1&&C.x<=m.width()+.1&&C.y<=m.height()+.1)return!0}}return!1}arrangeTooltips(){const i=this.plotContainer,n=i.width(),l=i.height(),f=this.height();let b=i._display.toGlobal({x:0,y:0}),M=i._display.toGlobal({x:n,y:l});const m=[];let q,J,_=0,D=1/0,C=this._movePoint,x=this.get("maxTooltipDistance"),k=this.get("maxTooltipDistanceBy","xy");U.isNumber(x)&&this.series.each(K=>{if(!K.isHidden()){const se=K.get("tooltip");if(se){let ye=se.get("pointTo");if(ye){let Q=Math.hypot(C.x-ye.x,C.y-ye.y);"x"==k?Q=Math.abs(C.x-ye.x):"y"==k&&(Q=Math.abs(C.y-ye.y)),Q<D&&(D=Q,q=K,J=ye)}}}});const ee=[];if(this.series.each(K=>{const se=K.get("tooltip");if(se){let ye=!1,Q=se.get("pointTo");if(Q){if(x>=0){let ie=se.get("pointTo");if(ie&&K!=q){let De=Math.hypot(J.x-ie.x,J.y-ie.y);"x"==k?De=Math.abs(J.x-ie.x):"y"==k&&(De=Math.abs(J.y-ie.y)),De>x&&(ye=!0)}}else-1==x&&K!=q&&(ye=!0);this.inPlot(this._tooltipToLocal(Q))&&se.dataItem?ye||(_+=Q.y):ye=!0,ye||K.isHidden()||K.isHiding()?se.hide(0):(se.show(),m.push(se),ee.push(K))}}}),this.setPrivate("tooltipSeries",ee),this.get("arrangeTooltips")){const K=this._root.tooltipContainer;if(_/m.length>l/2+b.y){m.sort((ie,De)=>ge.HO(De.get("pointTo").y,ie.get("pointTo").y));let Q=M.y;if(v.each(m,ie=>{let De=ie.height(),pe=ie.get("centerY");pe instanceof V.gG&&(De*=pe.value),De+=ie.get("marginBottom",0),ie.set("bounds",{left:b.x,top:b.y,right:M.x,bottom:Q}),ie.setPrivate("customData",{left:b.x,top:b.y,right:M.x,bottom:Q}),Q=Math.min(Q-De,ie._fy-De),ie.parent==K&&K.children.moveValue(ie,0)}),Q<0){m.reverse();let ie=Q;v.each(m,De=>{let pe=De.get("bounds");if(pe){let Ye=pe.top-Q,Ue=pe.bottom-Q;Ye<ie&&(Ye=ie,Ue=Ye+De.height()),De.set("bounds",{left:pe.left,top:Ye,right:pe.right,bottom:Ue}),ie=pe.bottom-Q+De.get("marginBottom",0)}})}}else{m.reverse(),m.sort((ie,De)=>ge.HO(ie.get("pointTo").y,De.get("pointTo").y));let Q=0;if(v.each(m,ie=>{let De=ie.height(),pe=ie.get("centerY");pe instanceof V.gG&&(De*=pe.value),De+=ie.get("marginBottom",0),ie.set("bounds",{left:b.x,top:Q,right:M.x,bottom:Math.max(b.y+f,Q+De)}),ie.parent==K&&K.children.moveValue(ie,0),Q=Math.max(Q+De,ie._fy+De)}),Q>f){m.reverse();let ie=f;v.each(m,De=>{let pe=De.get("bounds");if(pe){let Ye=pe.top-(f-Q),Ue=pe.bottom-(f-Q);Ue>ie&&(Ue=ie,Ye=Ue-De.height()),De.set("bounds",{left:pe.left,top:Ye,right:pe.right,bottom:Ue}),ie=Ue-De.height()-De.get("marginBottom",0)}})}}}}_tooltipToLocal(i){return this.plotContainer.toLocal(i)}zoomOut(){this.xAxes.each(i=>{i.setPrivate("updateScrollbar",!0),i.zoom(0,1)}),this.yAxes.each(i=>{i.setPrivate("updateScrollbar",!0),i.zoom(0,1)})}}Object.defineProperty(Fe,"className",{enumerable:!0,configurable:!0,writable:!0,value:"XYChart"}),Object.defineProperty(Fe,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:A.j.classNames.concat([Fe.className])});var Ge=I(4248);class Ce extends Ge.L{constructor(){super(...arguments),Object.defineProperty(this,"chart",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(Fe.new(this._root,{themeTags:["chart"],interactive:!1,interactiveChildren:!1,panX:!1,panY:!1,wheelX:"none",wheelY:"none"}))}),Object.defineProperty(this,"overlay",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(Pe.T.new(this._root,{themeTags:["overlay"],interactive:!1}))})}_afterNew(){this._addOrientationClass(),this._settings.themeTags=Te.mergeTags(this._settings.themeTags,["scrollbar","xy","chart",this._settings.orientation]);const i=this.children;i.moveValue(this.thumb),i.moveValue(this.startGrip),i.moveValue(this.endGrip),this.thumb.set("opacity",0),this.thumb.states.create("hover",{opacity:.2});const n=this.chart.plotContainer;n.set("interactive",!1),n.remove("background"),n.children.removeValue(this.chart.zoomOutButton),super._afterNew()}_updateThumb(){super._updateThumb(),this.overlay.set("draw",i=>{const n=this.startGrip,l=this.endGrip;let f=n.x(),b=n.y(),M=l.x(),m=l.y();const _=this.height(),D=this.width();f>M&&([f,M]=[M,f]),b>m&&([b,m]=[m,b]),"horizontal"===this.get("orientation")?(i.moveTo(0,0),i.lineTo(f,0),i.lineTo(f,_),i.lineTo(0,_),i.lineTo(0,0),i.moveTo(M,0),i.lineTo(D,0),i.lineTo(D,_),i.lineTo(M,_),i.lineTo(M,0)):(i.moveTo(0,0),i.lineTo(0,b),i.lineTo(D,b),i.lineTo(D,0),i.lineTo(0,0),i.moveTo(0,m),i.lineTo(0,_),i.lineTo(D,_),i.lineTo(D,m),i.lineTo(0,m))})}}Object.defineProperty(Ce,"className",{enumerable:!0,configurable:!0,writable:!0,value:"XYChartScrollbar"}),Object.defineProperty(Ce,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Ge.L.classNames.concat([Ce.className])});var ot=I(8509);class Ot extends Z.W{constructor(){super(...arguments),Object.defineProperty(this,"lineX",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(ot.r.new(this._root,{themeTags:["x"]}))}),Object.defineProperty(this,"lineY",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(ot.r.new(this._root,{themeTags:["y"]}))}),Object.defineProperty(this,"selection",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(Pe.T.new(this._root,{themeTags:["selection","cursor"],layer:30}))}),Object.defineProperty(this,"_movePoint",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_lastPoint",{enumerable:!0,configurable:!0,writable:!0,value:{x:0,y:0}}),Object.defineProperty(this,"_tooltipX",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_tooltipY",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"chart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_toX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_toY",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_afterNew(){this._settings.themeTags=Te.mergeTags(this._settings.themeTags,["xy","cursor"]),super._afterNew(),this.setAll({width:V.AQ,height:V.AQ,isMeasured:!0,position:"absolute"}),this.states.create("hidden",{visible:!0,opacity:0}),this._drawLines(),this.setPrivateRaw("visible",!1),this._disposers.push(this.setTimeout(()=>{this.setPrivate("visible",!0)},500)),this._disposers.push(this.lineX.events.on("positionchanged",()=>{this._handleXLine()})),this._disposers.push(this.lineY.events.on("positionchanged",()=>{this._handleYLine()})),this._disposers.push(this.lineX.events.on("focus",i=>this._handleLineFocus(i.target))),this._disposers.push(this.lineX.events.on("blur",i=>this._handleLineBlur(i.target))),this._disposers.push(this.lineY.events.on("focus",i=>this._handleLineFocus(i.target))),this._disposers.push(this.lineY.events.on("blur",i=>this._handleLineBlur(i.target))),Te.supports("keyboardevents")&&this._disposers.push(Te.addEventListener(document,"keydown",i=>{this._handleLineMove(i.keyCode)}))}_setUpTouch(){const i=this.chart;i&&(i.plotContainer._display.cancelTouch="none"!=this.get("behavior"))}_handleXLine(){let i=this.lineX.x(),n=!0;(i<0||i>this.width())&&(n=!1),this.lineX.setPrivate("visible",n)}_handleYLine(){let i=this.lineY.y(),n=!0;(i<0||i>this.height())&&(n=!1),this.lineY.setPrivate("visible",n)}_handleLineMove(i){let n="",l=0,f=.1;const b=this.chart;this._root.focused(this.lineX)?(b&&b.xAxes.length&&(f=b.xAxes.getIndex(0).getCellWidthPosition()),l=this.getPrivate("positionX",0),n="positionX",37==i?l-=f:39==i&&(l+=f)):this._root.focused(this.lineY)&&(b&&b.yAxes.length&&(f=b.yAxes.getIndex(0).getCellWidthPosition()),l=this.getPrivate("positionY",0),n="positionY",38==i?l-=f:40==i&&(l+=f)),l<0?l=0:l>1&&(l=1),""!=n&&this.set(n,l)}_handleLineFocus(i){this.setAll({positionX:this.getPrivate("positionX"),positionY:this.getPrivate("positionY"),alwaysShow:!0})}_handleLineBlur(i){this.setAll({positionX:void 0,positionY:void 0,alwaysShow:!1})}_prepareChildren(){if(super._prepareChildren(),this.isDirty("xAxis")){this._tooltipX=!1;const i=this.get("xAxis");if(i){const n=i.get("tooltip");n&&(this._tooltipX=!0,this._disposers.push(n.on("pointTo",()=>{this._updateXLine(n)})))}}if(this.isDirty("yAxis")){this._tooltipY=!1;const i=this.get("yAxis");if(i){const n=i.get("tooltip");n&&(this._tooltipY=!0,this._disposers.push(n.on("pointTo",()=>{this._updateYLine(n)})))}}}_handleSyncWith(){const i=this.chart;if(i){const n=this.get("syncWith"),l=[];n&&v.each(n,f=>{const b=f.chart;b&&l.push(b)}),i._otherCharts=l}}_updateChildren(){if(super._updateChildren(),this._handleSyncWith(),this.isDirty("positionX")||this.isDirty("positionY")){const i=this.get("positionX"),n=this.get("positionY");null==i&&null==n?this.hide(0):(this._movePoint=this.toGlobal(this._getPoint(this.get("positionX",0),this.get("positionY",0))),this.handleMove())}}_updateXLine(i){let n=fe.round(this._display.toLocal(i.get("pointTo",{x:0,y:0})).x,2);this._toX!=n&&(this.lineX.animate({key:"x",to:n,duration:i.get("animationDuration",0),easing:i.get("animationEasing")}),this._toX=n)}_updateYLine(i){let n=fe.round(this._display.toLocal(i.get("pointTo",{x:0,y:0})).y,2);this._toY!=n&&(this.lineY.animate({key:"y",to:n,duration:i.get("animationDuration",0),easing:i.get("animationEasing")}),this._toY=n)}_drawLines(){this.lineX.set("draw",i=>{i.moveTo(0,0),i.lineTo(0,this.height())}),this.lineY.set("draw",i=>{i.moveTo(0,0),i.lineTo(this.width(),0)})}_setChart(i){this.chart=i,this._handleSyncWith();const n=i.plotContainer;this.events.on("boundschanged",()=>{this._disposers.push(this.setTimeout(()=>{this.get("alwaysShow")&&(this._movePoint=this.toGlobal(this._getPoint(this.get("positionX",0),this.get("positionY",0))),this.handleMove())},50))}),Te.supports("touchevents")&&(this._disposers.push(n.events.on("click",f=>{Te.isTouchEvent(f.originalEvent)&&this._handleMove(f.originalEvent)})),this._setUpTouch()),this._disposers.push(n.events.on("pointerdown",f=>{this._handleCursorDown(f.originalEvent)})),this._disposers.push(n.events.on("globalpointerup",f=>{this._handleCursorUp(f.originalEvent),!f.native&&!this.isHidden()&&this._handleMove(f.originalEvent)})),this._disposers.push(n.events.on("globalpointermove",f=>{!this.get("syncWith")&&0==F.keys(n._downPoints).length&&!f.native&&this.isHidden()||this._handleMove(f.originalEvent)}));const l=this.parent;l&&l.children.moveValue(this.selection)}_inPlot(i){const n=this.chart;return!!n&&n.inPlot(i)}_handleCursorDown(i){if(2==i.button)return;const n=this._root.documentPointToRoot({x:i.clientX,y:i.clientY});let l=this._display.toLocal(n);const f=this.chart;if(this.selection.set("draw",()=>{}),f&&this._inPlot(l)){if(this._downPoint=l,"none"!=this.get("behavior")){this.selection.show();const m="selectstarted";this.events.isEnabled(m)&&this.events.dispatch(m,{type:m,target:this})}let b=this._getPosition(l).x,M=this._getPosition(l).y;this.setPrivate("downPositionX",b),this.setPrivate("downPositionY",M)}}_handleCursorUp(i){if(this._downPoint){const n=this.get("behavior","none");if("none"!=n){"z"===n.charAt(0)&&this.selection.hide();const l=this._root.documentPointToRoot({x:i.clientX,y:i.clientY});let f=this._display.toLocal(l);const b=this._downPoint,M=this.get("moveThreshold",1);if(f&&b){let m=!1;if(("zoomX"===n||"zoomXY"===n||"selectX"===n||"selectXY"===n)&&Math.abs(f.x-b.x)>M&&(m=!0),("zoomY"===n||"zoomXY"===n||"selectY"===n||"selectXY"===n)&&Math.abs(f.y-b.y)>M&&(m=!0),m){const _="selectended";this.events.isEnabled(_)&&this.events.dispatch(_,{type:_,target:this})}}}}this._downPoint=void 0}_handleMove(i){if(this.getPrivate("visible")){const n=this.chart;if(n&&F.keys(n.plotContainer._downPoints).length>1)return void this.set("forceHidden",!0);this.set("forceHidden",!1);const l=this._root.documentPointToRoot({x:i.clientX,y:i.clientY}),f=this._lastPoint;if(Math.round(f.x)===Math.round(l.x)&&Math.round(f.y)===Math.round(l.y))return;this._lastPoint=l,this.setPrivate("lastPoint",l),this.handleMove({x:l.x,y:l.y})}}_getPosition(i){return{x:i.x/this.width(),y:i.y/this.height()}}handleMove(i,n){i||(i=this._movePoint);const l=this.get("alwaysShow");if(!i)return void this.hide(0);this._movePoint=i;let f=this._display.toLocal(i),b=this.chart;if(b&&(this._inPlot(f)||this._downPoint)){b._movePoint=i,this.isHidden()&&(this.show(),"z"==this.get("behavior","").charAt(0)&&this.selection.set("draw",()=>{}));let M=f.x,m=f.y,_=this._getPosition(f);this.setPrivate("point",f);let D=this.get("snapToSeries");this._downPoint&&(D=void 0);let C=this.get("positionX"),x=_.x;U.isNumber(C)&&(x=C);let k=this.get("positionY"),q=_.y;U.isNumber(k)&&(q=k),this.setPrivate("positionX",x),this.setPrivate("positionY",q);const J=this._getPoint(x,q);if(M=J.x,m=J.y,b.xAxes.each(ee=>{ee._handleCursorPosition(x,D),l&&ee.handleCursorShow()}),b.yAxes.each(ee=>{ee._handleCursorPosition(q,D),l&&ee.handleCursorShow()}),!n){b._handleCursorPosition();const ee="cursormoved";this.events.isEnabled(ee)&&this.events.dispatch(ee,{type:ee,target:this})}this._updateLines(M,m),b.arrangeTooltips()}else if(!this._downPoint&&!l){this.hide(0);const M="cursorhidden";this.events.isEnabled(M)&&this.events.dispatch(M,{type:M,target:this})}this._downPoint&&"none"!=this.get("behavior")&&this._updateSelection(f)}_getPoint(i,n){return{x:this.width()*i,y:this.height()*n}}_updateLines(i,n){this._tooltipX||this.lineX.set("x",i),this._tooltipY||this.lineY.set("y",n),this._drawLines()}_updateSelection(i){const n=this.selection,l=this.get("behavior"),f=this.width(),b=this.height();i.x<0&&(i.x=0),i.x>f&&(i.x=f),i.y<0&&(i.y=0),i.y>b&&(i.y=b),n.set("draw",M=>{const m=this._downPoint;m&&("zoomXY"===l||"selectXY"===l?(M.moveTo(m.x,m.y),M.lineTo(m.x,i.y),M.lineTo(i.x,i.y),M.lineTo(i.x,m.y),M.lineTo(m.x,m.y)):"zoomX"===l||"selectX"===l?(M.moveTo(m.x,0),M.lineTo(m.x,b),M.lineTo(i.x,b),M.lineTo(i.x,0),M.lineTo(m.x,0)):("zoomY"===l||"selectY"===l)&&(M.moveTo(0,m.y),M.lineTo(f,m.y),M.lineTo(f,i.y),M.lineTo(0,i.y),M.lineTo(0,m.y)))})}_onHide(){if(this.isHidden()){let i=this.chart;i&&(i.xAxes.each(n=>{n.handleCursorHide()}),i.yAxes.each(n=>{n.handleCursorHide()}),i.series.each(n=>{n.handleCursorHide()}))}super._onHide()}_onShow(){if(!this.isHidden()){let i=this.chart;i&&(i.xAxes.each(n=>{n.handleCursorShow()}),i.yAxes.each(n=>{n.handleCursorShow()}))}super._onShow()}_dispose(){super._dispose(),this.selection.dispose()}}Object.defineProperty(Ot,"className",{enumerable:!0,configurable:!0,writable:!0,value:"XYCursor"}),Object.defineProperty(Ot,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Z.W.classNames.concat([Ot.className])});var Ae=I(2428),Ut=I(8472),vt=I(7937);class wt extends vt.${constructor(){super(...arguments),Object.defineProperty(this,"_frequency",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_itemMap",{enumerable:!0,configurable:!0,writable:!0,value:{}})}_afterNew(){this._settings.themeTags=Te.mergeTags(this._settings.themeTags,["axis"]),this.fields.push("category"),super._afterNew()}_prepareAxisItems(){this.setPrivateRaw("baseInterval",this.get("baseInterval"));const i=this.get("renderer"),n=this.dataItems.length;let l=this.startIndex();l>0&&l--;let f=this.endIndex();f<n&&f++;let b=i.axisLength()/Math.max(i.get("minGridDistance"),1/Number.MAX_SAFE_INTEGER),M=Math.min(n,Math.ceil((f-l)/b));l=Math.floor(l/M)*M,this._frequency=M;for(let ie=0;ie<n;ie++)this.dataItems[ie].hide();let m=Number(this.dataItems[l].get("category")),_=Number(this.dataItems[f-1].get("category")),D=_-m;f-l<b&&(D=_-m-((_-m)/this.baseDuration()-(f-l))*this.baseDuration());let C=ne.chooseInterval(0,D,b,this.get("gridIntervals"));const x=ne.getNextUnit(C.timeUnit),k=this.getPrivate("baseInterval");ne.getIntervalDuration(C)<this.baseDuration()&&(C=Object.assign({},k));const q=this.get("dateFormats");let se,J=-1/0,ee=-1/0,K=-1/0,ye=[],Q=!1;for(let ie=l;ie<f;ie++){let De=this.dataItems[ie],pe=De.get("index"),Ye=!1,Ue=Number(De.get("category")),ht=new Date(Ue),Ie=ne.getUnitValue(ht,C.timeUnit);se=q[C.timeUnit];let Ke=!1;"year"!=C.timeUnit&&"week"!=C.timeUnit&&x&&this.get("markUnitChange")&&U.isNumber(J)&&ne.checkChange(Ue,J,x,this._root.utc)&&(se=this.get("periodChangeDateFormats")[C.timeUnit],pe-.5*M<ee&&ye.pop(),ye.push({format:se,dataItem:De}),Q=!0,Ke=!0,ee=pe,K=Ie);let qe=!1;"day"===C.timeUnit||"week"===C.timeUnit?pe-ee>=M&&(qe=!0):Ie%C.count==0&&Ie!=K&&(qe=!0),!Ke&&qe&&(pe-.7*M<ee&&Q&&(Ye=!0),Ye||(ye.push({format:se,dataItem:De}),ee=pe,K=Ie),Q=!1),J=Ue}if(ye.length>0){let ie=ye[0].dataItem.get("index",0);v.each(ye,De=>{const pe=De.dataItem,Ye=De.format;this._createAssets(pe,[]),pe.isHidden()&&pe.show();let Ue=Number(pe.get("category")),ht=new Date(Ue);const Ie=pe.get("label");Ie&&Ie.set("text",this._root.dateFormatter.format(ht,Ye)),ie++,this._prepareDataItem(pe,ie,M)})}}baseDuration(){return ne.getIntervalDuration(this.getPrivate("baseInterval"))}getTooltipText(i,n){let l=this.dataItems[this.axisPositionToIndex(i)];if(l){let f=this.get("dateFormats")[this.getPrivate("baseInterval").timeUnit];return this._root.dateFormatter.format(new Date(l.get("category",0)),this.get("tooltipDateFormat",f))}}_updateTooltipText(i,n){i.label.set("text",this.getTooltipText(n))}}Object.defineProperty(wt,"className",{enumerable:!0,configurable:!0,writable:!0,value:"CategoryDateAxis"}),Object.defineProperty(wt,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:vt.$.classNames.concat([wt.className])});var ke=I(7313),_i=I(8362);class lt extends Ut.R{constructor(){super(...arguments),Object.defineProperty(this,"_dirtyExtremes",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dirtySelectionExtremes",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_deltaMinMax",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_minReal",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_maxReal",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_baseValue",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_syncDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_minLogAdjusted",{enumerable:!0,configurable:!0,writable:!0,value:1})}markDirtyExtremes(){this._dirtyExtremes=!0,this.markDirty()}markDirtySelectionExtremes(){this._dirtySelectionExtremes=!0,this.markDirty()}_afterNew(){this._settings.themeTags=Te.mergeTags(this._settings.themeTags,["axis"]),this.setPrivateRaw("name","value"),this.addTag("value"),super._afterNew()}_prepareChildren(){if(super._prepareChildren(),this.isDirty("syncWithAxis")){this._prevSettings.syncWithAxis&&this._syncDp&&this._syncDp.dispose();let n=this.get("syncWithAxis");n&&(this._syncDp=new _i.FV([n.onPrivate("selectionMinFinal",()=>{this._dirtySelectionExtremes=!0}),n.onPrivate("selectionMaxFinal",()=>{this._dirtySelectionExtremes=!0})]))}(this._sizeDirty||this._dirtyExtremes||this._valuesDirty||this.isPrivateDirty("width")||this.isPrivateDirty("height")||this.isDirty("min")||this.isDirty("max")||this.isDirty("extraMin")||this.isDirty("extraMax")||this.isDirty("logarithmic")||this.isDirty("treatZeroAs")||this.isDirty("baseValue")||this.isDirty("strictMinMax")||this.isDirty("strictMinMaxSelection")||this.isDirty("maxPrecision")||this.isDirty("numberFormat"))&&(this._getMinMax(),this.ghostLabel.set("text",""),this._dirtyExtremes=!1),this._dirtySelectionExtremes&&!this._isPanning&&this.get("autoZoom",!0)&&(this._getSelectionMinMax(),this._dirtySelectionExtremes=!1),this._groupData(),(this._sizeDirty||this._valuesDirty||this.isDirty("start")||this.isDirty("end")||this.isPrivateDirty("min")||this.isPrivateDirty("selectionMax")||this.isPrivateDirty("selectionMin")||this.isPrivateDirty("max")||this.isPrivateDirty("step")||this.isPrivateDirty("width")||this.isPrivateDirty("height")||this.isDirty("logarithmic"))&&(this._handleRangeChange(),this._prepareAxisItems(),this._updateAxisRanges()),this._baseValue=this.baseValue()}_groupData(){}_formatText(i){const n=this.get("numberFormat"),l=this.getNumberFormatter();let f="";return f=n?l.format(i,n):l.format(i,void 0,this.getPrivate("stepDecimalPlaces")),f}_prepareAxisItems(){const i=this.getPrivate("min"),n=this.getPrivate("max");if(U.isNumber(i)&&U.isNumber(n)){const l=this.get("logarithmic"),f=this.getPrivate("step"),b=this.getPrivate("selectionMin"),M=this.getPrivate("selectionMax")+f;let m=b-f,_=0,D=1,C=i;if(l){if(m=this._minLogAdjusted,m<b)for(;m<b;)m+=f;C=m,C<=0&&(C=1,f<1&&(C=f)),D=Math.log(M-f)*Math.LOG10E-Math.log(C)*Math.LOG10E,D>2&&(m=Math.pow(10,Math.log(C)*Math.LOG10E-5))}let x=-1/0;for(;m<M;){let k;this.dataItems.length<_+1?(k=new ke.z(this,void 0,{}),this._dataItems.push(k),this.processDataItem(k)):k=this.dataItems[_],this._createAssets(k,[]),k.isHidden()&&k.show(),k.setRaw("value",m);const q=k.get("label");if(q&&q.set("text",this._formatText(m)),this._prepareDataItem(k),l&&D>2?m=Math.pow(10,Math.log(C)*Math.LOG10E+_-5):m+=f,x==m)break;let J=Math.pow(10,Math.floor(Math.log(Math.abs(f))*Math.LOG10E));if(J<1){let ee=Math.round(Math.abs(Math.log(Math.abs(J))*Math.LOG10E))+2;m=fe.round(m,ee)}_++,x=m}for(let k=_;k<this.dataItems.length;k++)this.dataItems[k].hide();v.each(this.series,k=>{k.inited&&k._markDirtyAxes()}),this._updateGhost()}}_prepareDataItem(i,n){let l=this.get("renderer"),f=i.get("value"),b=i.get("endValue"),M=this.valueToPosition(f),m=M,_=this.valueToPosition(f+this.getPrivate("step"));U.isNumber(b)&&(m=this.valueToPosition(b),_=m),i.get("isRange")&&null==b&&(_=M),l.updateLabel(i.get("label"),M,m,n);const D=i.get("grid");if(l.updateGrid(D,M,m),D&&(f==this.get("baseValue",0)?(D.addTag("base"),D._applyThemes()):D.hasTag("base")&&(D.removeTag("base"),D._applyThemes())),l.updateTick(i.get("tick"),M,m,n),l.updateFill(i.get("axisFill"),M,_),this._processBullet(i),l.updateBullet(i.get("bullet"),M,m),!i.get("isRange")){const C=this.get("fillRule");C&&C(i)}}_handleRangeChange(){let i=this.positionToValue(this.get("start",0)),n=this.positionToValue(this.get("end",1));const l=this.get("renderer").gridCount();let f=this._adjustMinMax(i,n,l,!0),b=Te.decimalPlaces(f.step);this.setPrivateRaw("stepDecimalPlaces",b),i=fe.round(i,b),n=fe.round(n,b),f=this._adjustMinMax(i,n,l,!0);let M=f.step;i=f.min,n=f.max,(this.getPrivate("selectionMin")!==i||this.getPrivate("selectionMax")!==n||this.getPrivate("step")!==M)&&(this.setPrivateRaw("selectionMin",i),this.setPrivateRaw("selectionMax",n),this.setPrivateRaw("step",M))}positionToValue(i){const n=this.getPrivate("min"),l=this.getPrivate("max");return this.get("logarithmic")?Math.pow(Math.E,(i*(Math.log(l)*Math.LOG10E-Math.log(n)*Math.LOG10E)+Math.log(n)*Math.LOG10E)/Math.LOG10E):i*(l-n)+n}valueToPosition(i){const n=this.getPrivate("min"),l=this.getPrivate("max");if(this.get("logarithmic")){if(i<=0){let f=this.get("treatZeroAs");U.isNumber(f)&&(i=f)}return(Math.log(i)*Math.LOG10E-Math.log(n)*Math.LOG10E)/(Math.log(l)*Math.LOG10E-Math.log(n)*Math.LOG10E)}return(i-n)/(l-n)}valueToFinalPosition(i){const n=this.getPrivate("minFinal"),l=this.getPrivate("maxFinal");if(this.get("logarithmic")){if(i<=0){let f=this.get("treatZeroAs");U.isNumber(f)&&(i=f)}return(Math.log(i)*Math.LOG10E-Math.log(n)*Math.LOG10E)/(Math.log(l)*Math.LOG10E-Math.log(n)*Math.LOG10E)}return(i-n)/(l-n)}getX(i,n,l){const f=this.valueToPosition(i=l+(i-l)*n);return this._settings.renderer.positionToCoordinate(f)}getY(i,n,l){const f=this.valueToPosition(i=l+(i-l)*n);return this._settings.renderer.positionToCoordinate(f)}getDataItemCoordinateX(i,n,l,f){return this._settings.renderer.positionToCoordinate(this.getDataItemPositionX(i,n,l,f))}getDataItemPositionX(i,n,l,f){let b=i.get(n);return b=i.get("stackToItemX")?b*f+i.component.getStackedXValueWorking(i,n):this._baseValue+(b-this._baseValue)*f,this.valueToPosition(b)}getDataItemCoordinateY(i,n,l,f){return this._settings.renderer.positionToCoordinate(this.getDataItemPositionY(i,n,l,f))}getDataItemPositionY(i,n,l,f){let b=i.get(n);return b=i.get("stackToItemY")?b*f+i.component.getStackedYValueWorking(i,n):this._baseValue+(b-this._baseValue)*f,this.valueToPosition(b)}basePosition(){return this.valueToPosition(this.baseValue())}baseValue(){const i=Math.min(this.getPrivate("minFinal",-1/0),this.getPrivate("selectionMin",-1/0)),n=Math.max(this.getPrivate("maxFinal",1/0),this.getPrivate("selectionMax",1/0));let l=this.get("baseValue",0);return l<i&&(l=i),l>n&&(l=n),l}cellEndValue(i){return i}fixSmallStep(i){return 1+i===1?this.fixSmallStep(i*=2):i}_fixMin(i){return i}_fixMax(i){return i}_calculateTotals(){if(this.get("calculateTotals")){let i=this.series[0];if(i){let n=i.startIndex();if(i.dataItems.length>0){n>0&&n--;let f,b,l=i.endIndex();l<i.dataItems.length&&l++,i.get("yAxis")==this?(f="valueY",b="vcy"):i.get("xAxis")==this&&(f="valueX",b="vcx");let M=f+"Working";if(f)for(let m=n;m<l;m++){let _=0,D=0;v.each(this.series,C=>{if(!C.get("excludeFromTotal")){let x=C.dataItems[m];if(x){let k=x.get(M)*C.get(b);U.isNaN(k)||(_+=k,D+=Math.abs(k))}}}),v.each(this.series,C=>{if(!C.get("excludeFromTotal")){let x=C.dataItems[m];if(x){let k=x.get(M)*C.get(b);U.isNaN(k)||(x.set(f+"Total",D),x.set(f+"Sum",_),x.set(f+"TotalPercent",k/D*100))}}})}}}}}_getSelectionMinMax(){const i=this.getPrivate("minFinal"),n=this.getPrivate("maxFinal"),l=this.get("min"),f=this.get("max");let b=this.get("extraMin",0),M=this.get("extraMax",0);this.get("logarithmic")&&(null==this.get("extraMin")&&(b=.1),null==this.get("extraMax")&&(M=.2));const m=this.get("renderer").gridCount(),_=this.get("strictMinMaxSelection"),D=this.get("strictMinMax");if(U.isNumber(i)&&U.isNumber(n)){let C=n,x=i;if(v.each(this.series,Q=>{if(!Q.get("ignoreMinMax")){let ie,De;const pe=Q.getPrivate("outOfSelection");Q.get("xAxis")===this?pe||(ie=Q.getPrivate("selectionMinX",Q.getPrivate("minX")),De=Q.getPrivate("selectionMaxX",Q.getPrivate("maxX"))):Q.get("yAxis")===this&&(pe||(ie=Q.getPrivate("selectionMinY",Q.getPrivate("minY")),De=Q.getPrivate("selectionMaxY",Q.getPrivate("maxY")))),!Q.isHidden()&&!Q.isShowing()&&(U.isNumber(ie)&&(C=Math.min(C,ie)),U.isNumber(De)&&(x=Math.max(x,De)))}}),this.axisRanges.each(Q=>{if(Q.get("affectsMinMax")){let ie=Q.get("value");null!=ie&&(C=Math.min(C,ie),x=Math.max(x,ie)),ie=Q.get("endValue"),null!=ie&&(C=Math.min(C,ie),x=Math.max(x,ie))}}),C>x&&([C,x]=[x,C]),U.isNumber(l)?C=D?l:i:D&&U.isNumber(this._minReal)&&(C=this._minReal),U.isNumber(f)?x=D?f:n:D&&U.isNumber(this._maxReal)&&(x=this._maxReal),C===x){C-=this._deltaMinMax,x+=this._deltaMinMax;let Q=this._adjustMinMax(C,x,m,D);C=Q.min,x=Q.max}let k=C,q=x;C-=(x-C)*b,x+=(x-C)*M;let J=this._adjustMinMax(C,x,m);C=J.min,x=J.max,C=fe.fitToRange(C,i,n),x=fe.fitToRange(x,i,n),J=this._adjustMinMax(C,x,m,!0),D||(C=J.min,x=J.max);const ee=this.get("syncWithAxis");ee&&(J=this._syncAxes(C,x,J.step,ee.getPrivate("selectionMinFinal",ee.getPrivate("minFinal",0)),ee.getPrivate("selectionMaxFinal",ee.getPrivate("maxFinal",1)),ee.getPrivate("selectionStepFinal",ee.getPrivate("step",1))),C=J.min,x=J.max),D&&(U.isNumber(l)&&(C=Math.max(C,l)),U.isNumber(f)&&(x=Math.min(x,f))),_&&(C=k-(x-C)*b,x=q+(x-C)*M),this.get("logarithmic")&&(C<=0&&(C=k*(1-Math.min(b,.99))),C<i&&(C=i),x>n&&(x=n));let K=Math.min(20,Math.ceil(Math.log(this.getPrivate("maxZoomFactor",100)+1)/Math.LN10)+2),se=fe.round(this.valueToFinalPosition(C),K),ye=fe.round(this.valueToFinalPosition(x),K);this.setPrivateRaw("selectionMinFinal",C),this.setPrivateRaw("selectionMaxFinal",x),this.setPrivateRaw("selectionStepFinal",J.step),this.zoom(se,ye)}}_getMinMax(){let i=this.get("min"),n=this.get("max"),l=1/0,f=-1/0,b=this.get("extraMin",0),M=this.get("extraMax",0);this.get("logarithmic")&&(null==this.get("extraMin")&&(b=.1),null==this.get("extraMax")&&(M=.2));let m=1/0;if(v.each(this.series,Q=>{if(!Q.get("ignoreMinMax")){let ie,De;if(Q.get("xAxis")===this?(ie=Q.getPrivate("minX"),De=Q.getPrivate("maxX")):Q.get("yAxis")===this&&(ie=Q.getPrivate("minY"),De=Q.getPrivate("maxY")),U.isNumber(ie)&&U.isNumber(De)){l=Math.min(l,ie),f=Math.max(f,De);let pe=De-ie;pe<=0&&(pe=Math.abs(De/100)),pe<m&&(m=pe)}}}),this.axisRanges.each(Q=>{if(Q.get("affectsMinMax")){let ie=Q.get("value");null!=ie&&(l=Math.min(l,ie),f=Math.max(f,ie)),ie=Q.get("endValue"),null!=ie&&(l=Math.min(l,ie),f=Math.max(f,ie))}}),this.get("logarithmic")){let Q=this.get("treatZeroAs");U.isNumber(Q)&&l<=0&&(l=Q),l<=0&&new Error("Logarithmic value axis can not have values <= 0.")}if(0===l&&0===f&&(f=.9,l=-.9),U.isNumber(i)&&(l=i),U.isNumber(n)&&(f=n),l===1/0||f===-1/0)return this.setPrivate("minFinal",void 0),void this.setPrivate("maxFinal",void 0);const _=l,D=f;let C=this.adapters.fold("min",l),x=this.adapters.fold("max",f);U.isNumber(C)&&(l=C),U.isNumber(x)&&(f=x),l=this._fixMin(l),f=this._fixMax(f),f-l<=1/Math.pow(10,15)&&(f-l!=0?this._deltaMinMax=(f-l)/2:this._getDelta(f),l-=this._deltaMinMax,f+=this._deltaMinMax),l-=(f-l)*b,f+=(f-l)*M,this.get("logarithmic")&&(l<0&&_>=0&&(l=0),f>0&&D<=0&&(f=0)),this._minReal=l,this._maxReal=f;let k=this.get("strictMinMax"),q=this.get("strictMinMaxSelection",!1);q&&(k=q);let J=k;U.isNumber(n)&&(J=!0);let ee=this.get("renderer").gridCount(),K=this._adjustMinMax(l,f,ee,J);l=K.min,f=K.max,K=this._adjustMinMax(l,f,ee,!0),l=K.min,f=K.max,k&&(l=U.isNumber(i)?i:this._minReal,f=U.isNumber(n)?n:this._maxReal,f-l<=1e-8&&(l-=this._deltaMinMax,f+=this._deltaMinMax),l-=(f-l)*b,f+=(f-l)*M),C=this.adapters.fold("min",l),x=this.adapters.fold("max",f),U.isNumber(C)&&(l=C),U.isNumber(x)&&(f=x),m==1/0&&(m=f-l);let se=Math.round(Math.abs(Math.log(Math.abs(f-l))*Math.LOG10E))+5;l=fe.round(l,se),f=fe.round(f,se);const ye=this.get("syncWithAxis");if(ye&&(K=this._syncAxes(l,f,K.step,ye.getPrivate("minFinal",ye.getPrivate("min",0)),ye.getPrivate("maxFinal",ye.getPrivate("max",1)),ye.getPrivate("step",1)),l=K.min,f=K.max),this.setPrivateRaw("maxZoomFactor",Math.max(1,Math.ceil((f-l)/m*this.get("maxZoomFactor",100)))),this._fixZoomFactor(),this.get("logarithmic")&&(this._minLogAdjusted=l,l=this._minReal,f=this._maxReal,l<=0&&(l=_*(1-Math.min(b,.99)))),U.isNumber(l)&&U.isNumber(f)&&(this.getPrivate("minFinal")!==l||this.getPrivate("maxFinal")!==f)){this.setPrivate("minFinal",l),this.setPrivate("maxFinal",f),this._saveMinMax(l,f);const Q=this.get("interpolationDuration",0),ie=this.get("interpolationEasing");this.animatePrivate({key:"min",to:l,duration:Q,easing:ie}),this.animatePrivate({key:"max",to:f,duration:Q,easing:ie})}}_fixZoomFactor(){}_getDelta(i){let n=Math.log(Math.abs(i))*Math.LOG10E,l=Math.pow(10,Math.floor(n));l/=10,this._deltaMinMax=l}_saveMinMax(i,n){}_adjustMinMax(i,n,l,f){l<=1&&(l=1),l=Math.round(l);let b=i,M=n,m=n-i;0===m&&(m=Math.abs(n));let _=Math.log(Math.abs(m))*Math.LOG10E,D=Math.pow(10,Math.floor(_));D/=10;let C=D;f&&(C=0),f?(i=Math.floor(i/D)*D,n=Math.ceil(n/D)*D):(i=Math.ceil(i/D)*D-C,n=Math.floor(n/D)*D+C),i<0&&b>=0&&(i=0),n>0&&M<=0&&(n=0),_=Math.log(Math.abs(m))*Math.LOG10E,D=Math.pow(10,Math.floor(_)),D/=100;let x=Math.ceil(m/l/D)*D,k=Math.pow(10,Math.floor(Math.log(Math.abs(x))*Math.LOG10E)),q=Math.ceil(x/k);q>5?q=10:q<=5&&q>2&&(q=5),x=Math.ceil(x/(k*q))*k*q;let J=this.get("maxPrecision");if(U.isNumber(J)){let ye=fe.ceil(x,J);J<Number.MAX_VALUE&&x!==ye&&(x=ye)}let ee=0;k<1&&(ee=Math.round(Math.abs(Math.log(Math.abs(k))*Math.LOG10E))+1,x=fe.round(x,ee));let se,K=Math.floor(i/x);return i=fe.round(x*K,ee),se=f?Math.floor(n/x):Math.ceil(n/x),se===K&&se++,(n=fe.round(x*se,ee))<M&&(n+=x),i>b&&(i-=x),x=this.fixSmallStep(x),{min:i,max:n,step:x}}getTooltipText(i,n){const l=this.get("tooltipNumberFormat",this.get("numberFormat")),f=this.getNumberFormatter(),b=this.get("extraTooltipPrecision",0),M=this.getPrivate("stepDecimalPlaces",0)+b,m=fe.round(this.positionToValue(i),M);return l?f.format(m,l):f.format(m,void 0,M)}getSeriesItem(i,n){let b,M,l=this.getPrivate("name")+this.get("renderer").getPrivate("letter"),f=this.positionToValue(n);if(v.each(i.dataItems,(m,_)=>{const D=Math.abs(m.get(l)-f);(void 0===b||D<M)&&(b=_,M=D)}),null!=b)return i.dataItems[b]}zoomToValues(i,n,l){const f=this.getPrivate("minFinal",0),b=this.getPrivate("maxFinal",0);null!=this.getPrivate("min")&&null!=this.getPrivate("max")&&this.zoom((i-f)/(b-f),(n-f)/(b-f),l)}_syncAxes(i,n,l,f,b,M){if(this.get("syncWithAxis")){let _=Math.round(b-f)/M,D=Math.round((n-i)/l),C=this.get("renderer").gridCount();if(U.isNumber(_)&&U.isNumber(D)){let x=!1,k=0,q=.01*(n-i),J=i,ee=n,K=l;for(;1!=x;)if(x=this._checkSync(J,ee,K,_),k++,k>500&&(x=!0),x)i=J,n=ee,l=K;else{k/3==Math.round(k/3)?(J=i-q*k,i>=0&&J<0&&(J=0)):(ee=n+q*k,ee<=0&&ee>0&&(ee=0));let se=this._adjustMinMax(J,ee,C,!0);J=se.min,ee=se.max,K=se.step}}}return{min:i,max:n,step:l}}_checkSync(i,n,l,f){let b=(n-i)/l;for(let M=1;M<f;M++)if(fe.round(b/M,1)==f||b*M==f)return!0;return!1}getCellWidthPosition(){let i=this.getPrivate("selectionMax",this.getPrivate("max")),n=this.getPrivate("selectionMin",this.getPrivate("min"));return U.isNumber(i)&&U.isNumber(n)?this.getPrivate("step",1)/(i-n):.05}}Object.defineProperty(lt,"className",{enumerable:!0,configurable:!0,writable:!0,value:"ValueAxis"}),Object.defineProperty(lt,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Ut.R.classNames.concat([lt.className])});class ai extends lt{constructor(){super(...arguments),Object.defineProperty(this,"_dataGrouped",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_seriesDataGrouped",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_groupingCalculated",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_intervalDuration",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_baseDuration",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_intervalMax",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_intervalMin",{enumerable:!0,configurable:!0,writable:!0,value:{}})}_afterNew(){this._settings.themeTags=Te.mergeTags(this._settings.themeTags,["axis"]),super._afterNew(),this._setBaseInterval(this.get("baseInterval")),this.on("baseInterval",()=>{this._setBaseInterval(this.get("baseInterval"))})}_setBaseInterval(i){this.setPrivateRaw("baseInterval",i),this._baseDuration=ne.getIntervalDuration(i)}_fixZoomFactor(){const i=this.get("maxZoomFactor");this.setPrivateRaw("maxZoomFactor",null!=i&&i!=1/0?i:Math.round((this.getPrivate("max",0)-this.getPrivate("min",0))/this.baseMainDuration()))}_groupData(){const i=this.getPrivate("min"),n=this.getPrivate("max");if(U.isNumber(i)&&U.isNumber(n)){this._fixZoomFactor();const l=this.getPrivate("groupInterval");if(this._setBaseInterval(l||this.get("baseInterval")),this.isDirty("groupInterval")){let f=this.get("groupInterval");f&&this.setRaw("groupIntervals",[f])}if(this.isDirty("groupData")&&!this._dataGrouped){if(this.get("groupData"))v.each(this.series,f=>{this._groupSeriesData(f)}),this._handleRangeChange();else{let f=this.get("baseInterval"),b=f.timeUnit+f.count;v.each(this.series,M=>{M.setDataSet(b)}),this._setBaseInterval(f),this.setPrivateRaw("groupInterval",void 0),this.markDirtyExtremes()}this._dataGrouped=!0}}}_groupSeriesData(i){if(this.get("groupData")&&!i.get("groupDataDisabled")){this._dataGrouped=!0,this._seriesDataGrouped=!0;let n=[],l=this.baseMainDuration(),f=this.get("groupIntervals");v.each(f,K=>{ne.getIntervalDuration(K)>l&&n.push(K)}),i._dataSets={};const b=this.getPrivate("name")+this.get("renderer").getPrivate("letter");let M;const m=i.get("baseAxis");i.get("xAxis")===m?M=i._valueYFields:i.get("yAxis")===m&&(M=i._valueXFields);let _=i._mainDataItems,D=this.get("baseInterval");i._dataSets[D.timeUnit+D.count]=_;const x=i.get("groupDataCallback");let k=i.get("groupDataWithOriginals",!1);x&&(k=!0);const q=this._root.locale.firstDayOfWeek,J=this._root.utc,ee=this._root.timezone;v.each(n,K=>{let se=-1/0,ye=K.timeUnit+K.count;i._dataSets[ye]=[];let Q,ie={},De={},pe={},Ye={};v.each(M,qe=>{ie[qe]=0,De[qe]=0,pe[qe]=i.get(qe+"Grouped"),Ye[qe]=qe+"Working"});let Ie,Ke,Ue=ne.getDuration(K.timeUnit);_[0]&&(Ie=new Date(_[0].get(b))),v.each(_,qe=>{let Wt,$t=qe.get(b),zt=ne.round(new Date($t),K.timeUnit,K.count,q,J,Ie,ee).getTime();se<zt-Ue/24?(Wt=F.copy(qe.dataContext),Q=new ke.z(i,Wt,i._makeDataItem(Wt)),Q.setRaw(b,zt),i._dataSets[ye].push(Q),v.each(M,st=>{let ti=qe.get(st);U.isNumber(ti)?(Q.setRaw(st,ti),Q.setRaw(Ye[st],ti),De[st]=1,ie[st]=ti):(ie[st]=0,De[st]=0)}),k&&Q.set("originals",[qe]),x&&Ke&&x(Ke,K),Ke=Q):(v.each(M,st=>{let ti=pe[st],jt=qe.get(st);if(void 0!==jt){let gt=Q.get(st);switch(ti){case"close":Q.setRaw(st,jt);break;case"sum":null!=jt&&Q.setRaw(st,gt+jt);break;case"open":break;case"low":jt<gt&&Q.setRaw(st,jt);break;case"high":jt>gt&&Q.setRaw(st,jt);break;case"average":De[st]++,ie[st]+=jt,Q.setRaw(st,ie[st]/De[st]);break;case"extreme":Math.abs(jt)>Math.abs(gt)&&Q.setRaw(st,jt)}Q.setRaw(Ye[st],Q.get(st));let pi=F.copy(qe.dataContext);pi[b]=zt,Q.dataContext=pi}}),k&&Q.get("originals").push(qe)),se=zt}),x&&Ke&&x(Ke,K)}),i._dataSetId&&i.setDataSet(i._dataSetId),this.markDirtySize()}}_clearDirty(){super._clearDirty(),this._groupingCalculated=!1,this._dataGrouped=!1}getGroupInterval(i){let n=this.get("baseInterval"),l=ne.chooseInterval(0,i,this.get("groupCount",1/0),this.get("groupIntervals"));return ne.getIntervalDuration(l)<ne.getIntervalDuration(n)&&(l=Object.assign({},n)),l}getIntervalMax(i){return this._intervalMax[i.timeUnit+i.count]}getIntervalMin(i){return this._intervalMin[i.timeUnit+i.count]}_handleRangeChange(){super._handleRangeChange();let i=Math.round(this.getPrivate("selectionMin")),n=Math.round(this.getPrivate("selectionMax"));if(U.isNumber(i)&&U.isNumber(n)){if(0==this.get("endLocation")&&(n+=1),this.get("groupData")&&!this._groupingCalculated){this._groupingCalculated=!0;let l=n-i+(this.get("startLocation",0)+(1-this.get("endLocation",1))*this.baseDuration()),f=this.get("groupInterval");f||(f=this.getGroupInterval(l));let b=this.getPrivate("groupInterval");if(f&&(!b||b.timeUnit!==f.timeUnit||b.count!==f.count||this._seriesDataGrouped)){this._seriesDataGrouped=!1,this.setPrivateRaw("groupInterval",f),this._setBaseInterval(f);let M=f.timeUnit+f.count;v.each(this.series,m=>{m.get("baseAxis")===this&&m.setDataSet(M)}),this.markDirtyExtremes(),this._root.events.once("frameended",()=>{this._root.events.once("frameended",()=>{const m="groupintervalchanged";this.events.isEnabled(m)&&this.events.dispatch(m,{type:m,target:this})})})}}v.each(this.series,l=>{if(l.get("baseAxis")===this){let f=this.getPrivate("name")+this.get("renderer").getPrivate("letter"),M=v.getSortedIndex(l.dataItems,ee=>ge.qu(ee.get(f),i)).index;M>0&&(M-=1),n+=this.baseDuration()*(1-this.get("endLocation",1));let _=v.getSortedIndex(l.dataItems,ee=>ge.qu(ee.get(f),n)).index,D=_;D>0&&D--;const C=l.dataItems[M],x=l.dataItems[D];let k,q;C&&(q=C.get(f)),x&&(k=x.get(f));let J=!1;null!=k&&null!=q&&(k<i||q>n)&&(J=!0),l.setPrivate("outOfSelection",J),l.setPrivate("startIndex",M),l.setPrivate("endIndex",_)}})}}_adjustMinMax(i,n,l,f){return{min:i,max:n,step:(n-i)/l}}intervalDuration(){return this._intervalDuration}_saveMinMax(i,n){let l=this.getPrivate("groupInterval");l||(l=this.get("baseInterval"));let f=l.timeUnit+l.count;this._intervalMin[f]=i,this._intervalMax[f]=n}_getM(i){return"month"==i||"year"==i||"day"==i?1.05:1.01}_prepareAxisItems(){const i=this.getPrivate("min"),n=this.getPrivate("max");if(U.isNumber(i)&&U.isNumber(n)){const l=Math.round(this.getPrivate("selectionMin")),f=Math.round(this.getPrivate("selectionMax")),b=this.get("renderer"),M=this.getPrivate("baseInterval");let m=l,_=0;const D=this.get("gridIntervals");let C=ne.chooseInterval(0,f-l,b.gridCount(),D);ne.getIntervalDuration(C)<this.baseDuration()&&(C=Object.assign({},M));const x=ne.getIntervalDuration(C);this._intervalDuration=x;const k=ne.getNextUnit(C.timeUnit),q=this._root.locale.firstDayOfWeek,J=this._root.utc,ee=this._root.timezone;m=ne.round(new Date(l-x),C.timeUnit,C.count,q,J,new Date(i),ee).getTime();let se,K=m-x;const ye=this.get("dateFormats");for(this.setPrivateRaw("gridInterval",C);m<f+x;){let Q;this.dataItems.length<_+1?(Q=new ke.z(this,void 0,{}),this._dataItems.push(Q),this.processDataItem(Q)):Q=this.dataItems[_],this._createAssets(Q,[]),Q.isHidden()&&Q.show(),Q.setRaw("value",m);let ie=m+ne.getDuration(C.timeUnit,C.count*this._getM(C.timeUnit));ie=ne.round(new Date(ie),C.timeUnit,1,q,J,void 0,ee).getTime(),Q.setRaw("endValue",ie);let De=new Date(m);se=ye[C.timeUnit],k&&this.get("markUnitChange")&&U.isNumber(K)&&"year"!=C.timeUnit&&ne.checkChange(m,K,k,J,ee)&&(se=this.get("periodChangeDateFormats")[C.timeUnit]);const pe=Q.get("label");if(pe&&pe.set("text",this._root.dateFormatter.format(De,se)),this._prepareDataItem(Q,C.count),K=m,m=ie,m==K)break;_++}for(let Q=_;Q<this.dataItems.length;Q++)this.dataItems[Q].hide();v.each(this.series,Q=>{Q.inited&&Q._markDirtyAxes()})}this._updateGhost()}_updateFinals(i,n){this.setPrivateRaw("selectionMinFinal",this.positionToValue(i)),this.setPrivateRaw("selectionMaxFinal",this.positionToValue(n))}_getDelta(){this._deltaMinMax=this.baseDuration()/2}_fixMin(i){const n=this.getPrivate("baseInterval"),l=this._root.locale.firstDayOfWeek,f=this._root.timezone,b=this._root.utc,M=n.timeUnit;let m=ne.round(new Date(i),M,n.count,l,b,void 0,f).getTime(),_=m+ne.getDuration(M,n.count*this._getM(M));return _=ne.round(new Date(_),M,1,l,b,void 0,f).getTime(),m+(_-m)*this.get("startLocation",0)}_fixMax(i){const n=this.getPrivate("baseInterval"),l=this._root.locale.firstDayOfWeek,f=this._root.timezone,b=this._root.utc,M=n.timeUnit;let m=ne.round(new Date(i),M,n.count,l,b,void 0,f).getTime(),_=m+ne.getDuration(M,n.count*this._getM(M));return _=ne.round(new Date(_),M,1,l,b,void 0,f).getTime(),m+(_-m)*this.get("endLocation",1)}_updateDates(i){}baseDuration(){return this._baseDuration}baseMainDuration(){return ne.getIntervalDuration(this.get("baseInterval"))}processSeriesDataItem(i,n){const l=this.getPrivate("baseInterval");i.open||(i.open={}),i.close||(i.close={}),v.each(n,f=>{let b=i.get(f);if(U.isNumber(b)){let M=i.open[f],m=i.close[f];if(!(b>=M&&b<=m)){const _=this._root.locale.firstDayOfWeek,D=this._root.utc,C=this._root.timezone,x=l.timeUnit,k=l.count;M=ne.round(new Date(b),x,k,_,D,void 0,C).getTime(),m=M+ne.getDuration(x,k*this._getM(x)),m=ne.round(new Date(m),x,1,_,D,void 0,C).getTime(),i.open[f]=M,i.close[f]=m}this._updateDates(M)}})}getDataItemPositionX(i,n,l,f){let b,M;i.open&&i.close?(b=i.open[n],M=i.close[n]):(b=i.get(n),M=b);let m=b+(M-b)*l;return m=this._baseValue+(m-this._baseValue)*f,this.valueToPosition(m)}getDataItemCoordinateX(i,n,l,f){return this._settings.renderer.positionToCoordinate(this.getDataItemPositionX(i,n,l,f))}getDataItemPositionY(i,n,l,f){let b,M;i.open&&i.close?(b=i.open[n],M=i.close[n]):(b=i.get(n),M=b);let m=b+(M-b)*l;return m=this._baseValue+(m-this._baseValue)*f,this.valueToPosition(m)}getDataItemCoordinateY(i,n,l,f){return this._settings.renderer.positionToCoordinate(this.getDataItemPositionY(i,n,l,f))}roundAxisPosition(i,n){let l=this.positionToValue(i);l-=(n-.5)*this.baseDuration();let f=this.getPrivate("baseInterval");if(!U.isNaN(l)){const b=this._root.locale.firstDayOfWeek,M=f.timeUnit,m=this._root.utc,_=this._root.timezone,D=f.count;l=ne.round(new Date(l),M,D,b,m,new Date(this.getPrivate("min",0)),_).getTime();let C=ne.getDateIntervalDuration(f,new Date(l),b,m,_);return _&&(l=ne.round(new Date(l+.05*this.baseDuration()),M,D,b,m,new Date(this.getPrivate("min",0)),_).getTime(),C=ne.getDateIntervalDuration(f,new Date(l+C*n),b,m,_)),this.valueToPosition(l+C*n)}return NaN}getTooltipText(i,n){if(null!=this.getPrivate("min")){let l=this.get("tooltipDateFormats")[this.getPrivate("baseInterval").timeUnit],f=this.positionToValue(i),b=new Date(f),M=this.getPrivate("baseInterval"),m=ne.getDateIntervalDuration(M,b,this._root.locale.firstDayOfWeek,this._root.utc,this._root.timezone);return!1!==n&&(b=new Date(f+this.get("tooltipIntervalOffset",-this.get("tooltipLocation",.5))*m)),this._root.dateFormatter.format(b,this.get("tooltipDateFormat",l))}return""}getSeriesItem(i,n,l){let f=this.getPrivate("name")+this.get("renderer").getPrivate("letter"),b=this.positionToValue(n);null==l&&(l=.5),b-=(l-.5)*this.baseDuration();const M=v.getSortedIndex(i.dataItems,m=>{let _=0;return m.open&&(_=m.open[f]),ge.qu(_,b)});if(i.get("snapTooltip")){let m=i.dataItems[M.index-1],_=i.dataItems[M.index];if(m&&_&&m.open&&_.close){let C=_.close[f];if(Math.abs(b-m.open[f])>Math.abs(b-C))return _}if(m)return m;if(_)return _}else{const m=i.dataItems[M.index-1];if(m&&m.open&&m.close&&b>=m.open[f]&&b<=m.close[f])return m}}shouldGap(i,n,l,f){const b=i.get(f);return n.get(f)-b>this.baseDuration()*l}zoomToDates(i,n,l){this.zoomToValues(i.getTime(),n.getTime(),l)}positionToDate(i){return new Date(this.positionToValue(i))}dateToPosition(i){return this.valueToPosition(i.getTime())}getCellWidthPosition(){let i=this.getPrivate("selectionMax",this.getPrivate("max")),n=this.getPrivate("selectionMin",this.getPrivate("min"));return U.isNumber(i)&&U.isNumber(n)?this._intervalDuration/(i-n):.05}}Object.defineProperty(ai,"className",{enumerable:!0,configurable:!0,writable:!0,value:"DateAxis"}),Object.defineProperty(ai,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:lt.classNames.concat([ai.className])});class Ki extends ai{constructor(){super(...arguments),Object.defineProperty(this,"_frequency",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_dates",{enumerable:!0,configurable:!0,writable:!0,value:[]})}_afterNew(){this.valueFields.push("date"),super._afterNew()}_updateDates(i){const n=this._dates,l=v.getSortedIndex(n,f=>ge.qu(f,i));l.found||v.insertIndex(n,l.index,i)}_updateAllDates(){this._dates.length=0,v.each(this.series,i=>{let n="valueX";i.get("yAxis")==this&&(n="valueY"),v.each(i.dataItems,l=>{let f=l.get(n);U.isNumber(f)&&l.open&&this._updateDates(l.open[n])})})}valueToPosition(i){const n=this._dates,l=this.get("startLocation",0),f=this.get("endLocation",1),b=n.length-l-(1-f),M=v.getSortedIndex(n,_=>ge.qu(_,i));let m=M.index;if(M.found)return(m-l)/b;{m>0&&(m-=1);let _=n[m],D=0;return D=_>i?_-i:i-_,(m-l)/b+D/this.baseDuration()/b}}valueToIndex(i){const l=v.getSortedIndex(this._dates,b=>ge.qu(b,i));let f=l.index;return l.found||f>0&&(f-=1),f}positionToValue(i){const n=this.get("startLocation",0),l=this.get("endLocation",1);let f=Math.round(this._dates.length-n-(1-l)),b=i*f,M=Math.floor(b);return M<0&&(M=0),M>f-1&&(M=f-1),this._dates[M]+(b-M+n)*this.baseDuration()}_fixZoomFactor(){this.setPrivateRaw("maxZoomFactor",this._dates.length-this.get("startLocation",0)-(1-this.get("endLocation",1)))}zoomToValues(i,n,l){const f=this.getPrivate("min",0),b=this.getPrivate("max",0);i=fe.fitToRange(i,f,b),n=fe.fitToRange(n,f,b),this.zoom(this.valueToPosition(i),this.valueToPosition(n),l)}_prepareAxisItems(){let i=this.getPrivate("selectionMin",0),n=this.getPrivate("selectionMax",0);if(U.isNumber(i)&&U.isNumber(n)){this._seriesValuesDirty&&(this._seriesValuesDirty=!1,this._updateAllDates());const l=this._dates,f=this.get("renderer"),b=l.length;let M=this.valueToIndex(i);M>0&&M--;let m=this.valueToIndex(n);m<b-1&&m++;let _=f.axisLength()/Math.max(f.get("minGridDistance"),1/Number.MAX_SAFE_INTEGER),D=Math.min(b,Math.ceil((m-M)/_));D=Math.max(1,D),M=Math.floor(M/D)*D,this._frequency=D;for(let pe=0,Ye=this.dataItems.length;pe<Ye;pe++)this.dataItems[pe].hide();let C=n-i-((n-i)/this.baseDuration()-(m-M))*this.baseDuration(),x=ne.chooseInterval(0,C,_,this.get("gridIntervals"));const k=this.getPrivate("baseInterval");let q=ne.getIntervalDuration(x);q<this.baseDuration()&&(x=Object.assign({},k),q=ne.getIntervalDuration(x)),this._intervalDuration=q;const J=this.get("dateFormats");let ee=[],K=new Date;this._dates[0]&&(K=new Date(this._dates[0]));let se=ne.round(new Date(this.getPrivate("min",0)),x.timeUnit,x.count,this._root.locale.firstDayOfWeek,this._root.utc,K,this._root.timezone),ye=ne.add(se,x.timeUnit,-1,this._root.utc,this._root.timezone).getTime(),Q=this.getPrivate("selectionMax"),ie=-1/0,De=(this.get("end",1)-this.get("start",0))/_;for(;ye<=Q;){let pe=this.valueToIndex(ye),Ye=this._dates[pe];if(Ye<ye)for(let Ie=pe,Ke=this._dates.length;Ie<Ke;Ie++)if(this._dates[Ie]>=ye){pe=Ie;break}let Ue=this.valueToPosition(Ye);Ue-ie>=.95*De&&(v.move(ee,pe),ie=Ue);let ht=ye;if(ye+=ne.getDuration(x.timeUnit,x.count*this._getM(x.timeUnit)),ye=ne.round(new Date(ye),x.timeUnit,x.count,this._root.locale.firstDayOfWeek,this._root.utc,void 0,this._root.timezone).getTime(),ye==ht)break}if(ee.length>0){let pe=0,Ye=ye-10*q;const Ue=ne.getNextUnit(x.timeUnit);v.each(ee,ht=>{let Ie;this.dataItems.length<pe+1?(Ie=new ke.z(this,void 0,{}),this._dataItems.push(Ie),this.processDataItem(Ie)):Ie=this.dataItems[pe];let Ke=l[ht],qe=new Date(Ke),$t=Ke;if(pe<ee.length-1?$t=l[ee[pe+1]]:$t+=q,Ie.setRaw("value",Ke),Ie.setRaw("endValue",$t),Ie.setRaw("index",pe),ht>M-100&&ht<m+100){let zt=J[x.timeUnit];zt=J[x.timeUnit],Ue&&this.get("markUnitChange")&&U.isNumber(Ye)&&"year"!=x.timeUnit&&ne.checkChange(Ke,Ye,Ue,this._root.utc,this._root.timezone)&&(zt=this.get("periodChangeDateFormats")[x.timeUnit]),this._createAssets(Ie,[]);const Wt=Ie.get("label");Wt&&Wt.set("text",this._root.dateFormatter.format(qe,zt)),Ie.isHidden()&&Ie.show(),this._prepareDataItem(Ie,x.count)}pe++,Ye=Ke})}v.each(this.series,pe=>{pe.inited&&pe._markDirtyAxes()})}this._updateGhost()}}Object.defineProperty(Ki,"className",{enumerable:!0,configurable:!0,writable:!0,value:"GaplessDateAxis"}),Object.defineProperty(Ki,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ai.classNames.concat([Ki.className])});class We extends lt{constructor(){super(...arguments),Object.defineProperty(this,"_dataGrouped",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_groupingCalculated",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_intervalDuration",{enumerable:!0,configurable:!0,writable:!0,value:1})}_afterNew(){this._settings.themeTags=Te.mergeTags(this._settings.themeTags,["axis"]),super._afterNew()}_adjustMinMax(i,n,l,f){let b;const M=this.getDurationFormatter(),m=this.get("baseUnit");if(this.setRaw("maxPrecision",0),"millisecond"==m||"second"==m||"minute"==m||"hour"==m){l<=1&&(l=1),l=Math.round(l);let _=n-i;0===_&&(_=Math.abs(n));let D=_/l,C=[60,30,20,15,10,2,1],x=1;"hour"==m&&(C=[24,12,6,4,2,1]);for(let se of C)if(_/se>l){x=se;break}let k=Math.ceil((n-i)/x/l),q=Math.log(Math.abs(k))*Math.LOG10E,J=Math.pow(10,Math.floor(q))/10;k=fe.closest(C,k/J)*J,D=x*k,b={min:i=Math.floor(i/D)*D,max:n=Math.ceil(n/D)*D,step:D}}else b=super._adjustMinMax(i,n,l,f);return this.setPrivateRaw("durationFormat",M.getFormat(b.step,b.max,m)),b}_formatText(i){return this.getDurationFormatter().format(i,this.getPrivate("durationFormat"),this.get("baseUnit"))}getTooltipText(i,n){const l=this.getDurationFormatter(),f=this.get("extraTooltipPrecision",0),b=this.getPrivate("stepDecimalPlaces",0)+f,M=fe.round(this.positionToValue(i),b);return l.format(M,this.getPrivate("durationFormat"),this.get("baseUnit"))}}Object.defineProperty(We,"className",{enumerable:!0,configurable:!0,writable:!0,value:"DurationAxis"}),Object.defineProperty(We,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:lt.classNames.concat([We.className])});var ji=I(4889);class Re extends ji.JH{constructor(){super(...arguments),Object.defineProperty(this,"axis",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_beforeChanged(){super._beforeChanged();const i=this.get("sprite");if(this.isDirty("sprite")&&i&&(i.setAll({position:"absolute",role:"figure"}),this._disposers.push(i)),this.isDirty("location")){const n=i.dataItem;this.axis&&i&&n&&this.axis._prepareDataItem(n)}}dispose(){const i=this.axis;i&&F.each(i._bullets,(n,l)=>{l.uid==this.uid&&delete i._bullets[n]}),super.dispose()}}Object.defineProperty(Re,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AxisBullet"}),Object.defineProperty(Re,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ji.JH.classNames.concat([Re.className])});var ut=I(7730),lr=I(9005);class oi extends lr.x{constructor(){super(...arguments),Object.defineProperty(this,"_tickPoints",{enumerable:!0,configurable:!0,writable:!0,value:[]})}}Object.defineProperty(oi,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AxisLabelRadial"}),Object.defineProperty(oi,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:lr.x.classNames.concat([oi.className])});var Bi=I(7380),Cr=I(1005),Zt=I(1934),ur=I(7500),Ni=I(7741),Ii=I(867);class Qt extends Ii.c{_beforeChanged(){super._beforeChanged(),(this.isDirty("lowX0")||this.isDirty("lowY0")||this.isDirty("lowX1")||this.isDirty("lowY1")||this.isDirty("highX0")||this.isDirty("highX1")||this.isDirty("highY0")||this.isDirty("highY1"))&&(this._clear=!0)}_draw(){super._draw();const i=this._display;i.moveTo(this.get("lowX0",0),this.get("lowY0",0)),i.lineTo(this.get("lowX1",0),this.get("lowY1",0)),i.moveTo(this.get("highX0",0),this.get("highY0",0)),i.lineTo(this.get("highX1",0),this.get("highY1",0))}}Object.defineProperty(Qt,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Candlestick"}),Object.defineProperty(Qt,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Ii.c.classNames.concat([Qt.className])});var Ht=I(5049),ft=I(1371);class Ti extends Ht.d{constructor(){super(...arguments),Object.defineProperty(this,"columns",{enumerable:!0,configurable:!0,writable:!0,value:new R.o(ft.YS.new({themeTags:["autocolor"]}),()=>Qt._new(this._root,{themeTags:Te.mergeTags(this.columns.template.get("themeTags",[]),["candlestick","series","column"])},[this.columns.template]))})}makeColumn(i,n){const l=this.mainContainer.children.push(n.make());return l._setDataItem(i),n.push(l),l}_updateGraphics(i,n){super._updateGraphics(i,n);const l=this.getRaw("xAxis"),f=this.getRaw("yAxis"),b=this.getRaw("baseAxis");let _,D,C,x,k,q,J,ee,ie,M=this.get("vcy",1),m=this.get("vcx",1),K=this.get("locationX",i.get("locationX",.5)),se=this.get("locationY",i.get("locationY",.5)),ye=this.get("openLocationX",i.get("openLocationX",K)),Q=this.get("openLocationY",i.get("openLocationY",se));if(f===b){let De=l.getDataItemPositionX(i,this._xOpenField,1,m),pe=l.getDataItemPositionX(i,this._xField,1,m);D=l.getDataItemPositionX(i,this._xLowField,1,m),q=l.getDataItemPositionX(i,this._xHighField,1,m),k=Math.max(De,pe),_=Math.min(De,pe);let Ye=this._aLocationY0+Q-.5;C=f.getDataItemPositionY(i,this._yField,Ye+(this._aLocationY1+se-.5-Ye)/2,M),x=C,J=C,ee=C,ie="horizontal"}else{let De=f.getDataItemPositionY(i,this._yOpenField,1,M),pe=f.getDataItemPositionY(i,this._yField,1,M);x=f.getDataItemPositionY(i,this._yLowField,1,M),ee=f.getDataItemPositionY(i,this._yHighField,1,M),J=Math.max(De,pe),C=Math.min(De,pe);let Ye=this._aLocationX0+ye-.5;_=l.getDataItemPositionX(i,this._xField,Ye+(this._aLocationX1+K-.5-Ye)/2,m),D=_,k=_,q=_,ie="vertical"}this._updateCandleGraphics(i,_,D,C,x,k,q,J,ee,ie)}_updateCandleGraphics(i,n,l,f,b,M,m,_,D,C){let x=i.get("graphics");if(x){let k=this.getPoint(n,f),q=this.getPoint(l,b),J=this.getPoint(M,_),ee=this.getPoint(m,D),K=x.x(),se=x.y();x.set("lowX0",k.x-K),x.set("lowY0",k.y-se),x.set("lowX1",q.x-K),x.set("lowY1",q.y-se),x.set("highX0",J.x-K),x.set("highY0",J.y-se),x.set("highX1",ee.x-K),x.set("highY1",ee.y-se),x.set("orientation",C);let ye=i.get("rangeGraphics");ye&&v.each(ye,Q=>{Q.set("lowX0",k.x-K),Q.set("lowY0",k.y-se),Q.set("lowX1",q.x-K),Q.set("lowY1",q.y-se),Q.set("highX0",J.x-K),Q.set("highY0",J.y-se),Q.set("highX1",ee.x-K),Q.set("highY1",ee.y-se),Q.set("orientation",C)})}}_processAxisRange(i){super._processAxisRange(i),i.columns=new R.o(ft.YS.new({}),()=>Qt._new(this._root,{themeTags:Te.mergeTags(i.columns.template.get("themeTags",[]),["candlestick","series","column"])},[this.columns.template,i.columns.template]))}}Object.defineProperty(Ti,"className",{enumerable:!0,configurable:!0,writable:!0,value:"CandlestickSeries"}),Object.defineProperty(Ti,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Ht.d.classNames.concat([Ti.className])});class vi extends Qt{_draw(){const i=this._display;i.moveTo(this.get("lowX1",0),this.get("lowY1",0)),i.lineTo(this.get("highX1",0),this.get("highY1",0));let n=this.width(),l=this.height();if("vertical"==this.get("orientation")){let f=l,b=0;i.moveTo(0,f),i.lineTo(n/2,f),i.moveTo(n/2,b),i.lineTo(n,b)}else{let f=0,b=n;i.moveTo(f,0),i.lineTo(f,l/2),i.moveTo(b,l/2),i.lineTo(b,l)}}}Object.defineProperty(vi,"className",{enumerable:!0,configurable:!0,writable:!0,value:"OHLC"}),Object.defineProperty(vi,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Qt.classNames.concat([vi.className])});class qi extends Ti{constructor(){super(...arguments),Object.defineProperty(this,"columns",{enumerable:!0,configurable:!0,writable:!0,value:new R.o(ft.YS.new({themeTags:["autocolor"]}),()=>vi._new(this._root,{themeTags:Te.mergeTags(this.columns.template.get("themeTags",[]),["ohlc","series","column"])},[this.columns.template]))})}makeColumn(i,n){const l=this.mainContainer.children.push(n.make());return l._setDataItem(i),n.push(l),l}_processAxisRange(i){super._processAxisRange(i),i.columns=new R.o(ft.YS.new({}),()=>vi._new(this._root,{themeTags:Te.mergeTags(i.columns.template.get("themeTags",[]),["ohlc","series","column"])},[this.columns.template,i.columns.template]))}}function tr(W){return"object"==typeof W&&"length"in W?W:Array.from(W)}Object.defineProperty(qi,"className",{enumerable:!0,configurable:!0,writable:!0,value:"OHLCSeries"}),Object.defineProperty(qi,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Ti.classNames.concat([qi.className])});var Dt=I(6979);function Mi(W){this._context=W}function Or(W){return new Mi(W)}Mi.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(W,i){switch(W=+W,i=+i,this._point){case 0:this._point=1,this._line?this._context.lineTo(W,i):this._context.moveTo(W,i);break;case 1:this._point=2;default:this._context.lineTo(W,i)}}};var li=I(5831);function hr(W){return W[0]}function bt(W){return W[1]}function dt(W,i){var n=(0,Dt.Z)(!0),l=null,f=Or,b=null,M=(0,li.d)(m);function m(_){var D,x,q,C=(_=tr(_)).length,k=!1;for(null==l&&(b=f(q=M())),D=0;D<=C;++D)!(D<C&&n(x=_[D],D,_))===k&&((k=!k)?b.lineStart():b.lineEnd()),k&&b.point(+W(x,D,_),+i(x,D,_));if(q)return b=null,q+""||null}return W="function"==typeof W?W:void 0===W?hr:(0,Dt.Z)(W),i="function"==typeof i?i:void 0===i?bt:(0,Dt.Z)(i),m.x=function(_){return arguments.length?(W="function"==typeof _?_:(0,Dt.Z)(+_),m):W},m.y=function(_){return arguments.length?(i="function"==typeof _?_:(0,Dt.Z)(+_),m):i},m.defined=function(_){return arguments.length?(n="function"==typeof _?_:(0,Dt.Z)(!!_),m):n},m.curve=function(_){return arguments.length?(f=_,null!=l&&(b=f(l)),m):f},m.context=function(_){return arguments.length?(null==_?l=b=null:b=f(l=_),m):l},m}function Di(W,i,n){var l=null,f=(0,Dt.Z)(!0),b=null,M=Or,m=null,_=(0,li.d)(D);function D(x){var k,q,J,K,ye,ee=(x=tr(x)).length,se=!1,Q=new Array(ee),ie=new Array(ee);for(null==b&&(m=M(ye=_())),k=0;k<=ee;++k){if(!(k<ee&&f(K=x[k],k,x))===se)if(se=!se)q=k,m.areaStart(),m.lineStart();else{for(m.lineEnd(),m.lineStart(),J=k-1;J>=q;--J)m.point(Q[J],ie[J]);m.lineEnd(),m.areaEnd()}se&&(Q[k]=+W(K,k,x),ie[k]=+i(K,k,x),m.point(l?+l(K,k,x):Q[k],n?+n(K,k,x):ie[k]))}if(ye)return m=null,ye+""||null}function C(){return dt().defined(f).curve(M).context(b)}return W="function"==typeof W?W:void 0===W?hr:(0,Dt.Z)(+W),i="function"==typeof i?i:(0,Dt.Z)(void 0===i?0:+i),n="function"==typeof n?n:void 0===n?bt:(0,Dt.Z)(+n),D.x=function(x){return arguments.length?(W="function"==typeof x?x:(0,Dt.Z)(+x),l=null,D):W},D.x0=function(x){return arguments.length?(W="function"==typeof x?x:(0,Dt.Z)(+x),D):W},D.x1=function(x){return arguments.length?(l=null==x?null:"function"==typeof x?x:(0,Dt.Z)(+x),D):l},D.y=function(x){return arguments.length?(i="function"==typeof x?x:(0,Dt.Z)(+x),n=null,D):i},D.y0=function(x){return arguments.length?(i="function"==typeof x?x:(0,Dt.Z)(+x),D):i},D.y1=function(x){return arguments.length?(n=null==x?null:"function"==typeof x?x:(0,Dt.Z)(+x),D):n},D.lineX0=D.lineY0=function(){return C().x(W).y(i)},D.lineY1=function(){return C().x(W).y(n)},D.lineX1=function(){return C().x(l).y(i)},D.defined=function(x){return arguments.length?(f="function"==typeof x?x:(0,Dt.Z)(!!x),D):f},D.curve=function(x){return arguments.length?(M=x,null!=b&&(m=M(b)),D):M},D.context=function(x){return arguments.length?(null==x?b=m=null:m=M(b=x),D):b},D}class Lt extends Ni.o{constructor(){super(...arguments),Object.defineProperty(this,"_endIndex",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_strokeGenerator",{enumerable:!0,configurable:!0,writable:!0,value:dt()}),Object.defineProperty(this,"_fillGenerator",{enumerable:!0,configurable:!0,writable:!0,value:Di()}),Object.defineProperty(this,"_legendStroke",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_legendFill",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"strokes",{enumerable:!0,configurable:!0,writable:!0,value:new R.o(ft.YS.new({}),()=>Pe.T._new(this._root,{themeTags:Te.mergeTags(this.strokes.template.get("themeTags",[]),["line","series","stroke"])},[this.strokes.template]))}),Object.defineProperty(this,"fills",{enumerable:!0,configurable:!0,writable:!0,value:new R.o(ft.YS.new({}),()=>Pe.T._new(this._root,{themeTags:Te.mergeTags(this.strokes.template.get("themeTags",[]),["line","series","fill"])},[this.fills.template]))}),Object.defineProperty(this,"_fillTemplate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_strokeTemplate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_previousPoint",{enumerable:!0,configurable:!0,writable:!0,value:[0,0,0,0]}),Object.defineProperty(this,"_dindex",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_sindex",{enumerable:!0,configurable:!0,writable:!0,value:0})}_afterNew(){this._fillGenerator.y0(function(i){return i[3]}),this._fillGenerator.x0(function(i){return i[2]}),this._fillGenerator.y1(function(i){return i[1]}),this._fillGenerator.x1(function(i){return i[0]}),super._afterNew()}makeStroke(i){const n=this.mainContainer.children.push(i.make());return i.push(n),n}makeFill(i){const n=this.mainContainer.children.push(i.make());return i.push(n),n}_updateChildren(){this._strokeTemplate=void 0,this._fillTemplate=void 0;let i=this.get("xAxis"),n=this.get("yAxis");if(this.isDirty("stroke")){const l=this.get("stroke");this.strokes.template.set("stroke",l);const f=this._legendStroke;f&&f.states.lookup("default").set("stroke",l)}if(this.isDirty("fill")){const l=this.get("fill");this.fills.template.set("fill",l);const f=this._legendFill;f&&f.states.lookup("default").set("fill",l)}if(this.isDirty("curveFactory")){const l=this.get("curveFactory");l&&(this._strokeGenerator.curve(l),this._fillGenerator.curve(l))}if(i.inited&&n.inited){if(this._axesDirty||this._valuesDirty||this._stackDirty||this.isDirty("vcx")||this.isDirty("vcy")||this._sizeDirty||this.isDirty("connect")||this.isDirty("curveFactory")){this.fills.each(C=>{C.setPrivate("visible",!1)}),this.strokes.each(C=>{C.setPrivate("visible",!1)}),this.axisRanges.each(C=>{let x=C.fills;x&&x.each(q=>{q.setPrivate("visible",!1)});let k=C.strokes;k&&k.each(q=>{q.setPrivate("visible",!1)})});let l=this.startIndex(),f=this.strokes.template.get("templateField"),b=this.fills.template.get("templateField"),M=!0,m=!0;f&&(M=!1),b&&(m=!1);for(let C=l-1;C>=0;C--){let x=this.dataItems[C],k=!0,q=x.dataContext;if(f&&q[f]&&(M=!0),b&&q[b]&&(m=!0),v.each(this._valueFields,J=>{U.isNumber(x.get(J))||(k=!1)}),k&&M&&m){l=C;break}}let _=this.dataItems.length,D=this.endIndex();if(D<_){D++;for(let C=D;C<_;C++){let x=this.dataItems[C],k=!0;if(v.each(this._valueFields,q=>{U.isNumber(x.get(q))||(k=!1)}),k){D=C+1;break}}}if(l>0&&l--,this._endIndex=D,this._clearGraphics(),this._sindex=0,this._dindex=l,1==this.dataItems.length)this._startSegment(0);else for(;this._dindex<D-1;)this._startSegment(this._dindex),this._sindex++}}else this._skipped=!0;super._updateChildren()}_clearGraphics(){this.strokes.clear(),this.fills.clear()}_startSegment(i){let n=this._endIndex,l=n;const f=this.get("autoGapCount"),b=this.get("connect"),M=this.makeFill(this.fills),m=this._fillTemplate;m&&m!=this.fills.template&&(M.template=m),M.setPrivate("visible",!0);const D=this.makeStroke(this.strokes),C=this._strokeTemplate;C&&C!=this.strokes.template&&(D.template=C),D.setPrivate("visible",!0);let x=this.get("xAxis"),k=this.get("yAxis"),q=this.get("baseAxis"),J=this.get("vcx",1),ee=this.get("vcy",1),K=this._xField,se=this._yField,ye=this._xOpenField,Q=this._yOpenField;const ie=this.get("openValueXField"),De=this.get("openValueYField");ie||(ye=this._xField),De||(Q=this._yField);const pe=this.get("stacked"),Ye=x.basePosition(),Ue=k.basePosition();let ht;ht=q===k?this._yField:this._xField;const Ie=[];let Ke=[];Ie.push(Ke);const qe=this.strokes.template.get("templateField"),$t=this.fills.template.get("templateField");let zt=this.get("locationX",.5),Wt=this.get("locationY",.5),st=this.get("openLocationX",zt),ti=this.get("openLocationY",Wt);const jt=this.get("minDistance",0);let gt,pi=this.fills.template.get("visible");this.axisRanges.length>0&&(pi=!0);let mi=!1;(pe||ie||De)&&(mi=!0);const Jt={points:Ke,segments:Ie,stacked:pe,getOpen:mi,basePosX:Ye,basePosY:Ue,fillVisible:pi,xField:K,yField:se,xOpenField:ye,yOpenField:Q,vcx:J,vcy:ee,baseAxis:q,xAxis:x,yAxis:k,locationX:zt,locationY:Wt,openLocationX:st,openLocationY:ti,minDistance:jt};for(gt=i;gt<l;gt++){this._dindex=gt;const Kt=this._dataItems[gt];let xt=Kt.get(K),ui=Kt.get(se);if(null==xt||null==ui?b||(Ke=[],Ie.push(Ke),Jt.points=Ke):this._getPoints(Kt,Jt),qe){let Pt=Kt.dataContext[qe];if(Pt){if(Pt instanceof ft.YS||(Pt=ft.YS.new(Pt)),this._strokeTemplate=Pt,gt>i){l=gt;break}D.template=Pt}}if($t){let Pt=Kt.dataContext[$t];if(Pt){if(Pt instanceof ft.YS||(Pt=ft.YS.new(Pt)),this._fillTemplate=Pt,gt>i){l=gt;break}M.template=Pt}}if(!b){let Pt=this.dataItems[gt+1];Pt&&q.shouldGap(Kt,Pt,f,ht)&&(Ke=[],Ie.push(Ke),Jt.points=Ke)}}M.setRaw("userData",[i,gt]),D.setRaw("userData",[i,gt]),gt===n&&this._endLine(Ke,Ie[0][0]),D&&this._drawStroke(D,Ie),M&&this._drawFill(M,Ie),this.axisRanges.each(Kt=>{const xt=Kt.container,Pt=this.makeFill(Kt.fills);xt&&xt.children.push(Pt),Pt.setPrivate("visible",!0),this._drawFill(Pt,Ie);const Xt=this.makeStroke(Kt.strokes);xt&&xt.children.push(Xt),Xt.setPrivate("visible",!0),this._drawStroke(Xt,Ie),Pt.setRaw("userData",[i,gt]),Xt.setRaw("userData",[i,gt])})}_getPoints(i,n){let l=n.points,f=i.get("locationX",n.locationX),b=i.get("locationY",n.locationY),M=n.xAxis.getDataItemPositionX(i,n.xField,f,n.vcx),m=n.yAxis.getDataItemPositionY(i,n.yField,b,n.vcy);if(this._shouldInclude(M)){const _=this.getPoint(M,m),D=[_.x,_.y];if(_.x+=this._x,_.y+=this._y,i.set("point",_),n.fillVisible){let C=M,x=m;if(n.baseAxis===n.xAxis?x=n.basePosY:n.baseAxis===n.yAxis&&(C=n.basePosX),n.getOpen){let q=i.get(n.xOpenField),J=i.get(n.yOpenField);if(null!=q&&null!=J){let ee=i.get("openLocationX",n.openLocationX),K=i.get("openLocationY",n.openLocationY);if(n.stacked){let se=i.get("stackToItemX"),ye=i.get("stackToItemY");se?(C=n.xAxis.getDataItemPositionX(se,n.xField,ee,se.component.get("vcx")),U.isNaN(C)&&(C=n.basePosX)):C=n.yAxis===n.baseAxis?n.basePosX:n.xAxis.getDataItemPositionX(i,n.xOpenField,ee,n.vcx),ye?(x=n.yAxis.getDataItemPositionY(ye,n.yField,K,ye.component.get("vcy")),U.isNaN(x)&&(x=n.basePosY)):x=n.xAxis===n.baseAxis?n.basePosY:n.yAxis.getDataItemPositionY(i,n.yOpenField,K,n.vcy)}else C=n.xAxis.getDataItemPositionX(i,n.xOpenField,ee,n.vcx),x=n.yAxis.getDataItemPositionY(i,n.yOpenField,K,n.vcy)}}let k=this.getPoint(C,x);D[2]=k.x,D[3]=k.y}if(n.minDistance>0){const k=D[2],q=D[3],J=this._previousPoint,se=J[2],ye=J[3];(Math.hypot(D[0]-J[0],D[1]-J[1])>n.minDistance||k&&q&&Math.hypot(k-se,q-ye)>n.minDistance)&&(l.push(D),this._previousPoint=D)}else l.push(D)}}_endLine(i,n){}_drawStroke(i,n){i.get("visible")&&!i.get("forceHidden")&&i.set("draw",l=>{v.each(n,f=>{this._strokeGenerator.context(l),this._strokeGenerator(f)})})}_drawFill(i,n){i.get("visible")&&!i.get("forceHidden")&&i.set("draw",l=>{v.each(n,f=>{this._fillGenerator.context(l),this._fillGenerator(f)})})}_processAxisRange(i){super._processAxisRange(i),i.fills=new R.o(ft.YS.new({}),()=>Pe.T._new(this._root,{themeTags:Te.mergeTags(i.fills.template.get("themeTags",[]),["line","series","fill"])},[this.fills.template,i.fills.template])),i.strokes=new R.o(ft.YS.new({}),()=>Pe.T._new(this._root,{themeTags:Te.mergeTags(i.strokes.template.get("themeTags",[]),["line","series","stroke"])},[this.strokes.template,i.strokes.template]))}createLegendMarker(i){const n=this.get("legendDataItem");if(n){const l=n.get("marker"),f=n.get("markerRectangle");f&&f.setPrivate("visible",!1),l.set("background",ae.A.new(l._root,{fillOpacity:0,fill:(0,ue.$_)(0)}));const b=l.children.push(Pe.T._new(l._root,{themeTags:["line","series","legend","marker","stroke"],interactive:!1},[this.strokes.template]));this._legendStroke=b;const M=l.children.push(Pe.T._new(l._root,{themeTags:["line","series","legend","marker","fill"]},[this.fills.template]));this._legendFill=M;const m=this._root.interfaceColors.get("disabled");if(b.states.create("disabled",{fill:m,stroke:m}),M.states.create("disabled",{fill:m,stroke:m}),this.bullets.length>0){const _=this.bullets.getIndex(0);if(_){const D=_(l._root,this,new ke.z(this,{legend:!0},{}));if(D){const C=D.get("sprite");C instanceof Pe.T&&C.states.create("disabled",{fill:m,stroke:m}),C&&(C.set("tooltipText",void 0),C.set("tooltipHTML",void 0),l.children.push(C),C.setAll({x:l.width()/2,y:l.height()/2}))}}}}}}Object.defineProperty(Lt,"className",{enumerable:!0,configurable:!0,writable:!0,value:"LineSeries"}),Object.defineProperty(Lt,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Ni.o.classNames.concat([Lt.className])});class Ar{constructor(i,n){Object.defineProperty(this,"_line",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_point",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_context",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_x0",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_x1",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_y0",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_y1",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_t0",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_tension",{enumerable:!0,configurable:!0,writable:!0,value:0}),this._context=i,this._tension=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0}lineEnd(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Fi(this,this._t0,kr(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(i,n){[i,n]=[n,i];let l=NaN;if(n=+n,(i=+i)!==this._x1||n!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(n,i):this._context.moveTo(n,i);break;case 1:this._point=2;break;case 2:this._point=3,Fi(this,kr(this,l=Yi(this,i,n)),l);break;default:Fi(this,this._t0,l=Yi(this,i,n))}this._x0=this._x1,this._x1=i,this._y0=this._y1,this._y1=n,this._t0=l}}}function ir(W){function i(n){return new Ar(n,W)}return i.tension=function(n){return ir(+n)},i}function cr(W){return W<0?-1:1}function Yi(W,i,n){let l=W._x1-W._x0,f=i-W._x1,b=(W._y1-W._y0)/(l||f<0&&-0),M=(n-W._y1)/(f||l<0&&-0),m=(b*f+M*l)/(l+f);return(cr(b)+cr(M))*Math.min(Math.abs(b),Math.abs(M),.5*Math.abs(m))||0}function kr(W,i){let n=W._x1-W._x0;return n?(3*(W._y1-W._y0)/n-i)/2:i}function Fi(W,i,n){let l=W._x0,b=W._x1,M=W._y1,m=(b-l)/1.5*(1-W._tension);W._context.bezierCurveTo(W._y0+m*i,l+m,M-m*n,b-m,M,b)}class Si extends Lt{_afterNew(){this._setDefault("curveFactory",ir(this.get("tension",.5))),super._afterNew()}_updateChildren(){this.isDirty("tension")&&(this.set("curveFactory",ir(this.get("tension",.5))),this._valuesDirty=!0),super._updateChildren()}}Object.defineProperty(Si,"className",{enumerable:!0,configurable:!0,writable:!0,value:"SmoothedYLineSeries"}),Object.defineProperty(Si,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Lt.classNames.concat([Si.className])});class dr{constructor(i,n){Object.defineProperty(this,"_line",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_point",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_context",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_x0",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_x1",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_y0",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_y1",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_t0",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_tension",{enumerable:!0,configurable:!0,writable:!0,value:0}),this._context=i,this._tension=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0}lineEnd(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:mr(this,this._t0,pr(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(i,n){let l=NaN;if(n=+n,(i=+i)!==this._x1||n!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(i,n):this._context.moveTo(i,n);break;case 1:this._point=2;break;case 2:this._point=3,mr(this,pr(this,l=gr(this,i,n)),l);break;default:mr(this,this._t0,l=gr(this,i,n))}this._x0=this._x1,this._x1=i,this._y0=this._y1,this._y1=n,this._t0=l}}}function rr(W){return function i(n){return new dr(n,W)}}function fr(W){return W<0?-1:1}function gr(W,i,n){let l=W._x1-W._x0,f=i-W._x1,b=(W._y1-W._y0)/(l||f<0&&-0),M=(n-W._y1)/(f||l<0&&-0),m=(b*f+M*l)/(l+f);return(fr(b)+fr(M))*Math.min(Math.abs(b),Math.abs(M),.5*Math.abs(m))||0}function pr(W,i){let n=W._x1-W._x0;return n?(3*(W._y1-W._y0)/n-i)/2:i}function mr(W,i,n){let l=W._x0,b=W._x1,M=W._y1,m=(b-l)/1.5*(1-W._tension);W._context.bezierCurveTo(l+m,W._y0+m*i,b-m,M-m*n,b,M)}class zi extends Lt{_afterNew(){this._setDefault("curveFactory",rr(this.get("tension",.5))),super._afterNew()}_updateChildren(){this.isDirty("tension")&&(this.set("curveFactory",rr(this.get("tension",.5))),this._valuesDirty=!0),super._updateChildren()}}function Xi(W,i,n){W._context.bezierCurveTo(W._x1+W._k*(W._x2-W._x0),W._y1+W._k*(W._y2-W._y0),W._x2+W._k*(W._x1-i),W._y2+W._k*(W._y1-n),W._x2,W._y2)}function Gi(W,i){this._context=W,this._k=(1-i)/6}Object.defineProperty(zi,"className",{enumerable:!0,configurable:!0,writable:!0,value:"SmoothedXLineSeries"}),Object.defineProperty(zi,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Lt.classNames.concat([zi.className])}),Gi.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Xi(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(W,i){switch(W=+W,i=+i,this._point){case 0:this._point=1,this._line?this._context.lineTo(W,i):this._context.moveTo(W,i);break;case 1:this._point=2,this._x1=W,this._y1=i;break;case 2:this._point=3;default:Xi(this,W,i)}this._x0=this._x1,this._x1=this._x2,this._x2=W,this._y0=this._y1,this._y1=this._y2,this._y2=i}};const br=function W(i){function n(l){return new Gi(l,i)}return n.tension=function(l){return W(+l)},n}(0);class Ui extends Lt{_afterNew(){this._setDefault("curveFactory",br.tension(this.get("tension",.5))),super._afterNew()}_updateChildren(){this.isDirty("tension")&&(this.set("curveFactory",br.tension(this.get("tension",.5))),this._valuesDirty=!0),super._updateChildren()}}function gi(W,i){this._context=W,this._t=i}function Oi(W){return new gi(W,1)}Object.defineProperty(Ui,"className",{enumerable:!0,configurable:!0,writable:!0,value:"SmoothedXYLineSeries"}),Object.defineProperty(Ui,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Lt.classNames.concat([Ui.className])}),gi.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(W,i){switch(W=+W,i=+i,this._point){case 0:this._point=1,this._line?this._context.lineTo(W,i):this._context.moveTo(W,i);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,i),this._context.lineTo(W,i);else{var n=this._x*(1-this._t)+W*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,i)}}this._x=W,this._y=i}};class Ai extends Lt{_afterNew(){this._setDefault("curveFactory",Oi),super._afterNew()}_getPoints(i,n){let l=n.points,f=this.get("stepWidth",V.AQ).value/2,b=i.get("locationX",n.locationX),M=i.get("locationY",n.locationY),m=b,_=M;n.baseAxis===n.xAxis?(b-=f,m+=f):n.baseAxis===n.yAxis&&(M-=f,_+=f);let D=n.xAxis.getDataItemPositionX(i,n.xField,b,n.vcx),C=n.yAxis.getDataItemPositionY(i,n.yField,M,n.vcy),x=n.xAxis.getDataItemPositionX(i,n.xField,m,n.vcx),k=n.yAxis.getDataItemPositionY(i,n.yField,_,n.vcy);if(this._shouldInclude(D)){const q=this.getPoint(D,C),J=[q.x,q.y],ee=this.getPoint(x,k),K=[ee.x,ee.y];if(n.fillVisible){let se=D,ye=C,Q=x,ie=k;if(n.baseAxis===n.xAxis?(ye=n.basePosY,ie=n.basePosY):n.baseAxis===n.yAxis&&(se=n.basePosX,Q=n.basePosX),n.getOpen){let Ye=i.get(n.xOpenField),Ue=i.get(n.yOpenField);if(null!=Ye&&null!=Ue)if(b=i.get("openLocationX",n.openLocationX),M=i.get("openLocationY",n.openLocationY),m=b,_=M,n.baseAxis===n.xAxis?(b-=f,m+=f):n.baseAxis===n.yAxis&&(M-=f,_+=f),n.stacked){let ht=i.get("stackToItemX"),Ie=i.get("stackToItemY");ht?(se=n.xAxis.getDataItemPositionX(ht,n.xField,b,ht.component.get("vcx")),Q=n.xAxis.getDataItemPositionX(ht,n.xField,m,ht.component.get("vcx"))):n.yAxis===n.baseAxis?(se=n.basePosX,Q=n.basePosX):n.baseAxis===n.yAxis&&(se=n.xAxis.getDataItemPositionX(i,n.xOpenField,b,n.vcx),Q=n.xAxis.getDataItemPositionX(i,n.xOpenField,m,n.vcx)),Ie?(ye=n.yAxis.getDataItemPositionY(Ie,n.yField,M,Ie.component.get("vcy")),ie=n.yAxis.getDataItemPositionY(Ie,n.yField,_,Ie.component.get("vcy"))):n.xAxis===n.baseAxis?(ye=n.basePosY,ie=n.basePosY):n.baseAxis===n.yAxis&&(ye=n.yAxis.getDataItemPositionY(i,n.yOpenField,M,n.vcy),ie=n.yAxis.getDataItemPositionY(i,n.yOpenField,_,n.vcy))}else se=n.xAxis.getDataItemPositionX(i,n.xOpenField,b,n.vcx),ye=n.yAxis.getDataItemPositionY(i,n.yOpenField,M,n.vcy),Q=n.xAxis.getDataItemPositionX(i,n.xOpenField,m,n.vcx),ie=n.yAxis.getDataItemPositionY(i,n.yOpenField,_,n.vcy)}let De=this.getPoint(se,ye),pe=this.getPoint(Q,ie);J[2]=De.x,J[3]=De.y,K[2]=pe.x,K[3]=pe.y}l.push(J),l.push(K),i.set("point",{x:J[0]+(K[0]-J[0])/2,y:J[1]+(K[1]-J[1])/2})}this.get("noRisers")&&(n.points=[],n.segments.push(l))}}Object.defineProperty(Ai,"className",{enumerable:!0,configurable:!0,writable:!0,value:"StepLineSeries"}),Object.defineProperty(Ai,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Lt.classNames.concat([Ai.className])})},1783:(kt,He,I)=>{var Ne=I(7935);function V(F,v,oe){v=v||1;for(var Z,ae,A,R,ue=0;ue<F[0].length;ue++){var Se=F[0][ue];(!ue||Se[0]<Z)&&(Z=Se[0]),(!ue||Se[1]<ae)&&(ae=Se[1]),(!ue||Se[0]>A)&&(A=Se[0]),(!ue||Se[1]>R)&&(R=Se[1])}var Pe=A-Z,ge=R-ae,Te=Math.min(Pe,ge),Fe=Te/2;if(0===Te){var Ge=[Z,ae];return Ge.distance=0,Ge}for(var Ce=new Ne(void 0,Me),ot=Z;ot<A;ot+=Te)for(var Ot=ae;Ot<R;Ot+=Te)Ce.push(new _e(ot+Fe,Ot+Fe,Fe,F));var Ae=function U(F){for(var v=0,oe=0,Z=0,ae=F[0],A=0,R=ae.length,ue=R-1;A<R;ue=A++){var Se=ae[A],Pe=ae[ue],ge=Se[0]*Pe[1]-Pe[0]*Se[1];oe+=(Se[0]+Pe[0])*ge,Z+=(Se[1]+Pe[1])*ge,v+=3*ge}return 0===v?new _e(ae[0][0],ae[0][1],0,F):new _e(oe/v,Z/v,0,F)}(F),Ut=new _e(Z+Pe/2,ae+ge/2,0,F);Ut.d>Ae.d&&(Ae=Ut);for(var vt=Ce.length;Ce.length;){var wt=Ce.pop();wt.d>Ae.d&&(Ae=wt,oe&&console.log("found best %d after %d probes",Math.round(1e4*wt.d)/1e4,vt)),!(wt.max-Ae.d<=v)&&(Ce.push(new _e(wt.x-(Fe=wt.h/2),wt.y-Fe,Fe,F)),Ce.push(new _e(wt.x+Fe,wt.y-Fe,Fe,F)),Ce.push(new _e(wt.x-Fe,wt.y+Fe,Fe,F)),Ce.push(new _e(wt.x+Fe,wt.y+Fe,Fe,F)),vt+=4)}oe&&(console.log("num probes: "+vt),console.log("best distance: "+Ae.d));var ke=[Ae.x,Ae.y];return ke.distance=Ae.d,ke}function Me(F,v){return v.max-F.max}function _e(F,v,oe,Z){this.x=F,this.y=v,this.h=oe,this.d=function ne(F,v,oe){for(var Z=!1,ae=1/0,A=0;A<oe.length;A++)for(var R=oe[A],ue=0,Se=R.length,Pe=Se-1;ue<Se;Pe=ue++){var ge=R[ue],Te=R[Pe];ge[1]>v!=Te[1]>v&&F<(Te[0]-ge[0])*(v-ge[1])/(Te[1]-ge[1])+ge[0]&&(Z=!Z),ae=Math.min(ae,fe(F,v,ge,Te))}return 0===ae?0:(Z?1:-1)*Math.sqrt(ae)}(F,v,Z),this.max=this.d+this.h*Math.SQRT2}function fe(F,v,oe,Z){var ae=oe[0],A=oe[1],R=Z[0]-ae,ue=Z[1]-A;if(0!==R||0!==ue){var Se=((F-ae)*R+(v-A)*ue)/(R*R+ue*ue);Se>1?(ae=Z[0],A=Z[1]):Se>0&&(ae+=R*Se,A+=ue*Se)}return(R=F-ae)*R+(ue=v-A)*ue}Ne.default&&(Ne=Ne.default),kt.exports=V,kt.exports.default=V},7935:(kt,He,I)=>{I.r(He),I.d(He,{default:()=>Ne});class Ne{constructor(_e=[],ne=V){if(this.data=_e,this.length=this.data.length,this.compare=ne,this.length>0)for(let U=(this.length>>1)-1;U>=0;U--)this._down(U)}push(_e){this.data.push(_e),this.length++,this._up(this.length-1)}pop(){if(0===this.length)return;const _e=this.data[0],ne=this.data.pop();return this.length--,this.length>0&&(this.data[0]=ne,this._down(0)),_e}peek(){return this.data[0]}_up(_e){const{data:ne,compare:U}=this,fe=ne[_e];for(;_e>0;){const F=_e-1>>1,v=ne[F];if(U(fe,v)>=0)break;ne[_e]=v,_e=F}ne[_e]=fe}_down(_e){const{data:ne,compare:U}=this,fe=this.length>>1,F=ne[_e];for(;_e<fe;){let v=1+(_e<<1),oe=ne[v];const Z=v+1;if(Z<this.length&&U(ne[Z],oe)<0&&(v=Z,oe=ne[Z]),U(oe,F)>=0)break;ne[_e]=oe,_e=v}ne[_e]=F}}function V(Me,_e){return Me<_e?-1:Me>_e?1:0}},6979:(kt,He,I)=>{function Ne(V){return function(){return V}}I.d(He,{Z:()=>Ne})},5831:(kt,He,I)=>{I.d(He,{d:()=>oe});const Ne=Math.PI,V=2*Ne,Me=1e-6,_e=V-Me;function ne(Z){this._+=Z[0];for(let ae=1,A=Z.length;ae<A;++ae)this._+=arguments[ae]+Z[ae]}class fe{constructor(ae){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==ae?ne:function U(Z){let ae=Math.floor(Z);if(!(ae>=0))throw new Error(`invalid digits: ${Z}`);if(ae>15)return ne;const A=10**ae;return function(R){this._+=R[0];for(let ue=1,Se=R.length;ue<Se;++ue)this._+=Math.round(arguments[ue]*A)/A+R[ue]}}(ae)}moveTo(ae,A){this._append`M${this._x0=this._x1=+ae},${this._y0=this._y1=+A}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(ae,A){this._append`L${this._x1=+ae},${this._y1=+A}`}quadraticCurveTo(ae,A,R,ue){this._append`Q${+ae},${+A},${this._x1=+R},${this._y1=+ue}`}bezierCurveTo(ae,A,R,ue,Se,Pe){this._append`C${+ae},${+A},${+R},${+ue},${this._x1=+Se},${this._y1=+Pe}`}arcTo(ae,A,R,ue,Se){if(ae=+ae,A=+A,R=+R,ue=+ue,(Se=+Se)<0)throw new Error(`negative radius: ${Se}`);let Pe=this._x1,ge=this._y1,Te=R-ae,Fe=ue-A,Ge=Pe-ae,Ce=ge-A,ot=Ge*Ge+Ce*Ce;if(null===this._x1)this._append`M${this._x1=ae},${this._y1=A}`;else if(ot>Me)if(Math.abs(Ce*Te-Fe*Ge)>Me&&Se){let Ot=R-Pe,Ae=ue-ge,Ut=Te*Te+Fe*Fe,vt=Ot*Ot+Ae*Ae,wt=Math.sqrt(Ut),ke=Math.sqrt(ot),_i=Se*Math.tan((Ne-Math.acos((Ut+ot-vt)/(2*wt*ke)))/2),lt=_i/ke,ai=_i/wt;Math.abs(lt-1)>Me&&this._append`L${ae+lt*Ge},${A+lt*Ce}`,this._append`A${Se},${Se},0,0,${+(Ce*Ot>Ge*Ae)},${this._x1=ae+ai*Te},${this._y1=A+ai*Fe}`}else this._append`L${this._x1=ae},${this._y1=A}`}arc(ae,A,R,ue,Se,Pe){if(ae=+ae,A=+A,Pe=!!Pe,(R=+R)<0)throw new Error(`negative radius: ${R}`);let ge=R*Math.cos(ue),Te=R*Math.sin(ue),Fe=ae+ge,Ge=A+Te,Ce=1^Pe,ot=Pe?ue-Se:Se-ue;null===this._x1?this._append`M${Fe},${Ge}`:(Math.abs(this._x1-Fe)>Me||Math.abs(this._y1-Ge)>Me)&&this._append`L${Fe},${Ge}`,R&&(ot<0&&(ot=ot%V+V),ot>_e?this._append`A${R},${R},0,1,${Ce},${ae-ge},${A-Te}A${R},${R},0,1,${Ce},${this._x1=Fe},${this._y1=Ge}`:ot>Me&&this._append`A${R},${R},0,${+(ot>=Ne)},${Ce},${this._x1=ae+R*Math.cos(Se)},${this._y1=A+R*Math.sin(Se)}`)}rect(ae,A,R,ue){this._append`M${this._x0=this._x1=+ae},${this._y0=this._y1=+A}h${R=+R}v${+ue}h${-R}Z`}toString(){return this._}}function oe(Z){let ae=3;return Z.digits=function(A){if(!arguments.length)return ae;if(null==A)ae=null;else{const R=Math.floor(A);if(!(R>=0))throw new RangeError(`invalid digits: ${A}`);ae=R}return Z},()=>new fe(ae)}}}]);